name repository,creator user,url_html issue,url_api issue,title,body,state,pull request,data open,updated at
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/1,https://api.github.com/repos/kubernetes/kompose/issues/1,Support output in a single file,,closed,False,2016-07-01 07:53:04,2016-07-04 07:47:08
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/2,https://api.github.com/repos/kubernetes/kompose/issues/2,Support output to stdout to pipe to kubectl,,closed,False,2016-07-01 07:53:16,2016-07-04 07:47:08
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/3,https://api.github.com/repos/kubernetes/kompose/issues/3,Print out warning for undefined fields,,closed,False,2016-07-01 07:53:31,2016-07-26 07:42:12
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/4,https://api.github.com/repos/kubernetes/kompose/issues/4,Support docker bundles format as input,,closed,False,2016-07-01 07:53:43,2016-07-21 15:38:19
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/5,https://api.github.com/repos/kubernetes/kompose/issues/5,Support printing to stdout,"Fixes #2

Add a `-out` / `-stdout` flag for printing to stdout. Doesn't support printing helm chart since it doesn't make sense (or does it?). I think the naming of the flag could be better but I couldn't think of a better one for now. 

Some unsolved issues found while developing:
1. Services should be created first if possible
2. It seems output to helm chart is only supported when there's `xxx-rc.json` (not yaml, not other controllers)
3. Right now we don't stop users from creating more than one type of controllers (rc, rs, deployment, ...), but this won't work while printing to stdout and pipe to kubectl, so I changed the logic to just use the first flag specified. Does that sound good? We'll need some verification for incorrect flag usage also. 

@runseb @ngtuna 
",closed,True,2016-07-01 22:27:18,2016-07-04 07:43:52
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/6,https://api.github.com/repos/kubernetes/kompose/issues/6,"travis build failed because ""speter.net/go/exp/math/dec/inf"" has been removed",,closed,False,2016-07-02 15:50:56,2016-07-05 18:41:23
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/7,https://api.github.com/repos/kubernetes/kompose/issues/7,Decide status of skippbox/kompose,"Now that things are cleaner with kompose2 , shall we just remove github/kompose and rename this repo to kompose ?

I don't really see the need to keep the original fork of lib compose.
",closed,False,2016-07-02 15:54:26,2016-07-06 04:41:04
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/8,https://api.github.com/repos/kubernetes/kompose/issues/8,if random docker-compose file is not present --file option does not work,"I found out, that even though we use the `--file` option, we still need to have a somewhat valid docker-compose file present.

```
sebair: kompose2 (master)$ cat docker-compose.yml 
toto:
  image: toto
sebair: kompose2 (master)$ cat mongo.yml 
mongo:
  image: mongo
sebair: kompose2 (master)$ ./kompose convert -f mongo.yml --stdout
{
  ""kind"": ""ReplicationController"",
  ""apiVersion"": ""v1"",
  ""metadata"": {
    ""name"": ""mongo"",
    ""creationTimestamp"": null,
    ""labels"": {
      ""service"": ""mongo""
```

if you remove the docker-compose file:

```
$ ./kompose convert -f mongo.yml --stdout
ERRO[0000] Failed to find docker-compose.yml            
FATA[0000] Failed to read project: open docker-compose.yml: no such file or directory 
```
",closed,False,2016-07-05 13:01:42,2016-07-20 09:29:00
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/9,https://api.github.com/repos/kubernetes/kompose/issues/9,Document unsupported fileds,"with warnings now given for unsupported fields.
It might be good to document it a bit:

```
$ cat nginx.yml 
nginx:
  image: nginx
  dockerfile: ""1""
  build: ./foobar
  cap_add:
    - foobar
  container_name: foobar
$ ./kompose convert -f nginx.yml
WARNING: Unsupported key Build - ignoring
WARNING: Unsupported key CapAdd - ignoring
WARNING: Unsupported key ContainerName - ignoring
WARNING: Unsupported key Dockerfile - ignoring
```
",closed,False,2016-07-05 13:34:26,2016-07-05 15:20:00
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/10,https://api.github.com/repos/kubernetes/kompose/issues/10,Change template dir for Helm charts,"it used to be manifests/ now it is under templates/
",closed,False,2016-07-05 13:44:37,2016-07-05 13:45:19
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/11,https://api.github.com/repos/kubernetes/kompose/issues/11,Support compose v2..v3? versions,"There is some v2 support now in lib compose upstream:

https://github.com/docker/libcompose/pull/292

we need to support all versions
",closed,False,2016-07-05 14:04:13,2016-07-21 15:38:36
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/12,https://api.github.com/repos/kubernetes/kompose/issues/12,Support k8s 1.3,"Upgrade k8s dependency to v1.3, support to post k8s objects to 1.3 endpoint
",closed,False,2016-07-05 18:31:40,2016-07-08 03:35:14
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/13,https://api.github.com/repos/kubernetes/kompose/issues/13,Output for what happened after command execution,"such as, “file A is created”
",closed,False,2016-07-06 04:45:45,2016-07-06 16:41:08
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/14,https://api.github.com/repos/kubernetes/kompose/issues/14,determine which containers should be in the same pod,"e.g., the ones share the same volume should be in the same pod; the ones link to each other may or may not be in the same pod 
",closed,False,2016-07-06 04:47:06,2017-12-20 16:42:07
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/15,https://api.github.com/repos/kubernetes/kompose/issues/15,specify replica count,"It should be very easy to do `kompose convert --replica <number>`
",closed,False,2016-07-06 04:47:40,2016-07-14 03:05:04
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/16,https://api.github.com/repos/kubernetes/kompose/issues/16,support PetSet,,closed,False,2016-07-06 04:47:55,2017-07-19 17:30:28
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/17,https://api.github.com/repos/kubernetes/kompose/issues/17,specify Deployment policy,,closed,False,2016-07-06 04:48:19,2017-01-04 20:19:26
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/18,https://api.github.com/repos/kubernetes/kompose/issues/18,Redundant file creation message,"``` console
$ ../kompose convert 
file abc.yaml has been created
file abc.yaml has been created
file abc.yaml has been created
file abc.yaml has been created
```

I'll send a PR for this.
",closed,False,2016-07-06 21:41:21,2016-07-07 04:28:56
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/19,https://api.github.com/repos/kubernetes/kompose/issues/19,"Remove redundant file creation message, and always overwirte files when converting","Fixes #18

cc @runseb @ngtuna 
",closed,True,2016-07-06 23:08:02,2016-07-07 18:44:02
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/20,https://api.github.com/repos/kubernetes/kompose/issues/20,Sometimes redundant services are printed/converted in `kompose convert`,"Note that there's a redundant `file ""web-svc.json"" created` message. 

``` console
➜ examples(master)$ ../kompose convert 
file ""web-rc.json"" created
file ""web-svc.json"" created
file ""redis-rc.json"" created
file ""web-svc.json"" created
file ""redis-svc.json"" created

➜ examples(master)$ ../kompose convert 
file ""redis-rc.json"" created
file ""web-rc.json"" created
file ""redis-svc.json"" created
file ""web-svc.json"" created
```
",closed,False,2016-07-06 23:11:41,2016-07-07 19:07:27
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/21,https://api.github.com/repos/kubernetes/kompose/issues/21,Services should be created first,"Follow up https://github.com/skippbox/kompose2/pull/5#issuecomment-230162553

The fix to this should fix #20 also 
",closed,False,2016-07-06 23:13:08,2016-07-07 19:05:50
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/22,https://api.github.com/repos/kubernetes/kompose/issues/22,Allow multiple types of controllers be generated unless --out or --stdout is set,"Follow up https://github.com/skippbox/kompose2/pull/5#issuecomment-230162553
1. Validate when --out and --stdout, only one controller type is specified. 
2. Allow multiple controller types otherwise. 

``` console
$ ./kompose convert -d -ds -rs -y --stdout 
FATA[0000] Error: only one type of Kubernetes controller can be generated when --out or --stdout is specified

$./kompose convert -d -rs -y --out=abc.yaml 
FATA[0000] Error: only one type of Kubernetes controller can be generated when --out or --stdout is specified

$ ./kompose convert -d -ds -y 
file redis-deployment.yaml has been created
file redis-daemonset.yaml has been created
file redis-rc.yaml has been created
file web-deployment.yaml has been created
file web-daemonset.yaml has been created
file web-rc.yaml has been created
file redis-svc.yaml has been created
file web-svc.yaml has been created
```

cc @ngtuna 
",closed,True,2016-07-06 23:56:45,2016-07-07 03:30:20
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/23,https://api.github.com/repos/kubernetes/kompose/issues/23,Services only get created when there is a links key present,"We made this assumption prior to compose v2.

We need to discuss whether we want to create a k8s service for every compose service or some other heuristics.
",closed,False,2016-07-07 15:37:30,2016-07-18 18:28:52
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/24,https://api.github.com/repos/kubernetes/kompose/issues/24,Fix the 'failed to write to file' error when --out is set,"Fix this:

``` console
$ ./kompose convert -o abc.yaml 
FATA[0000] Failed to write rc to file: write abc.yaml: bad file descriptor
```
",closed,True,2016-07-07 18:37:31,2016-07-07 18:43:31
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/25,https://api.github.com/repos/kubernetes/kompose/issues/25,Bug: chart only expect .json files ,"This example in README doesn't work since it expects only `.json` files 

``` console
$ ./kompose convert -c -y
file ""redis-rc.yaml"" created
file ""web-rc.yaml"" created
file ""redis-svc.yaml"" created
file ""web-svc.yaml"" created
INFO[0000] Error reading redis-rc.yaml: open redis-rc.json: no such file or directory

FATA[0000] Failed to create Chart data: open redis-rc.json: no such file or directory
```

We should support `-c -y`. 

Should we support `-c -o`? Should we support `-c -dc` (copy template files of other types of controller) and `-c -dc -rs` (multiple types of contollers)?
",closed,False,2016-07-07 18:52:28,2016-07-08 03:34:39
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/26,https://api.github.com/repos/kubernetes/kompose/issues/26,Support creating Charts when --yaml set,"Ref #25 
",closed,True,2016-07-07 22:06:17,2016-07-08 03:32:57
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/27,https://api.github.com/repos/kubernetes/kompose/issues/27,"Idea: kompose up, ps, delete, scale redirect to kubectl ","`kompose up`, `ps`, `delete`, `scale` are duplicate of `kubectl`, but are easier to learn from compose users perspective. 

How about we suggest users the right kubectl command for each kompose command so that we don't need to reinvent the wheel? Something like:

``` console
$ kompose up
To initiate your compose services, run ""kubectl create -f web-rc.json -f web-svc.json"".
```

Thoughts?
",closed,False,2016-07-07 23:37:13,2016-08-02 18:03:27
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/28,https://api.github.com/repos/kubernetes/kompose/issues/28,"Validate flags when generating charts, and prints message for file created",,closed,True,2016-07-08 23:24:01,2016-07-10 17:08:37
kompose,kadel,https://github.com/kubernetes/kompose/issues/29,https://api.github.com/repos/kubernetes/kompose/issues/29,update OpenShift dependency ,"Origin has already been rebased to Kubernetes 1.3.
We should update our Origin dependency
",closed,False,2016-07-12 14:38:51,2016-07-12 14:40:12
kompose,kadel,https://github.com/kubernetes/kompose/issues/30,https://api.github.com/repos/kubernetes/kompose/issues/30,Generating both ReplicationControllers and Deployments,"Running `kompose convert --deployment` generates files with Services, Deployments and also Replication Controllers.

Shouldn't this generate just Deployments and Services?

Some for Daemon Sets and Replica Sets.
",closed,False,2016-07-12 15:52:51,2016-07-13 04:04:02
kompose,kadel,https://github.com/kubernetes/kompose/issues/31,https://api.github.com/repos/kubernetes/kompose/issues/31,Generating both ReplicationControllers and Deployments,"Running `kompose convert --deployment` generates files with Services, Deployments and also Replication Controllers.

Shouldn't this generate just Deployments and Services?

Some for Daemon Sets and Replica Sets.
",closed,False,2016-07-12 15:55:00,2016-07-13 01:44:45
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/32,https://api.github.com/repos/kubernetes/kompose/issues/32,"Make deployment the default controller, create -rc for rc, and enable copying all types of controller to chart templates","Fixes #30
",closed,True,2016-07-13 02:54:33,2016-07-13 04:04:02
kompose,kadel,https://github.com/kubernetes/kompose/issues/33,https://api.github.com/repos/kubernetes/kompose/issues/33,Default controller object is always generated.,"Right now default controller is always generated. 
When I do `kompose convert --replicaset` I get Services, Deployments and ReplicaSets.
I think that this is little bit confusing (even if they are in different files).
When I run above command I would expect only Services and ReplicaSets. In most cases you need only one controller object.

When I do `kompose convert --replicaset --deployment` than I would expect both (ReplicaSets and Deployments)
",closed,False,2016-07-13 07:43:48,2016-07-13 18:17:37
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/34,https://api.github.com/repos/kubernetes/kompose/issues/34,We don't have any tests,"We should add a few test fixtures and run tests on Travis/circleCI.
",closed,False,2016-07-13 09:02:48,2016-10-15 20:33:45
kompose,kadel,https://github.com/kubernetes/kompose/pull/35,https://api.github.com/repos/kubernetes/kompose/issues/35,Generate only controllers set by flag,"fixes #33 

After this function `ProjectKuberUp` needs to be updated, because right now it deploys only `svc` and `rc`
",closed,True,2016-07-13 17:07:08,2016-07-13 18:17:37
kompose,kadel,https://github.com/kubernetes/kompose/issues/36,https://api.github.com/repos/kubernetes/kompose/issues/36,Add OpenShift support,"We would like to contribute OpenShift support to kompose2.
In core OpenShift is basically Kubernetes with some additional objects like `BuildConfig`, `DeploymentConfig`, `ImageStream` or `Route`.
With `BuildConfig` OpenShift can even support docker-compose `build` directive.

I guess that this first design question would be how command line is going to look like.
What if we use provider (orchestration  tool) name  as command and actions as subcommands?
Examples how it would look like:

```
kompose kubernetes convert
kompose kubernetes up

kompose openshift convert
kompose openshift up
```

When we do it like this, than in future different providers could even have different actions.
",closed,False,2016-07-13 17:51:24,2016-08-29 09:35:57
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/37,https://api.github.com/repos/kubernetes/kompose/issues/37,bash completion for kompose ,"A nice-to-have feature. 
",closed,False,2016-07-14 22:05:49,2017-07-12 17:49:48
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/38,https://api.github.com/repos/kubernetes/kompose/issues/38,Default objects of `kompose convert`,"`$ Kompose convert` will generate deploymentSet and service by default.
",closed,False,2016-07-15 07:37:09,2016-07-22 17:27:29
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/39,https://api.github.com/repos/kubernetes/kompose/issues/39,Investigate a preference file,"for example

```
[default]
provider=kubernetes
objects=deployments

[test]
provider=openshift
objects=petsets
```
",closed,False,2016-07-15 07:38:17,2017-12-20 16:41:40
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/40,https://api.github.com/repos/kubernetes/kompose/issues/40,new behavior of `kompose up`,"Like `docker-compose up`, `kompose up` transparently generates default objects and deploy to kubernetes.
",closed,False,2016-07-15 07:40:47,2016-10-22 14:23:09
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/41,https://api.github.com/repos/kubernetes/kompose/issues/41,new behavior of `kompose delete`,"Adding flag `-a/--all` in order to delete all resources.
Consider to rename to `kompose rm` 
",closed,False,2016-07-15 07:45:17,2016-09-02 03:19:18
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/42,https://api.github.com/repos/kubernetes/kompose/issues/42,Refactor how we update controllers,"Refactor so that we don't need to copy & paste code for updating each controller. 
",closed,True,2016-07-16 00:06:02,2016-07-16 17:40:07
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/43,https://api.github.com/repos/kubernetes/kompose/issues/43,[Discuss] Find a good way to vendoring dependencies,"Guys,

The current issue I am facing in kompose is finding a good solution to vendoring dependencies. As you know, kompose refers to some structs of libcompose and kubernetes in order to do mapping fields between them. While kompose depends on libcompose and kubernetes, both of them are sharing lot of common dependencies but with different revisions. The current code base is quite stable, but let's say now I have to upgrade libcompose revision in order to solve #11 and #4 (which I also have to upgrade docker/docker revision in order to get bundlefile struct), also in future we have to support k8s 1.4, 1.5, etc. 
# vendoring seems to be a hot issue to be discussed at GopherCon afaik...

Someone introduces me https://github.com/sdboyer/gps. I will take a look on it tomorrow.

Any idea?
",closed,False,2016-07-16 20:07:04,2016-10-26 16:59:07
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/44,https://api.github.com/repos/kubernetes/kompose/issues/44,[Discuss] Optimize convert function,"In order to support different types of input format (dab, compose v1, compose v2, etc) and break down the convert function as well, I am thinking about creating a generic struct like this:

```
type komposeSet struct {
  Image string
  Name  string
  Volume  []Volumes
  Network []Networks
  Environment []string
  Port  []Ports
  Command string
}
```

I will think more on mandatory fields need to be declared of this struct.

Idea behind is that we take file from different input, build corresponding `parsing` function to map it to `komposeSet` struct. Then the main convert function will only do the transformation from `komposeSet` to k8s controllers and service. With that strategy, we also can cut-off the dependency on libcompose's structs between versions.

Thought ?
",closed,False,2016-07-18 10:22:28,2016-07-22 15:55:16
kompose,pradeepto,https://github.com/kubernetes/kompose/issues/45,https://api.github.com/repos/kubernetes/kompose/issues/45,Write an architecture document for kompose,"Kompose is getting a lot of traction. Would be a nice thing to have an architecture document that will help document kompose internals and also help new contributors to get ramped up. 
",closed,False,2016-07-21 11:00:05,2016-08-16 04:44:33
kompose,kadel,https://github.com/kubernetes/kompose/pull/46,https://api.github.com/repos/kubernetes/kompose/issues/46,Inital support for Openshift.,"Right now this is implemented as another option  (type of controller) for convert command.
As discussed in #36 we will probably add preference file with profiles in future.

Currently it can be used simply like this:

```
kompose convert --deploymentconfig
```

```
▶ ./kompose convert -h      
.....
   --deploymentconfig, --dc     Generate a DeploymentConfig for OpenShift
......
```
",closed,True,2016-07-21 16:21:03,2016-07-21 18:55:25
kompose,wayarmy,https://github.com/kubernetes/kompose/issues/47,https://api.github.com/repos/kubernetes/kompose/issues/47,convert file fail,"i've just use ""kompose convert"" from an docker-compose.yaml file to new file yml of k8s, but it went wrong, and show me the error: 
""ERRO[0000] Failed to unmarshall: Cannot unmarshal '30' of type int64 into a string value""

Is this new issue? Or i did wrong?

@ngtuna 
",closed,False,2016-07-21 17:44:10,2017-02-27 19:44:09
kompose,kadel,https://github.com/kubernetes/kompose/pull/48,https://api.github.com/repos/kubernetes/kompose/issues/48,Fix failing windows build,,closed,True,2016-07-21 18:21:37,2016-07-21 18:34:33
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/49,https://api.github.com/repos/kubernetes/kompose/issues/49,Unable to go build ,"``` console
$ go build -o kompose ./cli/main/
cli/app/app.go:29:2: no buildable Go source files in go/src/github.com/skippbox/kompose/vendor/github.com/docker/docker/api/client/bundlefile
```

This is because of a recent change to vendor/github.com/docker/docker/api/client/bundlefile/bundlefile.go:

``` go
// +build experimental

package bundlefile
```

Build error went away after removing `// +build experimental`. 

cc @kadel 
",closed,False,2016-07-21 22:48:08,2016-07-22 08:18:23
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/50,https://api.github.com/repos/kubernetes/kompose/issues/50,Add a bundle example file,,closed,True,2016-07-21 23:17:58,2016-07-22 03:28:38
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/51,https://api.github.com/repos/kubernetes/kompose/issues/51,Fix some nits in README,,closed,True,2016-07-21 23:52:13,2016-07-22 03:28:15
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/52,https://api.github.com/repos/kubernetes/kompose/issues/52,Consider changing `--rc` flag to bool and adding `--replicas`,"Right now all flags for specifying controller types are `bool`, except for `--rc`, which is `int`. 

This is confusing because I cannot do this 

``` console
$ ../kompose convert --rc -y
Incorrect Usage.
```

And this (surprisingly) gives me a deployment 

``` console
$ ../kompose convert --rc=""0"" -y
file ""redis-svc.yaml"" created
file ""web-svc.yaml"" created
file ""redis-deployment.yaml"" created
file ""web-deployment.yaml"" created
```

I propose that we change `--rc` back to `bool` and add another `int` flag for specifying replicas, since other controllers also take `replicas` in their spec. We can default it to `-1` as unset, and then we don't specify it in spec (and let K8s API server decide the default value). If it's set to something >= 0, we set it explicitly.  
",closed,False,2016-07-22 00:02:25,2016-07-25 22:50:09
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/53,https://api.github.com/repos/kubernetes/kompose/issues/53,Consider changing `--from-bundles` (bool) to `--bundle-file` (string),"How about we make the flag for specifying bundles to something similar to `--file` (e.g. `--bundle-file`)? It'll be easier to specify than `--from-bundles` + `--file=xxx`. We can validate the flags so that either `--file` or `--bundle-file` can be specified at a time. 
",closed,False,2016-07-22 00:21:25,2016-07-25 23:19:36
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/54,https://api.github.com/repos/kubernetes/kompose/issues/54,"update README for bundles, compose v2",,closed,False,2016-07-22 04:23:40,2016-07-26 10:21:52
kompose,kadel,https://github.com/kubernetes/kompose/issues/55,https://api.github.com/repos/kubernetes/kompose/issues/55,Breaking code in app.go to multiple packags,"What if we would break `app.go` to multiple packages?

I suggest creating notion of loaders and transformers.
Loader would load input file and convert it to komposeObject.
Transformer would convert komposeObject to target format.
Every loader and every transformer would live in its own package.

```
pkg/loader/dockercompose/
pkg/loader/boundlefile/

pkg/transformer/kubernetes/
pkg/transformer/openshift/
```

It could look like this:

```
                  +------+          +-----------+
input file -----> |loader|          |transformer| -----> output files
                  +------+          +-----------+
                     |                    ^
                     |                    |
                     |                    |
                     +--> komposeObject --+
```
",closed,False,2016-07-22 08:36:46,2016-08-12 06:08:30
kompose,surajssd,https://github.com/kubernetes/kompose/issues/56,https://api.github.com/repos/kubernetes/kompose/issues/56,Environment Variable substitution not working,"I am using following `docker-compose.yml` file

``` yaml
$ cat docker-compose.yml 
version: ""2""

services:
  mariadb:
    image: centos/mariadb
    ports:
      - ""$DB_PORT""
    environment:
      MYSQL_ROOT_PASSWORD: $ROOT_PASS
      MYSQL_DATABASE: $DB_NAME
      MYSQL_PASSWORD: $DB_PASS
      MYSQL_USER: $DB_USER

  etherpad:
    image: centos/etherpad
    ports:
      - ""80:9001""
    depends_on:
      - mariadb
    environment:
      DB_HOST: $DB_HOST
      DB_DBID: $DB_NAME
      DB_PASS: $DB_PASS
      DB_PORT: $DB_PORT
      DB_USER: $DB_USER
```

and following envs

``` bash
$ cat envs 
DB_HOST=mariadb
ROOT_PASS=etherpad
DB_NAME=etherpad
DB_PASS=etherpad
DB_USER=etherpad
DB_PORT=3306
```

error

```
$ export $(cat envs)
$ ./kompose convert -o output
panic: runtime error: invalid memory address or nil pointer dereference
[signal 0xb code=0x1 addr=0x20 pc=0x64e144]

goroutine 1 [running]:
panic(0x11ef080, 0xc820010140)
    /usr/local/go/src/runtime/panic.go:481 +0x3e6
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.Interpolate.func1(0xc8204acc88, 0x7, 0x0, 0x0)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:145 +0x84
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.parseVariable(0xc8204ac790, 0x8, 0x8, 0xc82015fbe8, 0x0, 0x0, 0x0, 0xc8204ba150)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:36 +0x120
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.parseInterpolationExpression(0xc8204ac790, 0x8, 0x1, 0xc82015fbe8, 0x0, 0x0, 0xc82015f7a8, 0x4127d8)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:74 +0x10f
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.parseLine(0xc8204ac790, 0x8, 0xc82015fbe8, 0x0, 0x0, 0x412672)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:90 +0xbf
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.parseConfig(0xc8204ac718, 0x5, 0xc8204ac6f0, 0x7, 0xc82015f990, 0xc82015fbe8, 0x0, 0x0)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:110 +0x532
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.parseConfig(0xc8204ac718, 0x5, 0xc8204ac6f0, 0x7, 0xc82015fb68, 0xc82015fbe8, 0x0, 0x0)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:117 +0x1d3
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.Interpolate(0x0, 0x0, 0xc82015fd38, 0x0, 0x0)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:144 +0x1f3
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.MergeServicesV2(0xc8204638c0, 0x0, 0x0, 0x0, 0x0, 0xc820463880, 0x12, 0xc82049c000, 0x1d9, 0x3d9, ...)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/merge_v2.go:22 +0x12a
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.Merge(0xc8204638c0, 0x0, 0x0, 0x0, 0x0, 0xc820463880, 0x12, 0xc82049c000, 0x1d9, 0x3d9, ...)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/merge.go:40 +0x24c
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project.(*Project).load(0xc8204651e0, 0xc820463880, 0x12, 0xc82049c000, 0x1d9, 0x3d9, 0x0, 0x0)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project/project.go:178 +0xe5
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project.(*Project).Parse(0xc8204651e0, 0x0, 0x0)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project/project.go:86 +0x335
github.com/skippbox/kompose/cli/app.loadComposeFile(0xc820463880, 0x12, 0xc820347180, 0x0)
    /home/vagrant/work/src/github.com/skippbox/kompose/cli/app/app.go:733 +0x1b6
github.com/skippbox/kompose/cli/app.Convert(0xc820347180)
    /home/vagrant/work/src/github.com/skippbox/kompose/cli/app/app.go:1028 +0x4b9
github.com/skippbox/kompose/cli/command.ConvertCommand.func1(0xc820347180)
    /home/vagrant/work/src/github.com/skippbox/kompose/cli/command/command.go:30 +0x21
github.com/skippbox/kompose/vendor/github.com/urfave/cli.Command.Run(0x13eb378, 0x7, 0x0, 0x0, 0x0, 0x0, 0x0, 0x159d920, 0x30, 0x0, ...)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/urfave/cli/command.go:179 +0x1399
github.com/skippbox/kompose/vendor/github.com/urfave/cli.(*App).Run(0xc82048ab00, 0xc82000a940, 0x4, 0x4, 0x0, 0x0)
    /home/vagrant/work/src/github.com/skippbox/kompose/vendor/github.com/urfave/cli/app.go:196 +0x137c
main.main()
    /home/vagrant/work/src/github.com/skippbox/kompose/cli/main/main.go:46 +0x5fe
```

version

``` bash
$ ./kompose -v
kompose version 0.0.1-alpha (HEAD)
```
",closed,False,2016-07-22 09:20:54,2016-08-02 00:47:11
kompose,surajssd,https://github.com/kubernetes/kompose/issues/57,https://api.github.com/repos/kubernetes/kompose/issues/57,`depends_on` is not supported,"I am using following `docker-compose.yml` and when running it errors out saying `depends_on` not supported.

``` yaml
$ cat docker-compose.yml
  mariadb:
    image: centos/mariadb
    ports:
      - ""3306""
    environment:
      MYSQL_ROOT_PASSWORD: etherpad
      MYSQL_DATABASE: etherpad
      MYSQL_PASSWORD: etherpad
      MYSQL_USER: etherpad

  etherpad:
    build: ""./myphp""
    ports:
      - ""80:9001""
    depends_on:
      - mariadb
    environment:
      DB_HOST: mariadb
      DB_DBID: etherpad
      DB_PASS: etherpad
      DB_USER: etherpad
```

running it

``` bash
$ ./kompose convert -o output
ERRO[0000] Could not parse config for project etherpad : Unsupported config option for etherpad service: 'depends_on' 
FATA[0000] Failed to load compose file%!(EXTRA *errors.errorString=Unsupported config option for etherpad service: 'depends_on') 
```
",closed,False,2016-07-22 09:27:15,2016-07-25 07:44:25
kompose,surajssd,https://github.com/kubernetes/kompose/issues/58,https://api.github.com/repos/kubernetes/kompose/issues/58,docker-compose service with no ports is mapped to k8s svc with no ports,"When a docker-compose service is given with no ports, a corresponding k8s service is created with no port info, and this is wrong config, because port is required value.

`docker-compose.yml` file I used.

``` yaml
$ cat docker-compose-no-ports.yml 
  mariadb:
    image: centos/mariadb
    environment:
      MYSQL_ROOT_PASSWORD: etherpad
      MYSQL_DATABASE: etherpad
      MYSQL_PASSWORD: etherpad
      MYSQL_USER: etherpad
```

convert

``` bash
$ ./kompose convert -f docker-compose-no-ports.yml -o output -y
file ""output"" created
$ cat output 
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    service: mariadb
  name: mariadb
spec:
  ports: []
  selector:
    service: mariadb
status:
  loadBalancer: {}

---
[SNIP]
```

When this definition is fed to kubernetes it says:

``` bash
$ kubectl create -f svc 
The Service ""mariadb"" is invalid.
spec.ports: Required value
```

Where `svc` is:

``` bash
$ cat svc 
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    service: mariadb
  name: mariadb
spec:
  ports: []
  selector:
    service: mariadb
status:
  loadBalancer: {}
```

IMO this should error out or should not create service, give warning loud and clear that service is not created, but still we can have `deployment` or `ReplicationController` depending on the provider(k8s/openshift).
",closed,False,2016-07-22 09:40:11,2016-07-28 12:32:31
kompose,sdouche,https://github.com/kubernetes/kompose/issues/59,https://api.github.com/repos/kubernetes/kompose/issues/59,panic: runtime error: invalid memory address or nil pointer dereference,"Tried with v0.0.1-beta.1:

```
$ kompose convert -f docker-compose.yml -y
panic: runtime error: invalid memory address or nil pointer dereference
[signal 0xb code=0x1 addr=0x20 pc=0x64c354]

goroutine 1 [running]:
panic(0x11e6760, 0xc820012110)
    /usr/local/go/src/runtime/panic.go:464 +0x3e6
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.Interpolate.func1(0xc820273df0, 0xf, 0x0, 0x0)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:145 +0x84
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.parseVariableWithBraces(0xc82018e240, 0x24, 0x11, 0xc8204cfbf8, 0x0, 0x0, 0x0, 0xc82044a0e0)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:53 +0x14c
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.parseInterpolationExpression(0xc82018e240, 0x24, 0x1, 0xc8204cfbf8, 0x0, 0x0, 0x3113, 0x410d38)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:71 +0x9b
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.parseLine(0xc82018e240, 0x24, 0xc8204cfbf8, 0x0, 0x0, 0x134d001)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:90 +0xbf
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.parseConfig(0xc8202c1b80, 0x5, 0xc8202c1b60, 0xc, 0xc8204cfb78, 0xc8204cfbf8, 0x0, 0x0)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:110 +0x532
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.Interpolate(0x0, 0x0, 0xc8204cfd48, 0x0, 0x0)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/interpolation.go:144 +0x1c4
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.MergeServicesV2(0xc820459840, 0x0, 0x0, 0x0, 0x0, 0xc820459820, 0x12, 0xc8203f7500, 0x3113, 0x3313, ...)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/merge_v2.go:22 +0x12a
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config.Merge(0xc820459840, 0x0, 0x0, 0x0, 0x0, 0xc820459820, 0x12, 0xc8203f7500, 0x3113, 0x3313, ...)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/config/merge.go:40 +0x24c
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project.(*Project).load(0xc82045ad00, 0xc820459820, 0x12, 0xc8203f7500, 0x3113, 0x3313, 0x0, 0x0)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project/project.go:178 +0xe5
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project.(*Project).Parse(0xc82045ad00, 0x0, 0x0)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project/project.go:86 +0x335
github.com/skippbox/kompose/cli/app.loadComposeFile(0xc820459820, 0x12, 0xc820349180, 0x0)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/cli/app/app.go:733 +0x1b6
github.com/skippbox/kompose/cli/app.Convert(0xc820349180)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/cli/app/app.go:1028 +0x4b9
github.com/skippbox/kompose/cli/command.ConvertCommand.func1(0xc820349180)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/cli/command/command.go:30 +0x21
github.com/skippbox/kompose/vendor/github.com/urfave/cli.Command.Run(0x13e2208, 0x7, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1593620, 0x30, 0x0, ...)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/vendor/github.com/urfave/cli/command.go:179 +0x1399
github.com/skippbox/kompose/vendor/github.com/urfave/cli.(*App).Run(0xc8204806e0, 0xc82000a0f0, 0x5, 0x5, 0x0, 0x0)
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/vendor/github.com/urfave/cli/app.go:196 +0x137c
main.main()
    /Users/sebastiengoasguen/Documents/go/src/github.com/skippbox/kompose/cli/main/main.go:46 +0x5fe
```
",closed,False,2016-07-22 10:03:39,2016-08-05 08:11:04
kompose,surajssd,https://github.com/kubernetes/kompose/issues/60,https://api.github.com/repos/kubernetes/kompose/issues/60,`targetPort` is 0 in a converted service definition,"targetPort is 0 in a service

When doing the conversion, if a port is defined as ""3306"" it sets the service's `port` as `3306` but sets `targetPort` as `0`. This artifact works with k8s, when deployed, but the concern is of wrong/misleading info, generated. We can do a thing if a port is given as `X` set `X` as both `port` and `targetPort`. But if port given as `X:Y` we can set `targetPort` as `Y` and `port` as `X`.

I am using `docker-compose.yml` as:

``` yaml
$ cat docker-compose.yml
version: ""2""

services:
  mariadb:
    image: centos/mariadb
    ports:
      - ""3306""
    environment:
      MYSQL_ROOT_PASSWORD: etherpad
      MYSQL_DATABASE: etherpad
      MYSQL_PASSWORD: etherpad
      MYSQL_USER: etherpad
```

convert:

``` bash
$ ./kompose convert  -o output -y
file ""output"" created
```

wrong output

``` yaml
$ cat output 
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    service: mariadb
  name: mariadb
spec:
  ports:
  - name: ""3306""
    port: 3306
    protocol: TCP
    targetPort: 0
  selector:
    service: mariadb
status:
  loadBalancer: {}

---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    service: mariadb
  name: mariadb
spec:
  replicas: 1
  selector:
    matchLabels:
      service: mariadb
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        service: mariadb
    spec:
      containers:
      - env:
        - name: MYSQL_USER
          value: etherpad
        - name: MYSQL_DATABASE
          value: etherpad
        - name: MYSQL_PASSWORD
          value: etherpad
        - name: MYSQL_ROOT_PASSWORD
          value: etherpad
        image: centos/mariadb
        name: mariadb
        ports:
        - containerPort: 3306
          protocol: TCP
        resources: {}
      restartPolicy: Always
status: {}

---
```
",closed,False,2016-07-22 10:47:07,2016-07-22 16:42:11
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/61,https://api.github.com/repos/kubernetes/kompose/issues/61,"Add --bundle,-dab flag for specifying dab file","Now we can specify a dab file with `--bundle` or `-dab`:

``` console
$ kompose convert --bundle=docker-compose-bundle.dsb 
file ""redis-svc.json"" created
file ""web-svc.json"" created
file ""redis-deployment.json"" created
file ""web-deployment.json"" created
```

`--bundle` can't be used with `--file`: 

``` console
$ kompose convert --bundle=docker-compose-bundle.dsb --file=docker-gitlab.yml
FATA[0000] Error: compose file and dab file cannot be specified at the same time
```

Fixes #53 
",closed,True,2016-07-22 16:51:12,2016-07-25 23:19:36
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/62,https://api.github.com/repos/kubernetes/kompose/issues/62,Add --replicas flag and changed --rc from string to bool,"Now we can do `kompose convert -rc` or `kompose convert --replicas=3`.

Fixes #52 
",closed,True,2016-07-22 19:42:28,2016-07-25 22:50:09
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/63,https://api.github.com/repos/kubernetes/kompose/issues/63,Should we support converting to Replica Sets?,"Since we discourage people from using Replica Sets directly (instead they should use Deployments), how about removing the support for converting to RS? On the other hand, converting to Replication Controllers makes sense for people haven't adopted Deployments. 
",closed,False,2016-07-25 18:38:57,2016-07-29 16:09:04
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/64,https://api.github.com/repos/kubernetes/kompose/issues/64,Bug: incorrect version ,"Downloaded release file from https://github.com/skippbox/kompose/releases/tag/v0.0.1-beta.1

``` console
$ kompose --version 
kompose version 0.0.1-alpha (HEAD)
```

It should instead give me:

``` console
$ kompose --version 
kompose version 0.0.1-beta (fa0930d)
```

Related code https://github.com/skippbox/kompose/blob/master/version/version.go
",closed,False,2016-07-25 22:31:19,2016-08-11 03:12:17
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/65,https://api.github.com/repos/kubernetes/kompose/issues/65,Allow --chart and --out to be specified together,"Support `kompose convert --chart --out=<file_name>` 
",closed,True,2016-07-25 23:52:08,2016-07-26 16:38:57
kompose,kadel,https://github.com/kubernetes/kompose/pull/66,https://api.github.com/repos/kubernetes/kompose/issues/66,Development Guide: use script/godep-restore.sh,,closed,True,2016-07-26 10:12:08,2016-07-28 08:59:28
kompose,surajssd,https://github.com/kubernetes/kompose/pull/67,https://api.github.com/repos/kubernetes/kompose/issues/67,Support for environment variables substitution,"Now user can put environment variables in docker-compose file and it will be read by kompose from environment

Fixes #56
",closed,True,2016-07-26 12:58:32,2016-08-02 00:47:11
kompose,surajssd,https://github.com/kubernetes/kompose/pull/68,https://api.github.com/repos/kubernetes/kompose/issues/68,Warning on missing port information and no service created,"Now when user will not provide any port information a warning will be shown and also service will not be created.

Fixes #58
",closed,True,2016-07-27 10:26:33,2016-07-28 12:32:31
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/69,https://api.github.com/repos/kubernetes/kompose/issues/69,Remove the support for converting to Replica Sets,"Fixes #63
",closed,True,2016-07-28 20:02:59,2016-07-29 16:09:04
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/70,https://api.github.com/repos/kubernetes/kompose/issues/70,Release process ,"Follow up https://github.com/skippbox/kompose/issues/64#issuecomment-235107109:

> In the release note we can provide checksums and installation guide, something like this:
> ## Installation
> ### Linux
> 
> ```
> curl -Lo kompose https://github.com/skippbox/kompose/releases/download/v0.0.1-beta.1/kompose_linux-amd64 && chmod +x kompose && sudo mv kompose /usr/local/bin/
> ```
> ## Checksums
> ### Linux
> 
> ```
> $ openssl sha1 /usr/local/bin/kompose
> SHA1(/usr/local/bin/kompose)= 826c247a4bdca44d2b68bef48d6649dd86813ef2
> ```

We should have a release process (or did I miss it?)
",closed,False,2016-07-29 06:49:05,2017-07-20 16:19:29
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/71,https://api.github.com/repos/kubernetes/kompose/issues/71,Print warning for unsupported fields in docker-compose format  ,"Follow up #3

We're now printing warnings of unsupported fields in their names defined in [libcompose](https://github.com/docker/libcompose/blob/release/0.2.0/config/types.go#L68), but not their names in [docker-compose file format](https://docs.docker.com/compose/compose-file/).  

For example, this 

``` console
$ cat nginx.yml
nginx:
  image: nginx
  dockerfile: foobar
  build: ./foobar
  cap_add:
    - ALL
  container_name: foobar

$ kompose convert -f nginx.yml
WARNING: Unsupported key Build - ignoring
WARNING: Unsupported key CapAdd - ignoring
WARNING: Unsupported key ContainerName - ignoring
WARNING: Unsupported key Dockerfile - ignoring
```

should give me the following warnings instead:

``` console
$ kompose convert -f nginx.yml
WARNING: Unsupported key build - ignoring
WARNING: Unsupported key cap_add - ignoring
WARNING: Unsupported key container_name - ignoring
WARNING: Unsupported key dockerfile - ignoring
```
",closed,False,2016-07-30 21:48:48,2016-08-10 03:29:38
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/72,https://api.github.com/repos/kubernetes/kompose/issues/72,Modularize convert into loader & transformer,"This is an initial step of modularizing convert function into loader and transformer. I found a bit difficult to create the komposeObject interface due to `Go import cycle` problem. The easiest thing I can do is creating the shared struct `komposeObject` in a separate package which loader and transformer can use. Although I think komposeObject interface is still a good idea.

@kadel I'm looking for comment from your side.
",closed,True,2016-08-01 09:56:53,2016-08-05 10:06:10
kompose,surajssd,https://github.com/kubernetes/kompose/issues/73,https://api.github.com/repos/kubernetes/kompose/issues/73,`--stdout` output as `List` kind,"When user applies `--stdout` as commandline arg then we can output all the objects as encapsulated in `kind: List`.

So this is what openshift with `oc import docker-compose` does
I believe we can use `metadata` in `List` to display warnings!

``` yaml
apiVersion: v1
kind: List
metadata: {}
items:
- apiVersion: v1
  kind: ImageStream
[SNIP]
    dockerImageRepository: """"
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
[SNIP]
      type: ImageChange
  status: {}
- apiVersion: v1
  kind: Service
  metadata:
    creationTimestamp: null
[SNIP]
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    creationTimestamp: null
[SNIP]
    selector:
      deploymentconfig: mariadb
  status:
    loadBalancer: {}
```
",closed,False,2016-08-01 13:39:49,2016-08-11 09:47:49
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/74,https://api.github.com/repos/kubernetes/kompose/issues/74,Correctly log error,,closed,True,2016-08-02 20:28:27,2016-08-03 19:40:02
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/75,https://api.github.com/repos/kubernetes/kompose/issues/75,Problems of converting volumes,"A few problems I discovered specific to `volumes`:
1. In kompose conversion logic, a volume is created as read-only by default. However, in Kubernetes spec, container volumeMounts is read-write by default; same as docker-compose (I believe so from looking at the file format, please correct me if not). 
2. We create `emptyDir` for volumes, but if host is specified (i.e. `HOST:CONTAINER`, see [spec](https://docs.docker.com/compose/compose-file/#/volumes-volume-driver)), shouldn't we use `hostPath` instead?
3. We create a random string (length of 20) for volume names, which it's not readable; also, volume names defined in docker-compose.yml file is ignored. 
",closed,False,2016-08-02 21:03:58,2016-08-06 20:01:51
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/76,https://api.github.com/repos/kubernetes/kompose/issues/76,Kompose help needs improvment,"Current `kompose help` gives me:

```
$ ./kompose -h 
NAME:
   kompose - Command line interface for Skippbox.

USAGE:
   kompose [global options] command [command options] [arguments...]

VERSION:
   0.0.1-beta (HEAD)

AUTHOR(S):
   Skippbox Compose Contributors <https://github.com/skippbox/kompose> 

COMMANDS:
    convert Convert docker-compose.yml to Kubernetes objects
    up      Submit rc, svc objects to kubernetes API endpoint
    ps      Get active data in the kubernetes cluster
    delete  Remove instantiated services/rc from kubernetes
    scale   Globally scale instantiated replication controllers

GLOBAL OPTIONS:
   --verbose, --debug           
   --file, -f ""docker-compose.yml""  Specify an alternate compose file (default: docker-compose.yml) [$COMPOSE_FILE]
   --help, -h               show help
   --generate-bash-completion       
   --version, -v            print the version
```

A few things need improvement:
1. ""Command line interface for Skippbox"" is vague to me as a description of `kompose` (users may ask: so what does this CLI do?). 
2. up/ps/delete/scale didn't work for now, but still shows up in help 
3. Global options aren't actually global. They only belong to `kompose` but not its subcommands (except for `--help, -h`, but it's not shown in subcommand help). 
",closed,False,2016-08-02 22:18:45,2016-08-04 16:55:29
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/77,https://api.github.com/repos/kubernetes/kompose/issues/77,Volumes default not read-only,"#75
",closed,True,2016-08-02 22:38:48,2016-08-03 19:40:10
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/78,https://api.github.com/repos/kubernetes/kompose/issues/78,Convert volumes in [name:][host:]container[:access_mode] format,"#75
",closed,True,2016-08-03 00:01:48,2016-08-04 16:55:17
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/79,https://api.github.com/repos/kubernetes/kompose/issues/79,Enable warnings in stdout,"Ref #71

With this change, you see warnings even when `--stdout` is specified:

``` console
$ kompose convert -f docker-voting.yml -y --stdout | kubectl create -f - 
time=""2016-08-03T11:39:37-07:00"" level=warning msg=""Unsupported key build - ignoring"" 
time=""2016-08-03T11:39:37-07:00"" level=warning msg=""Unsupported key networks - ignoring"" 
time=""2016-08-03T11:39:37-07:00"" level=warning msg=""[worker] Service cannot be created because of missing port."" 
time=""2016-08-03T11:39:37-07:00"" level=warning msg=""[db] Service cannot be created because of missing port."" 
service ""redis"" created
service ""result"" created
service ""vote"" created
deployment ""db"" created
deployment ""redis"" created
Error from server: error when creating ""STDIN"": Deployment.extensions ""vote"" is invalid: spec.template.spec.containers[0].image: Required value
Error from server: error when creating ""STDIN"": Deployment.extensions ""worker"" is invalid: spec.template.spec.containers[0].image: Required value
Error from server: error when creating ""STDIN"": Deployment.extensions ""result"" is invalid: spec.template.spec.containers[0].image: Required value
```
",closed,True,2016-08-03 18:44:04,2016-08-04 16:54:13
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/80,https://api.github.com/repos/kubernetes/kompose/issues/80,Add warnings/error for image not specified ,"Follow-up https://github.com/skippbox/kompose/pull/79#issuecomment-237332663:

`image` is a required field in Kubernetes and without it the generated file can't be used. 

From [compose spec](https://docs.docker.com/compose/compose-file), v1 doesn't allow `image` being specified with `build`, and v2 allows you to do that but the `image` will be built from `build`. 

We can print an error when we see `build` in the compose file. Would love to hear more thoughts. 
",closed,False,2016-08-03 19:39:10,2016-10-10 10:20:46
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/81,https://api.github.com/repos/kubernetes/kompose/issues/81,docker-compose labels should be converted to k8s annotations instead of labels ,"Compose labels are just metadata, unlike k8s labels, which is used to organize / categorize objects. 
",closed,False,2016-08-03 20:04:54,2016-08-04 17:28:38
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/82,https://api.github.com/repos/kubernetes/kompose/issues/82,We should have a table / document for docker-compose to k8s / openshift conversion  ,"It'll be helpful for developers and users to have such docs. 
",closed,False,2016-08-03 20:09:07,2017-04-03 15:25:43
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/83,https://api.github.com/repos/kubernetes/kompose/issues/83,"Clean up kompose help, remove support for unimplemented commands","Fixes #76 
1. Updated `kompose`: command name becomes ""kompose - A tool helping Docker Compose users move to Kubernetes."".  Removed support for `up`, `scale`, `delete`, `ps` (we'll add them back once they're implemented).  Removed global options not in-use (`--debug`, `-f`)
2. Updated `kompose convert help`: name becomes ""kompose convert - Convert Docker Compose file (e.g. docker-compose.yml) to Kubernetes objects""
3. Removed `kompose up` from README
",closed,True,2016-08-03 22:54:20,2016-08-04 16:55:29
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/84,https://api.github.com/repos/kubernetes/kompose/issues/84,Converting compose labels to k8s annotations,"Fixes #81
",closed,True,2016-08-04 01:06:09,2016-08-04 17:28:38
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/85,https://api.github.com/repos/kubernetes/kompose/issues/85,The example .dsb file doesn't work ,"``` console
$ kompose convert -f docker-compose-bundle.dsb
ERRO[0000] Could not parse config for project examples : Unknown resolution for '0.1' using <config.RawService Value> at line 23, column 13 
FATA[0000] Failed to load compose file: Unknown resolution for '0.1' using <config.RawService Value> at line 23, column 13
```

I guess it's due to recent libcompose update to v2, and updating .dsb to .dab with the latest docker-compose should fix it. 
",closed,False,2016-08-04 01:14:57,2016-08-04 16:59:30
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/86,https://api.github.com/repos/kubernetes/kompose/issues/86,New behavior of kompose up,"Fix https://github.com/skippbox/kompose/issues/40

/cc @janetkuo 
",closed,True,2016-08-04 16:58:50,2016-08-09 07:06:51
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/87,https://api.github.com/repos/kubernetes/kompose/issues/87,Validate input args ,"I found myself often do this `kompose convert abc.yml` (should be `kompose convert -f abc.yml`) and kompose will convert docker-compose.yml for me without any warning (unexpectedly and surprisingly, if I don't pay attention). 

`kompose` should print some error messages in this case to prevent misuse/confusion. 
",closed,False,2016-08-05 18:44:08,2018-07-01 12:29:02
kompose,surajssd,https://github.com/kubernetes/kompose/issues/88,https://api.github.com/repos/kubernetes/kompose/issues/88,Wrong warning about networks,"wrong warning about networks not supported, even if networks not provided: `WARN[0000] Unsupported key networks - ignoring`

using `docker-compose.yml`

``` yaml
$ cat docker-compose.yml 
version: ""2""

services:
  redis:
    image: dharmit/redis
    command: redis-server
    ports:
      - ""6379""
    volumes:
      - /opt/redis:/redis

  flask:
    image: dharmit/flask
    ports:
      - ""31000:5000""
    depends_on:
      - redis
    environment:
      REDIS_PORT: 6379
      REDIS_HOST: redis
```

Output

``` yaml
$ kompose convert --stdout -f docker-compose.yml -y
WARN[0000] Unsupported key depends_on - ignoring        
WARN[0000] Unsupported key networks - ignoring          
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    service: redis
  name: redis
spec:
  ports:
  - name: ""6379""
    port: 6379
```
",closed,False,2016-08-06 07:12:38,2016-08-10 03:27:16
kompose,surajssd,https://github.com/kubernetes/kompose/pull/89,https://api.github.com/repos/kubernetes/kompose/issues/89,Functional Testing for kompose cmdline,"Shell scripts to test k8s and os conversion
",closed,True,2016-08-06 13:55:41,2016-08-08 04:58:43
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/90,https://api.github.com/repos/kubernetes/kompose/issues/90,"enhance warning: networks, network config, volume config. Fixes #88, #71","@janetkuo : I added warning for `volume config` and `network config`.
@surajssd : `networks` key is checked. However, please take a look at [FIXME](https://github.com/ngtuna/kompose/blob/unsupported-keys/cli/app/app.go#L869) and leave me your thought.
",closed,True,2016-08-06 16:49:08,2016-08-10 03:27:16
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/91,https://api.github.com/repos/kubernetes/kompose/issues/91,loader-transformer,"Fixes #55 

Added:
- loader, transformer interfaces
  - LoadFile(file string) KomposeObject
  - Transform(KomposeObject, ConvertOptions)
- bundlefile, compose packages
- kubernetes, openshift packages

@kadel Please take a review and give me your comments.
",closed,True,2016-08-07 17:06:30,2016-08-13 04:24:55
kompose,surajssd,https://github.com/kubernetes/kompose/issues/92,https://api.github.com/repos/kubernetes/kompose/issues/92,Image name not given still kompose does not errors out,"Using docker-compose file that has no field for image, so this should error out, but this still works.

``` yaml
$ cat /tmp/docker-compose-no-image.yml 
version: ""2""

services:
  mariadb:
    ports:
      - 3306
```

output

``` yaml
$ kompose convert --stdout -y -f /tmp/docker-compose-no-image.yml                                                                                                                       
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    service: mariadb
  name: mariadb
spec:
  ports:
  - name: ""3306""
    port: 3306
    protocol: TCP
    targetPort: 3306
  selector:
    service: mariadb
status:
  loadBalancer: {}

---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    service: mariadb
  name: mariadb
spec:
  replicas: 1
  selector:
    matchLabels:
      service: mariadb
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        service: mariadb
    spec:
      containers:
      - name: mariadb
        ports:
        - containerPort: 3306
          protocol: TCP
        resources: {}
      restartPolicy: Always
status: {}

---
```
",closed,False,2016-08-08 04:17:35,2017-01-12 17:49:15
kompose,kadel,https://github.com/kubernetes/kompose/pull/93,https://api.github.com/repos/kubernetes/kompose/issues/93,Run tests on travis-ci,"related to #34 
-  run commandline tests and unit test on travis-ci (`make test-unit` and `make test-cmd`)
- `make binary` builds only binary for current arch platform where script is running (no cross compiling)
- added `make binary-cross` same as former `make binary` (cross compile for mac/linux/win 386/amd65)

command line test is failing because of #88 and #92 
",closed,True,2016-08-09 12:59:54,2016-08-11 15:08:29
kompose,surajssd,https://github.com/kubernetes/kompose/pull/94,https://api.github.com/repos/kubernetes/kompose/issues/94,Output List kind object when using stdout,"Now user gets a `List` kind object when putting eveything on stdout or in a single file.

Fixes #73
",closed,True,2016-08-09 17:07:23,2016-08-11 09:47:49
kompose,kadel,https://github.com/kubernetes/kompose/issues/95,https://api.github.com/repos/kubernetes/kompose/issues/95,Update libcompose to v0.3.0,"There is new release of libcompose with support for v2 compose.
We should update our dependencies to use this release.
",closed,False,2016-08-10 08:43:39,2016-08-23 08:57:29
kompose,surajssd,https://github.com/kubernetes/kompose/issues/96,https://api.github.com/repos/kubernetes/kompose/issues/96,Support BuildConfigs for openshift provider,"When the provider is selected as `openshift` and if docker-compose file has `build` directive then create a `buildconfig` out of it, along with `deploymentconfig` and `service`
",closed,False,2016-08-10 16:09:56,2017-07-12 17:49:49
kompose,surajssd,https://github.com/kubernetes/kompose/issues/97,https://api.github.com/repos/kubernetes/kompose/issues/97,Define build strategy with Kubernetes,"Kubernetes by default has no container image build mechanism, so what are the ways are we gonna support it?
",closed,False,2016-08-10 16:11:18,2017-06-15 17:11:34
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/98,https://api.github.com/repos/kubernetes/kompose/issues/98,Release: kompose binary should be statically linked ,"The latest release binary is dynamically linked. We should distribute statically linked binaries instead. 

``` console
$ ldd kompose 
    linux-vdso.so.1 =>  (0x00007ffe937ea000)
    libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f0a7dae5000)
    libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f0a7d720000)
    /lib64/ld-linux-x86-64.so.2 (0x00007f0a7dd03000)

$ file kompose 
/usr/local/kompose: ELF 64-bit LSB  executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, BuildID[sha1]=86c6d2ff21297a06cc7319244f35e2671612beae, not stripped
```

Setting `CGO_ENABLED=0` should do the trick.

Ref #70
",closed,False,2016-08-10 22:04:42,2016-08-11 22:21:06
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/99,https://api.github.com/repos/kubernetes/kompose/issues/99,Build statically linked binaries in makefile; remove make clean,"Fixes #98

Now `make binary`, `make all` or `make default` gives me statically linked binaries:

``` console
$ ldd bundles/kompose_linux-amd64/kompose 
    not a dynamic executable
$ file bundles/kompose_linux-amd64/kompose 
bundles/kompose_linux-amd64/kompose: ELF 64-bit LSB  executable, x86-64, version 1 (SYSV), statically linked, not stripped
```

Also removed `make clean` since the clean script doesn't exist.
",closed,True,2016-08-11 00:40:01,2016-08-11 02:46:16
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/100,https://api.github.com/repos/kubernetes/kompose/issues/100,Add flags for sliencing warning and for treating warnings as error,"Users would want to ignore known warnings when writing scripts with `kompose`. Users would also want to get errors when they try to remove all unsupported fields. 
",closed,False,2016-08-11 00:46:35,2016-10-15 20:33:47
kompose,surajssd,https://github.com/kubernetes/kompose/pull/101,https://api.github.com/repos/kubernetes/kompose/issues/101,Update tests output files,"With the recent changes in the output format as List, updated tests as well so they validate on the new format of output.
",closed,True,2016-08-11 11:24:14,2016-08-12 06:33:25
kompose,janetkuo,https://github.com/kubernetes/kompose/issues/102,https://api.github.com/repos/kubernetes/kompose/issues/102,kompose convert panic on v1 compose file,"Converting examples/docker-compose.yml to k8s...

``` console
$ kompose convert 
panic: runtime error: invalid memory address or nil pointer dereference
[signal 0xb code=0x1 addr=0x8 pc=0x46be8a]
```

It's because of [this line](https://github.com/skippbox/kompose/blob/master/cli/app/app.go#L870) which references Networks (which is `nil`, since it's v1 compose file):

``` go
//FIXME: networks always contains one default element, even it isn't declared in compose v2.
if len(composeServiceConfig.Networks.Networks) > 0 &&
```

@surajssd we need to add those example files to the test 
",closed,False,2016-08-12 00:12:31,2016-08-13 04:04:55
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/103,https://api.github.com/repos/kubernetes/kompose/issues/103,Fix panic on v1 compose file,"#102
",closed,True,2016-08-12 00:16:46,2016-08-12 18:38:59
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/104,https://api.github.com/repos/kubernetes/kompose/issues/104,Add unit test for komposeConvert,"Ref #34 
",closed,True,2016-08-12 01:20:46,2016-08-15 17:23:32
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/105,https://api.github.com/repos/kubernetes/kompose/issues/105,Support container name and args in kompose convert,,closed,True,2016-08-15 17:53:41,2016-08-16 17:54:25
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/106,https://api.github.com/repos/kubernetes/kompose/issues/106,Add more unit tests for Transform,"Follow up #104; Ref #34
",closed,True,2016-08-15 23:08:58,2016-08-16 17:53:52
kompose,surajssd,https://github.com/kubernetes/kompose/pull/107,https://api.github.com/repos/kubernetes/kompose/issues/107,Abstracted port checking function,"To reduce the inconsistency of message printing created a function which can be called from both kubernetes and openshift
",closed,True,2016-08-16 05:56:59,2016-08-16 10:43:31
kompose,surajssd,https://github.com/kubernetes/kompose/pull/108,https://api.github.com/repos/kubernetes/kompose/issues/108,Create service function in kubernetes utils,"This function can be used in both openshift and kubernetes and all the logic of creating service can be kept in this function.
",closed,True,2016-08-16 08:50:40,2016-08-18 05:53:15
kompose,kadel,https://github.com/kubernetes/kompose/issues/109,https://api.github.com/repos/kubernetes/kompose/issues/109,hostPath volumes?,"We use `hostPath` in volumes?
This doesn't really makes sense to me. When you are deploying to Kubernets cluster `hostPath` will **never** contain files that you have on your local machine from which you are running `kompose`. Unless you somehow copy them manually.
Another thing with `hostPath` is that even if you somehow upload you files to it, whenever pod is rescheduled to another node `hostPath` can contain completely different files.

Because of above I think that `hostPath` can confuse users instead of helping.

Ideally user should  be able to choose which type of volume he/she wants (this will usually depend on his environment setup (gcePersistentDisk, awsElasticBlockStore, nfs ....)).

For now I propose using emptyDir, and displaying warning or some message explaining why this is. And that right now you can't copy content of local directory to cluster volume. 
",closed,False,2016-08-17 16:42:00,2018-03-19 15:47:17
kompose,surajssd,https://github.com/kubernetes/kompose/pull/110,https://api.github.com/repos/kubernetes/kompose/issues/110,Fix output comparison for cmd tests,"Now check on true as comparison output, then PASS, if anything else just fail on it. This avoids all the
false positives.
",closed,True,2016-08-17 16:42:15,2016-08-17 17:58:39
kompose,surajssd,https://github.com/kubernetes/kompose/pull/111,https://api.github.com/repos/kubernetes/kompose/issues/111,"Added flag `--suppress-warnings`, `--verbose`, `--error-on-warning` global flags","- `--suppress-warnings` it ignores all warnings.
- `--verbose` displays everything
- `--error-on-warning` with any warning exits displaying error.

Fixes #100
",closed,True,2016-08-17 16:53:41,2016-10-15 20:33:47
kompose,kadel,https://github.com/kubernetes/kompose/pull/112,https://api.github.com/repos/kubernetes/kompose/issues/112,update Libcompose to v0.3.0,"closes #95 
I've done some testing on top of our test suite, It shouldn't break anything.
But there was a lot of changes in libcompose, so who knows.
",closed,True,2016-08-17 17:32:48,2016-08-23 08:57:29
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/113,https://api.github.com/repos/kubernetes/kompose/issues/113,support kompose down subcommand,"Add new subcommand `kompose down`, in contrast with `kompose up`. There are two options:

``` console
$ kompose down --file <docker-compose>
$ kompose down --bundle <bundle-file>
```

It will delete corresponding services and deployments of converted application.

``` console
$ kompose down --all
Using flag --all/-a will delete all resources in the kubernetes cluster.
Are you sure to continue? (yes/no): yes
```

It will delete all resources (deployments, services, replication controllers, daemonsets) in the cluster. (only at default namespace, other namespaces are coming in follow-up PR).

Can you take a look @janetkuo ? I'm not sure if I missed something in calling kubernetes apis. For example, I set DeleteOptions = nil when deleting deployment. or ListOptions is empty. They are temporarily set until we find suitable customized options.
",closed,True,2016-08-17 17:34:59,2016-09-02 03:18:24
kompose,surajssd,https://github.com/kubernetes/kompose/pull/114,https://api.github.com/repos/kubernetes/kompose/issues/114,Removed unwanted svcnames list,"Transform function from both the providers has some unused data structure so removed it.
",closed,True,2016-08-18 06:53:08,2016-08-18 08:32:03
kompose,surajssd,https://github.com/kubernetes/kompose/pull/115,https://api.github.com/repos/kubernetes/kompose/issues/115,Reuse creation of controller object code,"The repated controller creation code has been removed. And aggregated it into a single function, that Kubernetes and OpenShift providers' Transform code can call.
",closed,True,2016-08-18 08:51:38,2016-08-18 16:34:00
kompose,surajssd,https://github.com/kubernetes/kompose/issues/116,https://api.github.com/repos/kubernetes/kompose/issues/116,Create a pod of containers sharing volume,"Right now the way we do conversion is more of one to one mapping. But when two services/containers share volume in docker-compose file we need to put those two containers in a single pod and make them share volume on kubernetes as well.

for e.g.: the following two services should be wound up into a single pod, by which I mean we will only create one deployment, which has one pod and both of those containers, and single service on top of them, if ports provided:

``` bash
version: '2'

services:
  db:
    image: postgres
    volumes:
      - data:/var/lib/postgresql/data

  foosvc:
    image: foosvcimage
    volumes:
      - data:/var/lib/my/mount/point

volumes:
  data:
    external: true
```
",closed,False,2016-08-20 02:30:25,2016-08-22 05:02:14
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/117,https://api.github.com/repos/kubernetes/kompose/issues/117,"godep save ./... : cannot find package ""k8s.io/kubernetes/pkg/apis/authentication.k8s.io""","I added an import ""k8s.io/kubernetes/pkg/kubectl/cmd"" to `kubenetes.go`. For saving vendor, I need to run `script/godep-restore.sh` first. It works well. But the following `godep save ./...` get error:

``` console
$ godep save ./...
godep: Package (k8s.io/kubernetes/pkg/apis/authentication.k8s.io) not found

$ go get k8s.io/kubernetes/pkg/apis/authentication.k8s.io
package k8s.io/kubernetes/pkg/apis/authentication.k8s.io: cannot find package ""k8s.io/kubernetes/pkg/apis/authentication.k8s.io"" in any of:
    /usr/local/go/src/k8s.io/kubernetes/pkg/apis/authentication.k8s.io (from $GOROOT)
    /home/tuna/workspace/gocode-kompose-ngtuna/src/k8s.io/kubernetes/pkg/apis/authentication.k8s.io (from $GOPATH)
```

How do you think @kadel ?
",closed,False,2016-08-20 05:24:19,2016-10-12 16:40:16
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/118,https://api.github.com/repos/kubernetes/kompose/issues/118,Remove hostPath and print warnings,"Fixes #109
",closed,True,2016-08-22 20:26:31,2016-08-24 05:19:06
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/119,https://api.github.com/repos/kubernetes/kompose/issues/119,Improve error message for invalid port,,closed,True,2016-08-22 20:48:10,2016-08-23 18:07:09
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/120,https://api.github.com/repos/kubernetes/kompose/issues/120,Update architecture doc format,,closed,True,2016-08-22 22:27:55,2016-08-23 18:07:18
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/121,https://api.github.com/repos/kubernetes/kompose/issues/121,Wrong output when port is missing,"The current convert function is not working correctly. When port is missing, objects are converted in init state.

``` console
$ cat docker-compose.yml.tuna 
web:
  image: tuna/docker-counter23
  environment:
    - version=1.0
  links:
    - redis
redis:
  image: redis:3.0
  ports:
    - ""6379""

$ kompose convert --file docker-compose.yml.tuna
WARN[0000] [web] Service cannot be created because of missing port. 
INFO[0000] file ""web-deployment.json"" created           
INFO[0000] file ""redis-deployment.json"" created         
INFO[0000] file ""redis-service.json"" created   

$ cat web-deployment.json 
{
  ""kind"": ""Deployment"",
  ""apiVersion"": ""extensions/v1beta1"",
  ""metadata"": {
    ""name"": ""web"",
    ""creationTimestamp"": null
  },
  ""spec"": {
    ""replicas"": 1,
    ""template"": {
      ""metadata"": {
        ""creationTimestamp"": null
      },
      ""spec"": {
        ""volumes"": null,
        ""containers"": [
          {
            ""name"": ""web"",
            ""image"": ""tuna/docker-counter23"",
            ""resources"": {},
            ""imagePullPolicy"": """"
          }
        ],
        ""serviceAccountName"": """"
      }
    },
    ""strategy"": {}
  },
  ""status"": {}
}
```

`environment` is missing in the deployment web.

The problem came from this line:
https://github.com/skippbox/kompose/blob/master/pkg/transformer/kubernetes/kubernetes.go#L243

If ports not provided in configuration we will not make service, but we will also not update objects.
",closed,False,2016-08-23 16:25:17,2016-08-24 08:04:28
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/122,https://api.github.com/repos/kubernetes/kompose/issues/122,"fix #121: update all objects, even when port is missing","Fix issue https://github.com/skippbox/kompose/issues/121
",closed,True,2016-08-23 17:10:22,2016-08-24 08:04:28
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/123,https://api.github.com/repos/kubernetes/kompose/issues/123,clean code,"- remove / comment unused code
- document functions
",closed,True,2016-08-24 17:36:56,2016-08-25 10:13:18
kompose,kadel,https://github.com/kubernetes/kompose/issues/124,https://api.github.com/repos/kubernetes/kompose/issues/124,OpenShift conversoin - invalid DeploymentConfig,"When creating (`oc create -f ...`) DeploymentConfig created (`kompose convert --dc`) from this [docker-compose.yml](https://github.com/almighty/almighty-core/blob/master/docker-compose.yml)  I get following error:

```
The DeploymentConfig """" is invalid.

* metadata.name: Required value: name or generateName is required
* spec.template: Required value
* spec.selector: Invalid value: null: selector cannot be empty
```
",closed,False,2016-08-25 16:21:26,2016-09-05 08:49:37
kompose,kadel,https://github.com/kubernetes/kompose/issues/125,https://api.github.com/repos/kubernetes/kompose/issues/125,cmd tests are not working properly,"one example

test result:

```
===> Starting test <===
convert::expect_success_and_warning: Running: 'kompose convert --stdout -f /home/tomas/dev/goenv/kompose/src/github.com/skippbox/kompose/script/test/fixtures/etherpad/docker-compose.yml' expected_output: '/home/tomas/dev/goenv/kompose/src/github.com/skippbox/kompose/script/test/fixtures/etherpad/output-k8s.json' expected_warning: 'Unsupported key depends_on - ignoring'
PASS: converted output matches
PASS: warning found: 'Unsupported key depends_on - ignoring'

```

but if I run command manually it fails and there is no output:

```
▶ kompose convert --stdout -f /home/tomas/dev/goenv/kompose/src/github.com/skippbox/kompose/script/test/fixtures/etherpad/docker-compose.yml
WARN[0000] The DB_PORT variable is not set. Substituting a blank string. 
WARN[0000] The DB_NAME variable is not set. Substituting a blank string. 
WARN[0000] The DB_PASS variable is not set. Substituting a blank string. 
WARN[0000] The DB_USER variable is not set. Substituting a blank string. 
WARN[0000] The ROOT_PASS variable is not set. Substituting a blank string. 
WARN[0000] The DB_PASS variable is not set. Substituting a blank string. 
WARN[0000] The DB_PORT variable is not set. Substituting a blank string. 
WARN[0000] The DB_USER variable is not set. Substituting a blank string. 
WARN[0000] The DB_HOST variable is not set. Substituting a blank string. 
WARN[0000] The DB_NAME variable is not set. Substituting a blank string. 
FATA[0000] ""mariadb"" failed to load ports from compose file: invalid container port """"
```
",closed,False,2016-08-29 15:08:51,2016-09-05 08:48:13
kompose,kadel,https://github.com/kubernetes/kompose/pull/126,https://api.github.com/repos/kubernetes/kompose/issues/126,Fix conversion to OpenShift (invalid DeploymentConfig),"fixes #124 by add missing conversion to versioned object when saving to files

I've also added commit that fixes #130 
",closed,True,2016-08-29 15:38:49,2016-09-05 08:49:37
kompose,kadel,https://github.com/kubernetes/kompose/pull/127,https://api.github.com/repos/kubernetes/kompose/issues/127,docker-compose - Entrypoint support,"We had Command and Args together with Entrypoint in Kompose object.
This doesn't make much sense, as Entrypoint and Command are same thing.
I've removed Entrypoint from Kompose object in favor of Command to keep
same naming convensions as in Kubernetes.

Entrypoint from docker-compose.yml is now saved to Command and Command
is saved to Args (http://kubernetes.io/docs/user-guide/containers/).

| docker-compose.yml | Kompose object |
| --- | --- |
| Entrypoint | Command |
| Command | Args |
",closed,True,2016-08-29 18:01:51,2016-09-05 08:50:20
kompose,janetkuo,https://github.com/kubernetes/kompose/pull/128,https://api.github.com/repos/kubernetes/kompose/issues/128,Add more owners,,closed,True,2016-08-29 18:58:43,2016-10-15 20:33:47
kompose,kadel,https://github.com/kubernetes/kompose/issues/129,https://api.github.com/repos/kubernetes/kompose/issues/129,add tests when converting to separate files,"Right now we have tests that only test `kompose convert --stdout`  - https://github.com/skippbox/kompose/blob/36aa6d8c3b4abcfd3779a76309cc084fe2b09ba7/script/test/cmd/tests.sh#L22

We should have also tests that are testing `kompose convert` as there are some differences how we get output for stdout and files.

this should prevent regression such as https://github.com/skippbox/kompose/pull/126 happening again
",closed,False,2016-08-30 11:17:55,2018-08-03 09:20:29
kompose,kadel,https://github.com/kubernetes/kompose/issues/130,https://api.github.com/repos/kubernetes/kompose/issues/130,services should be first in List ,"When generating List, Services should be first in the List to make sure they are created fist.
",closed,False,2016-08-30 11:54:57,2016-09-05 08:49:37
kompose,surajssd,https://github.com/kubernetes/kompose/pull/131,https://api.github.com/repos/kubernetes/kompose/issues/131,merging containers in pods with volumes_from directive,"if docker-compose has a directive called `volumes_from` then user then those containers will be co-located in same pod under, k8s or openshift.
",closed,True,2016-08-30 12:37:13,2016-10-07 11:51:30
kompose,sebgoa,https://github.com/kubernetes/kompose/pull/132,https://api.github.com/repos/kubernetes/kompose/issues/132,Moves examples to docs/user-guide and adds basic roadmap to main readme,"A bit of tidy up:
- Moves all the examples from the main readme to a new doc user-guide.
- Changes a bit the readme to mention the API machinery SIG and a small roadmap.
",closed,True,2016-08-30 14:12:42,2016-08-30 15:34:49
kompose,rtnpro,https://github.com/kubernetes/kompose/issues/133,https://api.github.com/repos/kubernetes/kompose/issues/133,Validate/test artifacts generated by Kompose,"I think that we need to work on a set of scripts which could be extended by the users of kompose to validate their converted applications against real providers (kubernetes, openshift). This will help the developers to deploy their converted applications with confidence.
### Proposed features
- **Easy to write**: with a strong base test suite, it should be easy for people to write test cases for their apps
- **High level assertions**: assert pods, services, endpoints, expected response, etc.
- **CI**: continuous integration on community platforms like CentOS CI

I have done some related work for [Atomic App](https://github.com/projectatomic/atomicapp) here: https://github.com/projectatomic/atomicapp/pull/655, which allows writing test cases for individual apps very easy, in a few lines: https://github.com/rtnpro/atomicapp/blob/2e6e72c221856abbca34f7779af70de5f490de25/tests/system/test_openshift_provider.py

Thanks to a comprehensive base test suite to allow for high level assertions: https://github.com/rtnpro/atomicapp/blob/2e6e72c221856abbca34f7779af70de5f490de25/tests/system/base.py#L425

I hope to be able to translate my experience in implementing something similar for **kompose** to help the developers using **kompose** to ship their converted apps with confidence.
",closed,False,2016-08-31 08:29:25,2018-07-08 16:14:38
kompose,weitenghuang,https://github.com/kubernetes/kompose/issues/134,https://api.github.com/repos/kubernetes/kompose/issues/134,Should we use libcompose project.Context{} instead of docker.Context{}?,"I may miss something, but I don't understand why we will need to use `&docker.Context{}` when we load compose file in [loader pkg](https://github.com/skippbox/kompose/blob/master/pkg/loader/compose/compose.go#L95)
Isn't [`project.Context{}`](https://github.com/docker/libcompose/blob/master/project/context.go#L21) sufficient? The difference are:

``` go
    ClientFactory client.Factory
    ConfigDir     string
    ConfigFile    *configfile.ConfigFile
    AuthLookup    auth.Lookup
```
",closed,False,2016-08-31 13:13:36,2016-09-07 04:38:46
kompose,sebgoa,https://github.com/kubernetes/kompose/pull/135,https://api.github.com/repos/kubernetes/kompose/issues/135,New guestbook example,"this adds the guestbook example.

It is really sweet, it works with docker-compose (v2) on a Docker for Mac, and straight up with `kompose up` on minikube.
",closed,True,2016-08-31 13:37:15,2016-09-01 19:10:59
kompose,sebgoa,https://github.com/kubernetes/kompose/pull/136,https://api.github.com/repos/kubernetes/kompose/issues/136,improve messages of kompose up,"Just some small improvements of the stdout messages of `kompose up`
",closed,True,2016-08-31 13:56:10,2016-09-01 10:56:32
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/137,https://api.github.com/repos/kubernetes/kompose/issues/137,update README with guestbook sample app,"Add guestbook sample to README. 
/cc @runseb 
",closed,True,2016-09-02 03:54:41,2016-09-02 14:36:23
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/138,https://api.github.com/repos/kubernetes/kompose/issues/138,[PROPOSAL] Use -f as a global flag,"While testing kompose with the guestbook app (now in the examples folder). I realized that docker-compose uses the -f as a global flag and we use it as an optional flag of the subcommand.

I think we should try to mimic docker-compose as much as we can. To that extent, could we use the  -f as a global flag so that we can do this:

```
kompose -f ./examples/docker-guestbook.yml up
```

Instead of the current behavior

```
kompose up -f ./examples/docker-guestbook.yml
```
",closed,False,2016-09-02 08:37:40,2016-09-06 16:47:58
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/139,https://api.github.com/repos/kubernetes/kompose/issues/139,make --file as global flag,"Fix https://github.com/skippbox/kompose/issues/138

/cc @runseb 
",closed,True,2016-09-02 16:59:57,2016-09-06 16:47:58
kompose,kadel,https://github.com/kubernetes/kompose/issues/140,https://api.github.com/repos/kubernetes/kompose/issues/140,Creating Routes for Services ,"OpenShift can expose Services using Routes.

It would be nice if Kompose created default Routes for some services.

User can specify for which services Route should be created for example like this:

```
kompose convert --expose-service=<service name>
```

cc: @kbsingh
",closed,False,2016-09-02 17:17:13,2016-12-22 11:43:55
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/141,https://api.github.com/repos/kubernetes/kompose/issues/141,"update user guide: add `kompose up`, `kompose down`","small changes to user guide:
- kompose up, kompose down
",closed,True,2016-09-03 09:09:44,2016-09-05 07:09:56
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/142,https://api.github.com/repos/kubernetes/kompose/issues/142,Use libcompose project.Context{} instead of docker.Context{},"Fix #134
",closed,True,2016-09-04 16:14:03,2016-09-07 04:38:46
kompose,luebken,https://github.com/kubernetes/kompose/pull/143,https://api.github.com/repos/kubernetes/kompose/issues/143,Update README.md,"fixed link
",closed,True,2016-09-05 06:56:41,2016-09-05 07:10:10
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/144,https://api.github.com/repos/kubernetes/kompose/issues/144,Investigate how to use HCL/Nomad as input object,"In Nomad you define a containerized apps as a Job  in HCL:

https://www.nomadproject.io/docs/jobspec/index.html

we technically could convert from HCL jobs into deployments/services.
",closed,False,2016-09-05 12:40:21,2017-10-27 15:55:29
kompose,kadel,https://github.com/kubernetes/kompose/issues/145,https://api.github.com/repos/kubernetes/kompose/issues/145,Generate ImageStream for every image in DeploymentConfig,"We should generate ImageStream for every image that is used in DeploymentConfig, and use that ImageStream in DC. 
",closed,False,2016-09-05 14:22:04,2016-09-28 13:31:40
kompose,kadel,https://github.com/kubernetes/kompose/issues/146,https://api.github.com/repos/kubernetes/kompose/issues/146,Detecting exposed ports in images,"One of the issues I'm constantly facing when using Kompose with various docker-compose files is that they don't always specify `port`. With docker-compose this is not an issue but, for Kompose it is as we need to create service for every exposed port.

We should investigate if it is possible to get exposed ports from image metadata without downloading image itself. Or maybe if there is some other solution for this.
",closed,False,2016-09-07 08:03:48,2017-01-31 17:29:49
kompose,kbsingh,https://github.com/kubernetes/kompose/issues/147,https://api.github.com/repos/kubernetes/kompose/issues/147,RFE can we get Kompose to have a --redeploy option,"I would expect a --redeploy option that allows me to redeploy the entire app into openshift, without needing to instantiate a new project and do migrations ( as a way to keep the dev write code -> dev deploy code cycle going ).
",closed,False,2016-09-07 12:00:03,2018-03-14 11:54:16
kompose,sebgoa,https://github.com/kubernetes/kompose/pull/148,https://api.github.com/repos/kubernetes/kompose/issues/148,[WIP] Add Socks Shop example,"This is in progress.

Socks Shop is an example microservices applications that weave works uses to demo their products.
It is a fairly complete docker-compose file.

We should make sure kompose can convert it, it is a good example.
",closed,True,2016-09-08 13:50:33,2017-02-16 19:31:39
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/149,https://api.github.com/repos/kubernetes/kompose/issues/149,Ignoring network definitions,"Currently we ignore networks definition in services , but looks like we don't properly parse and ignore global networks definitions.

```
version: '2'

services:
...
networks:
  foobar:
  barfoo:
```

kompose seems to fail if these networks are defined. We need to successfully parse but give a warning.
",closed,False,2016-09-08 17:35:08,2016-10-10 10:19:38
kompose,kadel,https://github.com/kubernetes/kompose/issues/150,https://api.github.com/repos/kubernetes/kompose/issues/150,Persistent Volumes,"We should start thinking about proper volume implementation.

Kompose should create PersistentVolumeClaims and use those for pod volumes, instead of using EmptyDir.

Real persistent volumes might also solve `volumes_from` problem (#131)
",closed,False,2016-09-09 14:33:45,2016-10-15 20:33:48
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/151,https://api.github.com/repos/kubernetes/kompose/issues/151,compose2kube,"Somehow thought that compose2kube was not evolving , but it has some commits/dev in the past few months. It would be good to sync up.

https://github.com/kelseyhightower/compose2kube/issues/42
",closed,False,2016-09-11 14:25:24,2016-11-29 13:20:06
kompose,kadel,https://github.com/kubernetes/kompose/issues/152,https://api.github.com/repos/kubernetes/kompose/issues/152,`kompose up`  for OpenShift,,closed,False,2016-09-12 07:48:27,2016-09-12 07:49:26
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/153,https://api.github.com/repos/kubernetes/kompose/issues/153,--file for all kinds of input,"Playing with Kompose, I see it would be great to use `--file` flag for all kinds of input format such as `bundle` or `compose` like this. We can implement a format detection prior to loading the file into corresponding package.

``` console
$ kompose --file docker-compose.yml convert
$ kompose --file docker-bundle.dsb convert
```
",closed,False,2016-09-12 15:07:09,2016-09-26 21:42:45
kompose,kadel,https://github.com/kubernetes/kompose/issues/154,https://api.github.com/repos/kubernetes/kompose/issues/154,RFE: choosing Service type,"When I'm using `kompose up` sometimes I need to change Service type.
Right now we generate services that are `ClusterIP`, but sometimes I want to have service exposed to outside of the cluster, than I have to manually change type and set it to `LoadBalancer`.

It would be nice to have a way to specify type of services.
### Proposal:

Use image label in docker-compose.yml to set type of services.
By default we would still create `ClusterIP` services, but when there is a specific label we would create `LoadBalancer`

example:

``` yaml
version: ""2""
services:
    backend:
        image: backend
        ports:
                - 3000:3000
    frontend:
        image: frontend
        ports:
                - 8080:8080
        environment:
                API_URL: http://backend:3000/api
        labels:
                kompose.service.public: True
```

we could use labels to specify Ingress/Route https://github.com/skippbox/kompose/issues/140
",closed,False,2016-09-14 09:26:30,2017-01-03 12:02:15
kompose,surajssd,https://github.com/kubernetes/kompose/pull/155,https://api.github.com/repos/kubernetes/kompose/issues/155,preference file implementation,"now user can provider a prefernce file where s(he) can mention what controllers to generate and what provider to default to.
",closed,True,2016-09-15 09:51:40,2017-01-06 16:54:28
kompose,dustymabe,https://github.com/kubernetes/kompose/issues/156,https://api.github.com/repos/kubernetes/kompose/issues/156,integration with minikube/minishift,"It would be nice to somehow add some support for a ""local"" use case where a user doesn't yet have k8s running. We don't want the scope of Kompose to creep too much but it would be interesting to be able to integrate with some other tools to help bring up a cluster and actually bring up the app.

an example would be:

```
$ kompose up
We are going to create Kubernetes deployments and services for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead. 

--> We see you don't have a kube environment configured in ~/.kube/config, but minikube is installed. 
--> Would you like us to bring up a local cluster? (y/n) y
--> Bringing up local k8s cluster using minikube.....
--> Cluster up

INFO[0000] Successfully created service: web            
INFO[0000] Successfully created service: redis          
INFO[0000] Successfully created deployment: web         
INFO[0000] Successfully created deployment: redis       

Your application has been deployed to Kubernetes. You can run 'kubectl get deployment,svc,pods' for details.
```
",closed,False,2016-09-16 03:45:58,2017-07-12 17:49:50
kompose,sebgoa,https://github.com/kubernetes/kompose/pull/157,https://api.github.com/repos/kubernetes/kompose/issues/157,Handle Headless Services when no ports are present,"Addresses #146 
",closed,True,2016-09-16 12:17:58,2017-01-25 12:29:57
kompose,SerCeMan,https://github.com/kubernetes/kompose/issues/158,https://api.github.com/repos/kubernetes/kompose/issues/158,"Support for ""9995:9995/tcp""","WARN[0000] Unsupported key expose - ignoring  
WARN[0000] Unsupported key hostname - ignoring  
FATA[0000] ""pinpoint-collector"" failed to load ports from compose file: invalid container port ""9995:9995/tcp"" 
",closed,False,2016-09-19 11:23:02,2016-09-22 07:34:22
kompose,kadel,https://github.com/kubernetes/kompose/pull/159,https://api.github.com/repos/kubernetes/kompose/issues/159,Add port protocol handing for docker-compose.,"fixes #158 
",closed,True,2016-09-19 12:21:33,2016-09-22 07:34:22
kompose,kadel,https://github.com/kubernetes/kompose/pull/160,https://api.github.com/repos/kubernetes/kompose/issues/160,OpenShift - generate DeploymentConfig with ImageStream,"fixes #145 

TODO:
- [x] update tests
",closed,True,2016-09-20 11:50:51,2016-09-28 13:31:41
kompose,kadel,https://github.com/kubernetes/kompose/issues/161,https://api.github.com/repos/kubernetes/kompose/issues/161,Proposal: make --dab/--bundle global flag,"Currently it is kind of strange to do `kompose up --dab app.dab`  but for docker-compose you do `kompose -f compose.yml up`

Wouldn't it make more sense to move  `--dab` flag to same level as `--file`?

It would look like this:

```
kompose --dab app.dab up
kompose --dab app.dab  convert
```
",closed,False,2016-09-20 13:07:20,2016-09-26 09:19:43
kompose,kadel,https://github.com/kubernetes/kompose/issues/162,https://api.github.com/repos/kubernetes/kompose/issues/162,kompose up always deploys to default namespace,"I have created new namespase and set it as default namespace for `kubectl`.
When I do `kubectl create ...` it creates object in that namespace.

But when I do `kompose up` it still deploys to `default` namespace.
",closed,False,2016-09-20 15:02:22,2016-09-26 09:17:24
kompose,surajssd,https://github.com/kubernetes/kompose/issues/163,https://api.github.com/repos/kubernetes/kompose/issues/163,Add health checks,"Automatically generate readiness and liveliness probes!
",closed,False,2016-09-22 10:06:42,2017-08-29 20:01:54
kompose,kadel,https://github.com/kubernetes/kompose/pull/164,https://api.github.com/repos/kubernetes/kompose/issues/164,kompose up - Get namespace from kubeconfig,"fixes #162 
",closed,True,2016-09-22 11:09:09,2016-09-26 09:17:24
kompose,ashetty1,https://github.com/kubernetes/kompose/issues/165,https://api.github.com/repos/kubernetes/kompose/issues/165,time-out errors while deleting deployments on openshift,"I see time-out errors while deleting deployments. This is with openshift. Could someone tell me why I am seeing these warning messages when the deployments seem to be successfully deleted. 

```
$ kompose --file docker-guestbook.yml down
INFO[0000] Successfully deleted service: frontend       
WARN[0060] Can't delete deployment: frontend due to 'timed out waiting for the condition' 
INFO[0060] Successfully deleted service: redis-master   
WARN[0120] Can't delete deployment: redis-master due to 'timed out waiting for the condition' 
INFO[0120] Successfully deleted service: redis-slave    
WARN[0180] Can't delete deployment: redis-slave due to 'timed out waiting for the condition'
```
",closed,False,2016-09-22 12:31:16,2016-10-24 07:43:45
kompose,kadel,https://github.com/kubernetes/kompose/pull/166,https://api.github.com/repos/kubernetes/kompose/issues/166,Prepare up/down for other providers,"Small refactoring of Up and Down code to make space for implementing up/down with other providers (OpenShift).
It moves some provider/transfomer specific functionality (like creating client) to appropriate transformer package. It makes app.go more generic at this will make adding providers little bit easier.

related to #40
",closed,True,2016-09-23 13:00:19,2016-09-28 13:32:06
kompose,kadel,https://github.com/kubernetes/kompose/issues/167,https://api.github.com/repos/kubernetes/kompose/issues/167,Add tests converting dab files,"there is no test in [test.sh](https://github.com/skippbox/kompose/blob/master/script/test/cmd/tests.sh) that converts dab file.
",closed,False,2016-09-23 13:07:21,2017-07-12 17:49:50
kompose,kadel,https://github.com/kubernetes/kompose/pull/168,https://api.github.com/repos/kubernetes/kompose/issues/168,Make --dab/--bundle global flag,"closes #161 
",closed,True,2016-09-23 13:15:40,2016-09-26 09:19:43
kompose,dustymabe,https://github.com/kubernetes/kompose/issues/169,https://api.github.com/repos/kubernetes/kompose/issues/169,suggestion: let `-` denote stdout for -o option,"specifying `-` to the `-o` option creates a file named `-`. Could we let this actually mean stdout like it does for so many other applications. I know there is a `--stdout` flag but I think some people will probably not read that far (as I didn't) and go with `-o -` instead. 

```
$ ../kompose -f docker-compose.yml convert -o -
$ ls -l
total 28
-rw-rw-r--. 1 vagrant vagrant 2832 Sep 25 15:56 -
-rw-rw-r--. 1 vagrant vagrant  538 Sep  6 21:42 docker-compose-bundle.dsb
-rw-rw-r--. 1 vagrant vagrant  132 Sep  6 21:42 docker-compose.yml
-rw-rw-r--. 1 vagrant vagrant 1729 Sep  6 21:42 docker-gitlab.yml
-rw-rw-r--. 1 vagrant vagrant  379 Sep  6 21:42 docker-guestbook.yml
-rw-rw-r--. 1 vagrant vagrant 1486 Sep 25 15:54 docker-voting-bundle.dsb
-rw-rw-r--. 1 vagrant vagrant  485 Sep 25 15:54 docker-voting.yml
$ ../kompose --version
kompose version 0.1.0 (fa46376)
```
",closed,False,2016-09-25 16:01:25,2016-09-27 09:18:21
kompose,dustymabe,https://github.com/kubernetes/kompose/issues/170,https://api.github.com/repos/kubernetes/kompose/issues/170,kompose --version - print out dev tag ,"right now if you run `kompose --version` it will print out:

```
$ ../kompose --version
kompose version 0.1.0 (fa46376)
```

which is a bit misleading because tag `0.1.0` does not correlate to `fa46376` but rather to `8227684`. Could we have kompose print out a 'dev' tag or something when on a commit that doesn't have an associated tag? 
",closed,False,2016-09-25 16:19:21,2016-10-07 21:55:58
kompose,dustymabe,https://github.com/kubernetes/kompose/pull/171,https://api.github.com/repos/kubernetes/kompose/issues/171,remove executable perms from docs,,closed,True,2016-09-26 19:17:04,2016-09-26 19:33:55
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/172,https://api.github.com/repos/kubernetes/kompose/issues/172,support -o - to stdout,"fix #169
",closed,True,2016-09-26 21:28:25,2016-09-27 09:17:44
kompose,raffaelespazzoli,https://github.com/kubernetes/kompose/issues/173,https://api.github.com/repos/kubernetes/kompose/issues/173,go panic when converting hygieia docker-compose,"the file can be found here:
https://raw.githubusercontent.com/capitalone/Hygieia/master/docker-compose.yml
",closed,False,2016-09-27 01:56:18,2016-10-22 14:20:24
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/174,https://api.github.com/repos/kubernetes/kompose/issues/174,upgrade libcompose revision,"We haven't upgraded it for a little bit long time. Due to #149 and #173 , we should consider to do that.
",closed,False,2016-09-27 10:09:49,2016-10-10 15:06:59
kompose,kadel,https://github.com/kubernetes/kompose/issues/175,https://api.github.com/repos/kubernetes/kompose/issues/175,[EPIC] Use kubernetes/client-go,"It should be possible to use  [kubernetes/client-go](https://github.com/kubernetes/client-go) instead of digging through whole k8s.io/kubernetes.

As a result we might get smaller dependencies and it could  solve whole problem of conflicting kubernetes/kubernetes vs. openshift/kubernetes see: https://github.com/skippbox/kompose/pull/157#issuecomment-249858757
",closed,False,2016-09-27 14:07:07,2019-02-07 16:45:21
kompose,surajssd,https://github.com/kubernetes/kompose/issues/176,https://api.github.com/repos/kubernetes/kompose/issues/176,docker-compose :Z not supported in volume mounts,"Trying to convert docker-compose.yml file, kompose cannot parse a volume format that looks like ""HOSTPATH:CONTAINERPATH:Z"".

> To change the label in the container context, you can add either of two suffixes :z or :Z to the volume mount. These suffixes tell Docker to relabel file objects on the shared volumes. The z option tells Docker that two containers share the volume content. As a result, Docker labels the content with a shared content label. Shared volume labels allow all containers to read/write content. The Z option tells Docker to label the content with a private unshared label. Only the current container can use a private volume.

Above info source: https://docs.docker.com/engine/reference/commandline/run/#/mount-volumes-from-container-volumes-from
- docker-compose.yml can be found here: https://pagure.io/webauthinfra/raw/master/f/docker-compose.yml
- repo link of above docker-compose.yml https://pagure.io/webauthinfra (you can git clone on https://pagure.io/webauthinfra)

When converting kompose gives warnings like:

``` bash
$ kompose convert --stdout -y
WARN[0000] Unsupported key build - ignoring             
WARN[0000] Unsupported key domainname - ignoring        
WARN[0000] Unsupported key hostname - ignoring          
WARN[0000] Unsupported key stop_signal - ignoring       
WARN[0000] [www] Service cannot be created because of missing port. 
WARN[0000] Failed to configure container volume: invalid volume format: ./www-data:/data:Z
WARN[0000] Volume mount on the host ""/sys/fs/cgroup"" isn't supported - ignoring path on the host 
WARN[0000] [app] Service cannot be created because of missing port. 
WARN[0000] Failed to configure container volume: invalid volume format: ./app-data:/data:Z 
WARN[0000] Failed to configure container volume: invalid volume format: ./client-data:/data:Z 
WARN[0000] Volume mount on the host ""/sys/fs/cgroup"" isn't supported - ignoring path on the host 
WARN[0000] [ipa] Service cannot be created because of missing port. 
WARN[0000] Failed to configure container volume: invalid volume format: ./ipa-data:/data:Z 
WARN[0000] Volume mount on the host ""/sys/fs/cgroup"" isn't supported - ignoring path on the host 
apiVersion: v1
items:
- apiVersion: v1
[SNIP]
```

so warnings that show `:Z` is not supported are 

``` bash
WARN[0000] Failed to configure container volume: invalid volume format: ./www-data:/data:Z
```

Found this issue from https://github.com/openshift/origin/issues/10925
",closed,False,2016-09-28 07:11:24,2017-01-25 12:56:41
kompose,surajssd,https://github.com/kubernetes/kompose/issues/177,https://api.github.com/repos/kubernetes/kompose/issues/177,Fixtures directory has README.md that are incomplete or inconsistent,"The test scripts from fixtures has README.md which has info of how to run those examples with `docker-compose` we can add info of using it with `kompose`.
- https://github.com/skippbox/kompose/tree/master/script/test/fixtures/etherpad
- https://github.com/skippbox/kompose/tree/master/script/test/fixtures/gitlab
- https://github.com/skippbox/kompose/tree/master/script/test/fixtures/ngnix-node-redis

These fixtures directories have no README.md at all.
- https://github.com/skippbox/kompose/tree/master/script/test/fixtures/entrypoint-command
- https://github.com/skippbox/kompose/tree/master/script/test/fixtures/ports-with-proto
",closed,False,2016-09-28 11:41:40,2017-01-04 20:21:29
kompose,cdrage,https://github.com/kubernetes/kompose/pull/178,https://api.github.com/repos/kubernetes/kompose/issues/178,Add .gitignore for Go files + compiled Kompose file,"Adds .gitignore for common Go-related files as well as ignoring the
binary generate via go build and/or `make binary`.
",closed,True,2016-09-29 17:20:59,2017-03-30 13:08:06
kompose,surajssd,https://github.com/kubernetes/kompose/issues/179,https://api.github.com/repos/kubernetes/kompose/issues/179,`--provider` flag for kompose,"The way, ""what artifacts to generate?"" is not handled consistently.
Having a provider flag will enable the further implementation of pref file, so that the way artifacts generation is handled is unified.

`convert` ->  

``` bash
validate: --provider and individual flags(--ds, --rs) cannot be together

if --provider given
    if provider is openshift
        generate dc, imagestreams, svc, routes, pvc(if needed)
    else if provider is foo
        generate x, y, z
    else
        default to k8s
        generate deployments, svc, pvc(if needed)

else if individual flags are given generate those artifacts
    deployments, svc, daemonsets, replicasets, rc can be generated for both providers
    but imagestreams, routes can be created for openshift only


else if --provider is not given and individual flags are not given
    if pref file given read artifacts from there
    else
        default to k8s
        generate deployments, svc, pvc(if needed)
```

`up` ->

individual flags not supported

``` bash
if --provider given
    if provider is openshift
        generate dc, imagestreams, svc, routes, pvc(if needed)
    else if provider is foo
        generate x, y, z
    else
        default to k8s
        generate deployments, svc, pvc(if needed)
else if --provider is not given
    if pref file given read artifacts from there
    else
        default to k8s
        generate deployments, svc, pvc(if needed)
```

Closing this unblocks #39
",closed,False,2016-09-30 12:38:47,2016-10-06 19:33:30
kompose,cab105,https://github.com/kubernetes/kompose/pull/180,https://api.github.com/repos/kubernetes/kompose/issues/180,Changed version tag to reflect the tip of the branch,,closed,True,2016-09-30 23:07:22,2016-10-02 23:03:05
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/181,https://api.github.com/repos/kubernetes/kompose/issues/181,go 1.5 not building,"just to confirm, we are now using go 1.6, and 1.5 does not work anymore.

travis runs 1.6

we need to update the readme
",closed,False,2016-10-02 10:19:51,2016-10-05 19:34:57
kompose,surajssd,https://github.com/kubernetes/kompose/pull/182,https://api.github.com/repos/kubernetes/kompose/issues/182,--provider global flag for kompose,"Now a user can select a provider using global flag `--provider=openshift` to select openshift provider
or `--provider-kubernetes` to select kubernetes provider if nothing is provided kubernetes is the default provider.

Fixes #179
",closed,True,2016-10-03 11:20:28,2016-10-07 04:25:24
kompose,cdrage,https://github.com/kubernetes/kompose/pull/183,https://api.github.com/repos/kubernetes/kompose/issues/183,Update README + Docker Compose Bundle references,"This commit updates a few sentences in the README that I thought would
need improving.

Bundles now end with the .dab extension and are named ""Distributed
Application Bundles"" now. I've updated the README as well as the example
accordingly.
",closed,True,2016-10-03 14:41:40,2016-10-05 20:15:14
kompose,cdrage,https://github.com/kubernetes/kompose/pull/184,https://api.github.com/repos/kubernetes/kompose/issues/184,Update .dsb references to .dab,"Updates the new file extension for distributed application bundles.
",closed,True,2016-10-03 18:53:13,2017-03-30 13:09:50
kompose,cdrage,https://github.com/kubernetes/kompose/issues/185,https://api.github.com/repos/kubernetes/kompose/issues/185,Documentation site,"Hey all,

In preparation for Kubecon next month, I'd like to add a documentation site for people to browse for easier viewing.

An outside contributor helped me recently created this via `Sphinx` documentation generation https://cdrage.github.io/kubeshift/

Which can be configured to either manually be generated each-time you want to update the site, or updated on each push to master via travis-ci.

Would this be something that skippbox is interested in?

The documentation would be generated to a `gh-pages` branch within this repo. It would be available @ https://skippbox.github.io/kompose
",closed,False,2016-10-04 19:12:24,2016-10-28 15:24:20
kompose,surajssd,https://github.com/kubernetes/kompose/pull/186,https://api.github.com/repos/kubernetes/kompose/issues/186,Create PVC object for docker-compose volumes,"Instead of creating emptydir, create PersistentVolumeClaim for docker-compose volumes by default

Fixes #150
",closed,True,2016-10-05 06:52:23,2016-10-06 21:51:14
kompose,dustymabe,https://github.com/kubernetes/kompose/issues/187,https://api.github.com/repos/kubernetes/kompose/issues/187,come up with a release schedule,"It would be nice if we can come up with a release schedule so that we can get new features out to users and also give them some baseline to report issues against. Could we possibly come up with a release strategy (time based/feature based, etc) for the project?
",closed,False,2016-10-05 20:21:16,2016-10-05 20:51:44
kompose,sharpner,https://github.com/kubernetes/kompose/pull/188,https://api.github.com/repos/kubernetes/kompose/issues/188,fix param order in readme,"tried the latest stable (mac os x) and I had to use `kompose convert docker-compose.yml`
",closed,True,2016-10-06 11:36:27,2016-10-07 07:17:29
kompose,procrypt,https://github.com/kubernetes/kompose/pull/189,https://api.github.com/repos/kubernetes/kompose/issues/189,Configure service types,"Fix #154 
cc @surajssd @kadel 
",closed,True,2016-10-07 09:30:37,2016-10-27 11:28:20
kompose,surajssd,https://github.com/kubernetes/kompose/pull/190,https://api.github.com/repos/kubernetes/kompose/issues/190,support for volumes_from docker-compose construct,"Now a user can provide `volumes_from` to share `volumes` from other service so here the PVC created for that service will be shared by service calling `volumes_from`.
",closed,True,2016-10-07 11:50:04,2016-10-23 16:10:14
kompose,cdrage,https://github.com/kubernetes/kompose/pull/191,https://api.github.com/repos/kubernetes/kompose/issues/191,"Add ""mkdocs"" generation for Kompose site","This commit adds ""mkdocs"" generation to push markdown documenation to
the Kompose website.

On each push to master, new documentation is automatically generated and
pushed to ""gh-pages""
",closed,True,2016-10-07 16:46:27,2016-10-25 13:47:29
kompose,dustymabe,https://github.com/kubernetes/kompose/issues/192,https://api.github.com/repos/kubernetes/kompose/issues/192,establish release process - protect master branch,"Hey hey!

I went to create the new rpm today for kompose 0.1.1 and see that the history is lost for the tag 0.1.1 from the master branch. According to the [release page](https://github.com/skippbox/kompose/releases/tag/v0.1.1) it was tagged from 534fa9b but that commit does not show up in the history for the master branch. I believe that means that the master branch was force pushed to in order to overwrite history. 

Can we possibly do the following: 
- establish a methodical release process to follow for a release
- protect the master branch from any force pushes ever (you can configure this in the settings in github so that it protects history from getting lost)
- always do work through pull requests and require at least one maintainer +1 before doing a merge
",closed,False,2016-10-07 19:50:33,2016-11-29 13:33:25
kompose,dustymabe,https://github.com/kubernetes/kompose/issues/193,https://api.github.com/repos/kubernetes/kompose/issues/193,error on extraneous/unexpected cli input,"we should probably error out if we get extra arguments/input on the CLI that we don't expect or understand. One example of this is when I was trying to start the gitlab example but I was doing it wrong:

```
[vagrant@f24 examples (upstreammaster=)]$ ../kompose --version
kompose version 0.1.1 (5a37bf0)
[vagrant@f24 examples (upstreammaster=)]$ ../kompose up docker-gitlab.yml 
We are going to create Kubernetes deployments and services for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead. 

INFO[0000] Successfully created service: web            
INFO[0000] Successfully created service: redis          
INFO[0000] Successfully created deployment: web         
INFO[0000] Successfully created deployment: redis       

Your application has been deployed to Kubernetes. You can run 'kubectl get deployment,svc,pods' for details.
```

So you can see I was trying to run gitlab, but I didn't specify things like I should have: `kompose -f docker-gitlab.yml up`. This means that it actually ignored the `docker-gitlab.yml` that I passed on the command line and used the default `docker-compose.yml` instead and it looks like the application is brought up (if you aren't paying attention too close). 

Now if instead it would error out when it detected extraneous input then I would have found out what was wrong sooner than later.
",closed,False,2016-10-07 21:59:52,2016-10-26 12:37:08
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/194,https://api.github.com/repos/kubernetes/kompose/issues/194,script/godep-restore.sh doesn't seem to work correctly,"I tried running `script/godep-restore.sh` in a fresh $GOPATH, and then removed Godeps and vendor folders and then running `godep save ./...` in order to save them again. The new born Godeps.json looks quite different with the current one we have in upstream.
",closed,False,2016-10-08 13:30:45,2016-10-10 10:20:58
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/195,https://api.github.com/repos/kubernetes/kompose/issues/195,upgrade libcompose,"I made an upgrade libcompose to its HEAD at https://github.com/docker/libcompose/commit/fbdac0a6a80837c63eb6c8f43514f7bb3f32df6c.
- Tested with all test cases we have `make test-cmd`.
- Need to enable CGO as required by vendor/github.com/opencontainers/runc/libcontainer/system/sysconfig.go
- Scanned vendor/ and removed all unused packages.
- Many packages also being upgraded accordingly as they harmonize with libcompose, but do not conflict with kompose. Such as:
  - github.com/docker/docker
  - github.com/docker/distribution
  - github.com/opencontainers/runc
  - etc

Fixed #149, #92, #80 
",closed,True,2016-10-09 00:18:17,2016-10-10 10:19:38
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/196,https://api.github.com/repos/kubernetes/kompose/issues/196,Parsing environment variables with `:`,"libcompose could support both separate characters `:` and `=` in envvar because docker config object accepted them. However, kompose doesn't rely on docker but libcompose config object. Thus, kompose can only support `=` at this moment.

Related issue: #173. In the [hygieia](https://raw.githubusercontent.com/capitalone/Hygieia/master/docker-compose.yml) example, there are envvars with `:` and kompose getting panic.
",closed,False,2016-10-09 00:27:40,2016-10-21 13:06:41
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/197,https://api.github.com/repos/kubernetes/kompose/issues/197,support both : and = as compose envvar separators,"fix #196 #173 
",closed,True,2016-10-10 15:43:38,2016-10-21 13:06:42
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/198,https://api.github.com/repos/kubernetes/kompose/issues/198,wrong global --bundle/--dab input,"``` console
$ kompose --bundle docker-voting-bundle.dsb convert
FATA[0000] Error: 'compose' file and 'dab' file cannot be specified at the same time
```

Figured out `opt.InputFile` received `docker-voting-bundle.dsb` instead of `docker-compose.yml` then the [if clause](https://github.com/ngtuna/kompose/blob/master/cli/app/app.go#L74) returned true.
",closed,False,2016-10-10 16:14:27,2016-10-22 14:19:02
kompose,kadel,https://github.com/kubernetes/kompose/pull/199,https://api.github.com/repos/kubernetes/kompose/issues/199,fix golang.org/x/net vendoring,"fixes golang.org/x/net vendoring
it  was vendored with reference to `2beffdc2e92c8a3027590f898fe88f69af48a3f8`
but this is not a reference to golang.org/x/net instead it is reference in fork https://github.com/tonistiigi/net.git

This was caused by libcompose.  (https://github.com/docker/libcompose/blob/master/hack/vendor.sh#L23)

cc: @ngtuna 
",closed,True,2016-10-11 08:59:27,2016-10-11 11:58:20
kompose,kadel,https://github.com/kubernetes/kompose/pull/200,https://api.github.com/repos/kubernetes/kompose/issues/200,Kompose up for OpenShift,"`kompose --provider openshift up`
This has similar behavior as `kompose up` for k8s. It assumes that you already have `.kube/config` setup (you are logged using `oc login`). 
It converts docker-compose.yaml to DeploymentConfigs, Services and ImageStreams, those objects are then deployed to OpenShift cluster.

This PR also updates bunch of vendored libs.
Mainly  OpenShift 1.4.0-alpha.0 this is required to avoid collisions between Docker version that is required by OpenShift and version that Kompose requires for bundle support.
Upgrading OpenShift forced updates for a lots of other libs. Kubernetes is now in version v1.4.0-beta.3
#40

~~requires #199~~ - merged
#### Issues:

~~Can't update vendored libs :-(~~

~~godep save ./...
godep: Package (github.com/docker/docker/pkg/term/winconsole) not found~~

Solved in https://github.com/skippbox/kompose/pull/200/commits/2273436ed77e55b3632d340436e7792e6485576e - upgrading OpenShift to 1.4.0-apha.0 this version is using docker version that is compatible version that we require for bundle support.

~~is still not working (fails while creating deployment) :-(~~

All issues are solved, and it is ready for review
",closed,True,2016-10-11 09:23:28,2016-10-18 17:26:27
kompose,sebgoa,https://github.com/kubernetes/kompose/pull/201,https://api.github.com/repos/kubernetes/kompose/issues/201,update README with SIG-APPS and Champion,"some clean up for incubation
",closed,True,2016-10-12 06:58:12,2016-10-12 16:04:09
kompose,beravelli,https://github.com/kubernetes/kompose/issues/202,https://api.github.com/repos/kubernetes/kompose/issues/202,panic: runtime error: invalid memory address or nil pointer dereference,"I am facing this issue when converting the docker-compose.yml file . It is a straighforward compose file with couple of volume mounts and no env variables.

Kompose version : kompose version 0.1.0 (8227684)
## Error:

panic: runtime error: invalid memory address or nil pointer dereference
[signal 0xb code=0x1 addr=0x18 pc=0xbbff5c]

goroutine 1 [running]:
panic(0x15a9b60, 0xc82000e0e0)
        /usr/local/go/src/runtime/panic.go:481 +0x3e6
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project.(_Project).handleNetworkConfig(0xc8201762a0)
        /home/tuna/workspace/gocode-kompose/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project/project.go:254 +0x26c
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project.(_Project).load(0xc8201762a0, 0xc820355c40, 0x12, 0xc8201e4800, 0x4c3, 0x6c3, 0x0, 0x0)
        /home/tuna/workspace/gocode-kompose/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project/project.go:209 +0x638
github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project.(_Project).Parse(0xc8201762a0, 0x0, 0x0)
        /home/tuna/workspace/gocode-kompose/src/github.com/skippbox/kompose/vendor/github.com/docker/libcompose/project/project.go:87 +0x335
github.com/skippbox/kompose/pkg/loader/compose.(_Compose).LoadFile(0x22db590, 0xc820355c40, 0x12, 0x0)
        /home/tuna/workspace/gocode-kompose/src/github.com/skippbox/kompose/pkg/loader/compose/compose.go:121 +0x52f
github.com/skippbox/kompose/cli/app.Convert(0xc8202e1400)
        /home/tuna/workspace/gocode-kompose/src/github.com/skippbox/kompose/cli/app/app.go:145 +0x4e8
github.com/skippbox/kompose/cli/command.ConvertCommand.func1(0xc8202e1400)
        /home/tuna/workspace/gocode-kompose/src/github.com/skippbox/kompose/cli/command/command.go:32 +0x21
github.com/skippbox/kompose/vendor/github.com/urfave/cli.Command.Run(0x1811338, 0x7, 0x0, 0x0, 0x0, 0x0, 0x0, 0xc8203947d0, 0x4b, 0x0, ...)
        /home/tuna/workspace/gocode-kompose/src/github.com/skippbox/kompose/vendor/github.com/urfave/cli/command.go:179 +0x1399
github.com/skippbox/kompose/vendor/github.com/urfave/cli.(*App).Run(0xc8203c2840, 0xc82000a140, 0x4, 0x4, 0x0, 0x0)
        /home/tuna/workspace/gocode-kompose/src/github.com/skippbox/kompose/vendor/github.com/urfave/cli/app.go:196 +0x137c
main.main()
        /home/tuna/workspace/gocode-kompose/src/github.com/skippbox/kompose/cli/main/main.go:47 +0x33b
",closed,False,2016-10-12 14:12:59,2016-10-22 14:21:28
kompose,cdrage,https://github.com/kubernetes/kompose/pull/203,https://api.github.com/repos/kubernetes/kompose/issues/203,Update to 0.1.1 in README,,closed,True,2016-10-12 15:24:15,2017-03-30 13:09:45
kompose,surajssd,https://github.com/kubernetes/kompose/pull/204,https://api.github.com/repos/kubernetes/kompose/issues/204,Meeting info to README.md,"added link to agenda doc and meeting bluejeans link
",closed,True,2016-10-12 16:09:47,2016-10-12 17:39:34
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/205,https://api.github.com/repos/kubernetes/kompose/issues/205,Add tests based on current issues,"That fail due to libcompose v2 support...

Add wiki page and keep track of tests.
",closed,False,2016-10-12 17:29:16,2017-03-27 09:15:17
kompose,rtnpro,https://github.com/kubernetes/kompose/pull/206,https://api.github.com/repos/kubernetes/kompose/issues/206,Generate buildconfig for Openshift,"This implements support for generating buildconfig for services on Openshift.
",closed,True,2016-10-13 07:45:07,2016-12-28 15:38:39
kompose,surajssd,https://github.com/kubernetes/kompose/issues/207,https://api.github.com/repos/kubernetes/kompose/issues/207,compose constructs we support are still there in unsupportedKey,"We do support things like `CPUSet`, `CPUShares`, etc. as seen in code [here](https://github.com/skippbox/kompose/blob/master/pkg/loader/compose/compose.go#L187) but we still have them in [`unsupportedKey` map](https://github.com/skippbox/kompose/blob/master/pkg/kobject/kobject.go#L29). So this is inconsistency, which should be fixed.
",closed,False,2016-10-13 09:44:27,2016-10-25 13:29:31
kompose,kadel,https://github.com/kubernetes/kompose/issues/208,https://api.github.com/repos/kubernetes/kompose/issues/208,kompose down for OpenShift,"#200 implements only `up` we also need `down` for OpenShift
",closed,False,2016-10-13 13:43:46,2016-12-15 06:23:38
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/209,https://api.github.com/repos/kubernetes/kompose/issues/209,being able to store artifacts separately in a specific directory,"Hi,

It would be great if I could store the generated provider artifacts to a specific directory other than the current working directory without having to bundling them into a single file (which `kompose convert -o ...`  currently does.

So, when `kompose convert -o artifacts` is run, if `artifacts` is a directory, then kompose should store all the resulting files inside it, and if it's not, then it should store the artifacts in a single file.

Thoughts?
",closed,False,2016-10-13 18:16:21,2016-12-21 12:52:46
kompose,procrypt,https://github.com/kubernetes/kompose/pull/210,https://api.github.com/repos/kubernetes/kompose/issues/210,Remove unknown args,"Fix #193 
CC @kadel @dustymabe @sebgoa @surajssd 
",closed,True,2016-10-17 06:18:29,2016-10-17 09:23:53
kompose,procrypt,https://github.com/kubernetes/kompose/pull/211,https://api.github.com/repos/kubernetes/kompose/issues/211,remove unknown args and added tests,"Fix #193 
cc @kadel @dustymabe @sebgoa @surajssd
",closed,True,2016-10-17 09:37:48,2016-10-26 15:41:26
kompose,kadel,https://github.com/kubernetes/kompose/pull/212,https://api.github.com/repos/kubernetes/kompose/issues/212,Update imports to reflect move to kubernetes-incubator,,closed,True,2016-10-17 10:36:37,2016-10-17 17:20:06
kompose,sebgoa,https://github.com/kubernetes/kompose/pull/213,https://api.github.com/repos/kubernetes/kompose/issues/213,remove skippbox reference in usage,"just a small tweak to the usage due to the move.
",closed,True,2016-10-17 17:24:28,2016-10-19 14:55:31
kompose,cab105,https://github.com/kubernetes/kompose/pull/214,https://api.github.com/repos/kubernetes/kompose/issues/214,wrong global --bundle/--dab input,"An immediate fix to resolve the use of --bundle/--dab in order to resume work with adding test support for bundles.
",closed,True,2016-10-17 22:52:47,2016-10-19 16:55:46
kompose,kadel,https://github.com/kubernetes/kompose/issues/215,https://api.github.com/repos/kubernetes/kompose/issues/215,Add `go vet`,"Tests that are run in travis-ci for every PR should include `go vet` to check for suspicious constructs and formatting errors.

we can create `make test` target that will run all tests (vet,unit,cmd)

current state:

```
$ for f in `find . -path ./vendor -prune -o -name '*.go' -print `; do go vet $f; done
cli/app/app_test.go:109: missing argument for Errorf(""%s""): format reads arg 3, have only 2 args
cli/app/app_test.go:112: missing argument for Errorf(""%s""): format reads arg 3, have only 2 args
cli/app/app_test.go:115: missing argument for Errorf(""%s""): format reads arg 3, have only 2 args
cli/app/app_test.go:118: missing argument for Errorf(""%s""): format reads arg 3, have only 2 args
pkg/loader/bundle/bundle.go:109: no formatting directive in Fatalf call
pkg/loader/bundle/bundle.go:114: no formatting directive in Fatalf call
```
",closed,False,2016-10-18 15:50:26,2016-11-25 08:49:16
kompose,ericchiang,https://github.com/kubernetes/kompose/issues/216,https://api.github.com/repos/kubernetes/kompose/issues/216,Make go get'able (or at least go installable),"It's odd that kompose's main package is named `main` rather than `kompose` like most Go projects Additionally, since there's no top level package it seems like it'd be reasonable to enable `go get github.com/kubernetes-incubator/kompose` to work.

Additionally there's a dependence on `-tags experimental` due to a docker dependency[0]. Removing that import here[1], (say by copying the structs) would also break the dependency on github.com/docker/docker and remove 19 direct imports from vendor.

```
$ cat Godeps/Godeps.json | jq .Deps[].ImportPath | grep '""github.com/docker/docker'
""github.com/docker/docker/api/types""
""github.com/docker/docker/api/types/blkiodev""
""github.com/docker/docker/api/types/container""
""github.com/docker/docker/api/types/filters""
""github.com/docker/docker/api/types/mount""
""github.com/docker/docker/api/types/network""
""github.com/docker/docker/api/types/registry""
""github.com/docker/docker/api/types/strslice""
""github.com/docker/docker/api/types/swarm""
""github.com/docker/docker/api/types/versions""
""github.com/docker/docker/cli/command/bundlefile""
""github.com/docker/docker/opts""
""github.com/docker/docker/pkg/mount""
""github.com/docker/docker/pkg/signal""
""github.com/docker/docker/pkg/system""
""github.com/docker/docker/pkg/term""
""github.com/docker/docker/pkg/term/windows""
""github.com/docker/docker/pkg/urlutil""
""github.com/docker/docker/runconfig/opts""
```

[0] https://github.com/docker/docker/blob/15ea28f6db7339f8a44078f3ef70484c96eebce7/cli/command/bundlefile/bundlefile.go
[1] https://github.com/kubernetes-incubator/kompose/blob/d9899b788d0e2051221e1b993f5a48268f9f3758/pkg/loader/bundle/bundle.go#L26
",closed,False,2016-10-18 16:12:13,2016-10-30 15:55:09
kompose,dustymabe,https://github.com/kubernetes/kompose/pull/217,https://api.github.com/repos/kubernetes/kompose/issues/217,example: add mlbparks example,,closed,True,2016-10-18 21:09:54,2016-11-21 17:14:43
kompose,kadel,https://github.com/kubernetes/kompose/issues/218,https://api.github.com/repos/kubernetes/kompose/issues/218,PVCs are not created when calling `kompose up`,,closed,False,2016-10-19 11:12:18,2016-10-22 04:03:53
kompose,rothgar,https://github.com/kubernetes/kompose/issues/219,https://api.github.com/repos/kubernetes/kompose/issues/219,Support converting OpenShift json <-> Kubernetes json/yaml,"As a user I'd like to use OpenShift json files or Kubernetes yaml files to convert manifests from one environment to the other. This seems like it would be easier to support than docker-compose files but currently is a manual process (as far as I've found).

Maybe I missed an existing issue or PR (I searched) but this would be a great addition for both communities.
",closed,False,2016-10-19 15:53:04,2018-03-06 13:41:25
kompose,surajssd,https://github.com/kubernetes/kompose/pull/220,https://api.github.com/repos/kubernetes/kompose/issues/220,kompose up/down create and delete pvc,"pvc will be parsed when passing objects via kube client to create various objects. Also while deleting pvc will be deleted.

Fixes #218
",closed,True,2016-10-19 16:37:48,2016-10-22 04:03:53
kompose,cab105,https://github.com/kubernetes/kompose/pull/221,https://api.github.com/repos/kubernetes/kompose/issues/221,wrong global --bundle/--dab input #198,"Modified email address.
",closed,True,2016-10-19 17:11:14,2016-10-20 16:07:43
kompose,ericchiang,https://github.com/kubernetes/kompose/issues/222,https://api.github.com/repos/kubernetes/kompose/issues/222,Switch slack channel to official kubernetes slack,,closed,False,2016-10-19 23:10:12,2017-07-12 17:49:50
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/223,https://api.github.com/repos/kubernetes/kompose/issues/223,Switch Copyright,"Currently still with Skippbox, I am checking a few things with CNCF to see if we move to ""Kubernetes Authors""
",closed,False,2016-10-20 08:02:55,2016-11-01 14:12:12
kompose,surajssd,https://github.com/kubernetes/kompose/pull/224,https://api.github.com/repos/kubernetes/kompose/issues/224,New slack channel link update,"Updated link of slack channel in README to http://slack.k8s.io/

Fixes #222
",closed,True,2016-10-20 16:35:23,2016-10-20 16:37:56
kompose,dustymabe,https://github.com/kubernetes/kompose/pull/225,https://api.github.com/repos/kubernetes/kompose/issues/225,readme: update slack info,"fixes #222
",closed,True,2016-10-20 16:36:15,2016-10-20 16:50:14
kompose,dustymabe,https://github.com/kubernetes/kompose/issues/226,https://api.github.com/repos/kubernetes/kompose/issues/226,provide easy option for users in setup without PVs,"If a user is targeting an env without PVs it would be great if we gave them an easy option for getting up and running. Rather than having them create PVs (which can be complicated or maybe even not allowed if they don't control their environment) I think we should give them the option `--volume=empty`  to substitute in a `emptyDir` for a PVC. The --volume option would could default to `--volume=pvc`. 

This would allow them to get going without having to have it all set up, but would keep sane defaults for people who have real environments with appropriate volume setups. 

More information on `emptyDir` [here](http://kubernetes.io/docs/user-guide/volumes/#emptydir)
",closed,False,2016-10-20 21:00:53,2016-10-30 15:49:51
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/227,https://api.github.com/repos/kubernetes/kompose/issues/227,make kompose go get-able,"Fix #216 
",closed,True,2016-10-20 21:24:20,2016-10-30 15:55:09
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/228,https://api.github.com/repos/kubernetes/kompose/issues/228,Remove experimental tag,"Creating for tracking purpose although it was suggested in #216 
",closed,False,2016-10-20 22:48:49,2016-10-26 14:35:11
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/229,https://api.github.com/repos/kubernetes/kompose/issues/229,remove tag experimental,"Fix #228 

Follow up discussion at #216 , it's good to remove tag experimental of bundlefile at this moment. By copying its structs and loadFile() function, we can also shorten the vendor list.
",closed,True,2016-10-20 23:48:41,2016-10-26 14:35:11
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/230,https://api.github.com/repos/kubernetes/kompose/issues/230,update unsupported key list,"fix #207 
",closed,True,2016-10-21 20:56:19,2016-10-25 13:29:31
kompose,cab105,https://github.com/kubernetes/kompose/issues/231,https://api.github.com/repos/kubernetes/kompose/issues/231,Invoking kompose --bundle X.dab convert --stdout will produce two differently ordered results,"The current kompose testing framework relies on dumping the results of the command to stdout and comparing it against a known baseline.  While doing the same thing for converting bundles, kompose will alter the order of the output such that no two invocations will result in the same output (see test1.txt and test2.txt).

While this doesn't pose an issue for normal operations, this will result in the tests failing occasionally.  The primary question is whether the tests should be altered to compare the resulting file output, or of dumping via stdout should be consistent?

[test1.txt](https://github.com/kubernetes-incubator/kompose/files/545981/test1.txt)
[test2.txt](https://github.com/kubernetes-incubator/kompose/files/545982/test2.txt)
",closed,False,2016-10-22 19:14:34,2016-12-22 17:19:43
kompose,cab105,https://github.com/kubernetes/kompose/pull/232,https://api.github.com/repos/kubernetes/kompose/issues/232,Add tests converting dab files #167,,closed,True,2016-10-23 04:53:20,2016-10-24 13:54:51
kompose,cab105,https://github.com/kubernetes/kompose/pull/233,https://api.github.com/repos/kubernetes/kompose/issues/233,Add tests converting dab files #167,"Updated pull request to make use of a new branch as per @surajssd's suggestion.
",closed,True,2016-10-24 13:54:04,2016-10-27 04:45:25
kompose,sstarcher,https://github.com/kubernetes/kompose/issues/234,https://api.github.com/repos/kubernetes/kompose/issues/234,Raw Pod output,"Feature request for supporting the output of a raw Pod definition.  
",closed,False,2016-10-25 18:51:02,2017-01-05 06:42:02
kompose,dustymabe,https://github.com/kubernetes/kompose/issues/235,https://api.github.com/repos/kubernetes/kompose/issues/235,allow for setting size of persistent volume,"Would be nice to be able to set a size of a volume other than having it hardcoded to [100Mi](https://github.com/kubernetes-incubator/kompose/blob/7435f822ed17837a4d6f472f9a0f800abe1adc95/pkg/transformer/kubernetes/kubernetes.go#L155)

Here is an example of how it is done in docker compose now. I don't think we have to do it this way, just showing an example:

```
# From https://github.com/docker/docker/issues/24318#issuecomment-230410196
version: ""2""

services:
  myservice:
    # […]

volumes:
  wangdk2:
    driver: driver-plugin
    driver_opts:
      size: 1G
```
",closed,False,2016-10-25 18:52:28,2018-03-31 04:56:58
kompose,sstarcher,https://github.com/kubernetes/kompose/issues/236,https://api.github.com/repos/kubernetes/kompose/issues/236,Support for Job objects,"Feature request to support Job objects
",open,False,2016-10-25 19:00:19,2018-01-04 18:24:31
kompose,dustymabe,https://github.com/kubernetes/kompose/issues/237,https://api.github.com/repos/kubernetes/kompose/issues/237,"ReadWriteOnce set even when volume is ""ro""","I'm guess that ""ro"" should mean read only: 

https://github.com/kubernetes-incubator/kompose/blob/7435f822ed17837a4d6f472f9a0f800abe1adc95/pkg/transformer/kubernetes/kubernetes.go#L178

Should we change this to be: 

``` diff
diff --git a/pkg/transformer/kubernetes/kubernetes.go b/pkg/transformer/kubernetes/kubernetes.go
index 6f47bdb..1ba7f38 100644
--- a/pkg/transformer/kubernetes/kubernetes.go
+++ b/pkg/transformer/kubernetes/kubernetes.go
@@ -175,7 +175,7 @@ func CreatePVC(name string, mode string) *api.PersistentVolumeClaim {
        }

        if mode == ""ro"" {
-               pvc.Spec.AccessModes = []api.PersistentVolumeAccessMode{""ReadWriteOnce""}
+               pvc.Spec.AccessModes = []api.PersistentVolumeAccessMode{""ReadOnlyMany""}
        } else {
                pvc.Spec.AccessModes = []api.PersistentVolumeAccessMode{""ReadWriteOnce""}
        }
```
",closed,False,2016-10-25 19:17:29,2016-11-03 20:48:56
kompose,procrypt,https://github.com/kubernetes/kompose/pull/238,https://api.github.com/repos/kubernetes/kompose/issues/238,added support for kompose down,,closed,True,2016-10-26 04:13:03,2016-10-26 04:18:56
kompose,sstarcher,https://github.com/kubernetes/kompose/issues/239,https://api.github.com/repos/kubernetes/kompose/issues/239,CLI exit code on error,"When running `kompose -f file` for any invalid file or any invalid command I would expect a shell return code of non-zero.
",closed,False,2016-10-26 12:16:54,2016-12-26 07:04:07
kompose,dustymabe,https://github.com/kubernetes/kompose/pull/240,https://api.github.com/repos/kubernetes/kompose/issues/240,Make OpenShift inherit from Kubernetes,,closed,True,2016-10-26 21:51:15,2016-10-28 20:05:24
kompose,cab105,https://github.com/kubernetes/kompose/pull/241,https://api.github.com/repos/kubernetes/kompose/issues/241,Add tests converting dab files,"Resubmitting to work around conflict with tests.sh
",closed,True,2016-10-27 04:49:23,2016-10-27 13:13:36
kompose,kadel,https://github.com/kubernetes/kompose/issues/242,https://api.github.com/repos/kubernetes/kompose/issues/242,"Add missing tests and documentations for ""Service type"" PR","Add missing tests and docs for https://github.com/kubernetes-incubator/kompose/pull/189
",closed,False,2016-10-27 10:13:59,2016-11-25 09:02:17
kompose,cdrage,https://github.com/kubernetes/kompose/pull/243,https://api.github.com/repos/kubernetes/kompose/issues/243,Add VIM git ignore information,,closed,True,2016-10-27 12:28:29,2017-03-30 13:08:27
kompose,kadel,https://github.com/kubernetes/kompose/issues/244,https://api.github.com/repos/kubernetes/kompose/issues/244,User directive from docker-compose is siletly ignored,,closed,False,2016-10-27 12:59:04,2016-11-25 09:28:17
kompose,kadel,https://github.com/kubernetes/kompose/pull/245,https://api.github.com/repos/kubernetes/kompose/issues/245,Add support for user directive,"This is little a bit user unfriendly :-(

Issue is that in docker-compose you can set `user` by user name or uid. But K8S allows you to set user only by its uid (has to be int).

This is why I added warning that tells user that `user` directive will be ignored if its not a number.
Here is user unfriendly part, in docker-compose even if you set user by it uid, it has to be string. (user: ""2324"") If you set it as int (user: 2324) libcompose parser will complain about this not being string.

So now Kompose requires `user` to be number but written as string :-(

fixes #244 
",closed,True,2016-10-27 13:59:40,2016-11-25 09:28:18
kompose,cdrage,https://github.com/kubernetes/kompose/pull/246,https://api.github.com/repos/kubernetes/kompose/issues/246,Tests for CreateService and annotations,"Adds some tests for CreateService, specifically the initial generation
as well as providing an edge case when specifying ""kompose.service.type""
",closed,True,2016-10-27 14:13:35,2017-03-30 13:08:20
kompose,cdrage,https://github.com/kubernetes/kompose/issues/247,https://api.github.com/repos/kubernetes/kompose/issues/247,Why do tests take so long to run?,"I'm trying to figure out why the tests take so long to run, even though we only have one test file: `kubernetes_test.go`.

When I run `htop` during the test build, it's showing a lot of vendor tests being ran, is this normal?
",closed,False,2016-10-27 14:54:37,2017-01-03 19:23:49
kompose,dustymabe,https://github.com/kubernetes/kompose/pull/248,https://api.github.com/repos/kubernetes/kompose/issues/248,Adding support for choosing empty volumes,"Fixes #226
",closed,True,2016-10-27 16:40:38,2016-10-30 15:49:51
kompose,dustymabe,https://github.com/kubernetes/kompose/pull/249,https://api.github.com/repos/kubernetes/kompose/issues/249,CreatePVC: correct setting of read/only access,"Fixes #237
",closed,True,2016-10-27 19:49:27,2016-11-03 20:48:56
kompose,ericchiang,https://github.com/kubernetes/kompose/issues/250,https://api.github.com/repos/kubernetes/kompose/issues/250,Track release goals with GitHub milestones,"Part of being in the kubernetes-incubator is regular releases and conveying the development roadmap. While the README has a section about this, it's pretty out of date, and only addresses extremely high level goals.

As discussed on the #kompose slack channel, consider using GitHub milestones to address this.

cc @dustymabe @sebgoa 
",closed,False,2016-10-27 19:52:25,2016-12-07 08:39:24
kompose,dustymabe,https://github.com/kubernetes/kompose/issues/251,https://api.github.com/repos/kubernetes/kompose/issues/251,reporting deployment when it should be deploymentConfig,"In the below scenario we are creating DeploymentConfigs and not Deployments. It's a bit misleading to report that we are creating deployments so we should fix that. 

```
$ kompose --provider openshift up 
We are going to create OpenShift DeploymentConfigs, Services and PersistentVolumeClaims for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'oc create -f' commands instead. 

INFO[0005] Successfully created service: mlbparks       
INFO[0005] Successfully created service: mongodb        
INFO[0005] Successfully created deployment: mlbparks    
INFO[0005] Successfully created ImageStream: mlbparks   
INFO[0005] Successfully created deployment: mongodb     
INFO[0005] Successfully created ImageStream: mongodb    
INFO[0005] Successfully created persistentVolumeClaim: mongodb-claim0

Your application has been deployed to OpenShift. You can run 'oc get dc,svc,is,pvc' for details.
$ oc get dc
NAME       REVISION   REPLICAS   TRIGGERED BY
mlbparks   1          1          config,image(mlbparks:latest)
mongodb    1          1          config,image(mongodb:latest)
```
",closed,False,2016-10-27 21:12:41,2016-10-29 00:38:06
kompose,cdrage,https://github.com/kubernetes/kompose/pull/252,https://api.github.com/repos/kubernetes/kompose/issues/252,Add documentation on recent labels feature,"This adds some documentation to the user guide regarding the new labels
feature that's been added to Kompose.
",closed,True,2016-10-28 15:14:24,2017-03-30 13:08:52
kompose,cdrage,https://github.com/kubernetes/kompose/issues/253,https://api.github.com/repos/kubernetes/kompose/issues/253,Issues regarding CLI. Perhaps switching to Cobra?,"Recently I've been digging through urfave trying to find a solution for  #239 (https://github.com/urfave/cli/pull/399 was the fix).

Most of these edge-cases have already been proven and used in another CLI library called Cobra. I recently found it _very_ useful and much cleaner than urfave when adding new commands and improving the UX. 

Lot's of major projects using it as well as the lead developer recently joining the Golang team :) 

Given a PR, would people be willing to switch? 

https://github.com/spf13/cobra
",closed,False,2016-10-28 15:54:08,2017-01-03 12:04:21
kompose,dustymabe,https://github.com/kubernetes/kompose/pull/254,https://api.github.com/repos/kubernetes/kompose/issues/254,Match case with API objects when printing to terminal,,closed,True,2016-10-28 19:24:51,2016-10-29 00:38:05
kompose,dustymabe,https://github.com/kubernetes/kompose/issues/255,https://api.github.com/repos/kubernetes/kompose/issues/255,Improving `down` to handle Volumes,"In 7349dc9 i'm proposing adding --emptyvols to the up/down operations. This raises a bigger question on whether we should enable passing the other **convert** options so that they can be used with up/down - this can be useful, but maybe not something we want to do.
",closed,False,2016-10-28 20:37:43,2017-03-24 11:11:30
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/256,https://api.github.com/repos/kubernetes/kompose/issues/256,can't `make binary-cross` at HEAD,"``` console
Tunas-MacBook-Pro:kompose tuna$ make binary-cross
CGO_ENABLED=1 ./script/make.sh binary-cross
---> Making bundle: binary-cross (in .)
Number of parallel builds: 3

-->      darwin/386: command-line-arguments
-->       linux/386: command-line-arguments
-->     linux/amd64: command-line-arguments
-->   windows/amd64: command-line-arguments
-->     windows/386: command-line-arguments
-->    darwin/amd64: command-line-arguments

6 errors occurred:
--> linux/amd64 error: exit status 1
Stderr: can't load package: package command-line-arguments: cannot find package ""command-line-arguments"" in any of:
    /usr/local/go/src/command-line-arguments (from $GOROOT)
    /Users/tuna/Workspace/gocode/kompose/src/command-line-arguments (from $GOPATH)

--> darwin/386 error: exit status 1
Stderr: can't load package: package command-line-arguments: cannot find package ""command-line-arguments"" in any of:
    /usr/local/go/src/command-line-arguments (from $GOROOT)
    /Users/tuna/Workspace/gocode/kompose/src/command-line-arguments (from $GOPATH)

--> linux/386 error: exit status 1
Stderr: can't load package: package command-line-arguments: cannot find package ""command-line-arguments"" in any of:
    /usr/local/go/src/command-line-arguments (from $GOROOT)
    /Users/tuna/Workspace/gocode/kompose/src/command-line-arguments (from $GOPATH)

--> windows/386 error: exit status 1
Stderr: can't load package: package command-line-arguments: cannot find package ""command-line-arguments"" in any of:
    /usr/local/go/src/command-line-arguments (from $GOROOT)
    /Users/tuna/Workspace/gocode/kompose/src/command-line-arguments (from $GOPATH)

--> darwin/amd64 error: exit status 1
Stderr: can't load package: package command-line-arguments: cannot find package ""command-line-arguments"" in any of:
    /usr/local/go/src/command-line-arguments (from $GOROOT)
    /Users/tuna/Workspace/gocode/kompose/src/command-line-arguments (from $GOPATH)

--> windows/amd64 error: exit status 1
Stderr: can't load package: package command-line-arguments: cannot find package ""command-line-arguments"" in any of:
    /usr/local/go/src/command-line-arguments (from $GOROOT)
    /Users/tuna/Workspace/gocode/kompose/src/command-line-arguments (from $GOPATH)

make: *** [binary-cross] Error 1
```
",closed,False,2016-10-30 23:11:12,2016-10-31 10:18:23
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/257,https://api.github.com/repos/kubernetes/kompose/issues/257,binary-cross build,"fix #256
",closed,True,2016-10-30 23:15:36,2016-10-31 10:18:23
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/258,https://api.github.com/repos/kubernetes/kompose/issues/258,v0.1.2,change version to v0.1.2,closed,True,2016-10-31 10:33:58,2016-10-31 11:22:29
kompose,kadel,https://github.com/kubernetes/kompose/pull/259,https://api.github.com/repos/kubernetes/kompose/issues/259,"Add `go vet`,  and `gofmt` tests.","fixes #215 

Add `go vet`, `golint` and `gofmt` tests.

Travis now runs `make validate` as first target.
`make validate` includes all validate tests (go vet, golint, gofmt)


#### TODO:
 - [x] fix gofmt errors
 - [x] fix go vet errors
 - [x] ~~fix golint errors~~ #307
",closed,True,2016-10-31 11:56:30,2016-11-25 08:49:16
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/260,https://api.github.com/repos/kubernetes/kompose/issues/260,update CHANGELOG,,closed,True,2016-10-31 15:44:16,2016-11-29 11:02:04
kompose,cdrage,https://github.com/kubernetes/kompose/pull/261,https://api.github.com/repos/kubernetes/kompose/issues/261,Modify command in initializing unit tests,"This cleans up the current script we have to a simple one-liner to test
unit tests.",closed,True,2016-10-31 19:01:29,2017-03-30 13:08:24
kompose,sebgoa,https://github.com/kubernetes/kompose/pull/262,https://api.github.com/repos/kubernetes/kompose/issues/262,"Fix license headers, This closes #223","As the person having signed the Corporate CLA between skippbox and CNCF and thus donated kompose, I am switching the copyright of kompose to the ""Kubernetes Authors"".

This was referenced in #223 ",closed,True,2016-11-01 13:44:34,2016-11-01 14:12:11
kompose,cdrage,https://github.com/kubernetes/kompose/pull/263,https://api.github.com/repos/kubernetes/kompose/issues/263,"Improve test times by removing ""-race""","Improve test times by removing the -race condition on running the unit
tests",closed,True,2016-11-01 18:55:35,2016-11-01 21:51:12
kompose,kadel,https://github.com/kubernetes/kompose/issues/264,https://api.github.com/repos/kubernetes/kompose/issues/264,Change strategy for Deployments/DeployementConfigs,"When Kompose creates Deployments there is no strategy specified -  RollingUpdate is default.

This might cause problems with some applications using volumes, like databases.

We should consider changing strategy to Recreate, this should be safer option.
",closed,False,2016-11-02 11:01:28,2017-02-21 08:07:07
kompose,procrypt,https://github.com/kubernetes/kompose/issues/265,https://api.github.com/repos/kubernetes/kompose/issues/265,Update README ,"Since we no longer have `main.go` file in `cli/main/` folder, we need to update the README because README still says to [build](https://github.com/kubernetes-incubator/kompose#building) using 
`$ go build -o kompose ./cli/main`

cc @kadel ",closed,False,2016-11-03 08:06:00,2016-11-04 20:54:41
kompose,procrypt,https://github.com/kubernetes/kompose/pull/266,https://api.github.com/repos/kubernetes/kompose/issues/266,Update main.go path,"Fix #265 
cc @kadel ",closed,True,2016-11-03 09:21:10,2016-11-04 20:54:41
kompose,sstarcher,https://github.com/kubernetes/kompose/issues/267,https://api.github.com/repos/kubernetes/kompose/issues/267,Support for cpu_shares,It would be nice to have resources limits for cpu_shares and mem_limits.,closed,False,2016-11-03 17:45:39,2017-05-18 14:10:24
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/268,https://api.github.com/repos/kubernetes/kompose/issues/268,Tiny issue on kompose up --emptyvols displaying,"```console
$ kompose --file docker-compose.yml up --emptyvols
We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application.
```",closed,False,2016-11-04 23:24:22,2016-11-21 10:59:17
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/269,https://api.github.com/repos/kubernetes/kompose/issues/269,correct display when using --emptyvols,Fix #268 ,closed,True,2016-11-05 20:57:56,2016-11-21 10:59:17
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/270,https://api.github.com/repos/kubernetes/kompose/issues/270,Make kompose keep trying its job,"I would suggest to make kompose keep trying its job when an error occurs. Currently we throw the error and stop doing convert/up/down immediately. I would prefer a better behavior like this:

```console
$ kompose --file kadel.yml up 
We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead.

INFO[0001] Successfully created Service: frontend       
INFO[0002] Successfully created Service: mongodb        
INFO[0002] Successfully created Service: backend        
INFO[0002] Successfully created Deployment: frontend    
INFO[0003] Successfully created Deployment: mongodb     
FATA[0003] Error while deploying application: persistentvolumeclaims ""mongodb-claim0"" already exists . We will keep deploying application.
INFO[0003] Successfully created Deployment: backend

$ kompose --file kadel.yml down
INFO[0002] Successfully deleted Service: backend        
INFO[0002] Successfully deleted Service: frontend       
INFO[0003] Successfully deleted Service: mongodb        
FATA[0003] Error while deleting application: deployments.extensions ""backend"" not found. We will keep deleting resources.
INFO[0002] Successfully deleted Service: frontend       
INFO[0003] Successfully deleted Service: mongodb
```

Probably it's okay to stop the `kompose up` immediately at the time of error happening, but keep the `kompose down` working will help to clean the resources better.",closed,False,2016-11-05 21:07:40,2017-04-03 15:25:12
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/271,https://api.github.com/repos/kubernetes/kompose/issues/271,Update docker-gitlab example,Latest docker-gitlab example in compose v2 format. Registering new user works well.,closed,True,2016-11-06 18:01:54,2016-11-21 11:04:10
kompose,surajssd,https://github.com/kubernetes/kompose/issues/272,https://api.github.com/repos/kubernetes/kompose/issues/272,CPUSet is read and but do not map to k8s,We do read the `CPUSet` from docker-compose file and do not map it to any kubernetes constructs. So either add support for it or add it to unsupported keys.,closed,False,2016-11-07 06:37:41,2017-04-06 16:51:48
kompose,surajssd,https://github.com/kubernetes/kompose/issues/273,https://api.github.com/repos/kubernetes/kompose/issues/273,specifying service type right now is very docker-compose specific,"We use `labels` from docker-compose to specify type of service (e.g. `kompose.service.type: nodeport`) that gets created and this gets mapped to [`annotatations`](https://github.com/kubernetes-incubator/kompose/blob/a3495b1d6bf73dba0fd6f3af44d68f2f910e3df0/pkg/kobject/kobject.go#L135) internally but then we can do this cleanly by adding one more directive in [`ServiceConfig`](https://github.com/kubernetes-incubator/kompose/blob/a3495b1d6bf73dba0fd6f3af44d68f2f910e3df0/pkg/kobject/kobject.go#L124) named `ServiceType string` so that at [loader stage](https://github.com/kubernetes-incubator/kompose/blob/a3495b1d6bf73dba0fd6f3af44d68f2f910e3df0/pkg/loader/compose/compose.go#L127) itself we load this variable and [in transformation](https://github.com/kubernetes-incubator/kompose/blob/master/pkg/transformer/kubernetes/k8sutils.go#L247) we don't need to do annotation checking!

So basically now we add one vairable to `ServiceConfig` and move code from [`CreateService`](https://github.com/kubernetes-incubator/kompose/blob/master/pkg/transformer/kubernetes/k8sutils.go#L239) to respective loaders.",closed,False,2016-11-07 06:55:35,2016-11-21 12:53:13
kompose,surajssd,https://github.com/kubernetes/kompose/issues/274,https://api.github.com/repos/kubernetes/kompose/issues/274,kompose logo,It would be great to have a logo for kompose project!,closed,False,2016-11-07 06:59:54,2018-08-03 09:20:28
kompose,ankon,https://github.com/kubernetes/kompose/issues/275,https://api.github.com/repos/kubernetes/kompose/issues/275,Support multiple compose files,"In my environment I have multiple docker-compose files: one ""base"", and then some more to enable additional services/options. These additional docker-compose files override/modify the base image settings.

It would be nice if kompose supported this natively: `kompose -f base.yml -f mod.yml -f other-mod.yml convert`.

Currently it simply ignores all but the last-mentioned file.",closed,False,2016-11-07 18:11:45,2017-01-03 12:15:48
kompose,ngtuna,https://github.com/kubernetes/kompose/issues/276,https://api.github.com/repos/kubernetes/kompose/issues/276,support adding kompose label for bundle file,$title,open,False,2016-11-08 07:35:19,2017-12-21 16:27:39
kompose,surajssd,https://github.com/kubernetes/kompose/pull/277,https://api.github.com/repos/kubernetes/kompose/issues/277,Generic service type handler for kompose,"Moved label handling code from Transformer to loader, to make it generic to handle creating service types.

Added new attribute to ServiceConfig which gets populated in loader.

Fixes #273",closed,True,2016-11-09 14:51:57,2016-11-21 13:18:27
kompose,cab105,https://github.com/kubernetes/kompose/pull/278,https://api.github.com/repos/kubernetes/kompose/issues/278,Add initial support for bringing up a kubernetes cluster using miniku…,…be #156,closed,True,2016-11-09 18:48:26,2016-11-23 13:53:38
kompose,cab105,https://github.com/kubernetes/kompose/pull/279,https://api.github.com/repos/kubernetes/kompose/issues/279,Added flag definitions for kompose #37,,closed,True,2016-11-09 23:14:22,2016-11-14 00:20:59
kompose,procrypt,https://github.com/kubernetes/kompose/pull/280,https://api.github.com/repos/kubernetes/kompose/issues/280,added support for OpenShift down,"Fix #208 
cc @kadel @surajssd @sebgoa @ngtuna ",closed,True,2016-11-14 09:44:09,2016-12-15 06:23:38
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/281,https://api.github.com/repos/kubernetes/kompose/issues/281,Add coveralls,"to track our unit test coverage, we should setup coveralls.io, it is used in the main repo.

then we need to work on the unit-tests",closed,False,2016-11-15 09:27:03,2016-12-07 09:08:24
kompose,cdrage,https://github.com/kubernetes/kompose/pull/282,https://api.github.com/repos/kubernetes/kompose/issues/282,Update README since Kompose is now Go gettable,"Since You're now able to install Kompose via `go get`. Update the README
accordingly.",closed,True,2016-11-15 20:58:50,2017-03-30 13:09:43
kompose,cdrage,https://github.com/kubernetes/kompose/pull/283,https://api.github.com/repos/kubernetes/kompose/issues/283,Update building instructions,,closed,True,2016-11-15 21:06:26,2016-12-19 15:47:18
kompose,cdrage,https://github.com/kubernetes/kompose/pull/284,https://api.github.com/repos/kubernetes/kompose/issues/284,Organize the README.,"This updates the README with some small changes such as titles as well
as rewording a few sentences.",closed,True,2016-11-15 21:14:35,2017-03-30 13:09:10
kompose,containscafeine,https://github.com/kubernetes/kompose/pull/285,https://api.github.com/repos/kubernetes/kompose/issues/285,"expose service to outside, fix #140",,closed,True,2016-11-16 05:51:18,2016-12-22 11:43:53
kompose,containscafeine,https://github.com/kubernetes/kompose/pull/286,https://api.github.com/repos/kubernetes/kompose/issues/286,Minor doc fix,,closed,True,2016-11-16 06:01:15,2016-11-21 20:47:51
kompose,cdrage,https://github.com/kubernetes/kompose/pull/287,https://api.github.com/repos/kubernetes/kompose/issues/287,Update TRAVIS CI to add coveralls,"Updates travis to enable coveralls support.

Fixes https://github.com/kubernetes-incubator/kompose/issues/281",closed,True,2016-11-16 17:44:54,2017-03-30 13:08:00
kompose,cdrage,https://github.com/kubernetes/kompose/issues/288,https://api.github.com/repos/kubernetes/kompose/issues/288,"`--output`, or specify folder to output converted files to",Missing command for `--output` as I'd like to output the converted files to a different folder than current folder. ,closed,False,2016-11-16 17:57:58,2016-11-25 10:33:24
kompose,cdrage,https://github.com/kubernetes/kompose/pull/289,https://api.github.com/repos/kubernetes/kompose/issues/289,Clean up the logging output for unknown provider,,closed,True,2016-11-16 18:03:26,2017-03-30 13:08:29
kompose,cdrage,https://github.com/kubernetes/kompose/pull/290,https://api.github.com/repos/kubernetes/kompose/issues/290,Update .dsb to .dab,,closed,True,2016-11-16 21:23:12,2017-03-30 13:09:26
kompose,cdrage,https://github.com/kubernetes/kompose/issues/291,https://api.github.com/repos/kubernetes/kompose/issues/291,A better missing port warning message,"When encountering the warning from: https://github.com/kubernetes-incubator/kompose/blob/master/pkg/transformer/kubernetes/k8sutils.go#L232 I don't know what it specifically means when it says that ""port"" is missing.

What am I missing here? I don't believe I need to explicitly supply the port, correct?",closed,False,2016-11-16 21:39:23,2016-11-29 13:42:10
kompose,cdrage,https://github.com/kubernetes/kompose/issues/292,https://api.github.com/repos/kubernetes/kompose/issues/292,Interactive / work-through-each-step mode.,"So at the moment you simply run `kompose convert` and that's it. Sometimes you can pass in:
```
   --chart, -c                          Create a Helm chart for converted objects
   --deployment, -d                     Generate a Kubernetes deployment object (default on)
   --daemonset, --ds                    Generate a Kubernetes daemonset object
   --replicationcontroller, --rc        Generate a Kubernetes replication controller object
```

However, I'd be **awesome** to add an interactive mode where it will walk you through each step.

For example, when encountering a service *without* a port within `docker-compose.yml`, `kompose` should output the implicit section and ask the user what port that service is using. This is required for Kubernetes conversion.

The same goes for volumes which are binded to the host within `docker-compose.yml` but cannot be converted to an equivalent Kubernetes artifact. ",closed,False,2016-11-16 21:46:37,2017-06-20 18:31:38
kompose,surajssd,https://github.com/kubernetes/kompose/pull/293,https://api.github.com/repos/kubernetes/kompose/issues/293,Added volume to mariadb in etherpad fixture,"Volume constraint is missing in mariadb service in etherpad example, so added that so that it mariadb container does not fail in environments where creating container in `/var/lib/mysql` is not allowed for non-root process.",closed,True,2016-11-17 07:35:46,2016-11-21 20:40:34
kompose,procrypt,https://github.com/kubernetes/kompose/pull/294,https://api.github.com/repos/kubernetes/kompose/issues/294,added support for cpu_shares,"[WIP] for #267 
How can we convert `cpu_share` defined in [docker](https://docs.docker.com/engine/reference/run/#cpu-share-constraint) to `cpu` defined in [Kubernetes](http://kubernetes.io/docs/user-guide/compute-resources/) as there is no one to one mapping for it. 

**Docker** by default gives all containers get the same proportion of CPU cycles and by using `cpu_share` we can give a percentage of CPU to each container.
 
In **Kubernetes** world, cpu are measured in unit. The expression `0.1` is equivalent to the expression `100m`, which can be read as “one hundred millicpu”. CPU is always requested as an absolute quantity, never as a relative quantity; `0.1` is the same amount of `cpu` on a single core, dual core, or 48 core machine.

Thoughts ? @surajssd @kadel @ngtuna",closed,True,2016-11-17 11:55:23,2017-02-06 20:13:39
kompose,cdrage,https://github.com/kubernetes/kompose/issues/295,https://api.github.com/repos/kubernetes/kompose/issues/295,Stdout shouldn't output warning / logging messages.,"When doing `--stdout`. I don't think is should be outputting. `--surpress-warnings` should be set by default if passing in `--stdout`
```
WARN[0000] Unsupported key network_mode - ignoring      
WARN[0000] Unsupported key build - ignoring             
WARN[0000] Unsupported key depends_on - ignoring        
WARN[0000] Unsupported key tty - ignoring               
WARN[0000] [anitya-postgres] Service cannot be created because of missing port. 
WARN[0000] Failed to configure container volume: invalid volume format: ./lib/cucoslib:/usr/lib/python3.5/site-packages/cucoslib:ro,z 
WARN[0000] Failed to configure container volume: invalid volume format: ./server/bayesian:/usr/lib/python3.5/site-packages/bayesian:ro,z 
WARN[0000] Failed to configure container volume: invalid volume format: ./server/kerberos/keytab:/mnt:ro,z 
WARN[0000] Failed to configure container volume: invalid volume format: ./server/coreapi-httpd.conf:/etc/httpd/conf.d/coreapi-httpd.conf:ro,z 
WARN[0000] Failed to configure container volume: invalid volume format: ./server/:/coreapi/:ro,z 
WARN[0000] [redis-populate] Service cannot be created because of missing port. 
WARN[0000] [beat-scheduler] Service cannot be created because of missing port. 
WARN[0000] Failed to configure container volume: invalid volume format: ./lib/cucoslib:/usr/lib/python2.7/site-packages/cucoslib:ro,z 
WARN[0000] [worker] Service cannot be created because of missing port. 
WARN[0000] Failed to configure container volume: invalid volume format: ./lib/cucoslib:/usr/lib/python3.5/site-packages/cucoslib:ro,z 
WARN[0000] Failed to configure container volume: invalid volume format: ./mercator/mercator:/usr/lib/python3.5/site-packages/mercator:ro,z 
WARN[0000] Failed to configure container volume: invalid volume format: ./lib/hack/secrets.yaml:/var/lib/secrets/secrets.yaml:ro,z 
```",closed,False,2016-11-18 17:05:30,2017-01-03 15:39:56
kompose,surajssd,https://github.com/kubernetes/kompose/issues/296,https://api.github.com/repos/kubernetes/kompose/issues/296,Support for secrets,"Right now there is no way I can specify secrets from docker-compose which then maps to kubernetes. This would be great thing to have. 

For using this feature I had to manually create secret object and then add it to container spec in deployment.",open,False,2016-11-20 16:29:28,2019-03-30 16:18:54
kompose,rtnpro,https://github.com/kubernetes/kompose/pull/297,https://api.github.com/repos/kubernetes/kompose/issues/297,"Update openshift, openshift k8s deps in Godeps and vendors.","Steps followed to update Godeps:

``` bash
cd $GOPATH/src/github.com/openshift/origin; git checkout v1.4.0-rc1; ./hack/godep-restore.sh
cd $GOPATH/src/github.com/docker/docker; git checkout 601004e1a714d77d3a43e957b8ae8adbc867b280 # from existing Godeps.json
cd $GOPATH/src/github.com/docker/engine-api; git checkout 1d247454d4307fb1ddf10d09fd2996394b085904 # from Godeps.json
cd $GOPATH/src/github.com/kubernetes-incubator/kompose
# To avoid errors during saving dependencies
rm -rf Godeps
godep save ./... 
``` ",closed,True,2016-11-21 10:44:18,2016-12-26 07:11:19
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/298,https://api.github.com/repos/kubernetes/kompose/issues/298,`script/godep-restore.sh` is failing on master,"Hi,

Running `script/godep-restore.sh` on a fresh `$GOPATH` fails with the following output -

<details>

<summary>
$ script/godep-restore.sh
</summary>

```bash
[concaf@containscafeine kompose]$ script/godep-restore.sh
Preloading some dependencies
remote: Counting objects: 6704, done.
remote: Compressing objects: 100% (527/527), done.
remote: Total 6704 (delta 3623), reused 3318 (delta 3318), pack-reused 2859
Receiving objects: 100% (6704/6704), 3.43 MiB | 744.00 KiB/s, done.
Resolving deltas: 100% (5036/5036), completed with 1436 local objects.
From https://github.com/openshift/kubernetes
 * [new branch]      master     -> github.com/openshift-remote/master
 * [new branch]      openshift-1.3 -> github.com/openshift-remote/openshift-1.3
 * [new branch]      openshift-1.4 -> github.com/openshift-remote/openshift-1.4
 * [new branch]      rebase-20160831 -> github.com/openshift-remote/rebase-20160831
 * [new branch]      release-1.0 -> github.com/openshift-remote/release-1.0
 * [new branch]      release-1.1 -> github.com/openshift-remote/release-1.1
 * [new branch]      release-1.2 -> github.com/openshift-remote/release-1.2
 * [new branch]      release-1.2-stable-20160309 -> github.com/openshift-remote/release-1.2-stable-20160309
 * [new branch]      release-1.2-stable-20160312 -> github.com/openshift-remote/release-1.2-stable-20160312
 * [new branch]      release-1.2-stable-20160316 -> github.com/openshift-remote/release-1.2-stable-20160316
 * [new branch]      stable     -> github.com/openshift-remote/stable
 * [new branch]      stable-20160127 -> github.com/openshift-remote/stable-20160127
 * [new branch]      stable-20160211 -> github.com/openshift-remote/stable-20160211
 * [new branch]      stable-20160309 -> github.com/openshift-remote/stable-20160309
 * [new branch]      stable-20160411 -> github.com/openshift-remote/stable-20160411
 * [new branch]      stable-20160510 -> github.com/openshift-remote/stable-20160510
 * [new branch]      stable-20160615 -> github.com/openshift-remote/stable-20160615
 * [new branch]      stable-20160624 -> github.com/openshift-remote/stable-20160624
 * [new branch]      stable-20160804 -> github.com/openshift-remote/stable-20160804
 * [new branch]      stable-20160831 -> github.com/openshift-remote/stable-20160831
 * [new branch]      stable-9da202e -> github.com/openshift-remote/stable-9da202e
 * [new tag]         v1.1.0-origin -> v1.1.0-origin
 * [new tag]         v1.2.0-origin -> v1.2.0-origin
remote: Counting objects: 3, done.
remote: Total 3 (delta 2), reused 2 (delta 2), pack-reused 1
Unpacking objects: 100% (3/3), done.
From https://github.com/openshift/glog
 * [new branch]      master     -> github.com/openshift-remote/master
 * [new branch]      stable     -> github.com/openshift-remote/stable
Starting to download all godeps. This takes a while
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/federation/apis/federation): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/federation/apis/federation/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/federation/apis/federation/v1beta1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/federation/client/clientset_generated/federation_internalclientset): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/federation/client/clientset_generated/federation_internalclientset/typed/core/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/federation/client/clientset_generated/federation_internalclientset/typed/extensions/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/federation/client/clientset_generated/federation_internalclientset/typed/federation/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/annotations): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/endpoints): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/errors): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/meta): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/meta/metatypes): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/pod): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/resource): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/rest): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/service): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/unversioned/validation): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/util): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/v1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/api/validation): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apimachinery): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apimachinery/registered): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/apps): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/apps/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/apps/v1alpha1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/authentication): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/authentication/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/authentication/v1beta1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/authorization): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/authorization/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/authorization/v1beta1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/autoscaling): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/autoscaling/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/autoscaling/v1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/batch): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/batch/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/batch/v1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/batch/v2alpha1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/certificates): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/certificates/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/certificates/v1alpha1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/componentconfig): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/componentconfig/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/componentconfig/v1alpha1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/extensions): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/extensions/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/extensions/v1beta1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/extensions/validation): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/policy): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/policy/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/policy/v1alpha1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/rbac): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/rbac/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/rbac/v1alpha1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/storage): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/storage/install): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/apis/storage/v1beta1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/auth/authenticator): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/auth/user): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/capabilities): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/cache): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/clientset_generated/internalclientset): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/clientset_generated/internalclientset/typed/authentication/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/clientset_generated/internalclientset/typed/authorization/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/clientset_generated/internalclientset/typed/autoscaling/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/clientset_generated/internalclientset/typed/batch/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/clientset_generated/internalclientset/typed/certificates/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/clientset_generated/internalclientset/typed/core/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/clientset_generated/internalclientset/typed/extensions/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/clientset_generated/internalclientset/typed/rbac/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/clientset_generated/internalclientset/typed/storage/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/metrics): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/record): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/restclient): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/transport): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/typed/discovery): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/typed/dynamic): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/unversioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/unversioned/adapters/internalclientset): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/unversioned/auth): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/unversioned/clientcmd): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/unversioned/clientcmd/api): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/unversioned/clientcmd/api/latest): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/client/unversioned/clientcmd/api/v1): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/controller): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/controller/deployment/util): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/controller/framework): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/controller/framework/informers): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/controller/replication): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/conversion): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/conversion/queryparams): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/credentialprovider): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/fieldpath): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/fields): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/kubectl): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/kubectl/cmd/util): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/kubectl/resource): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/kubelet/qos): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/kubelet/types): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/labels): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/master/ports): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/registry/generic): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/registry/thirdpartyresourcedata): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/runtime): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/runtime/serializer): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/runtime/serializer/json): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/runtime/serializer/protobuf): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/runtime/serializer/recognizer): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/runtime/serializer/streaming): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/runtime/serializer/versioning): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/security/apparmor): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/security/podsecuritypolicy/util): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/securitycontextconstraints/util): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/selection): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/serviceaccount): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/storage): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/storage/etcd): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/storage/etcd/metrics): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/storage/etcd/util): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/storage/etcd3): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/storage/storagebackend): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/storage/storagebackend/factory): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/types): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/cache): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/certificates): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/clock): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/config): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/crypto): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/diff): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/errors): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/exec): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/flag): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/flowcontrol): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/framer): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/hash): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/homedir): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/integer): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/interrupt): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/intstr): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/json): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/jsonpath): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/labels): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/metrics): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/net): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/net/sets): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/parsers): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/pod): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/rand): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/replicaset): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/runtime): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/sets): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/slice): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/strategicpatch): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/term): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/uuid): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/validation): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/validation/field): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/wait): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/workqueue): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/util/yaml): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/version): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/watch): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/pkg/watch/versioned): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/plugin/pkg/client/auth): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/plugin/pkg/client/auth/gcp): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/plugin/pkg/client/auth/oidc): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/third_party/forked/golang/json): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/third_party/forked/golang/netutil): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/third_party/forked/golang/reflect): exit status 128
# cd /home/concaf/godep_kompose/src/k8s.io/kubernetes; git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4
godep: error restoring dep (k8s.io/kubernetes/third_party/forked/golang/template): exit status 128
godep: Error restoring some deps. Aborting check.
Download finished into /home/concaf/godep_kompose

[concaf@containscafeine kompose]$
```
</details>


Now since `godep restore` does a `git checkout` at a given commit in a detached state, I tried the following -

```bash
[concaf@containscafeine]$ cd $GOPATH/src/k8s.io/

[concaf@containscafeine k8s.io]$ ls
client-go  kubernetes

[concaf@containscafeine k8s.io]$ rm -rf kubernetes/

[concaf@containscafeine k8s.io]$ git clone https://github.com/kubernetes/kubernetes
Cloning into 'kubernetes'...
remote: Counting objects: 379523, done.
remote: Compressing objects: 100% (1531/1531), done.
remote: Total 379523 (delta 903), reused 2 (delta 2), pack-reused 377982
Receiving objects: 100% (379523/379523), 345.68 MiB | 873.00 KiB/s, done.
Resolving deltas: 100% (249419/249419), done.
Checking connectivity... done.

[concaf@containscafeine k8s.io]$ cd kubernetes

[concaf@containscafeine kubernetes]$ git remote add github.com/openshift-remote https://github.com/openshift/kubernetes

[concaf@containscafeine kubernetes]$ git remote update
Fetching origin
Fetching github.com/openshift-remote
remote: Counting objects: 6704, done.
remote: Compressing objects: 100% (527/527), done.
remote: Total 6704 (delta 3623), reused 3318 (delta 3318), pack-reused 2859
Receiving objects: 100% (6704/6704), 3.43 MiB | 703.00 KiB/s, done.
Resolving deltas: 100% (5036/5036), completed with 1436 local objects.
From https://github.com/openshift/kubernetes
 * [new branch]      master     -> github.com/openshift-remote/master
 * [new branch]      openshift-1.3 -> github.com/openshift-remote/openshift-1.3
 * [new branch]      openshift-1.4 -> github.com/openshift-remote/openshift-1.4
 * [new branch]      rebase-20160831 -> github.com/openshift-remote/rebase-20160831
 * [new branch]      release-1.0 -> github.com/openshift-remote/release-1.0
 * [new branch]      release-1.1 -> github.com/openshift-remote/release-1.1
 * [new branch]      release-1.2 -> github.com/openshift-remote/release-1.2
 * [new branch]      release-1.2-stable-20160309 -> github.com/openshift-remote/release-1.2-stable-20160309
 * [new branch]      release-1.2-stable-20160312 -> github.com/openshift-remote/release-1.2-stable-20160312
 * [new branch]      release-1.2-stable-20160316 -> github.com/openshift-remote/release-1.2-stable-20160316
 * [new branch]      stable     -> github.com/openshift-remote/stable
 * [new branch]      stable-20160127 -> github.com/openshift-remote/stable-20160127
 * [new branch]      stable-20160211 -> github.com/openshift-remote/stable-20160211
 * [new branch]      stable-20160309 -> github.com/openshift-remote/stable-20160309
 * [new branch]      stable-20160411 -> github.com/openshift-remote/stable-20160411
 * [new branch]      stable-20160510 -> github.com/openshift-remote/stable-20160510
 * [new branch]      stable-20160615 -> github.com/openshift-remote/stable-20160615
 * [new branch]      stable-20160624 -> github.com/openshift-remote/stable-20160624
 * [new branch]      stable-20160804 -> github.com/openshift-remote/stable-20160804
 * [new branch]      stable-20160831 -> github.com/openshift-remote/stable-20160831
 * [new branch]      stable-9da202e -> github.com/openshift-remote/stable-9da202e
 * [new tag]         v1.1.0-origin -> v1.1.0-origin
 * [new tag]         v1.2.0-origin -> v1.2.0-origin

[concaf@containscafeine kubernetes]$ git checkout d19513fe86f3e0769dd5c4674c093a88a5adb8b4
fatal: reference is not a tree: d19513fe86f3e0769dd5c4674c093a88a5adb8b4

[concaf@containscafeine kubernetes]$ git branch -r --contains d19513fe86f3e0769dd5c4674c093a88a5adb8b4
error: no such commit d19513fe86f3e0769dd5c4674c093a88a5adb8b4
usage: git branch [<options>] [-r | -a] [--merged | --no-merged]
...
...
```

Here, git cannot find the given commit in any of the branches.

Now, I have tried checking out multiple commits and releases of Kubernetes, but have not been able to fix this.

This is the first time I am dealing with godep and vendoring issues, so any help is much appreciated.

CC: @surajssd @rtnpro @kadel ",closed,False,2016-11-21 12:22:30,2017-01-04 20:29:02
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/299,https://api.github.com/repos/kubernetes/kompose/issues/299,no test/check for Godeps.json health,"Hi,

There are fair chances that `Godeps.json` might grow stale in due time due to changes in upstream (stale commits, change in git history). This could cause issues whenever some PR requires to add entries to Godeps.json, but `godep restore` fails due to broken upstream dependencies.

Does it make sense to add a CI step or a functional test for this?

Thoughts?",closed,False,2016-11-21 12:54:00,2017-01-11 09:17:08
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/300,https://api.github.com/repos/kubernetes/kompose/issues/300,make `script/godep-restore.sh` more verbose,"Hi,

It would be of great help if `script/godep-restore.sh` would return more verbose output, since restoring the godeps takes quite some time, and getting a verbose output of what is happening when will be of great help.",closed,False,2016-11-21 13:35:44,2016-12-21 12:48:16
kompose,surajssd,https://github.com/kubernetes/kompose/issues/301,https://api.github.com/repos/kubernetes/kompose/issues/301,When using `container_name` in docker-compose problems with dc and imagestreams,"docker-compose file i am using:
```yaml
$ cat docker-compose.yml 
version: ""2""
services:
  rabbit:
    image: rabbitmq:3.6.1
    container_name: myfavrabbit
    ports:
     - ""5672:5672""
```

deloying app
```bash
$ oc new-project rabbit
$ kompose --provider openshift up
We are going to create OpenShift DeploymentConfigs, Services and PersistentVolumeClaims for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'oc create -f' commands instead. 

INFO[0000] Successfully created Service: rabbit         
INFO[0000] Successfully created DeploymentConfig: rabbit 
INFO[0000] Successfully created ImageStream: rabbit     

Your application has been deployed to OpenShift. You can run 'oc get dc,svc,is,pvc' for details.
```

nothing happens

```bash
$ oc get dc
NAME      REVISION   DESIRED   CURRENT   TRIGGERED BY
rabbit    0          1         0         config,image(rabbit:3.6.1)
```

manually trigger the deployment from GUI

```bash
$ oc get events -w
LASTSEEN   FIRSTSEEN   COUNT     NAME      KIND      SUBOBJECT   TYPE      REASON    SOURCE    MESSAGE
LASTSEEN                        FIRSTSEEN                       COUNT     NAME      KIND               SUBOBJECT   TYPE      REASON              SOURCE                           MESSAGE
2016-11-21 15:16:27 +0000 UTC   2016-11-21 15:16:27 +0000 UTC   1         rabbit    DeploymentConfig               Normal    DeploymentCreated   {deploymentconfig-controller }   Created new replication controller ""rabbit-1"" for version 1
2016-11-21 15:16:27 +0000 UTC   2016-11-21 15:16:27 +0000 UTC   1         rabbit-1-deploy   Pod                 Normal    Scheduled   {default-scheduler }   Successfully assigned rabbit-1-deploy to 192.168.121.251
2016-11-21 15:16:29 +0000 UTC   2016-11-21 15:16:29 +0000 UTC   1         rabbit-1-deploy   Pod       spec.containers{deployment}   Normal    Pulled    {kubelet 192.168.121.251}   Container image ""openshift/origin-deployer:v1.4.0-alpha.1"" already present on machine
2016-11-21 15:16:29 +0000 UTC   2016-11-21 15:16:29 +0000 UTC   1         rabbit-1-deploy   Pod       spec.containers{deployment}   Normal    Created   {kubelet 192.168.121.251}   Created container with docker id 62ddc990d5c9; Security:[seccomp=unconfined]
2016-11-21 15:16:29 +0000 UTC   2016-11-21 15:16:29 +0000 UTC   1         rabbit-1-deploy   Pod       spec.containers{deployment}   Normal    Started   {kubelet 192.168.121.251}   Started container with docker id 62ddc990d5c9
2016-11-21 15:16:30 +0000 UTC   2016-11-21 15:16:30 +0000 UTC   1         rabbit-1-mmz6z   Pod                 Normal    Scheduled   {default-scheduler }   Successfully assigned rabbit-1-mmz6z to 192.168.121.251
2016-11-21 15:16:30 +0000 UTC   2016-11-21 15:16:30 +0000 UTC   1         rabbit-1   ReplicationController             Normal    SuccessfulCreate   {replication-controller }   Created pod: rabbit-1-mmz6z
2016-11-21 15:16:31 +0000 UTC   2016-11-21 15:16:31 +0000 UTC   1         rabbit-1-mmz6z   Pod       spec.containers{myfavrabbit}   Normal    Pulling   {kubelet 192.168.121.251}   pulling image "" ""
2016-11-21 15:16:31 +0000 UTC   2016-11-21 15:16:31 +0000 UTC   1         rabbit-1-mmz6z   Pod       spec.containers{myfavrabbit}   Warning   Failed    {kubelet 192.168.121.251}   Failed to pull image "" "": couldn't parse image reference "" "": invalid reference format
2016-11-21 15:16:31 +0000 UTC   2016-11-21 15:16:31 +0000 UTC   1         rabbit-1-mmz6z   Pod                 Warning   FailedSync   {kubelet 192.168.121.251}   Error syncing pod, skipping: failed to ""StartContainer"" for ""myfavrabbit"" with ErrImagePull: ""couldn't parse image
reference \"" \"": invalid reference format""

2016-11-21 15:16:32 +0000 UTC   2016-11-21 15:16:32 +0000 UTC   1         rabbit-1-mmz6z   Pod       spec.containers{myfavrabbit}   Normal    BackOff   {kubelet 192.168.121.251}   Back-off pulling image "" ""
2016-11-21 15:16:32 +0000 UTC   2016-11-21 15:16:32 +0000 UTC   1         rabbit-1-mmz6z   Pod                 Warning   FailedSync   {kubelet 192.168.121.251}   Error syncing pod, skipping: failed to ""StartContainer"" for ""myfavrabbit"" with ImagePullBackOff: ""Back-off pulling image
\"" \""""

2016-11-21 15:16:45 +0000 UTC   2016-11-21 15:16:31 +0000 UTC   2         rabbit-1-mmz6z   Pod                 Warning   FailedSync   {kubelet 192.168.121.251}   Error syncing pod, skipping: failed to ""StartContainer"" for ""myfavrabbit"" with ErrImagePull: ""couldn't parse image
reference \"" \"": invalid reference format""

2016-11-21 15:16:45 +0000 UTC   2016-11-21 15:16:31 +0000 UTC   2         rabbit-1-mmz6z   Pod       spec.containers{myfavrabbit}   Normal    Pulling   {kubelet 192.168.121.251}   pulling image "" ""
2016-11-21 15:16:45 +0000 UTC   2016-11-21 15:16:31 +0000 UTC   2         rabbit-1-mmz6z   Pod       spec.containers{myfavrabbit}   Warning   Failed    {kubelet 192.168.121.251}   Failed to pull image "" "": couldn't parse image reference "" "": invalid reference format
[SNIP]
```

But when `container_name` is not used everything runs fine.",closed,False,2016-11-21 15:20:10,2016-12-12 17:17:52
kompose,cdrage,https://github.com/kubernetes/kompose/pull/302,https://api.github.com/repos/kubernetes/kompose/issues/302,Switch to 'make bin' instead of 'make binary',"I keep mistyping this when creating the binary as per other projects
that use it commonly (it's usually `make bin` instead of `make binary`).",closed,True,2016-11-21 15:36:19,2017-03-30 13:09:15
kompose,whereisaaron,https://github.com/kubernetes/kompose/issues/303,https://api.github.com/repos/kubernetes/kompose/issues/303,"kompose 0.1.2 fails to parse key-only variables in environment section, does work with lists but generates invalid k8s resources","`kompose version 0.1.2 (92ea047)`

I was exciting to try out kompose to help my colleague migrate to k8s, but I could not find any of our dock-compose files that kompose could parse. They all reported errors for the 'environment' section, such as:

```
ERRO[0000] Could not parse config for project project : yaml: line 88: could not find expected ':'
```
or
```
FATA[0000] Failed to load compose file: Service 'mysql' configuration key 'environment' contains an invalid type, it should be an array or object
Service 'phpmyadmin' configuration key 'environment' contains an invalid type, it should be an array or object
Unsupported config option for phpmyadmin service: 'PMA_HOST'
```

It looks like the kompose parser doesn't support the full docker-compose spec for environment variables. If you want to pass your build environment value into the same-named environment variable in your container, you just need to name the variable in the environment section of the docker-compose file, e.g.

```
    environment:
      MYSQL_HOST
      MYSQL_DATABASE
      MYSQL_USER
      MYSQL_PASSWORD
```

This is documented in the docker-compose spec page for environment variables here:

https://docs.docker.com/compose/compose-file/#/environment
**""Environment variables with only a key are resolved to their values on the machine Compose is running on, which can be helpful for secret or host-specific values.""**

I was able to work around this for the kompose parser by adding colons to each item, but I think that might break docker-compose as all the variables will get blank/empty values.
```
    environment:
      MYSQL_HOST:
      MYSQL_DATABASE:
      MYSQL_USER:
      MYSQL_PASSWORD:
```

Converting the environment section to a sequence also helped kompose parse it, though again not sure if docker-compose will support this form?
```
    environment:
      - MYSQL_HOST
      - MYSQL_DATABASE
      - MYSQL_USER
      - MYSQL_PASSWORD
```

But even with both those work-arounds kompose generated only name fields for kubernetes, with no value, which isn't going to work when sent to a cluster. 

```
                ""env"": [
                  {
                    ""name"": ""MYSQL_DATABASE""
                  },
                  {
                    ""name"": ""MYSQL_USER""
                  },
                  {
                    ""name"": ""MYSQL_PASSWORD""
                  },
                  {
                    ""name"": ""MYSQL_ROOT_PASSWORD""
                  }
                ],
```

I think kompose should generate value properties with the actual value of the environment variables (from the kompose environment).

When we manually convert docker-compose file some of those environment fields become Secret or ConfigMap entries, but probably injecting the value is best default behavior for kompose is order to allow `kompose up` to work?



",closed,False,2016-11-21 18:53:24,2016-12-19 17:21:06
kompose,cdrage,https://github.com/kubernetes/kompose/pull/304,https://api.github.com/repos/kubernetes/kompose/issues/304,Switch to spf13/cobra from urfave/cli,"There's A LOT happening in this commit, so here's an outline:

- First off, urfave/cli has been removed in favour of spf13/cobra. With
  this, comes changes to the formatting as well as the help page for
  Kompose.

- Upon converting, I noticed a CLI flag was NOT appearing for OpenShift.
  Specifically, `--deploymentconfig`. This has been added with a note
  that says it is OpenShift only.

- Exit codes have been fixed. If the conversion / down / up fails for
  any reason, Kompose will exit with Code 1.

- `--verbose` as well as `--suppress-warnings` can now be set at the
  same time.

- `app_test.go` in the cli directory has been moved to `pkg/transformer`
  to better reflect the testing coverage.

- `version.go` has been removed and converted to it's own CLI command in
  conjuction with (most) Go software. A new CLI command has been
  created. `kompose version`

- `--dab` isn't a conventional way for short-form CLI paramters. This
  has been shortened to `-b` for bundle.

- CLI flags consisting of only two/three letters have been removed due to
  it being unconventional for CLI. For example, `--dc` was removed in preference
  for `--deploymentconfig`

- `--replicas` has been added as an option when using `kompose down` or
  `kompose up`. This has been added as previously in `app.go` the
  replica amount was hard-coded as `1`.

- Differentiating names have been used for flags. For example,
  persistent flags use the name Global (ex. GlobalOut). Command-specific
  flags have their own names (ex. UpOpt).

Closes https://github.com/kubernetes-incubator/kompose/issues/239 https://github.com/kubernetes-incubator/kompose/issues/253",closed,True,2016-11-21 19:40:53,2017-03-30 13:09:13
kompose,cdrage,https://github.com/kubernetes/kompose/pull/305,https://api.github.com/repos/kubernetes/kompose/issues/305,Remove trailing slash,,closed,True,2016-11-21 20:31:53,2017-03-30 13:09:08
kompose,ankon,https://github.com/kubernetes/kompose/issues/306,https://api.github.com/repos/kubernetes/kompose/issues/306,Default to YAML output,"As per the ""[best practices](http://kubernetes.io/docs/user-guide/config-best-practices/)"":
> Write your configuration files using YAML rather than JSON. They can be used interchangeably in almost all scenarios, but YAML tends to be more user-friendly for config.

I've not followed that advice when I used kompose to convert my docker-compose files, and now need to reconvert+reapply adjustments (or convert via JSON->YAML converter).

Arguments for YAML:
* YAML allows comments
* All examples in kubernetes documentation are YAML

",closed,False,2016-11-22 09:18:59,2017-01-04 18:04:14
kompose,kadel,https://github.com/kubernetes/kompose/pull/307,https://api.github.com/repos/kubernetes/kompose/issues/307,add golint check to travis-ci,"This adds [golint](https://github.com/golang/lint) check to travis.

Golint checks coding standart rules from [Effective Go](https://golang.org/doc/effective_go.html) and the [CodeReviewComments wiki page](https://golang.org/wiki/CodeReviewComments).

Sometimes it can be quite strict and annoying, but I think that we should try it, and see how it goes.

This PR also fixes all the golint errors in the current code.

 


",closed,True,2016-11-22 12:40:41,2017-01-06 13:59:37
kompose,johnt337,https://github.com/kubernetes/kompose/issues/308,https://api.github.com/repos/kubernetes/kompose/issues/308,Convert docker-compose env files into configmaps,"# Convert docker-compose env files

## Context

When it comes to application development, our dev teams tend to want to use docker-compose for its simplicity. However we deploy to kuberentes as our runtime environment of choice.

kompose seems to be the right tool for the job. It is fast, clean, and comprehensive.

## Problem Statement

At current out dev teams have not taken to minikube and so we need a solution to handle conversion.

We are using a combination of tools like github.com/kelseyhightower/compose2kube and github.com/dhoer/k8s-env-gen. It would be great to leverage a tool like kompose to handle all of these things in a single package.

Looking for a cleaner solution, something comprehensive and not custom managed. I tried to convert an existing project that contains docker compose env files and received the following warning. 

![image](https://cloud.githubusercontent.com/assets/1334469/20560684/aff36f74-b148-11e6-9acc-07b45911c2f9.png)

I also found issue #30 which would relate to the scope of this request as well.

## Solution

I'm proposing adding support for docker-compose env file translation.",closed,False,2016-11-23 11:52:57,2017-11-10 01:34:30
kompose,cdrage,https://github.com/kubernetes/kompose/issues/309,https://api.github.com/repos/kubernetes/kompose/issues/309,Unable to run cmd tests under Debian.,"Weird issue running the `cmd` tests under Debian. Getting a weird ""convert"" issue running `make cmd-test`

```
===> Starting test <===
convert::expect_success: Running: 'kompose --bundle /home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/bundles/dab/docker-compose-bundle.dab convert --stdout' expected_output: '/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/bundles/dab/output-k8s.json'
error: too many arguments to post_recurse (expected 0 but got 1)
def post_recurse(f): def r: (f | select(. != null) | r), .; r; def post_recurse: post_recurse(.[]?); ($a | (post_recurse | arrays) |= sort) as $a | ($b | (post_recurse | arrays) |= sort) as $b | $a == $b                                                                                 1 compile error
FAIL: converted output does not match


===> Starting test <===
convert::expect_success_and_warning: Running: 'kompose --bundle /home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/bundles/dsb/docker-voting-bundle.dsb convert --stdout' expected_output: '/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/bundles/dsb/output-k8s.json' expected_warning: 'Service cannot be created because of missing port.'
error: too many arguments to post_recurse (expected 0 but got 1)
def post_recurse(f): def r: (f | select(. != null) | r), .; r; def post_recurse: post_recurse(.[]?); ($a | (post_recurse | arrays) |= sort) as $a | ($b | (post_recurse | arrays) |= sort) as $b | $a == $b                                                                                 1 compile error
FAIL: converted output does not match
Makefile:31: recipe for target 'test-cmd' failed
make: *** [test-cmd] Error 1
```",closed,False,2016-11-24 14:41:13,2016-11-24 18:53:46
kompose,procrypt,https://github.com/kubernetes/kompose/pull/310,https://api.github.com/repos/kubernetes/kompose/issues/310,Multiple compose file support  ,"Fix #275 
cc @kadel @surajssd @aaronlevy ",closed,True,2016-11-25 06:54:14,2016-11-25 07:48:29
kompose,procrypt,https://github.com/kubernetes/kompose/pull/311,https://api.github.com/repos/kubernetes/kompose/issues/311,added support for cpu_shares,,closed,True,2016-11-25 07:57:33,2016-11-25 07:57:38
kompose,procrypt,https://github.com/kubernetes/kompose/pull/312,https://api.github.com/repos/kubernetes/kompose/issues/312,added support for multiple-compose files,"Fix #275 

```bash
$ kompose -f docker-compose.yml,docker-guestbook.yml convert
INFO[0000] file ""redis-master-service.json"" created     
INFO[0000] file ""redis-slave-service.json"" created      
INFO[0000] file ""redis-service.json"" created            
INFO[0000] file ""web-service.json"" created              
INFO[0000] file ""frontend-service.json"" created         
INFO[0000] file ""redis-master-deployment.json"" created  
INFO[0000] file ""redis-slave-deployment.json"" created   
INFO[0000] file ""redis-deployment.json"" created         
INFO[0000] file ""web-deployment.json"" created           
INFO[0000] file ""frontend-deployment.json"" created 
```
cc @kadel @surajssd",closed,True,2016-11-25 08:10:16,2017-01-03 12:35:49
kompose,dustymabe,https://github.com/kubernetes/kompose/pull/313,https://api.github.com/repos/kubernetes/kompose/issues/313,godeps: remove quotes from one entry,,closed,True,2016-11-26 19:10:10,2016-12-26 07:14:01
kompose,kadel,https://github.com/kubernetes/kompose/issues/314,https://api.github.com/repos/kubernetes/kompose/issues/314,Replace godep with glide,"We had a lot of issues with `godep` it is time to switch to `glide`.
If we use `glide` we can get rid of ugly [godep-restore.sh](https://github.com/kubernetes-incubator/kompose/blob/master/script/godep-restore.sh)",closed,False,2016-11-28 09:47:08,2016-12-16 08:10:40
kompose,cdrage,https://github.com/kubernetes/kompose/issues/315,https://api.github.com/repos/kubernetes/kompose/issues/315,Update roadmap / split into ROADMAP.md with relevant information,"So a few things look out of date / completed in the road map within README.md.

I say we split this into ROADMAP.md and have a more up-to-date / future plan. Including listing all past ""accomplishments"".",closed,False,2016-11-28 15:00:15,2016-11-29 13:36:15
kompose,cdrage,https://github.com/kubernetes/kompose/pull/316,https://api.github.com/repos/kubernetes/kompose/issues/316,Add release script,"This adds a release script automating the changelog, notes as well as
release (to GitHub) via the CLI / a simple script.

The caveat is the next release will have to have `v` removed from the
title in order for `changelog()` function to work correctly.

Some changes to all upcoming releases are:
 - Using `git shortlog` instead of
   https://github.com/skywinder/Github-Changelog-Generator",closed,True,2016-11-28 15:34:34,2017-03-30 13:08:13
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/317,https://api.github.com/repos/kubernetes/kompose/issues/317,support parse key-only environment variable,"fix #303 
",closed,True,2016-11-28 21:26:00,2016-12-19 17:21:06
kompose,surajssd,https://github.com/kubernetes/kompose/issues/318,https://api.github.com/repos/kubernetes/kompose/issues/318,"restart: Unsupported value: ""OnFailure"": supported values: Always ","Using this docker-compose file

```yaml
$ cat docker-compose.yml 
version: ""2""
services:
  mariadb:
    image: centos/mariadb
    restart: on-failure
```

which fails as
```bash
$ kompose up
WARN[0000] [mariadb] Service cannot be created because of missing port. 
We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead. 

FATA[0000] Error while deploying application: Deployment.extensions ""mariadb"" is invalid: spec.template.spec.restartPolicy: Unsupported value: ""OnFailure"": supported values: Always 
```

when converted it looks like this:

```yaml
$ cat mariadb.yml 
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  creationTimestamp: null
  name: mariadb
spec:
  replicas: 1
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        service: mariadb
    spec:
      containers:
      - image: centos/mariadb
        name: mariadb
        resources: {}
      restartPolicy: OnFailure
status: {}
```

so this cannot be `OnFailure` it always has to be `Always` which stops us from using `docker-compose`'s `restart: on-failure` to simulate kubernetes jobs.",closed,False,2016-11-30 15:16:43,2017-01-04 20:16:25
kompose,kadel,https://github.com/kubernetes/kompose/pull/319,https://api.github.com/repos/kubernetes/kompose/issues/319,Switch from godep to glide,"fixed #314

I tried to use Glide instead of Godep, setting up was surprisingly easy.
With only one catch: You need to run `glide update` with `--strip-vendor` otherwise glide keeps vendor directories inside kompose vendor dir (`/vendor/.../vendor/...`) In some project this can be useful, but kompose can't be build whit this.
Overall I really like glide.

**But** (there is always but :sunglasses: )
It looks like glide is not striping unused code from vendored dependencies , like godep does.
with glide vendor is **277M** :-(
with godep it was **52M**

https://github.com/sgotti/glide-vc might help with that. (haven't tried yet)
Or we can remove vendor from git as @ngtuna suggested [here](https://github.com/kubernetes-incubator/kompose/pull/297#issuecomment-263586556). But I expressed my view there. I think it is better to keep vendor in project repo.",closed,True,2016-11-30 15:55:37,2016-12-16 08:50:36
kompose,surajssd,https://github.com/kubernetes/kompose/issues/320,https://api.github.com/repos/kubernetes/kompose/issues/320,kompose errors identifying string in docker-compose,"when using docker-compose file 
```yaml
version: ""2"" 
services:
  mariadb:
    image: centos/mariadb
    restart: no
```

failed saying val should be string
```bash
$ kompose convert --stdout > /dev/null 
ERRO[0000] Could not parse config for project onfailure : Service 'mariadb' configuration key 'restart' contains an invalid type, it should be a string. 
FATA[0000] Failed to load compose file: Service 'mariadb' configuration key 'restart' contains an invalid type, it should be a string. 
$ echo $?
1
```

but this works fine

```yaml
version: ""2"" 
services:
  mariadb:
    image: centos/mariadb
    restart: on-failure
```

```bash
$ kompose convert --stdout > /dev/null 
WARN[0000] [mariadb] Service cannot be created because of missing port.
$ echo $?
0
```


also this works fine

```yaml
version: ""2"" 
services:
  mariadb:
    image: centos/mariadb
    restart: ""no""
```
",closed,False,2016-12-01 05:56:35,2016-12-05 13:26:24
kompose,surajssd,https://github.com/kubernetes/kompose/pull/321,https://api.github.com/repos/kubernetes/kompose/issues/321,IntelliJ IDE .gitignore,added .gitignore for IntelliJ IDE files,closed,True,2016-12-01 07:19:50,2016-12-01 10:44:07
kompose,surajssd,https://github.com/kubernetes/kompose/pull/322,https://api.github.com/repos/kubernetes/kompose/issues/322,Added installation instructions of rpm,"kompose is packaged for CentOS and Fedora, so added easy installation
instructions.",closed,True,2016-12-02 09:34:27,2016-12-07 12:01:43
kompose,procrypt,https://github.com/kubernetes/kompose/issues/323,https://api.github.com/repos/kubernetes/kompose/issues/323,Functional tests for OpenShift down,Need functional tests for #280 ,closed,False,2016-12-05 04:43:27,2017-06-28 12:42:46
kompose,rtnpro,https://github.com/kubernetes/kompose/pull/324,https://api.github.com/repos/kubernetes/kompose/issues/324,Unsupported keys per provider,Separate unsupported keys based on provider.,closed,True,2016-12-05 21:17:44,2017-07-12 17:50:01
kompose,procrypt,https://github.com/kubernetes/kompose/pull/325,https://api.github.com/repos/kubernetes/kompose/issues/325,[WIP] Mapping for docker-compose to k8s and openshift conversion,"WIP for #82 

cc @kadel ",closed,True,2016-12-06 14:08:02,2017-02-07 16:27:30
kompose,cdrage,https://github.com/kubernetes/kompose/pull/326,https://api.github.com/repos/kubernetes/kompose/issues/326,Add ROADMAP.md move current road map information,"Adds ROADMAP.md to the root directory with milestone links to all
upcoming major releases.

Closes https://github.com/kubernetes-incubator/kompose/issues/250",closed,True,2016-12-06 18:58:49,2017-03-30 13:08:16
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/327,https://api.github.com/repos/kubernetes/kompose/issues/327,Determine group membership,"Currently it seems that I cannot add folks to the contributor group.

We need a group that can attache labels, and assign tickets to themselves.

+ determine who gets write access to the repo.

There is no incubator wide rules on this afaik.",closed,False,2016-12-07 08:33:27,2016-12-11 18:50:03
kompose,sebgoa,https://github.com/kubernetes/kompose/issues/328,https://api.github.com/repos/kubernetes/kompose/issues/328,Get kompose in kubernetes repo,"kubeadm can be installed via:

```
# cat <<EOF > /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=http://yum.kubernetes.io/repos/kubernetes-el7-x86_64
enabled=1
gpgcheck=1
repo_gpgcheck=1
gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg
       https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
EOF
# setenforce 0
# yum install -y docker kubelet kubeadm kubectl kubernetes-cni
# systemctl enable docker && systemctl start docker
# systemctl enable kubelet && systemctl start kubelet
```

We need to get kompose in the pipeline to get added there.

",closed,False,2016-12-07 08:51:55,2018-02-17 15:25:00
kompose,kadel,https://github.com/kubernetes/kompose/pull/329,https://api.github.com/repos/kubernetes/kompose/issues/329,Report code coverage to coveralls,"quick fix for Coveralls problem 
#287 ",closed,True,2016-12-07 15:15:37,2016-12-07 16:46:22
kompose,kadel,https://github.com/kubernetes/kompose/issues/330,https://api.github.com/repos/kubernetes/kompose/issues/330,Improve coveralls.io reporting,"Packages that don't have any tests are not included in coveralls report.

We should find a way how to include them in reports, so we have accurate coverage number.

",closed,False,2016-12-07 17:00:19,2017-12-20 16:41:48
kompose,cdrage,https://github.com/kubernetes/kompose/issues/331,https://api.github.com/repos/kubernetes/kompose/issues/331,Removing unconventional two letter flags + adding dashes in-between two letter words.,"Using multi-two-letter flags is unconventional and against common CLI usages.

For example:

```
   --replicationcontroller, --rc        Generate a Kubernetes replication controller object
```

Should either be JUST `--rc` or `--replicationcontroller`.

Ideally, flags with two names should have dashes in between them, such as `--replication-controller`.

Common CLI tools such as `kubectl` and `oc` use these conventions and considering most of the users are coming from these tools, we should follow suit.

PR is available here with these changes: #304 ",closed,False,2016-12-07 18:53:12,2017-01-03 15:39:38
kompose,kadel,https://github.com/kubernetes/kompose/pull/332,https://api.github.com/repos/kubernetes/kompose/issues/332,Update RPM instalaion instructions in README.md,,closed,True,2016-12-07 19:21:39,2016-12-08 13:48:49
kompose,cdrage,https://github.com/kubernetes/kompose/pull/333,https://api.github.com/repos/kubernetes/kompose/issues/333,Fix container_name incorrectly being generated,"Checks to see if ""container_name"" is used correctly in a docker-compose
file conversion and updates the changes respectively in the outputted
artifact files.

For example with container_name set as myfoobarname, the change will
correctly update the ""containerNames"" portion of the deployment-config
for OpenShift.

""imageChangeParams"": {
  ""automatic"": true,
  ""containerNames"": [
    ""myfoobarname""
  ],
  ""from"": {
    ""kind"": ""ImageStreamTag"",
    ""name"": ""rabbit:3.6.1""
  }
}

Closes https://github.com/kubernetes-incubator/kompose/issues/301",closed,True,2016-12-08 18:51:37,2017-03-30 13:08:54
kompose,surajssd,https://github.com/kubernetes/kompose/pull/334,https://api.github.com/repos/kubernetes/kompose/issues/334,support for raw pod output without controller,"if a user specifies a docker-compose service with restart value as ""no"" or ""on-failure"" then normal pod will be created as against to a controller and a pod.",closed,True,2016-12-12 11:46:16,2016-12-15 06:27:13
kompose,OguzPastirmaci,https://github.com/kubernetes/kompose/issues/335,https://api.github.com/repos/kubernetes/kompose/issues/335,Support for host:container:protocol,"Marked as fixed in #158 but I still get the same error.

Definition in docker-compose file:
ports:
  - 127.0.0.1:15000:15000/tcp
  - 127.0.0.1:15001:15001/udp

FATA[0000] ""agent"" failed to load ports from compose file: invalid host port ""127.0.0.1:15000:15000/tcp""

root@350035d7afc9:/compose# kompose -v
kompose version 0.1.2 (92ea047)

Let me know if I'm missing something.",closed,False,2016-12-12 23:58:54,2017-02-10 09:51:37
kompose,ghost,https://github.com/kubernetes/kompose/issues/336,https://api.github.com/repos/kubernetes/kompose/issues/336,yml support,Do you guys plan to bring support for yaml files. Currently `kompose` generates JSON files only.,closed,False,2016-12-14 10:44:05,2016-12-14 12:24:43
kompose,containscafeine,https://github.com/kubernetes/kompose/pull/337,https://api.github.com/repos/kubernetes/kompose/issues/337,"implement storing to directory or file, add functional tests","Fix #209 
",closed,True,2016-12-14 19:01:06,2016-12-21 12:52:46
kompose,cab105,https://github.com/kubernetes/kompose/pull/338,https://api.github.com/repos/kubernetes/kompose/issues/338,#231 Invoking kompose --bundle X.dab convert --stdout will produce tw…,…o differently ordered results,closed,True,2016-12-14 20:34:54,2016-12-18 14:02:41
kompose,procrypt,https://github.com/kubernetes/kompose/pull/339,https://api.github.com/repos/kubernetes/kompose/issues/339,make YAML the default kompose conversion ,"FIX #306 

cc @kadel @surajssd 

```bash
$ kompose convert
INFO[0000] file ""mlbparks-service.yaml"" created         
INFO[0000] file ""mongodb-service.yaml"" created          
INFO[0000] file ""mlbparks-deployment.yaml"" created      
INFO[0000] file ""mongodb-deployment.yaml"" created       
INFO[0000] file ""mongodb-claim0-persistentvolumeclaim.yaml"" created 
```

```bash
$ kompose convert -j
INFO[0000] file ""mlbparks-service.json"" created         
INFO[0000] file ""mongodb-service.json"" created          
INFO[0000] file ""mlbparks-deployment.json"" created      
INFO[0000] file ""mongodb-deployment.json"" created       
INFO[0000] file ""mongodb-claim0-persistentvolumeclaim.json"" created
```",closed,True,2016-12-16 10:44:45,2017-01-04 18:05:44
kompose,surajssd,https://github.com/kubernetes/kompose/pull/340,https://api.github.com/repos/kubernetes/kompose/issues/340,update vendored dependencies,,closed,True,2016-12-16 12:36:43,2016-12-16 15:12:59
kompose,surajssd,https://github.com/kubernetes/kompose/pull/341,https://api.github.com/repos/kubernetes/kompose/issues/341,updated dev docs with latest instructions,cleaned up development docs to have latest changes,closed,True,2016-12-16 18:42:42,2017-01-04 18:08:13
kompose,surajssd,https://github.com/kubernetes/kompose/issues/342,https://api.github.com/repos/kubernetes/kompose/issues/342,kompose up/down not creating/deleting POD object generated with convert,,closed,False,2016-12-21 13:53:58,2017-01-11 15:58:00
kompose,surajssd,https://github.com/kubernetes/kompose/issues/343,https://api.github.com/repos/kubernetes/kompose/issues/343,fix unit tests that cause warnings,"There are some unit tests that cause warnings which clutters the unit test output

```bash
✔ ~/go/src/github.com/kubernetes-incubator/kompose [master L|✔]
17:36 $ make test-unit
./script/make.sh test-unit
---> Making bundle: test-unit (in .)
?       github.com/kubernetes-incubator/kompose [no test files]
<snip>
       kubernetes_test.go:215: Test case: Convert to Ingress: label set to example.com
=== RUN   TestKomposeConvert
time=""2016-12-23T17:37:27+05:30"" level=warning msg=""Ignoring user directive. User to be specified as a UID (numeric).""
time=""2016-12-23T17:37:27+05:30"" level=warning msg=""Ignoring user directive. User to be specified as a UID (numeric).""
time=""2016-12-23T17:37:27+05:30"" level=warning msg=""Ignoring user directive. User to be specified as a UID (numeric).""
time=""2016-12-23T17:37:27+05:30"" level=warning msg=""Ignoring user directive. User to be specified as a UID (numeric).""
time=""2016-12-23T17:37:27+05:30"" level=warning msg=""Ignoring user directive. User to be specified as a UID (numeric).""
time=""2016-12-23T17:37:27+05:30"" level=warning msg=""Ignoring user directive. User to be specified as a UID (numeric).""
<snip>
```

",closed,False,2016-12-23 12:13:58,2017-01-18 14:53:00
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/344,https://api.github.com/repos/kubernetes/kompose/issues/344,support for stdin_open and tty keys,"Hi,

My docker-compose.yml looks something like - 

```yaml
version: ""2""
services:
  client:
     image: registry.centos.org/centos/centos:7
     stdin_open: true
     tty: true
```

`kompose up` gives me -
```bash
WARN[0000] Unsupported stdin_open key - ignoring        
WARN[0000] Unsupported tty key - ignoring               
WARN[0000] [client] Service cannot be created because of missing port. 
We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead. 

INFO[0000] Successfully created Deployment: client      

Your application has been deployed to Kubernetes. You can run 'kubectl get deployment,svc,pods,pvc' for details.
```

Since these keys are unsupported, the pod goes from Running to Completed to CrashLoopBackOff

```bash
$ kubectl get pods -w
NAME                      READY     STATUS              RESTARTS   AGE
client-2474090665-o7wdc   0/1       ContainerCreating   0          1s
NAME                      READY     STATUS      RESTARTS   AGE
client-2474090665-o7wdc   0/1       Completed   0          1s
client-2474090665-o7wdc   0/1       Completed   1         2s
client-2474090665-o7wdc   0/1       CrashLoopBackOff   1         3s
client-2474090665-o7wdc   0/1       Completed   2         16s
```

It would be great if `stdin_open` and `tty` could be supported.

Here is the equivalent in Kubernetes world - 

```yaml
apiVersion: extensions/v1beta1
kind: Deployment
...
spec:
...
  template:
    metadata:
    ...
    spec:
      containers:
      - stdin: true
        tty: true
        image: registry.centos.org/centos/centos:7
```",closed,False,2016-12-25 09:48:11,2016-12-28 10:48:26
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/345,https://api.github.com/repos/kubernetes/kompose/issues/345,"Show ""next steps"" after kompose convert","It would be great if we output a message relaying the ""what next"" information after `kompose convert` is run.

For e.g.
- If a `pvc` object is created, we should display something like ""you need to have a `pv` ready to use this object""
- In case of a missing port, ""you might want to expose this service manually since kompose could not detect a port""

Thoughts?",open,False,2016-12-27 09:30:09,2018-01-02 20:21:55
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/346,https://api.github.com/repos/kubernetes/kompose/issues/346,kubernetes_test.go and openshift_test.go follow different patterns,"It would be great if `openshift_test.go` follows the same pattern as `kubernetes_test.go`. Currently the way the tests are written vary very differently, and I don't see the need for them to vary.",closed,False,2016-12-27 10:21:46,2018-03-06 14:02:59
kompose,surajssd,https://github.com/kubernetes/kompose/pull/347,https://api.github.com/repos/kubernetes/kompose/issues/347,Flag validation called on up and down,"On kompose up and kompose down flag validation
was done which is validating flags that are not there
in kompose up and kompose down",closed,True,2016-12-27 10:32:01,2016-12-27 12:25:03
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/348,https://api.github.com/repos/kubernetes/kompose/issues/348,Abstract out api.PodSpec in kubernetes.go,"`api.PodSpec` is being used 4 times in `kubernetes.go` for RC, Deployment, DS and Pod generation.

Just putting it out there that this can be abstracted out.",closed,False,2016-12-27 11:21:34,2017-02-22 15:47:31
kompose,surajssd,https://github.com/kubernetes/kompose/issues/349,https://api.github.com/repos/kubernetes/kompose/issues/349,Tests before merge,"After a maintainer does merge, tests should run with PR rebased with master, and if all tests pass then only merge should happen. I think this can be implemented with travis. ",closed,False,2016-12-27 11:44:09,2017-07-18 05:13:44
kompose,containscafeine,https://github.com/kubernetes/kompose/pull/350,https://api.github.com/repos/kubernetes/kompose/issues/350,"add stdin_open, tty support, add tests, fix #344","This adds supports for stdin_open: bool and
tty: bool support for kubernetes and openshift
providers in kompose. This maps to the
template.Spec.Containers[0].Stdin and
template.Spec.Containers[0].TTY in Kubernets
world.

Also, added tests.

Fixes #344",closed,True,2016-12-27 11:56:14,2016-12-28 10:48:26
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/351,https://api.github.com/repos/kubernetes/kompose/issues/351,Improve logging messages in unit tests,"If would be great if unit tests throw better log messages while bring run, this would help in better troubleshooting which tests are failing and which are passing.",closed,False,2016-12-28 10:27:10,2018-01-02 20:20:23
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/352,https://api.github.com/repos/kubernetes/kompose/issues/352,add support for docker-compose.yaml besides docker-compose.yml,It would be great if kompose would also look for `docker-compose.yaml` besides `docker-compose.yml` in the current directory.,closed,False,2016-12-28 18:58:27,2017-01-30 14:21:34
kompose,surajssd,https://github.com/kubernetes/kompose/issues/353,https://api.github.com/repos/kubernetes/kompose/issues/353,Add support for s2i in buildconfigs for OpenShift,"right now the build startegy is Docker only, it would be great if s2i is also supported.",closed,False,2017-01-02 06:24:20,2018-03-06 14:01:57
kompose,kadel,https://github.com/kubernetes/kompose/issues/354,https://api.github.com/repos/kubernetes/kompose/issues/354,error should be displayed If controller object is specified  and `restart: on-failure` ,"```yaml
version: ""2""

services:
  foo:
    image: ""busybox""
    restart: ""on-failure""
    command: [""sleep"", ""30s""]
```

```
./kompose convert --deployment
INFO[0000] file ""foo-pod.json"" created
```

I would expect error or at least warning.",closed,False,2017-01-03 12:01:20,2017-01-30 14:21:20
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/355,https://api.github.com/repos/kubernetes/kompose/issues/355,kompose binary per merge? (add nightlies),"Hi team,

We are merging PRs to master which result from the issues we face during deployments everyday. This code goes into master and we can build it locally after pulling it.

Is there any way we can host the kompose binary somewhere, resulting from the current state of master?

This would help in making the conversion and deployment automated by simply downloading the binary and running it instead of building the code locally from master and then do the deployments.

Some place where maybe Travis can push the binary after each merge, like AWS S3 or Dropbox or Google Drive?

Thoughts?",closed,False,2017-01-03 14:06:41,2017-08-29 20:58:16
kompose,cdrage,https://github.com/kubernetes/kompose/pull/356,https://api.github.com/repos/kubernetes/kompose/issues/356,Update vendoring as well as libcompose,"This commit updates libcompose in order to merge in
https://github.com/docker/libcompose/pull/423 which affected
https://github.com/kubernetes-incubator/kompose/issues/92 by not
erroring out when an image name wasn't provided.

Closes https://github.com/kubernetes-incubator/kompose/issues/92

As well as knocks out the last required milestone for a 0.2.1 release
https://github.com/kubernetes-incubator/kompose/milestone/2",closed,True,2017-01-03 19:42:03,2017-03-30 13:10:02
kompose,ncoghlan,https://github.com/kubernetes/kompose/issues/357,https://api.github.com/repos/kubernetes/kompose/issues/357,"""Failed to unmarshal MaporSlice"" attempt to convert Sentry quick start","I attempted to use the Fedora `kompose` package to convert https://github.com/getsentry/onpremise to Kubernetes/OpenShift and got the following error:

```
ERRO[0000] Could not parse config for project sentryonopenshift : Failed to unmarshal MaporSlice 
FATA[0000] Failed to load compose file: Failed to unmarshal MaporSlice 
```

The Fedora package was last updated in October though, so I'm going to try building from source and see if that works:

```
$ rpm -qa kompose
kompose-0.1.2-0.1.git92ea047.fc25.x86_64
```
",closed,False,2017-01-04 06:39:57,2017-04-28 10:18:23
kompose,kadel,https://github.com/kubernetes/kompose/issues/358,https://api.github.com/repos/kubernetes/kompose/issues/358,disable coveralls.io comments,"It is starting get a little bit annoying that coveralls comments to for every push to PR.

Maybe we should consider disabling coveralls comments (this can be done in coveralls.io settings). Increase or decrease of coverage for PR can be still seen in status checks.

I think that only one who has permission to change coveralls.io settings are repository admins (@sebgoa)

",closed,False,2017-01-05 10:17:29,2017-01-11 13:27:48
kompose,kadel,https://github.com/kubernetes/kompose/pull/359,https://api.github.com/repos/kubernetes/kompose/issues/359,update roadmap,info about monthly releases,closed,True,2017-01-05 11:53:17,2017-01-12 08:49:06
kompose,kadel,https://github.com/kubernetes/kompose/pull/360,https://api.github.com/repos/kubernetes/kompose/issues/360,Small simplification of kubernetes.PrintList,"Use reflect instead of big type switch that was prone to errors.

This should prevent future errors, where we forgot add new type to that git  switch.",closed,True,2017-01-05 15:53:48,2017-01-09 06:02:39
kompose,surajssd,https://github.com/kubernetes/kompose/issues/361,https://api.github.com/repos/kubernetes/kompose/issues/361,cmd tests written after `convert::files_exist` does not pass,In cmd functional tests in `script/test/cmd/tests.sh` after function `convert::files_exist:` is called any other function like `convert::expect_success` does not pass.,closed,False,2017-01-05 17:36:48,2017-01-06 11:20:30
kompose,surajssd,https://github.com/kubernetes/kompose/pull/362,https://api.github.com/repos/kubernetes/kompose/issues/362,Fixing functional tests for checking generated artifacts,"Earlier any test written after check_file_exist would
fail, so fixed it with new function.

Fixes https://github.com/kubernetes-incubator/kompose/issues/361",closed,True,2017-01-05 19:06:38,2017-01-06 13:38:23
kompose,ngtuna,https://github.com/kubernetes/kompose/pull/363,https://api.github.com/repos/kubernetes/kompose/issues/363,add deploy/undeploy pod only,"ref: #342

Ping @surajssd @kadel ",closed,True,2017-01-05 23:58:57,2017-01-11 15:57:43
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/364,https://api.github.com/repos/kubernetes/kompose/issues/364,add support for mem_limit in kompose,"It would be great to have support for [mem_limit](https://docs.docker.com/compose/compose-file/#/cpushares-cpuquota-cpuset-domainname-hostname-ipc-macaddress-memlimit-memswaplimit-oomscoreadj-privileged-readonly-restart-shmsize-stdinopen-tty-user-workingdir) which should translate to a pod's spec like -

```yaml
spec:
  containers:
  - image: nginx
    imagePullPolicy: Always
    name: nginx
    resources:
      limits:
        memory: 200Mi
    terminationMessagePath: /dev/termination-log
    volumeMounts:
```",closed,False,2017-01-06 14:37:45,2017-01-06 15:39:07
kompose,cdrage,https://github.com/kubernetes/kompose/issues/365,https://api.github.com/repos/kubernetes/kompose/issues/365,Unsupported root level networks key despite no networks,"The warning could be a bit more descriptive, but upon converting:
```
▶ cat script/test/fixtures/tty-true/docker-compose.yml 
version: ""2""
services:
  client:
    image: registry.centos.org/centos/centos:7
    ports:
    - ""1337""
    tty: true
```

It appears to output a warning in regards to a root level network, despite none being defined.

```
github.com/kubernetes-incubator/kompose  update-vendoring ✔                                                                                                                                                                                                                  2d
▶ kompose -f /home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/tty-true/docker-compose.yml convert --stdout -j
WARN[0000] Unsupported root level networks key - ignoring
{                            
  ""kind"": ""List"",
  ""apiVersion"": ""v1"",
  ""metadata"": {},          
  ""items"": [      
    {                            
      ""kind"": ""Service"",                                       
      ""apiVersion"": ""v1"",     
      ""metadata"": {      
```",closed,False,2017-01-06 14:42:37,2017-03-22 14:26:58
kompose,surajssd,https://github.com/kubernetes/kompose/pull/366,https://api.github.com/repos/kubernetes/kompose/issues/366,Preference file implementation using viper,"now user can provider a prefernce file where s(he) can mention
what controllers to generate.",closed,True,2017-01-06 16:53:15,2017-02-06 20:09:24
kompose,surajssd,https://github.com/kubernetes/kompose/pull/367,https://api.github.com/repos/kubernetes/kompose/issues/367,Added default input file as docker-compose.yml,"There was missing default docker-compose.yml so added it.

Fixes https://github.com/kubernetes-incubator/kompose/issues/369",closed,True,2017-01-08 13:07:50,2017-01-10 12:11:45
kompose,procrypt,https://github.com/kubernetes/kompose/pull/368,https://api.github.com/repos/kubernetes/kompose/issues/368,added support for docker-compose.yaml besides docker-compose.yml,"Now `kompose` will look for `docker-compose.yml` as well as `docker-compose.yaml` in the current directory, when `-f` or `--file` flag in not given .
```console
$ ls
docker-compose.yml
$ kompose convert
INFO[0000] file ""mlbparks-service.yaml"" created         
INFO[0000] file ""mongodb-service.yaml"" created          
INFO[0000] file ""mlbparks-deployment.yaml"" created      
INFO[0000] file ""mongodb-deployment.yaml"" created       
INFO[0000] file ""mongodb-claim0-persistentvolumeclaim.yaml"" created
```

```console
$ ls
docker-compose.yaml
$ kompose convert
INFO[0000] file ""mlbparks-service.yaml"" created         
INFO[0000] file ""mongodb-service.yaml"" created          
INFO[0000] file ""mlbparks-deployment.yaml"" created      
INFO[0000] file ""mongodb-deployment.yaml"" created       
INFO[0000] file ""mongodb-claim0-persistentvolumeclaim.yaml"" created
```
cc. @containscafeine @surajssd @kadel
Fixes #352 and #369 includes functional tests
I think we can now close #367 ",closed,True,2017-01-09 05:19:55,2017-01-30 14:21:34
kompose,surajssd,https://github.com/kubernetes/kompose/issues/369,https://api.github.com/repos/kubernetes/kompose/issues/369,panic on using --build-branch and default docker-compose file given,"```bash
✔ ~/go/src/github.com/kubernetes-incubator/kompose/examples/buildconfig [master L|✔] 
11:11 $ kompose --provider openshift convert --build-repo https://github.com/kubernetes-incubator/kompose
panic: runtime error: index out of range

goroutine 1 [running]:
panic(0x19e8000, 0xc4200101a0)
        /usr/local/go/src/runtime/panic.go:500 +0x1a1
github.com/kubernetes-incubator/kompose/pkg/transformer/openshift.getComposeFileDir(0x29e2610, 0x0, 0x0, 0x1, 0x2, 0xc420188a80, 0x1)
        /home/hummer/go/src/github.com/kubernetes-incubator/kompose/pkg/transformer/openshift/openshift.go:118 +0x198
github.com/kubernetes-incubator/kompose/pkg/transformer/openshift.(*OpenShift).Transform(0xc4201d0d90, 0xc4201ebce0, 0x1c08af8, 0x7, 0x100000000, 0x7ffd10d112c1, 0x2f, 0x0, 0x0, 0x0, ...)
        /home/hummer/go/src/github.com/kubernetes-incubator/kompose/pkg/transformer/openshift/openshift.go:338 +0xf82
github.com/kubernetes-incubator/kompose/pkg/app.Convert(0x100000000, 0x7ffd10d112c1, 0x2f, 0x0, 0x0, 0x0, 0x1, 0x29e2610, 0x0, 0x0, ...)
        /home/hummer/go/src/github.com/kubernetes-incubator/kompose/pkg/app/app.go:201 +0x22d
github.com/kubernetes-incubator/kompose/cmd.glob..func2(0x29b4380, 0xc4200a8100, 0x0, 0x4)
        /home/hummer/go/src/github.com/kubernetes-incubator/kompose/cmd/convert.go:80 +0x3f
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).execute(0x29b4380, 0xc4200a80c0, 0x4, 0x4, 0x29b4380, 0xc4200a80c0)
        /home/hummer/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:636 +0x443
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x29b47c0, 0xc42000c118, 0x0, 0xc4204dfed0)
        /home/hummer/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:722 +0x367
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).Execute(0x29b47c0, 0x0, 0x0)
        /home/hummer/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:681 +0x2b
github.com/kubernetes-incubator/kompose/cmd.Execute()
        /home/hummer/go/src/github.com/kubernetes-incubator/kompose/cmd/root.go:86 +0x31
main.main()
        /home/hummer/go/src/github.com/kubernetes-incubator/kompose/main.go:22 +0x14
```

but if given a file with `-f` flag as following everything works fine

```bash
✘-2 ~/go/src/github.com/kubernetes-incubator/kompose/examples/buildconfig [master L|✔] 
11:12 $ kompose --provider openshift -f docker-compose.yml convert --build-repo https://github.com/kubernetes-incubator/kompose
WARN[0000] [foo] Service cannot be created because of missing port. 
INFO[0000] Buildconfig using https://github.com/kubernetes-incubator/kompose::master as source. 
INFO[0000] file ""foo-deploymentconfig.yaml"" created     
INFO[0000] file ""foo-imagestream.yaml"" created          
INFO[0000] file ""foo-buildconfig.yaml"" created          
```",closed,False,2017-01-09 05:44:36,2017-02-09 13:26:34
kompose,cdrage,https://github.com/kubernetes/kompose/pull/370,https://api.github.com/repos/kubernetes/kompose/issues/370,Add bash auto completion support,"Adds auto completion support that's generated via:
```
$ kompose complete
```

This file is added to /etc/bash_completion.d/kompose.sh",closed,True,2017-01-09 16:06:22,2017-03-30 13:07:55
kompose,surajssd,https://github.com/kubernetes/kompose/pull/371,https://api.github.com/repos/kubernetes/kompose/issues/371,updated pods example in user guide,"earlier example has mariadb updated with more sensible example that users can try out, since it also simulates a job like behavior.",closed,True,2017-01-10 06:40:28,2017-01-10 14:36:33
kompose,rtnpro,https://github.com/kubernetes/kompose/pull/372,https://api.github.com/repos/kubernetes/kompose/issues/372,[WIP] Support local container builds for k8s/openshift,This implements support for local container builds for k8s/openshift and pushing it to the specified registry. The user needs to setup the Docker client so that it can access to the target registry.,closed,True,2017-01-10 12:42:23,2017-03-29 20:19:26
kompose,procrypt,https://github.com/kubernetes/kompose/pull/373,https://api.github.com/repos/kubernetes/kompose/issues/373,"error out if controller object is specified with ""restart: on-failure""","Fixes #354 
CC: @kadel @surajssd ",closed,True,2017-01-11 11:32:11,2017-01-30 14:21:21
kompose,containscafeine,https://github.com/kubernetes/kompose/pull/374,https://api.github.com/repos/kubernetes/kompose/issues/374,[WIP] bump libcompose to v0.4.0,,closed,True,2017-01-11 22:36:40,2017-01-12 20:31:11
kompose,containscafeine,https://github.com/kubernetes/kompose/pull/375,https://api.github.com/repos/kubernetes/kompose/issues/375,[WIP] add support for mem_limit,,closed,True,2017-01-11 22:39:36,2017-02-06 20:12:11
kompose,cdrage,https://github.com/kubernetes/kompose/issues/376,https://api.github.com/repos/kubernetes/kompose/issues/376,Should we not generate PVC's by default?,"The current default is to generate a PVC with *only* 100Mb of available memory.

Ex:
```
WARN[0000] Unsupported depends_on key - ignoring
WARN[0000] Unsupported network_mode key - ignoring
WARN[0000] Volume mount on the host ""./media"" isn't supported - ignoring path on the host
WARN[0000] Volume mount on the host ""./media"" isn't supported - ignoring path on the host
```

Yet it still build PVC's. 

Should we (by default) NOT generate volume mounts? 
",closed,False,2017-01-12 17:10:55,2017-05-03 14:16:34
kompose,containscafeine,https://github.com/kubernetes/kompose/pull/377,https://api.github.com/repos/kubernetes/kompose/issues/377,bump libcompose to v0.4.0,"bumping libcompose to their latest release v0.4.0

CC: @kadel @cdrage @surajssd ",closed,True,2017-01-12 20:30:20,2017-01-12 21:31:41
kompose,containscafeine,https://github.com/kubernetes/kompose/pull/378,https://api.github.com/repos/kubernetes/kompose/issues/378,"change strategy to recreate if volumes present, fix #264",,closed,True,2017-01-12 23:52:40,2017-02-21 08:07:06
kompose,jonathanstiansen,https://github.com/kubernetes/kompose/issues/379,https://api.github.com/repos/kubernetes/kompose/issues/379,Converting docker-compose file on mac: `panic: runtime error`,"Hey guys, first post. If I need anymore info, just let me know. First time use, trying to follow your README but this is what I got. I used the `go get` method of installation


Details:
Mac OSX El Capitan 10.11.6

```
jono@JonosMacbookPro:~/p/portal3|⚡*?                                                                           
➤ echo $GOPATH
/Users/jono/golang
jono@JonosMacbookPro:~/p/portal3|⚡*?                                                                           
➤ echo $GOROOT
/usr/local/opt/go/libexec
jono@JonosMacbookPro:~/p/portal3|⚡*?                                                                           
# First I tried Go version 1.6.x and it had the same thing, this is run with 1.7
➤ go version
go version go1.7.4 darwin/amd64
jono@JonosMacbookPro:~/p/portal3⚡*?                                                                           
➤ kompose -f docker-compose.yml convert
panic: runtime error: invalid memory address or nil pointer dereference
[signal 0xb code=0x1 addr=0x18 pc=0xb454f0]

goroutine 1 [running]:
panic(0x1f0dd80, 0xc8200100d0)
        /usr/local/opt/go/libexec/src/runtime/panic.go:481 +0x3e6
github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project.(*Project).handleVolumeConfig(0xc8200d0700)
        /Users/jono/golang/src/github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project/project.go:319 +0x430
github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project.(*Project).load(0xc8200d0700, 0x7fff5fbffa73, 0x12, 0xc820282000, 0x3a5, 0x5a5, 0x0, 0x0)
        /Users/jono/golang/src/github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project/project.go:235 +0x649
github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project.(*Project).Parse(0xc8200d0700, 0x0, 0x0)
        /Users/jono/golang/src/github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project/project.go:112 +0x335
github.com/kubernetes-incubator/kompose/pkg/loader/compose.(*Compose).LoadFile(0x3512d68, 0xc8202732a0, 0x1, 0x1, 0x0, 0x0, 0x0)
        /Users/jono/golang/src/github.com/kubernetes-incubator/kompose/pkg/loader/compose/compose.go:262 +0x555
github.com/kubernetes-incubator/kompose/pkg/app.Convert(0x100000100, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0xc8202732a0, 0x1, 0x1, ...)
        /Users/jono/golang/src/github.com/kubernetes-incubator/kompose/pkg/app/app.go:195 +0x1d2
github.com/kubernetes-incubator/kompose/cmd.glob.func2(0x34e0960, 0xc8200f6460, 0x0, 0x2)
        /Users/jono/golang/src/github.com/kubernetes-incubator/kompose/cmd/convert.go:80 +0x27
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).execute(0x34e0960, 0xc8200f6300, 0x2, 0x2, 0x0, 0x0)
        /Users/jono/golang/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:603 +0x896
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x34e0da0, 0x34e0960, 0x0, 0x0)
        /Users/jono/golang/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:689 +0x55c
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).Execute(0x34e0da0, 0x0, 0x0)
        /Users/jono/golang/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:648 +0x2d
github.com/kubernetes-incubator/kompose/cmd.Execute()
        /Users/jono/golang/src/github.com/kubernetes-incubator/kompose/cmd/root.go:86 +0x27
main.main()
        /Users/jono/golang/src/github.com/kubernetes-incubator/kompose/main.go:22 +0x14
```

My docker-compose file:

```
➤ cat docker-compose.yml
version: '2'
services:
  web:
    command: /sbin/my_init
    build:
      context: .
      dockerfile: Dockerfile.dev
    volumes:
      - .:/home/app
      - ./certs/production/:/etc/ssl/certs:ro
      - ./certs/dhparam.pem:/etc/ssl/private/dhparam.pem:ro
      - ./certs/private/wildcard.com.key:/etc/ssl/private/wildcard.com.key:ro
      - ./staging.conf:/etc/nginx/sites-enabled/portal.conf
    env_file: ./config/environments/development.env
    ports:
      - ""80:80""
      - ""443:443""
    depends_on:
      - db
      - memcached
      - redis
      - mailcatcher
  db:
    image: sandbox-psql
    volumes:
      - data:/var/lib/postgresql/data
  memcached:
    image: memcached:1.4.28-alpine
  redis:
    image: redis:3.2-alpine
  mailcatcher:
    image: schickling/mailcatcher
    ports:
      - ""1080:1080""
volumes:
  data:
```",closed,False,2017-01-13 21:10:29,2017-05-12 21:37:25
kompose,surajssd,https://github.com/kubernetes/kompose/pull/380,https://api.github.com/repos/kubernetes/kompose/issues/380,Fixed warnings related to user type in tests,"Fixes #343

Type of user is not string and that's what was being provided
in tests so fixed it and now tests output is cleaner.",closed,True,2017-01-16 06:38:52,2017-01-18 14:53:00
kompose,cdrage,https://github.com/kubernetes/kompose/pull/381,https://api.github.com/repos/kubernetes/kompose/issues/381,Adds Kompose.io website,"This commit adds the kompose.io website including introduction and setup
instructions.",closed,True,2017-01-16 21:26:02,2017-01-19 16:54:14
kompose,ashetty1,https://github.com/kubernetes/kompose/issues/382,https://api.github.com/repos/kubernetes/kompose/issues/382,kompose down with openshift doesn't delete  BuildConfig,"I tried running `kompose down` with the buildconfig example here: https://github.com/kubernetes-incubator/kompose/tree/master/examples/buildconfig

It doesn't delete the buildconfig. 

```bash
$ kompose --provider=openshift -f docker-compose.yml down
WARN[0000] [foo] Service cannot be created because of missing port. 
INFO[0000] Buildconfig using https://github.com/skippbox/kompose2.git::master as source. 
INFO[0001] Successfully deleted DeploymentConfig: foo   
INFO[0001] Successfully deleted ImageStream: foo
```
```bash
$ oc get bc
NAME      TYPE      FROM         LATEST
foo       Docker    Git@master   1
```",closed,False,2017-01-18 12:07:02,2017-05-17 11:40:52
kompose,cdrage,https://github.com/kubernetes/kompose/pull/383,https://api.github.com/repos/kubernetes/kompose/issues/383,Update logging for logrus,"This commit disables the timestamp when outputting logs in order to be
more clean / concise.

One of the reasons being that the kompose up / convert / down commands
are *too fast* and thus output's all [0000].

For example, the output will look like this:
INFO I'm a little teapot

Instead of:
INFO[0000] I'm a little teapot",closed,True,2017-01-18 14:20:55,2017-03-30 13:08:32
kompose,cdrage,https://github.com/kubernetes/kompose/pull/384,https://api.github.com/repos/kubernetes/kompose/issues/384,Add Kompose site,,closed,True,2017-01-19 17:19:15,2017-01-19 17:36:23
kompose,kadel,https://github.com/kubernetes/kompose/pull/385,https://api.github.com/repos/kubernetes/kompose/issues/385,Container for running tests and Makefile cleanup,"This adds Dockerfile that can be used to run all Kompose tests locally.

`make test` will run exactly the same tests as travis-ci but running locally in docker image.
This can be used to tests everything before commiting or submitting PR.
Image is automatically  build in docker hub - https://hub.docker.com/r/kompose/tests/ or it can be build locally using `make test-image`.

Automatic build at docker hub is NOT triggered automatically on push. Only time when rebuild is needed is when Dockerfile is changed.


This PR also includes Makefile and `/script/` cleanup.
I've removed all the shell scripts that were just one single command and put those commands directly to Makefile. It is much more easier to figure out what is doing what.






",closed,True,2017-01-20 16:30:07,2017-01-24 11:18:30
kompose,cdrage,https://github.com/kubernetes/kompose/pull/386,https://api.github.com/repos/kubernetes/kompose/issues/386,Update to use YAML instead of json,,closed,True,2017-01-20 19:21:55,2017-01-20 19:26:52
kompose,cdrage,https://github.com/kubernetes/kompose/pull/387,https://api.github.com/repos/kubernetes/kompose/issues/387,Ignores :z or :Z when passed in as a volume string,"We're going to ignore :z / :Z for labeling aka SELinux when being passed
in via Docker Compose.

Closes https://github.com/kubernetes-incubator/kompose/issues/176",closed,True,2017-01-20 20:21:37,2017-03-30 13:10:07
kompose,Hashfyre,https://github.com/kubernetes/kompose/issues/388,https://api.github.com/repos/kubernetes/kompose/issues/388,error: Could not unmarshal '<nil>' to type <nil>,"Platform:
  os: OS X Yosemite - 10.10.5 (14F2109)
  kompose: version 0.1.2 (92ea047)
compose-file:
```
version: '2'
services:
  <project>:
    build:
      context: .
      args:
        GIT_TOKEN:
    image: <private-img>
    links:
      - db_live
    depends_on:
      - db_live
    ports:
      - 28090:80
    environment:
      DB_HOST: db_live
  db_live:
    image: mysql:5.6
    ports:
      - 23306:3306
    environment:
      MYSQL_ROOT_PASSWORD: <passwd>
      MYSQL_DATABASE: <project>
      MYSQL_USER: <project>
      MYSQL_PASSWORD: <passwd>
```
Angular brackets are indicative of replacement text.

Command:
 - `kompose -f docker-compose.yml convert`

Error Output:
 - `ERRO[0000] Could not parse config for project <project> : Cannot unmarshal '<nil>' to type <nil> into a string value`",closed,False,2017-01-22 09:47:59,2017-01-31 17:35:35
kompose,cdrage,https://github.com/kubernetes/kompose/pull/389,https://api.github.com/repos/kubernetes/kompose/issues/389,Update documentation removing [0000] timestamp outputs,"Updates the README as well as user_guide.md to remove the timestamp
outputs (as well as the random : that was added to the README.md)",closed,True,2017-01-23 14:01:16,2017-03-30 13:09:24
kompose,cdrage,https://github.com/kubernetes/kompose/issues/390,https://api.github.com/repos/kubernetes/kompose/issues/390,Docker DAB support does not currently work (still in experimental),"Converting the current example we have produces this error:
```
▶ ./kompose convert -f examples/docker-compose-bundle.dab
ERRO Could not parse config for project examples : yaml: unmarshal errors:
  line 24: cannot unmarshal !!str `0.1` into config.RawService 
FATA Failed to load compose file: yaml: unmarshal errors:
  line 24: cannot unmarshal !!str `0.1` into config.RawService 
```",closed,False,2017-01-24 13:58:27,2017-06-26 18:37:57
kompose,cdrage,https://github.com/kubernetes/kompose/issues/391,https://api.github.com/repos/kubernetes/kompose/issues/391,Container Port and Node Port mapping default to open,"When mapping a port, for example:
```
- ""80:80""
```

in the Docker Compose file. It's the same as simply doing

```
- ""80""
```

Is this normal? Exposing the ports by default when converting them to a service?",closed,False,2017-01-25 16:56:55,2017-02-09 13:46:27
kompose,cdrage,https://github.com/kubernetes/kompose/issues/392,https://api.github.com/repos/kubernetes/kompose/issues/392,"By default, remove protocol: TCP in conversion to artifacts","By default, TCP is selected.

https://kubernetes.io/docs/api-reference/v1/definitions/#_v1_serviceport

We should not include `protocol: tcp` in the resulting yaml / json conversion since it's already set by default.",closed,False,2017-01-25 17:03:12,2017-02-05 12:51:07
kompose,cdrage,https://github.com/kubernetes/kompose/pull/393,https://api.github.com/repos/kubernetes/kompose/issues/393,Add support for host:port:port,"This adds support for supplying for example:
""127.0.0.1:80:80/tcp"" to docker-compose.yaml and converting it to it's
corresponding Kubernetes / OpenShift hostIP.

This commit also refactors the loadPorts function of compose.go",closed,True,2017-01-25 18:09:06,2017-02-10 09:51:36
kompose,cdrage,https://github.com/kubernetes/kompose/pull/394,https://api.github.com/repos/kubernetes/kompose/issues/394,Removes the TCP output on the Kubernetes / OpenShift artifacts,"If TCP is passed in as the protocol, by default, we add TCP as the
protocol within the Kubernetes or OpenShift artifacts.

By default, TCP is already selected within Kubernetes and thus having
the TCP output is redundant.

This commit checks to see if TCP has already been selected, and if it
has, ignores adding it to the list of ports.

Closes https://github.com/kubernetes-incubator/kompose/issues/392",closed,True,2017-01-26 20:01:49,2017-03-30 13:09:05
kompose,cdrage,https://github.com/kubernetes/kompose/pull/395,https://api.github.com/repos/kubernetes/kompose/issues/395,0.2.0 Release,,closed,True,2017-01-27 20:22:07,2017-03-30 13:08:57
kompose,cdrage,https://github.com/kubernetes/kompose/pull/396,https://api.github.com/repos/kubernetes/kompose/issues/396,Update the release script,"This updates the release script to add the changelog gem as well as
clean up some of the scripts.

This also updates the binaries being uploaded and the messages being
passed onto the tag description on GitHub.",closed,True,2017-01-27 20:56:59,2017-03-30 13:09:57
kompose,cdrage,https://github.com/kubernetes/kompose/pull/397,https://api.github.com/repos/kubernetes/kompose/issues/397,Updates the cross compiling commands,"Removed 32-Bit support, and pushes to the ""bin"" folder instead of
""bundles""",closed,True,2017-01-27 20:58:30,2017-03-30 13:09:22
kompose,cdrage,https://github.com/kubernetes/kompose/pull/398,https://api.github.com/repos/kubernetes/kompose/issues/398,Add quickstart guide to docs,"This doc is a direct copy from the one used on Kompose.io

Eventually, we will sync the documents in the /docs/ directory of this
repo to the gh-pages branch (as well as the Kubernetes page).",closed,True,2017-01-30 14:57:41,2017-02-16 18:39:46
kompose,cdrage,https://github.com/kubernetes/kompose/pull/399,https://api.github.com/repos/kubernetes/kompose/issues/399,Update the README.md with new installation instructions,"Updates the README corresponding with binaries now in within our release
page.",closed,True,2017-01-30 15:06:42,2017-03-30 13:09:31
kompose,cdrage,https://github.com/kubernetes/kompose/issues/400,https://api.github.com/repos/kubernetes/kompose/issues/400,Tagging for 0.2.1 release,"Hey all,

I've closed the milestones for the 0.2.1 and 0.3.0 release since both were completed to 100%. Makes sense to go straight to a 0.2.0 release rather than arbitrarily skipping a major release number.

Should we tag all new bugs as part of the 0.2.1 release and all major changes as part of the 0.3.0 release?  ",closed,False,2017-01-30 15:35:15,2017-02-27 13:39:13
kompose,cdrage,https://github.com/kubernetes/kompose/pull/401,https://api.github.com/repos/kubernetes/kompose/issues/401,Update vendoring + add Docker client packages,,closed,True,2017-01-31 17:02:27,2017-01-31 18:21:58
kompose,cdrage,https://github.com/kubernetes/kompose/pull/402,https://api.github.com/repos/kubernetes/kompose/issues/402,Update website with user guide + updated setup,,closed,True,2017-01-31 20:50:10,2017-02-02 14:38:49
kompose,cdrage,https://github.com/kubernetes/kompose/pull/403,https://api.github.com/repos/kubernetes/kompose/issues/403,Adds favicons to the website,,closed,True,2017-01-31 20:59:34,2017-02-02 14:38:36
kompose,procrypt,https://github.com/kubernetes/kompose/issues/404,https://api.github.com/repos/kubernetes/kompose/issues/404,unit tests for error out if controller object is specified with restart: on-failure.,"Add units tests for #354 
",closed,False,2017-02-01 11:03:00,2017-02-14 14:36:32
kompose,procrypt,https://github.com/kubernetes/kompose/pull/405,https://api.github.com/repos/kubernetes/kompose/issues/405,Unit tests for error out if controller object is specified with restart: on-failure,"Fixes #404 
This is a WIP PR, need review to proceed further.
cc: @kadel @cdrage ",closed,True,2017-02-01 11:08:17,2017-02-14 14:36:32
kompose,arcolife,https://github.com/kubernetes/kompose/issues/406,https://api.github.com/repos/kubernetes/kompose/issues/406,environment variables not being set in buildConfig,"relevant dockerfile snippet: https://github.com/arcolife/sarjitsu/blob/master/lib/datasource/Dockerfile#L26

https://github.com/arcolife/sarjitsu/blob/master/docker-compose.yml#L21
This is the environment variable, whose value I expect to be picked from the env file (based off of docker-composed env file) https://github.com/arcolife/sarjitsu/blob/master/.env file and set in the generated buildconfig file (per se: datasource-buildconfig.yaml), as illustrated below:

```yaml
...
  source:
    contextDir: lib/datasource
    git:
      ref: komposed
      uri: https://github.com/arcolife/sarjitsu.git
    type: Git
  strategy:
    dockerStrategy:
      env:
        - name: ES_PORT
          value: ""9200""
    type: Docker
...
```

Currently no env variables are being set in the build config.",closed,False,2017-02-01 21:58:45,2017-05-16 08:16:10
kompose,cdrage,https://github.com/kubernetes/kompose/pull/407,https://api.github.com/repos/kubernetes/kompose/issues/407,Update the setup page for Linux/MacOS/Windows on Kompose.io,,closed,True,2017-02-02 14:41:30,2017-02-02 14:41:48
kompose,cdrage,https://github.com/kubernetes/kompose/pull/408,https://api.github.com/repos/kubernetes/kompose/issues/408,"Add kompose to .gitignore, remove binary",,closed,True,2017-02-03 15:45:54,2017-02-03 15:46:25
kompose,cdrage,https://github.com/kubernetes/kompose/pull/409,https://api.github.com/repos/kubernetes/kompose/issues/409,Update the example to include NodePort and accessability,"This updates the example we have on the website to include NodePort in
the ""labels"" section as well as instructions on how to access the
service.",closed,True,2017-02-03 16:27:21,2017-02-09 13:57:22
kompose,cdrage,https://github.com/kubernetes/kompose/issues/410,https://api.github.com/repos/kubernetes/kompose/issues/410,Cannot unmarshal float environment values.,"When passing in a float value through `env:` seems to fail:

Ex:
```
  environment:
    TEST: 4
    BAR: 0.3
    FOO: 0.3
```

```
ERRO Could not parse config for project foobar : Cannot unmarshal '0.3' of type float64 into a string value 
FATA Failed to load compose file: Cannot unmarshal '0.3' of type float64 into a string value 
```",closed,False,2017-02-03 16:41:08,2017-02-15 10:42:26
kompose,pivulic,https://github.com/kubernetes/kompose/issues/411,https://api.github.com/repos/kubernetes/kompose/issues/411,"Wrong version (0.1.2) in ""kompose versione"" (instead of 0.2.0)","## Problem
I'm having the same issue as http://stackoverflow.com/questions/41738374/kubernestes-persistentvolumeclaim-is-not-bound, but thought I should upgrade from 0.1.2 to 0.2.0. 

However, running `kompose version` displays **0.1.2 (HEAD)** instead of **0.2.0**

## How To Recreate
Following the Mac OS steps:
```curl -L https://github.com/kubernetes-incubator/kompose/releases/download/v0.2.0/kompose-darwin-amd64 -o kompose
chmod +x kompose
sudo mv ./kompose /usr/local/bin/kompose
kompose version
```

Same result if I run:
```
cd /usr/local/bin/
./kompose version
```
## Actual Result
`0.1.2 (HEAD)`

## Expected Result
`0.2.0`",closed,False,2017-02-05 07:47:26,2017-02-09 13:33:55
kompose,pivulic,https://github.com/kubernetes/kompose/issues/412,https://api.github.com/repos/kubernetes/kompose/issues/412,Error to parse docker-compose v3 format,"## Problem
When trying to create named volumes that can be reused across multiple services (without relying on volumes_from due to ""[PersistentVolumeClaim is not bound](http://stackoverflow.com/questions/41738374/kubernestes-persistentvolumeclaim-is-not-bound)""), kompose is unable to parse docker-compose.yml version 3 format. 

See: https://docs.docker.com/compose/compose-file/#/volume-configuration-reference

## How To Recreate
1. Create file:`touch docker-compose.yml`
1. Copy/paste:

    ```    
    version: ""3""
    services:
      db:
        image: db
        volumes:
          - data-volume:/var/lib/db
      backup:
        image: backup-service
        volumes:
          - data-volume:/var/lib/backup/data

      volumes:
        data-volume:
    ```
1. Run: `kompose up -f docker-compose.yml`

## Actual Result
```
ERRO Could not parse config for project test : yaml: unmarshal errors:
  line 1: cannot unmarshal !!str `3` into config.RawService
FATA Failed to load compose file: yaml: unmarshal errors:
  line 1: cannot unmarshal !!str `3` into config.RawService
```
## Expected Result
docker-compose.yml should successfully be converted and deployed.",closed,False,2017-02-05 19:28:35,2017-06-15 17:13:03
kompose,procrypt,https://github.com/kubernetes/kompose/pull/413,https://api.github.com/repos/kubernetes/kompose/issues/413,add BuildConfig support to kompose down,"``` 
kompose --provider openshift up
INFO Successfully created Service: foo            
INFO Successfully created DeploymentConfig: foo   
INFO Successfully created ImageStream: foo        
INFO Successfully created BuildConfig: foo 
```
```
kompose --provider openshift down
INFO Buildconfig using https://github.com/kubernetes-incubator/kompose.git::master as source. 
INFO Successfully deleted service: foo            
INFO Successfully deleted DeploymentConfig: foo   
INFO Successfully deleted ImageStream: foo        
INFO Successfully deleted BuildConfig: foo   
```
docker-compose file used is [docker-compose.yml](https://github.com/kubernetes-incubator/kompose/tree/master/examples/buildconfig)

@kadel @cdrage @containscafeine Review please.
Fixes #382  ",closed,True,2017-02-06 11:44:50,2017-02-15 10:15:08
kompose,cdrage,https://github.com/kubernetes/kompose/pull/414,https://api.github.com/repos/kubernetes/kompose/issues/414,Adds mem_limit support for conversion,"This commit adds mem_limit support. Taking the value from
docker-compose.yaml and converting it to it's associative value in
Kubernetes artifacts.

Closes (half) of
https://github.com/kubernetes-incubator/kompose/issues/267",closed,True,2017-02-06 19:48:01,2017-03-30 13:08:08
kompose,cdrage,https://github.com/kubernetes/kompose/pull/415,https://api.github.com/repos/kubernetes/kompose/issues/415,Fix a small spelling error,s/service/Service/g,closed,True,2017-02-08 13:55:58,2017-03-30 13:08:44
kompose,kadel,https://github.com/kubernetes/kompose/issues/416,https://api.github.com/repos/kubernetes/kompose/issues/416,Improve error handling,"In some places like for example [here](https://github.com/kubernetes-incubator/kompose/blob/master/pkg/transformer/kubernetes/kubernetes.go#L491) we are printing errors using `logrus.Fatalf` deep inside code.  

It would be better if function returned error that can be processed outside of this function (higher in call stack). Code will be cleaner and it will be easier to write unit tests.

I think that we should invest some time in cleaning all error handling in Kompose codebase.

",closed,False,2017-02-08 16:04:03,2017-03-15 17:11:28
kompose,cdrage,https://github.com/kubernetes/kompose/pull/417,https://api.github.com/repos/kubernetes/kompose/issues/417,Update the documentation to use LoadBalancer instead of NodePort,"Updates the docs to use LoadBalancer instead of focuing on NodePort
since minikube automatically uses NodePort in the case of LoadBalancer
as well as many cloud providers automatically providing IP addresses.

Ping @kadel",closed,True,2017-02-09 13:26:18,2017-02-09 14:16:06
kompose,kadel,https://github.com/kubernetes/kompose/pull/418,https://api.github.com/repos/kubernetes/kompose/issues/418,Update Makefile - lazy set for PKGS variable,"Using lazy set we can run targets that don't $PKGS without requiring glide.

Lazy set is expended when variable is used, not when declared.",closed,True,2017-02-09 16:19:20,2017-02-14 13:38:59
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/419,https://api.github.com/repos/kubernetes/kompose/issues/419,publicly hosted API endpoint for kompose,"Hey team,

We've had some discussions around it but never opened an issue, so here it is.

Does it make sense for `kompose` to have an publicly hosted API endpoint where users can just `curl` and send their Docker Compose files and it returns the converted artifacts?

I'm suggesting something like -

`curl -X POST -F file=@docker-compose.yml kompose.io/convert` and then we return Kubernetes artifacts, which can be piped directly to `kubectl create -f -`.

This will not require installing kompose, will be very useful and will be super cool to provide `kompose-as-a-service or kompaas` :)

Thoughts?",closed,False,2017-02-09 17:04:28,2017-12-21 16:28:14
kompose,idcrook,https://github.com/kubernetes/kompose/issues/420,https://api.github.com/repos/kubernetes/kompose/issues/420,underscores get propagated into invalid names,"searched for dupes, and found none.

docker compose file has name like: `phant_server:` in yaml, which contain embedded underscores. `kompose` does not normalize the name, resulting in invalid names being used.

#### pvc

```
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  creationTimestamp: null
  name: phant_server-claim0
...
```

yields error

```
The PersistentVolume ""phant_server-persistent-volume"" is invalid: metadata.name: Invalid value: ""phant_server-persistent-volume"": must match the regex [a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)* (e.g. 'example.com')
```

#### deployment 

```
The Deployment ""phant_server"" is invalid:
* metadata.name: Invalid value: ""phant_server"": must match the regex [a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)* (e.g. 'example.com')
```

## possible normalization suggestions

phant_server -> phant.server
phant_server -> phant-server
phant_server -> phantserver
",closed,False,2017-02-09 18:28:47,2017-08-02 06:44:49
kompose,sambostock,https://github.com/kubernetes/kompose/issues/421,https://api.github.com/repos/kubernetes/kompose/issues/421,Unable to build from source,"I'm trying to create a [Homebrew](http://brew.sh/) formula for Kompose.

```
$ brew install -i kompose
==> Using the sandbox
==> Downloading https://github.com/kubernetes-incubator/kompose/archive/v0.2.0.tar.gz
Already downloaded: /Users/sam/Library/Caches/Homebrew/kompose-0.2.0.tar.gz
==> Entering interactive mode
Type `exit' to return and finalize the installation
Install to this prefix: /usr/local/Cellar/kompose/0.2.0
bash-3.2$ export GOPATH=`pwd`
bash-3.2$ echo $GOPATH
/private/tmp/kompose-20170210-81761-1bzgwbv/kompose-0.2.0
```

However, **I can't get the build to succeed**. I've tried all the build methods listed in [`README.md`](https://github.com/kubernetes-incubator/kompose/blob/master/README.md).

#### `make bin`
```
bash-3.2$ make bin
fatal: Not a git repository (or any of the parent directories): .git
make: glide: Command not found
go build -ldflags=""-w -X github.com/kubernetes-incubator/kompose/version.GITCOMMIT="" -o kompose main.go
main.go:19:8: cannot find package ""github.com/kubernetes-incubator/kompose/cmd"" in any of:
	/usr/local/Cellar/go/1.7.5/libexec/src/github.com/kubernetes-incubator/kompose/cmd (from $GOROOT)
	/private/tmp/kompose-20170210-81761-1bzgwbv/kompose-0.2.0/src/github.com/kubernetes-incubator/kompose/cmd (from $GOPATH)
make: *** [bin] Error 1
```

#### `go build -o kompose main.go`
```
bash-3.2$ go build -o kompose main.go
main.go:19:8: cannot find package ""github.com/kubernetes-incubator/kompose/cmd"" in any of:
	/usr/local/Cellar/go/1.7.5/libexec/src/github.com/kubernetes-incubator/kompose/cmd (from $GOROOT)
	/private/tmp/kompose-20170210-81761-1bzgwbv/kompose-0.2.0/src/github.com/kubernetes-incubator/kompose/cmd (from $GOPATH)
```

#### `CGO_ENABLED=0 GO15VENDOREXPERIMENT=1 go build -o kompose main.go`
```
bash-3.2$ CGO_ENABLED=0 GO15VENDOREXPERIMENT=1 go build -o kompose main.go
main.go:19:8: cannot find package ""github.com/kubernetes-incubator/kompose/cmd"" in any of:
	/usr/local/Cellar/go/1.7.5/libexec/src/github.com/kubernetes-incubator/kompose/cmd (from $GOROOT)
	/private/tmp/kompose-20170210-81761-1bzgwbv/kompose-0.2.0/src/github.com/kubernetes-incubator/kompose/cmd (from $GOPATH)
```

#### `make cross`
```
bash-3.2$ make cross
fatal: Not a git repository (or any of the parent directories): .git
make: glide: Command not found
gox -os=""darwin linux windows"" -arch=""386 amd64"" -output=""bundles/kompose_{{.OS}}-{{.Arch}}/kompose"" -ldflags=""-w -X github.com/kubernetes-incubator/kompose/version.GITCOMMIT=""
/bin/sh: gox: command not found
make: *** [cross] Error 127
```

Unfortunately, I am not familiar with Go. Can anyone point me in the right direction?",closed,False,2017-02-11 02:28:33,2017-03-14 17:22:33
kompose,kadel,https://github.com/kubernetes/kompose/issues/422,https://api.github.com/repos/kubernetes/kompose/issues/422,wrong git revision number in version output,"code revision from which binary is build is wrong.

```
▶ make
go build -ldflags=""-w -X github.com/kubernetes-incubator/kompose/version.GITCOMMIT=be042c7"" -o kompose main.go

▶ ./kompose version
0.2.0 (64433fd)

▶ git rev-parse --short HEAD
be042c7
```

`kompose version` should output same revision as current source.
 It looks like there is commitid inside [version.go](https://github.com/kubernetes-incubator/kompose/blob/master/cmd/version.go#L29)  Shouldn't this show HEAD as default or something like this?
 
What if we get rid of this? Do we need to show  commit id in version output?",closed,False,2017-02-11 15:55:32,2018-01-02 20:20:15
kompose,kadel,https://github.com/kubernetes/kompose/pull/423,https://api.github.com/repos/kubernetes/kompose/issues/423,fix passing gitcommit in version output,fixes #422 ,closed,True,2017-02-11 16:06:22,2017-02-11 23:41:28
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/424,https://api.github.com/repos/kubernetes/kompose/issues/424,Add build_args support in buildconfig,"now args provided under build in docker-compose file can be available in buildconfig.
it solves #406",closed,True,2017-02-13 06:50:27,2017-05-16 17:40:47
kompose,cdrage,https://github.com/kubernetes/kompose/pull/425,https://api.github.com/repos/kubernetes/kompose/issues/425,Update vendoring,"Updates vendoring to include
https://github.com/docker/libcompose/commit/1c4bd4542afb20db0b51afd71d9ebceaf206e2dd
as well as general update to all other packages.",closed,True,2017-02-13 14:59:40,2017-03-30 13:09:36
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/426,https://api.github.com/repos/kubernetes/kompose/issues/426,.env file is checked at current directory instead of target directory,"examples/docker-compose file -
```yaml
$ cat examples/docker-compose.yml 
version: ""2""
services:
  web:
    image: $imagename
```

examples/.env file -
```shell
$ cat examples/.env 
imagename=batman
```

When I run,
`kompose  convert -f examples/docker-compose.yml`, the environment variable does not get substituted and I get
```shell
WARN The imagename variable is not set. Substituting a blank string. 
```

However, when I do,
```shell
cd examples/
kompose convert -f docker-compose.yml
```
the value is substituted.

So, kompose is looking for the .env file in the current directory instead of the target directory where the docker-compose file is present.",closed,False,2017-02-13 20:49:17,2017-03-15 11:10:10
kompose,surajssd,https://github.com/kubernetes/kompose/issues/427,https://api.github.com/repos/kubernetes/kompose/issues/427,`make test-unit` does not run on uncomitted changes,"```bash
$ make test-unit
go test -ldflags=""-w -X github.com/kubernetes-incubator/kompose/version.GITCOMMIT=1712634"" -race -cover -v ./pkg/... ./cmd/... .
```

How do I run tests of kompose like it was before? I never had need to commit changes to test them?",closed,False,2017-02-14 02:43:27,2017-02-15 18:29:46
kompose,surajssd,https://github.com/kubernetes/kompose/pull/428,https://api.github.com/repos/kubernetes/kompose/issues/428,removed unnecessary objects in compose.go,In `compoese.go` while iterating on the `ServiceConfig` objects first it's keys were pulled and then data was pulled separately which can be done in one step by iterating on the dictionary.,closed,True,2017-02-14 02:51:07,2017-02-15 10:29:58
kompose,surajssd,https://github.com/kubernetes/kompose/pull/429,https://api.github.com/repos/kubernetes/kompose/issues/429,normalize docker-compose service that has name with underscore,"kubernetes or openshift does not allow underscores in the object
names, while docker-compose does, in this commit the code has been
added to convert underscores to hypens.

Fixes #420",closed,True,2017-02-14 10:20:18,2018-07-10 09:56:13
kompose,cdrage,https://github.com/kubernetes/kompose/issues/430,https://api.github.com/repos/kubernetes/kompose/issues/430,Deprecating v1 and only supporting v2 and v3,"v1 will eventually be deprecated by docker-compose. As well as the fact that v1 honestly doesn't convert that well when going from Docker to Kubernetes (especially with the networking + volumes section of v2 providing a lot of ease for it).

Should we deprecate v1 and focus our efforts on only v2 and v3?",closed,False,2017-02-16 19:19:41,2017-06-20 18:29:58
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/431,https://api.github.com/repos/kubernetes/kompose/issues/431,"test showing PASS, even if command not found","I tried to run,
```
$ make test-cmd
```
but I found this output,
```
===> Starting test <===
convert::expect_success: Running: 'kompose -f /home/snarwade/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/restart-options/docker-compose-restart-no.yml --provider openshift convert --stdout -j' expected_output: '/home/snarwade/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/restart-options/output-os-restart-no.json'
PASS: converted output matches
./script/test/cmd/tests.sh: line 117: convert::failure: command not found

===> Starting test <===
convert::check_artifacts_generated: Running: 'kompose -f /home/snarwade/go/src/github.com/kubernetes-incubator/kompose/examples/docker-compose.yml convert -o /tmp/kompose/output_file -j'
PASS: /tmp/kompose/output_file exists
./script/test/cmd/tests.sh: line 181: convert::expect_success_warning: command not found
```
Test are passing even if it shows command not found.
",closed,False,2017-02-20 05:50:06,2017-03-30 10:10:15
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/432,https://api.github.com/repos/kubernetes/kompose/issues/432,move functional tests to golang,"Hi,

Currently, currently all the functional tests being run by `make test-cmd` are written in shell scripts, which are very difficult to maintain, debug and produce _a lot_ of false positives e.g. #431, etc.

Should we move these to golang for better testing?

(thinking out loud: how about python which has a rich set of testing libraries e.g. `py.test`)?

Thoughts?",closed,False,2017-02-20 07:13:22,2018-02-20 07:28:01
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/433,https://api.github.com/repos/kubernetes/kompose/issues/433,Normalizing service name might break application,cc @surajssd @containscafeine ,closed,False,2017-02-21 07:19:13,2017-04-26 15:31:59
kompose,procrypt,https://github.com/kubernetes/kompose/pull/434,https://api.github.com/repos/kubernetes/kompose/issues/434,Abstract out api.pod spec,"Fixes: #348 
cc: @containscafeine @kadel @cdrage @surajssd ",closed,True,2017-02-21 12:58:38,2017-02-22 15:47:31
kompose,kadel,https://github.com/kubernetes/kompose/issues/435,https://api.github.com/repos/kubernetes/kompose/issues/435,Add documentation for mem_limit,Add documentation for https://github.com/kubernetes-incubator/kompose/pull/414,closed,False,2017-02-22 15:04:40,2017-03-03 10:59:48
kompose,cdrage,https://github.com/kubernetes/kompose/issues/436,https://api.github.com/repos/kubernetes/kompose/issues/436,Support for: tmpfs,No error / warning when using this key.,closed,False,2017-02-22 21:10:54,2017-03-16 17:07:50
kompose,cdrage,https://github.com/kubernetes/kompose/issues/437,https://api.github.com/repos/kubernetes/kompose/issues/437,Support for: group_add,No error / warning when using this key.,closed,False,2017-02-22 21:18:53,2017-08-14 17:51:17
kompose,cdrage,https://github.com/kubernetes/kompose/issues/438,https://api.github.com/repos/kubernetes/kompose/issues/438,Support for: isolation,No error / warning when using this key.,closed,False,2017-02-22 21:22:14,2017-08-18 15:48:49
kompose,cdrage,https://github.com/kubernetes/kompose/issues/439,https://api.github.com/repos/kubernetes/kompose/issues/439,Error / Support for: links,No error / warning when using this key.,closed,False,2017-02-22 21:25:18,2017-03-01 20:15:07
kompose,cdrage,https://github.com/kubernetes/kompose/issues/440,https://api.github.com/repos/kubernetes/kompose/issues/440,Support for: stop_grace_period,No error / warning when using this key.,closed,False,2017-02-22 21:27:13,2017-05-25 16:06:26
kompose,cdrage,https://github.com/kubernetes/kompose/issues/441,https://api.github.com/repos/kubernetes/kompose/issues/441,Support for sysctls,"```
▶ kompose convert --stdout
ERRO Could not parse config for project wikus : Unsupported config option for redis service: 'sysctls' 
FATA Failed to load compose file: Unsupported config option for redis service: 'sysctls' 
```",closed,False,2017-02-22 21:29:01,2018-02-13 14:22:24
kompose,cdrage,https://github.com/kubernetes/kompose/issues/442,https://api.github.com/repos/kubernetes/kompose/issues/442,Support for: ulimits,No error / warning when using this key,closed,False,2017-02-22 21:29:47,2017-03-01 14:59:15
kompose,cdrage,https://github.com/kubernetes/kompose/issues/443,https://api.github.com/repos/kubernetes/kompose/issues/443,Support for: userns_mode,No error / warning when using this key,closed,False,2017-02-22 21:31:16,2017-08-18 15:49:38
kompose,cdrage,https://github.com/kubernetes/kompose/issues/444,https://api.github.com/repos/kubernetes/kompose/issues/444,Support for: volumes_from,"Does not warn / error out when used.

*Should* we generate a persistentvolumeclaim?",closed,False,2017-02-22 21:34:46,2017-03-01 14:14:36
kompose,kadel,https://github.com/kubernetes/kompose/issues/445,https://api.github.com/repos/kubernetes/kompose/issues/445,Inconsistency in build context,"I have two docker-compose files, that should do the same thing

build.yaml
```yaml
version: ""2""
services:
    foo:
        build: ""./build""
        command: ""sleep 3600""
```

context.yaml
```yaml
version: ""2""
services:
    foo:
        build:
            context: ""./build""
        command: ""sleep 3600""
```


I'm in the directory that is one level up from the directory where those docker-compose files are.

If run convert on first file like this:
```
kompose --provider openshift convert --stdout -f compose-build-test/build.yaml
```
I get BuildConfig that has `contextDir: build`. That is corrent.

But If I use second file that is using expanded way to define build
```
kompose --provider openshift convert --stdout -f compose-build-test/context.yaml
```
I get BuildConfig with `contextDir: compose-build-test/build`, which is wrong.


I also found out that if I'm in the same directory where those docker-compose files are, everything works as expected.
```
~/tmp/compose-build-test  master ✗ 
▶ kompose --provider openshift convert --stdout -f build.yaml | grep contextDir                   
INFO Buildconfig using https://github.com/kadel/compose-build-test.git::master as source. 
      contextDir: build

~/tmp/compose-build-test  master ✗ 
▶ kompose --provider openshift convert --stdout -f context.yaml | grep contextDir
INFO Buildconfig using https://github.com/kadel/compose-build-test.git::master as source. 
      contextDir: build
```

",closed,False,2017-02-23 11:09:56,2017-05-16 17:27:43
kompose,dkarlovi,https://github.com/kubernetes/kompose/issues/446,https://api.github.com/repos/kubernetes/kompose/issues/446,Support for private Docker registry ImageStream,"I'm trying to setup OS to pull images from my private registry:

    # docker-compose.yml
    services:
      web:
        image: registry.example.com/my/example.com:latest
        build:
          context: .
          dockerfile: ./.infra/docker/nginx/Dockerfile

My desired output would be:

    apiVersion: v1
    kind: ImageStream
    spec:
        tags:
        -
            from:
                kind: DockerImage
                name: registry.example.com/my/example.com:latest
            name: latest

without the `BuildConfig` because I wish to use pre-made images instead of making them on the OS cluster. The way I see it, currently `kompose` always uses source to image builder strategy, it would be cool to allow for this behavior too.

Please note I'm quite new to Openshift and` kompose` (much more experience with `docker-compose`) so if this doesn't make sense in this context, feel free to correct me. Thanks.",open,False,2017-02-23 16:07:09,2018-01-03 06:46:08
kompose,cdrage,https://github.com/kubernetes/kompose/issues/447,https://api.github.com/repos/kubernetes/kompose/issues/447,Support for: top-level volumes.,"Using a top-level volume errors out and is unsupported:
```
version: ""2""

services:
    redis:
      image: redis:3.0

volumes:
  - /var/lib/mysql
```

```
ERRO Could not parse config for project wikus : yaml: unmarshal errors:
  line 8: cannot unmarshal !!seq into map[string]interface {} 
FATA Failed to load compose file: yaml: unmarshal errors:
  line 8: cannot unmarshal !!seq into map[string]interface {} 
```",closed,False,2017-02-23 17:14:52,2018-07-10 10:56:11
kompose,cdrage,https://github.com/kubernetes/kompose/pull/448,https://api.github.com/repos/kubernetes/kompose/issues/448,Add conversion documentation,"This adds a document regarding all the values which are converted from
Docker Compose to Kubernetes / OpenShift. Adding both notes as well as
the value that docker-compose is mapped to in Kubernetes / OpenShift.",closed,True,2017-02-23 17:42:39,2017-03-30 13:07:58
kompose,kadel,https://github.com/kubernetes/kompose/pull/449,https://api.github.com/repos/kubernetes/kompose/issues/449,Test with multiple go versions,"`go vet` in go 1.8 started complaining about tag format.

```
pkg/kobject/kobject.go:60: struct field tag `compose:""image"",bundle:""Image""` not compatible with reflect.StructTag.Get: key:""value"" pairs not separated by spaces
```

This fixes tag formatting in KObject and updates travis.yaml so it runs tests on multiple go versions 1.6, 1.7 and 1.8


",closed,True,2017-02-24 14:19:37,2017-02-27 09:59:23
kompose,cdrage,https://github.com/kubernetes/kompose/pull/450,https://api.github.com/repos/kubernetes/kompose/issues/450,0.3.0 Release,,closed,True,2017-02-24 14:44:31,2017-03-30 13:08:59
kompose,cdrage,https://github.com/kubernetes/kompose/pull/451,https://api.github.com/repos/kubernetes/kompose/issues/451,Update the release script again :),,closed,True,2017-02-24 15:07:33,2017-03-30 13:09:52
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/452,https://api.github.com/repos/kubernetes/kompose/issues/452,"Separate key:""value"" pairs in kobject.go","this was error in travis with GO 1.8 version
```
pkg/kobject/kobject.go:60: struct field tag `compose:""image"",bundle:""Image""` not compatible with reflect.StructTag.Get: key:""value"" pairs not separated by spaces
pkg/kobject/kobject.go:61: struct field tag `compose:""environment"",bundle:""Env""` not compatible with reflect.StructTag.Get: key:""value"" pairs not separated by spaces
...
...
```

I have added fix in PR #424",closed,False,2017-02-25 20:06:01,2017-02-27 09:59:11
kompose,cdrage,https://github.com/kubernetes/kompose/pull/453,https://api.github.com/repos/kubernetes/kompose/issues/453,Update the README with -u in go get,"Updates the readme to include -u in `go get` in order to upgrade
already-installed versions of Kompose.",closed,True,2017-02-27 14:56:34,2017-03-30 13:09:47
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/454,https://api.github.com/repos/kubernetes/kompose/issues/454,Added consistency in build context,fixes #445,closed,True,2017-02-27 15:36:57,2017-04-27 17:54:00
kompose,cdrage,https://github.com/kubernetes/kompose/pull/455,https://api.github.com/repos/kubernetes/kompose/issues/455,Clean up logrus,"Replaces ""log"" from ""logrus"" as commonly used in large Go projects.

Makes it easier from a developer perspective to use `log.Info`,
`log.Debug`, etc.",closed,True,2017-02-27 15:54:09,2017-03-30 13:09:40
kompose,cdrage,https://github.com/kubernetes/kompose/issues/456,https://api.github.com/repos/kubernetes/kompose/issues/456,Error with unsupported keys not showing up in warnings,"Seems that nothing warns in regards to any of the unsupported keys from `compose.go`, with the exception of ""networks"".

This code:
```
  var unsupportedKey = map[string]bool{                                                                                                 
    ""CgroupParent"":  false,                                                                                                             
    ""Devices"":       false,                                                                                                             
    ""DependsOn"":     false,                                                                                                             
    ""DNS"":           false,                                                                                                             
    ""DNSSearch"":     false,                                                                                                             
    ""DomainName"":    false,                                                                                                             
    ""EnvFile"":       false,                                                                                                             
    ""Extends"":       false,                                                                                                             
    ""ExternalLinks"": false,                                                                                                             
    ""ExtraHosts"":    false,                                                                                                             
    ""Hostname"":      false,                                                                                                             
    ""Ipc"":           false,                                                                                                             
    ""Logging"":       false,                                                                                                             
    ""MacAddress"":    false,                                                                                                             
    ""MemSwapLimit"":  false,                                                                                                             
    ""NetworkMode"":   false,                                                                                                             
    ""Pid"":           false,                                                                                                             
    ""SecurityOpt"":   false,                                                                                                             
    ""ShmSize"":       false,                                                                                                             
    ""StopSignal"":    false,                                                                                                             
    ""VolumeDriver"":  false,                                                                                                             
    ""Uts"":           false,                                                                                                             
    ""ReadOnly"":      false,                                                                                                             
    ""Ulimits"":       false,                                                                                                             
    ""Dockerfile"":    false,                                                                                                             
    ""Net"":           false,                                                                                                             
    ""Networks"":      false, // there are special checks for Network in checkUnsupportedKey function                                     
  }   
```",closed,False,2017-02-28 17:55:55,2017-02-28 18:10:50
kompose,procrypt,https://github.com/kubernetes/kompose/pull/457,https://api.github.com/repos/kubernetes/kompose/issues/457,add sysctls to unsupported keys,"@cdrage added `sysctls` to unsupported keys since we didn't find anything akin in Kubernetes.
Fixes #441 

",closed,True,2017-03-01 09:13:45,2017-03-03 11:00:23
kompose,ashetty1,https://github.com/kubernetes/kompose/pull/458,https://api.github.com/repos/kubernetes/kompose/issues/458,Update the release script again :),,closed,True,2017-03-01 09:18:36,2017-03-01 09:18:58
kompose,procrypt,https://github.com/kubernetes/kompose/pull/459,https://api.github.com/repos/kubernetes/kompose/issues/459,unsupported keys,"@cdrage added `sysctls` to unsupported keys since we didn't find anything akin in Kubernetes.
Added `links` to unsupported keys since containers in the same pod can find and communicate with each other using `localhost:containerPort`

Fixes: #441 #439 ",closed,True,2017-03-01 10:39:13,2017-03-02 12:57:47
kompose,ashetty1,https://github.com/kubernetes/kompose/pull/460,https://api.github.com/repos/kubernetes/kompose/issues/460,Adding kompose up/down tests for openshift,"Adding kompose up/down tests for openshift as part of #323.

The script runs kompose up/down using etherpad docker-compose file with `oc cluster up`. ",closed,True,2017-03-01 10:49:58,2017-05-03 09:06:38
kompose,louisremi,https://github.com/kubernetes/kompose/issues/461,https://api.github.com/repos/kubernetes/kompose/issues/461,"Wrong version, again","I just downloaded linux-0.3.0 and installed it. When I run `kompose version` I get `0.2.0 (10cff91)`.
Also, I gave 0.3.0 a try because I had troubles with underscores in volume names, and after running `kompose convert`, the underscore were still present. I'll try compiling from source to confirm, but could it be possible that the published version does not include that patch?",closed,False,2017-03-01 11:31:17,2017-04-26 15:34:21
kompose,containscafeine,https://github.com/kubernetes/kompose/pull/462,https://api.github.com/repos/kubernetes/kompose/issues/462,"Improve error handling, fix #416",,closed,True,2017-03-01 13:40:10,2017-03-15 17:11:27
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/463,https://api.github.com/repos/kubernetes/kompose/issues/463,stripping kompose binary?,"When doing a `go install`, the resulting binary is 73M, and on doing a `go install -ldflags ""-s""`, I am getting a 38M binary, which is essentially stripping the binary.

We can achieve the same by using the `strip` command on the binary.

Should we strip the kompose binary and release it? This gets the size down by about 50%, however there may be some tradeoffs like -
- https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=717172

More on stripping golang binaries here -
- https://blog.filippo.io/shrink-your-go-binaries-with-this-one-weird-trick/",closed,False,2017-03-01 13:43:54,2017-03-29 13:15:20
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/464,https://api.github.com/repos/kubernetes/kompose/issues/464,using kompose as a library,"Is it possible to use `kompose` as a go library, which can just be imported and used.

Something like `artifacts := kompose.Convert(""/app1/docker-compose.yml"", ""kubernetes"")`.

It would be very useful to be able to use kompose as a library, we should investigate that :)

CC: @kadel ",closed,False,2017-03-01 15:16:53,2018-11-15 13:49:15
kompose,cdrage,https://github.com/kubernetes/kompose/pull/465,https://api.github.com/repos/kubernetes/kompose/issues/465,Update release script,"Had an issue where I don't git pull / merge with master after the PR has
been merged.

This adds an option to sync with master before continuing.",closed,True,2017-03-01 16:57:47,2017-03-30 13:09:55
kompose,cdrage,https://github.com/kubernetes/kompose/pull/466,https://api.github.com/repos/kubernetes/kompose/issues/466,Minor fix on user guide,,closed,True,2017-03-01 20:53:15,2017-03-30 13:09:59
kompose,cdrage,https://github.com/kubernetes/kompose/pull/467,https://api.github.com/repos/kubernetes/kompose/issues/467,Add architecture guide to Kompose site,"Adds the architecture doc as well as the image that we have from the
main github repo to the kompose.io website.",closed,True,2017-03-01 21:02:02,2017-03-03 15:07:07
kompose,kadel,https://github.com/kubernetes/kompose/pull/468,https://api.github.com/repos/kubernetes/kompose/issues/468,Add cap_add and cap_drop to unsupported keys,Kompose reads `cap_add` and `cap_drop` from docker-compose.yml but than it is not used anywhere.,closed,True,2017-03-02 13:56:24,2017-03-02 18:21:29
kompose,cdrage,https://github.com/kubernetes/kompose/pull/469,https://api.github.com/repos/kubernetes/kompose/issues/469,Adds conversion doc + updates css,"This adds to the conversion doc to the website as well as updates the
css for mobile-width viewing (too much spacing at the top).",closed,True,2017-03-03 15:04:29,2017-03-03 15:05:50
kompose,cdrage,https://github.com/kubernetes/kompose/pull/470,https://api.github.com/repos/kubernetes/kompose/issues/470,Update headers to better reflect each page on Kompose.io,,closed,True,2017-03-03 15:10:43,2017-03-03 15:10:56
kompose,spullara,https://github.com/kubernetes/kompose/issues/471,https://api.github.com/repos/kubernetes/kompose/issues/471,Panics parsing volume config,"I think it maybe because they are at the top level

```
version: '2'
volumes:
  dynamo_db:
  redis:
```

then defined later in particular services:

```
    volumes:
     - dynamo_db:/var/dynamodb_local
```

exception:

```
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x18 pc=0x90b6d7]

goroutine 1 [running]:
panic(0x15e3920, 0xc420010070)
	/usr/local/go/src/runtime/panic.go:500 +0x1a1
github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project.(*Project).handleVolumeConfig(0xc4200440e0)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project/project.go:319 +0x1d7
github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project.(*Project).load(0xc4200440e0, 0x7fff5fbff8f3, 0x17, 0xc420218d80, 0x249, 0x449, 0xc4204c1408, 0xfe88)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project/project.go:235 +0x3a0
github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project.(*Project).Parse(0xc4200440e0, 0x0, 0x0)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project/project.go:112 +0x15a
github.com/kubernetes-incubator/kompose/pkg/loader/compose.(*Compose).LoadFile(0x25e0eb8, 0xc4201f4ee0, 0x1, 0x1, 0xc420040990, 0x0, 0xf65e)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/pkg/loader/compose/compose.go:262 +0x1c1
github.com/kubernetes-incubator/kompose/pkg/app.Convert(0x100000100, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0xc4201f4ee0, 0x1, 0x1, ...)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/pkg/app/app.go:195 +0x103
github.com/kubernetes-incubator/kompose/cmd.glob..func3(0x25b3120, 0xc42000fba0, 0x0, 0x2)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/cmd/convert.go:80 +0x3f
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).execute(0x25b3120, 0xc42000f900, 0x2, 0x2, 0x25b3120, 0xc42000f900)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:636 +0x443
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x25b3560, 0xc42006c058, 0x0, 0xc4204c1ed0)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:722 +0x367
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).Execute(0x25b3560, 0x0, 0x0)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:681 +0x2b
github.com/kubernetes-incubator/kompose/cmd.Execute()
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/cmd/root.go:92 +0x31
main.main()
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/main.go:22 +0x14
```",closed,False,2017-03-03 17:28:06,2017-03-14 17:14:39
kompose,ceocoder,https://github.com/kubernetes/kompose/pull/472,https://api.github.com/repos/kubernetes/kompose/issues/472,index.md: made LoadBalancer Ingress a valid IPv4,,closed,True,2017-03-03 19:17:17,2017-03-04 14:15:00
kompose,zanhsieh,https://github.com/kubernetes/kompose/issues/473,https://api.github.com/repos/kubernetes/kompose/issues/473,RFE: kompose up support specified namespace to deploy,"I propose to have following syntax cli for kompose:

```bash
$ kompose up --namespace dev
```

Behaviour expected:

- Deploy all docker-compose container(s) specified in `docker-compose.yml` into given kubernetes namespace (e.g. `dev` for example above) 

Usage:

- Help developer easy to deploy into certain / isolate namespace in kubernetes, e.g. dev, staging, uat, and production.

This request relates to following issue, but I don't see anything could do / work around with my proposed feature:

https://github.com/kubernetes-incubator/kompose/issues/162

Thanks.",closed,False,2017-03-06 08:27:48,2017-04-12 13:40:34
kompose,peterpme,https://github.com/kubernetes/kompose/issues/474,https://api.github.com/repos/kubernetes/kompose/issues/474,Bug: Adding `networks:` to docker-compose.yaml file results in a runtime error,"`kompose version 0.3.0 (135165b3)`
`go version go1.8 darwin/amd64`

```go
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x18 pc=0x21eda6c]

goroutine 1 [running]:
github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project.(*Project).handleNetworkConfig(0xc42031c0e0)
	/home/tomas/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project/project.go:281 +0x19c
github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project.(*Project).load(0xc42031c0e0, 0x7fff5fbff5bb, 0x1a, 0xc42041c400, 0x69a, 0x89a, 0xc4200aa990, 0xc4204c9410)
	/home/tomas/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project/project.go:234 +0x490
github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project.(*Project).Parse(0xc42031c0e0, 0x0, 0x0)
	/home/tomas/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project/project.go:112 +0x162
github.com/kubernetes-incubator/kompose/pkg/loader/compose.(*Compose).LoadFile(0x365d9b0, 0xc420293480, 0x1, 0x1, 0xc4200aa8d0, 0x0, 0x10)
	/home/tomas/dev/go/src/github.com/kubernetes-incubator/kompose/pkg/loader/compose/compose.go:304 +0x10f
github.com/kubernetes-incubator/kompose/pkg/app.Convert(0x100000100, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0xc420293480, 0x1, 0x1, ...)
	/home/tomas/dev/go/src/github.com/kubernetes-incubator/kompose/pkg/app/app.go:214 +0x145
github.com/kubernetes-incubator/kompose/cmd.glob..func3(0x362fb00, 0xc420284fc0, 0x0, 0x2)
	/home/tomas/dev/go/src/github.com/kubernetes-incubator/kompose/cmd/convert.go:85 +0x4f
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).execute(0x362fb00, 0xc420284e20, 0x2, 0x2, 0x362fb00, 0xc420284e20)
	/home/tomas/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:650 +0x231
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x362ff40, 0xc42006e058, 0x0, 0xc4204c9f48)
	/home/tomas/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:737 +0x339
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).Execute(0x362ff40, 0x1, 0x1)
	/home/tomas/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:695 +0x2b
github.com/kubernetes-incubator/kompose/cmd.Execute()
	/home/tomas/dev/go/src/github.com/kubernetes-incubator/kompose/cmd/root.go:92 +0x31
main.main()
	/home/tomas/dev/go/src/github.com/kubernetes-incubator/kompose/main.go:22 +0x20
```",closed,False,2017-03-07 22:56:06,2017-05-31 15:19:01
kompose,surajssd,https://github.com/kubernetes/kompose/issues/475,https://api.github.com/repos/kubernetes/kompose/issues/475,extends is supported construct but conversion doc says opposite,"In [conversion doc](https://github.com/kubernetes-incubator/kompose/blob/master/docs/conversion.md) its mentioned that extends is unsupported which is not true.

Not all the forms of doing extends is supported right now but one specific way to do extends from docker-compose is supported in kompose and there is a issue in upstream libcompose to handle that: https://github.com/docker/libcompose/issues/428",closed,False,2017-03-08 12:16:17,2017-03-22 11:56:26
kompose,surajssd,https://github.com/kubernetes/kompose/issues/476,https://api.github.com/repos/kubernetes/kompose/issues/476,`volumes_from` is supported construct but conversion doc says opposite,"In [conversion doc](https://github.com/kubernetes-incubator/kompose/blob/master/docs/conversion.md) its mentioned that `volumes_from` is unsupported which is not true.

So if I mention `volumes_from` in a service then in resulting conversion both the deployments/deploymentconfigs will share same PVC.",closed,False,2017-03-08 12:21:25,2017-03-14 16:18:24
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/477,https://api.github.com/repos/kubernetes/kompose/issues/477,Kompose will keep trying its job,fixes #270,closed,True,2017-03-08 13:07:27,2017-04-03 16:00:01
kompose,cdrage,https://github.com/kubernetes/kompose/issues/478,https://api.github.com/repos/kubernetes/kompose/issues/478,Adding `networks:` results in a panic,"When supplying the `networks` key within Kompose with a network, it results in a panic / nil pointer.

```
networks:
  foobar:
```

See issue #474 for a reference as to why this happens.",closed,False,2017-03-08 14:07:08,2017-03-08 14:43:26
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/479,https://api.github.com/repos/kubernetes/kompose/issues/479,Update unsupported keys in kompose.io user guide,"Remove keys which are supported now: `build`, `mem_limit`, `tty`, `stdin_open`, `user`

Add unsupported keys: `cap_add`, `cap_drop`, `sysctls`",closed,False,2017-03-09 09:10:04,2017-03-14 13:28:54
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/480,https://api.github.com/repos/kubernetes/kompose/issues/480,Modified user-guide on kompose.io,Fixes #479,closed,True,2017-03-09 09:11:09,2017-03-10 19:22:31
kompose,cdrage,https://github.com/kubernetes/kompose/issues/481,https://api.github.com/repos/kubernetes/kompose/issues/481,Add Fedora packaging data to Kompose repo,"Move Fedora packaging information (located here: https://github.com/dustymabe/fedpkg-kompose) to the `/build` directory within the root of Kompose. Similar to https://github.com/kubernetes/kubernetes/tree/23cd9d7b05b1ef7ef5073ccc7cbeaf09771c8a43/build

1. It's not that much space to put it in this repo.
2. Keeps everything centralized and simple (can't have another repo on `kubernetes-incubator` called `kompose-packaging`)
3. Keeps everything out in the open for those who want to try packaging it themselves :+1: 

cc @surajssd ",closed,False,2017-03-09 13:29:02,2017-03-22 11:57:11
kompose,kadel,https://github.com/kubernetes/kompose/issues/482,https://api.github.com/repos/kubernetes/kompose/issues/482,Roadmap is out of date.,"Kompose roadmap is out-dated and it is not reflecting current state of things. For example it references milestones, but we currently don't use milestones :-(",closed,False,2017-03-09 13:49:13,2017-06-21 07:49:05
kompose,procrypt,https://github.com/kubernetes/kompose/pull/483,https://api.github.com/repos/kubernetes/kompose/issues/483,delete objects based on label,"@kadel @containscafeine @surajssd @cdrage 

This PR uses the `SelectorFromSet()` function which takes a`label or selector` as an argument returns all the object that uses that `label or selector`. Once we get the object that uses a particular label we can further do the delete operation on them. This is similar to `kubectl delete <object> --selector=<key>=<value>`. Also the label has been modified from `service` to `io.kompose.service`.
Thanks @kadel for all the help :)
Review please.
Fixes #255",closed,True,2017-03-10 09:23:11,2017-04-27 09:24:29
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/484,https://api.github.com/repos/kubernetes/kompose/issues/484,Added support for tmpfs,fixes #436,closed,True,2017-03-10 10:38:53,2017-03-16 17:07:50
kompose,cdrage,https://github.com/kubernetes/kompose/pull/485,https://api.github.com/repos/kubernetes/kompose/issues/485,Update the link to the conversion doc,"This updates user-guide.md to link to conversion.md when talking about
unsupported keys used by Kompose.",closed,True,2017-03-10 19:24:34,2017-03-30 13:09:38
kompose,stephanosbacon,https://github.com/kubernetes/kompose/issues/486,https://api.github.com/repos/kubernetes/kompose/issues/486,kompose should respect the dockerfile key in docker-compose.yml,"If one doesn't use the default Dockerfile, but specified it using dockerfile: in the yml, the generated build config does not have a dockerFilePath:  under dockerStrategy.  This is in version 0.3.0 (HEAD)",closed,False,2017-03-10 21:04:18,2017-03-22 14:17:12
kompose,dustymabe,https://github.com/kubernetes/kompose/issues/487,https://api.github.com/repos/kubernetes/kompose/issues/487,no commit hash in kompose 0.3.0 version information,"[link-to-rpm](https://kojipkgs.fedoraproject.org//packages/kompose/0.3.0/0.1.git135165b.fc25/x86_64/kompose-0.3.0-0.1.git135165b.fc25.x86_64.rpm)

For last release I saw:
```
$ kompose --version
kompose version 0.1.2 (92ea047)
```

With newer rpm I see:
```
[vagrant@f25vanilla ~]$ kompose version
0.3.0 (HEAD)
```

also the move from `kompose --version` to `kompose version` is odd. We should probably support `--version` as well, if possible.

```
[vagrant@f25vanilla ~]$ kompose --version
Error: unknown flag: --version
...
```",closed,False,2017-03-13 00:10:12,2017-07-12 17:49:54
kompose,cdrage,https://github.com/kubernetes/kompose/pull/488,https://api.github.com/repos/kubernetes/kompose/issues/488,Add three-week cycle comment to README,This adds a comment about our three-week cycle to the README.md.,closed,True,2017-03-13 15:40:09,2017-03-30 13:08:11
kompose,stephanosbacon,https://github.com/kubernetes/kompose/issues/489,https://api.github.com/repos/kubernetes/kompose/issues/489,mongodb startup problem with simple dockerfile,"The following dockerfile:

version: '2'
services:
  mongo:
    image: ""mongo""
    ports:
      - ""27017:27017""

when processed with:

kompose convert -f docker-compose.yml --provider OpenShift

will generate mongo-imagestream, mongo-deploymentconfig and mongo-service, which, when deployed to OpenShift (Minishift in this case) as follows:

oc create -f mongo-imagestream.yaml
oc create -f mongo-deploymentconfig.yaml
oc create -f mongo-service.yaml

will result in mongodb not starting with the following log [1]

However, if I say ""oc new-app --docker-image=mongo"" mongo starts up without a problem.

[1] The log: 

2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten] MongoDB starting : pid=1 port=27017 dbpath=/data/db 64-bit host=cablegram-1-b1zua
2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten] db version v3.4.2
2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten] git version: 3f76e40c105fc223b3e5aac3e20dcd026b83b38b
2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten] OpenSSL version: OpenSSL 1.0.1t  3 May 2016
2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten] allocator: tcmalloc
2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten] modules: none
2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten] build environment:
2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten]     distmod: debian81
2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten]     distarch: x86_64
2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten]     target_arch: x86_64
2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten] options: {}
2017-03-13T17:26:40.695+0000 I STORAGE  [initandlisten] exception in initAndListen: 20 Attempted to create a lock file on a read-only directory: /data/db, terminating
2017-03-13T17:26:40.695+0000 I NETWORK  [initandlisten] shutdown: going to close listening sockets...
2017-03-13T17:26:40.695+0000 I NETWORK  [initandlisten] shutdown: going to flush diaglog...
2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten] now exiting
2017-03-13T17:26:40.695+0000 I CONTROL  [initandlisten] shutting down with code:100




",closed,False,2017-03-13 17:31:14,2017-04-26 15:32:43
kompose,cdrage,https://github.com/kubernetes/kompose/pull/490,https://api.github.com/repos/kubernetes/kompose/issues/490,Update vendoring,"This updates the libcompose vendoring as well as a general update to
vendoring (adds the latest git commit of libcompose).

Closes https://github.com/kubernetes-incubator/kompose/issues/426
Closes https://github.com/kubernetes-incubator/kompose/issues/471",closed,True,2017-03-14 15:22:09,2017-03-30 13:09:34
kompose,cdrage,https://github.com/kubernetes/kompose/pull/491,https://api.github.com/repos/kubernetes/kompose/issues/491,Add that we support volumes_from,"Adds a note to the conversion doc that we support volumes_from.

Closes https://github.com/kubernetes-incubator/kompose/issues/476",closed,True,2017-03-14 15:30:51,2017-03-30 13:09:20
kompose,kadel,https://github.com/kubernetes/kompose/pull/492,https://api.github.com/repos/kubernetes/kompose/issues/492,Add install instruction for MacOS X (using brew),Kompose is homebrew - https://github.com/Homebrew/homebrew-core/blob/master/Formula/kompose.rb,closed,True,2017-03-14 17:26:06,2017-03-15 16:21:50
kompose,kadel,https://github.com/kubernetes/kompose/issues/493,https://api.github.com/repos/kubernetes/kompose/issues/493,remove extends from unsupported keys,extends actually works and it should be removed from unsupported keys,closed,False,2017-03-15 12:20:26,2017-03-22 11:56:26
kompose,cdrage,https://github.com/kubernetes/kompose/pull/494,https://api.github.com/repos/kubernetes/kompose/issues/494,"Remove extend from unused keys, add to conversion doc","This removes the ""unsupported"" extends from the list (since we actually
support) as well as add a clarificiation on the conversion.md document.

Closes https://github.com/kubernetes-incubator/kompose/issues/475
Closes https://github.com/kubernetes-incubator/kompose/issues/493",closed,True,2017-03-15 13:29:57,2017-03-30 13:09:01
kompose,cdrage,https://github.com/kubernetes/kompose/pull/495,https://api.github.com/repos/kubernetes/kompose/issues/495,Add rpm packaging,"This adds rpm packaging for building on Fedora + CentOS + deploying to
Koji.

I've gone ahead and updates notes.txt to a README.md to better reflect
how to build.

This is copied from:
https://src.fedoraproject.org/cgit/rpms/kompose.git
and added as a submodule.

Closes kubernetes-incubator#481

Ping @surajssd @dustymabe",closed,True,2017-03-16 14:17:41,2017-03-30 13:08:04
kompose,stephanosbacon,https://github.com/kubernetes/kompose/issues/496,https://api.github.com/repos/kubernetes/kompose/issues/496,Docker build fails:  Failed to push image: unauthized:authentication required,"Pushing image 172.30.46.106:5000/chat/chatback:latest ...
Pushed 0/20 layers, 0% complete
error: build error: Failed to push image: unauthorized: authentication required

After running kompose convert, and editing the resulting buildconfig such that it has a dockerfilePath (dunno if this should make a difference), the resulting build fails with the above failure.

The relevant test case is at:  https://github.com/stephanosbacon/chatBack/tree/master/build/kompose
",closed,False,2017-03-16 17:39:27,2018-01-04 16:52:07
kompose,kadel,https://github.com/kubernetes/kompose/pull/497,https://api.github.com/repos/kubernetes/kompose/issues/497,travis-ci: send report to coveralls in after_success section,"Connection to coveralls.io sometimes fails and its marking tests as fail
even then are OK. Exit code from after_success do not affects build
result.",closed,True,2017-03-17 14:46:29,2017-03-17 17:24:48
kompose,kadel,https://github.com/kubernetes/kompose/pull/498,https://api.github.com/repos/kubernetes/kompose/issues/498,do not fail if there is a golint violation,"golint output is just suggestion. Show output, but don't fail.
This also remove unnecessary bash script that is no longer needed.",closed,True,2017-03-17 16:14:57,2017-03-17 17:25:26
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/499,https://api.github.com/repos/kubernetes/kompose/issues/499,Added dockerfile key support,"Fixes #486
This commit will add `dockerfilepath` key under Dockerstratergy in Buildconfig.
dockerfilepath allow us to use dockerfiles which are named different than `Dockerfile`",closed,True,2017-03-20 06:29:29,2017-03-22 14:17:12
kompose,cdrage,https://github.com/kubernetes/kompose/pull/500,https://api.github.com/repos/kubernetes/kompose/issues/500,Sync changes from master to gh-pages on each merge request,"This adds the functionality for Travis to sync with http://kompose.io in
regards to ""syncing"" the docs directory in master and the docs within
gh-pages.

Two things are added:
  script/sync-docs/sh
  script/deploy_key.enc

The encrypted key follows the conventions here:
https://gist.github.com/domenic/ec8b0fc8ab45f39403dd
and the functionality of running: `travis encrypt-file encrypt_key`

The script is ran each-time a PR is merged (and only if it's
sucessful!) as per the modifications in `.travis.yml`.

Thus each time we make a change in master, there's no need to open up
another PR for syncing the changes with `gh-pages`.",closed,True,2017-03-20 15:53:29,2017-03-30 13:09:17
kompose,cdrage,https://github.com/kubernetes/kompose/issues/501,https://api.github.com/repos/kubernetes/kompose/issues/501,0.4.0 release,"Any blockers for this weeks release?

I'll be including a SHA256 hashsum for each binary generated for integrity.

I was thinking of including a signed GPG tarball but according to our previous discussion with @sebgoa and @ngtuna it wasn't feasible to include it since Kubernetes projects don't. A shasum should be enough.

ping @kadel @containscafeine @surajssd @surajnarwade if you have any issues / blockers before the release :)",closed,False,2017-03-20 18:30:06,2017-03-22 14:27:55
kompose,cdrage,https://github.com/kubernetes/kompose/pull/502,https://api.github.com/repos/kubernetes/kompose/issues/502,0.4.0 release,,closed,True,2017-03-21 18:48:42,2017-04-19 16:25:10
kompose,cdrage,https://github.com/kubernetes/kompose/pull/503,https://api.github.com/repos/kubernetes/kompose/issues/503,Ignore the /bin folder,Bin folder is used for binary generation. Ignore it.,closed,True,2017-03-21 19:32:15,2017-03-30 13:09:29
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/504,https://api.github.com/repos/kubernetes/kompose/issues/504,Removed Duplicate line(build) from compose.go,,closed,True,2017-03-22 07:58:31,2017-03-22 12:08:08
kompose,ashetty1,https://github.com/kubernetes/kompose/issues/505,https://api.github.com/repos/kubernetes/kompose/issues/505,`kompose up` fails with restart options on openshift,"When I try running `kompose up` with  docker-compose file containing restart key[1], it fails. It doesn't fail with `kompose convert`. What should be the expected behviour?

for kompose up: 

```
$ kompose --provider=openshift --emptyvols -f kompose/script/test/fixtures/restart-options/docker-compose-restart-no.yml --verbose up 


DEBU[0000] Opening compose files: kompose/script/test/fixtures/restart-options/docker-compose-restart-no.yml 
We are going to create OpenShift DeploymentConfigs, Services for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'oc create -f' commands instead. 

DEBU[0000] [0/1] [foo]: Adding                          

Your application has been deployed to OpenShift. You can run 'oc get dc,svc,is' for details.

```

in case of kompose convert:

```
$ kompose --provider=openshift --emptyvols -f kompose/script/test/fixtures/restart-options/docker-compose-restart-no.yml convert -y

INFO[0000] file ""foo-pod.yaml"" created                  

$ oc create -f foo-pod.yaml 
pod ""foo"" created

$ oc get pods
NAME      READY     STATUS              RESTARTS   AGE
foo       0/1       ContainerCreating   0          6s

```


[1] https://github.com/kubernetes-incubator/kompose/blob/master/script/test/fixtures/restart-options/docker-compose-restart-no.yml",closed,False,2017-03-22 08:58:23,2017-03-22 09:30:45
kompose,qujinping,https://github.com/kubernetes/kompose/pull/506,https://api.github.com/repos/kubernetes/kompose/issues/506,Support insecure registry and enhance parsing of image stream tag,"2 enhancements for openshift:
1) support insecure docker registry for generation of openshift image stream
we add an import policy for the image stream tag by following instruction of the command argument  
2) enhance parsing of image tag
current implementation doesn't support format like ""myregistryhost:5000/fedora/httpd:version1.0"". Enhance the parsing logic.",closed,True,2017-03-23 05:36:08,2017-04-06 10:11:58
kompose,cdrage,https://github.com/kubernetes/kompose/pull/507,https://api.github.com/repos/kubernetes/kompose/issues/507,Update the readme with tarball and installation instructions,"Updates the readme to reflect that we now have a tarball as well as
latest development instructions on prefering the binary installation
over `go get`.",closed,True,2017-03-23 13:42:48,2017-03-30 13:08:18
kompose,cdrage,https://github.com/kubernetes/kompose/pull/508,https://api.github.com/repos/kubernetes/kompose/issues/508,Update minor bug in syncing files,"Didn't catch this when testing all the pages (saw that setup and index
worked but not others).

Removes '.md' from the permalink.",closed,True,2017-03-23 16:47:52,2017-03-30 13:08:37
kompose,procrypt,https://github.com/kubernetes/kompose/pull/509,https://api.github.com/repos/kubernetes/kompose/issues/509,Propagate underscore into valid name,"Now we can provide service name with `_` in docker-compose files and they will by converted as `-` in the generated artifacts by kompose eg, if the service name in docker-compose file is ""foo_bar"" then it will be converted into ""foo-bar"" in the generated artifacts.

`docker-compose.yml` containing `_` in service name.
```yaml
version: ""2""
services:
  web_service:
    image: tuna/docker-counter23:latest
    ports:
      - ""5000:5000""
    links:
      - redis_service
  redis_service:
    image: redis:latest
    ports:
      - ""6379""
````
```bash
$ kompose up
INFO[0000] Service name in docker-compose has been changed from ""redis_service"" to ""redis-service"" 
INFO[0000] Service name in docker-compose has been changed from ""web_service"" to ""web-service"" 

We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead. 

INFO[0000] Successfully created Service: redis-service  
INFO[0000] Successfully created Service: web-service    
INFO[0000] Successfully created Deployment: redis-service 
INFO[0000] Successfully created Deployment: web-service 

Your application has been deployed to Kubernetes. You can run 'kubectl get deployment,svc,pods,pvc' for details.
```

`docker-compose.yml` without `_` in service name.
```yaml
version: ""2""
services:
  web:
    image: tuna/docker-counter23:latest
    ports:
      - ""5000:5000""
    links:
      - redis
  redis:
    image: redis:latest
    ports:
      - ""6379""
````

```bash
$ kompose up
We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead. 

INFO[0000] Successfully created Service: redis          
INFO[0000] Successfully created Service: web            
INFO[0000] Successfully created Deployment: redis       
INFO[0000] Successfully created Deployment: web         

Your application has been deployed to Kubernetes. You can run 'kubectl get deployment,svc,pods,pvc' for details.
```
cc: @kadel @cdrage 
Fixes: #420 ",closed,True,2017-03-24 04:27:12,2017-04-04 13:21:59
kompose,kadel,https://github.com/kubernetes/kompose/issues/510,https://api.github.com/repos/kubernetes/kompose/issues/510,kompose down is not deleting ingress and route,,closed,False,2017-03-24 11:43:53,2017-04-12 15:47:18
kompose,kadel,https://github.com/kubernetes/kompose/pull/511,https://api.github.com/repos/kubernetes/kompose/issues/511,add missing 'io.kompose.service' label to Route and Ingress,"This was caussing 'kompose down' not to delete Route and Ingress

fixes #510 ",closed,True,2017-03-24 13:25:55,2017-04-12 15:47:18
kompose,cdrage,https://github.com/kubernetes/kompose/pull/512,https://api.github.com/repos/kubernetes/kompose/issues/512,Fixes image (uses / to get the root dir),Fixes the image when syncing between docs. Adds a '/'.,closed,True,2017-03-24 19:14:24,2017-03-30 13:08:39
kompose,surajssd,https://github.com/kubernetes/kompose/issues/513,https://api.github.com/repos/kubernetes/kompose/issues/513,unused global constants in convert.go,"In convert.go we have some consts that are not used anywhere, for e.g. `ConvertSource` and `ConvertBuildConfig`. This needs a cleanup.
",closed,False,2017-03-27 09:51:25,2017-03-28 12:43:01
kompose,surajssd,https://github.com/kubernetes/kompose/issues/514,https://api.github.com/repos/kubernetes/kompose/issues/514,make flags global which are common,"flags like `replicas` and other flags that are repeating should be implemented only once, which means make it global.

This came to my mind after reading #506",closed,False,2017-03-27 11:58:30,2017-08-03 13:48:25
kompose,cdrage,https://github.com/kubernetes/kompose/pull/515,https://api.github.com/repos/kubernetes/kompose/issues/515,Fix the DAB spelling error,It's Distributed Application Bundle (DAB).,closed,True,2017-03-27 14:48:47,2017-03-30 13:08:42
kompose,cdrage,https://github.com/kubernetes/kompose/pull/516,https://api.github.com/repos/kubernetes/kompose/issues/516,Ignore Docker Compose files in the root directory,"When developing Kompose, it's common to have the Docker Compose file in
the root directory.

Adding it to gitignore ignores it for any changes that could be
committed / pushed by accident.",closed,True,2017-03-27 15:18:42,2017-03-30 13:08:47
kompose,procrypt,https://github.com/kubernetes/kompose/pull/517,https://api.github.com/repos/kubernetes/kompose/issues/517,Added support for different namespaces,"Now we can deploy application in different namespaces using the `--namespace=<value>` flag with `kompose up` and `kompose down`. The `--namepace` flag will deploy the application in that particular `namespace` if, exist.

`docker-compose` file used.
```yaml
version: ""2""
services:
  web:
    image: tuna/docker-counter23:latest
    ports:
      - ""5000:5000""
    links:
      - redis
  redis:
    image: redis:latest
    ports:
      - ""6379""
```
Current `namespaces` in k8s cluster
```bash
$ kubectl get namespace 
NAME          STATUS    AGE
default       Active    3m
development   Active    3m
kube-system   Active    3m
```

Deploy application in `namespace=development`
```bash
$ kompose up --namespace=development
We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead. 

INFO[0000] Deploying application in ""development"" namespace
 
INFO[0000] Successfully created Service: redis          
INFO[0000] Successfully created Service: web            
INFO[0000] Successfully created Deployment: redis       
INFO[0000] Successfully created Deployment: web         

Your application has been deployed to Kubernetes. You can run 'kubectl get deployment,svc,pods,pvc' for details.
```

Verify application been deployed in the `namespace=development` correctly
```bash 
$ kubectl get deployment,svc,pods,pvc --namespace=development
NAME                        DESIRED      CURRENT             UP-TO-DATE   AVAILABLE   AGE
redis                       1            1                   1            0           2m
web                         1            1                   1            0           2m
NAME                        CLUSTER-IP   EXTERNAL-IP         PORT(S)      AGE
redis                       10.0.0.110   <none>              6379/TCP     2m
web                         10.0.0.55    <none>              5000/TCP     2m
NAME                        READY        STATUS              RESTARTS     AGE
mlbparks-3930800586-mblgc   0/1          Terminating         0            4m
redis-741327525-om0xc       0/1          ContainerCreating   0            2m
web-519030457-28arz         0/1          ContainerCreating   0            2m
```

Delete the application that has been deployed in the `namespace=development`
```bash
$ kompose down --namespace=development
INFO[0000] Deleting application from ""development"" namespace
 
INFO[0000] Successfully deleted Service: redis          
INFO[0000] Successfully deleted Service: web            
INFO[0003] Successfully deleted Deployment: redis       
INFO[0006] Successfully deleted Deployment: web  
```

Fixes: #473 

CC: @kadel @cdrage @containscafeine @surajssd ",closed,True,2017-03-27 19:02:56,2017-04-12 13:40:34
kompose,procrypt,https://github.com/kubernetes/kompose/pull/518,https://api.github.com/repos/kubernetes/kompose/issues/518,Functional tests in golang,"This is the work I had done last week for writing functional test in golang. Here I am providing the `output.json` file to `ioutil.ReadFile` and then comparing it with the stdout of `kompose convert`.

In context to #432 
@kadel @cdrage @containscafeine  Let me know if this is the correct way to proceed.",closed,True,2017-03-27 19:26:59,2018-02-25 12:30:50
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/519,https://api.github.com/repos/kubernetes/kompose/issues/519,Added warning after PVC creation,"Partially resolve #376
Added warning, such that PV should be created before PVC or
if dynamic provision is there, no need to create PV.",closed,True,2017-03-28 09:55:30,2017-04-18 13:28:22
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/520,https://api.github.com/repos/kubernetes/kompose/issues/520,Removing unused variable from convert.go,"Fixes #513
removed `ConvertSource` and `ConvertBuildConfig`, since they are no longer used.",closed,True,2017-03-28 10:49:45,2017-03-28 12:43:01
kompose,cdrage,https://github.com/kubernetes/kompose/pull/521,https://api.github.com/repos/kubernetes/kompose/issues/521,Add build and push support,"This adds support for building and pushing docker containers
when you perform either `kompose convert` or `kompose up`.

Docker Compose files who have build parameters with their respective
image and build keys will automatically be both built and pushed.",closed,True,2017-03-28 20:33:15,2017-06-15 19:29:57
kompose,Minx-SigEp,https://github.com/kubernetes/kompose/issues/522,https://api.github.com/repos/kubernetes/kompose/issues/522,kompose.service.type label not working as expected,"According to the documentation ( [User Guide - labels](https://github.com/kubernetes-incubator/kompose/blob/master/docs/user-guide.md#labels) ) I should be able to specify the label kompose.service.type: NodePort in docker-compose.yml. However it is not behaving as expected. My understanding is the services should be configured as described here https://kubernetes.io/docs/user-guide/services/#type-nodeport

docker-compose.yml

    version: ""2""
    services:
      webapiapplication:
        image: webapiapplication
        labels:
          kompose.service.type: NodePort

Powershell command and output

    PS C:\agents\windows_01\_work\1\a> kompose -f .\docker-compose.yml convert
    INFO[0000] file ""webapiapplication-service.yaml"" created
    INFO[0000] file ""webapiapplication-deployment.yaml"" created

webapiapplication-service.yaml

    apiVersion: v1
    kind: Service
    metadata:
      annotations:
        kompose.service.type: NodePort
      creationTimestamp: null
      labels:
        service: webapiapplication
      name: webapiapplication
    spec:
      clusterIP: None
      ports:
      - name: headless
        port: 55555
        targetPort: 0
      selector:
        service: webapiapplication
    status:
      loadBalancer: {}


webapiapplication-deployment.yaml

    apiVersion: extensions/v1beta1
    kind: Deployment
    metadata:
      annotations:
        kompose.service.type: NodePort
      creationTimestamp: null
      name: webapiapplication
    spec:
      replicas: 1
      strategy: {}
      template:
        metadata:
          creationTimestamp: null
          labels:
            service: webapiapplication
        spec:
          containers:
          - image: webapiapplication
            name: webapiapplication
            resources: {}
          restartPolicy: Always
    status: {}",closed,False,2017-03-28 23:03:47,2017-06-15 09:26:31
kompose,cdrage,https://github.com/kubernetes/kompose/pull/523,https://api.github.com/repos/kubernetes/kompose/issues/523,Remove unused parameters from Kompose down,Remove --replicas and --emptyvols from Kompose down,closed,True,2017-03-29 13:21:36,2017-05-26 15:32:09
kompose,cdrage,https://github.com/kubernetes/kompose/pull/524,https://api.github.com/repos/kubernetes/kompose/issues/524,Fix typo in replicas and organize flags,"Fixes a typo in the `--replicas` command as well as changes up some
grammar and moves the 'markashidden' flag values elsewhere.",closed,True,2017-03-29 13:25:54,2017-04-19 16:25:02
kompose,cdrage,https://github.com/kubernetes/kompose/pull/525,https://api.github.com/repos/kubernetes/kompose/issues/525,Fix typo in tarball link in readme,Fixes the link on the README.md related to the tarball archive,closed,True,2017-03-29 13:31:59,2017-04-19 16:25:15
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/526,https://api.github.com/repos/kubernetes/kompose/issues/526,Fixed functional tests,"Fixes #431

fixed commands where output showing `command not found` and k8s output
added for restart-options example.",closed,True,2017-03-30 05:54:45,2017-03-30 10:10:15
kompose,cdrage,https://github.com/kubernetes/kompose/pull/527,https://api.github.com/repos/kubernetes/kompose/issues/527,"Update contributing doc for reviewing, update owners file","Owners file currently isn't being used (unless we have the Kubernetes
bot in-use), however, it needed a well-overdue update.

I've gone ahead and updated the CONTRIBUTING.md doc to add the change
that it requires *two* reviews for a code-review and one for a doc
review.",closed,True,2017-03-30 13:19:16,2017-04-19 16:25:18
kompose,cdrage,https://github.com/kubernetes/kompose/pull/528,https://api.github.com/repos/kubernetes/kompose/issues/528,Fix the examples,"Moves `docker-compose.yaml` to `docker-compose-counter.yaml` and
replaces the default docker-compose.yaml with the example from the
Kompose.io website.

We also rename each file from yml to yaml.

As well as do some slight modifications / formatting to
docker-compose-bundle.dab",closed,True,2017-03-31 12:49:48,2017-05-26 15:31:56
kompose,cdrage,https://github.com/kubernetes/kompose/pull/529,https://api.github.com/repos/kubernetes/kompose/issues/529,Update vendoring + fix issue with timestamps being added to log,"As per the vendoring here:
https://github.com/kubernetes-incubator/kompose/commit/e9544ca89477ed76bd75f1160f9a89686f75e95d
for some odd issue, text_formatter.go in the logrus package was updated
to an older file.

This commit updates the vendoring as well as specifies a specific
version for logrus to be used.",closed,True,2017-03-31 13:18:16,2017-04-19 16:24:59
kompose,cdrage,https://github.com/kubernetes/kompose/issues/530,https://api.github.com/repos/kubernetes/kompose/issues/530,Timestamps are added again to compose.,"Noticed that timestamps were added again for some odd reason, found it was an odd vendor update that messed it up: https://github.com/kubernetes-incubator/kompose/commit/e9544ca89477ed76bd75f1160f9a89686f75e95d

See:

```
github.com/kubernetes-incubator/kompose  fix-logrus-bug ✔                                                                                                                                                                                                                   5m  ⍉
▶ ./kompose convert
FATA[0000] No 'docker-compose' file found: stat docker-compose.yaml: no such file or directory 
```

I've fixed this in #529 ",closed,False,2017-03-31 13:23:23,2017-04-07 17:26:19
kompose,cdrage,https://github.com/kubernetes/kompose/pull/531,https://api.github.com/repos/kubernetes/kompose/issues/531,Move docker-compose.yml test file to tests,"Moves a file that was incorrectly being used from examples to
script/test/fixtures.",closed,True,2017-03-31 14:08:17,2017-04-19 16:25:08
kompose,sinnykumari,https://github.com/kubernetes/kompose/issues/532,https://api.github.com/repos/kubernetes/kompose/issues/532,kompose fails to build on ppc64 and ppc64le arches due to old sys/unix vendor package,"Hi,

Kompose-v0.4.0 fails to build on ppc64(le) architectures with following error message:
\# github.com/kubernetes-incubator/kompose/vendor/github.com/fsnotify/fsnotify
src/github.com/kubernetes-incubator/kompose/vendor/github.com/fsnotify/fsnotify/inotify_poller.go:48: undefined: unix.Pipe2

It seems that vendored sys/unix package is old because /vendor/golang.org/x/sys/unix/syscall_linux_ppc64x.go doesn't contain definition of function Pipe2 for ppc64x while upstream has the fixes available https://github.com/golang/sys/commit/b776ec39b3e54652e09028aaaaac9757f4f8211a#diff-ed5775d43461429a9a5247567c3c9fd9R117 .

I built locally and in koji  by replacing /vendor/golang.org/x/sys/unix content with https://github.com/golang/sys/tree/master/unix/ and it builds successfully. 

I tried to update sys package in kompose using ""glide get golang.org/x/sys/unix"" , didn't use glide up because glide.yaml doesn't have entry for sys/unix . It doesn't seem to go successfully for me, details are at https://paste.fedoraproject.org/paste/nPuAB0vbRIXDwIqyA0YWE15M1UNdIGYhyRLivL9gydE=
. 

Reference
---------------
Complete build log - https://kojipkgs.fedoraproject.org//work/tasks/1264/18671264/build.log
Failed koji build link - https://koji.fedoraproject.org/koji/taskinfo?taskID=18671235
Successful koji build link after sys/unix update - https://koji.fedoraproject.org/koji/taskinfo?taskID=18697032",closed,False,2017-03-31 14:38:33,2017-03-31 18:41:57
kompose,cdrage,https://github.com/kubernetes/kompose/pull/533,https://api.github.com/repos/kubernetes/kompose/issues/533,Only ignore the docker-compose yaml file in the root directory,"Woops! It was ignoring all of them in the directory. We should only be
avoiding the root dir docker-compose files!",closed,True,2017-03-31 15:06:29,2017-05-26 15:32:26
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/534,https://api.github.com/repos/kubernetes/kompose/issues/534,Unused functions in app.go and utils.go,"functions `askForConfirmation` in `app.go`, `TransformData` and `RandStringBytes` in `utils.go` are not called anywhere in kompose, shall we remove them   or they are there for any purpose ?",closed,False,2017-04-03 06:53:03,2017-04-06 16:33:19
kompose,cdrage,https://github.com/kubernetes/kompose/pull/535,https://api.github.com/repos/kubernetes/kompose/issues/535,"Revert ""Kompose will keep trying its job""",Reverts kubernetes-incubator/kompose#477,closed,True,2017-04-03 15:52:06,2017-05-24 14:49:50
kompose,kadel,https://github.com/kubernetes/kompose/pull/536,https://api.github.com/repos/kubernetes/kompose/issues/536,"new take on ""Kompose will keep trying its job #477""","This is reopening of #477 there were some issues that we forgot to address. 

Issue was that if it can't connect to cluster it panics.
Problem is that we continue after every error.
There should be return after some errors, and after every error in switch should be break so we don't 
try to get reaper using client which creation field or calling `Stop` on reaper that field to create.

I've added new commit on top of  original @surajnarwade's commit, so its easier to review.
Once we agreed that this is the way we wan't to do it we can squash it
",closed,True,2017-04-03 16:44:53,2017-04-10 16:29:41
kompose,surajssd,https://github.com/kubernetes/kompose/issues/537,https://api.github.com/repos/kubernetes/kompose/issues/537,Update roadmap wrt to k8s 1.7 release,"$subject

also needs to be put in https://docs.google.com/document/d/1g5yzEIWoNWJ4tdYRRQP8CE9JSoj4KFemAwayiTE6wnM/edit",closed,False,2017-04-03 16:47:02,2017-04-26 15:43:20
kompose,kadel,https://github.com/kubernetes/kompose/issues/538,https://api.github.com/repos/kubernetes/kompose/issues/538,add documentation about renaming service,"We should add warning to docs explaining why, when and how we rename service as it may break some docker-compose files

see https://github.com/kubernetes-incubator/kompose/pull/509",closed,False,2017-04-03 17:42:39,2017-04-26 14:37:58
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/539,https://api.github.com/repos/kubernetes/kompose/issues/539,Removed unused functions,"Fixes #534 by removing functions askForConfirmation in app.go, TransformData and RandStringBytes in utils.go",closed,True,2017-04-04 05:56:21,2017-04-06 16:33:19
kompose,cdrage,https://github.com/kubernetes/kompose/pull/540,https://api.github.com/repos/kubernetes/kompose/issues/540,Add ARM to make cross.,"This adds a linux/arm build to Makefile which will be included in the
release.sh script.",closed,True,2017-04-04 14:13:45,2017-04-19 16:24:54
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/541,https://api.github.com/repos/kubernetes/kompose/issues/541,Kompose binary for ARM,"I think, we should have kompose binary for ARM :)",closed,False,2017-04-04 14:29:11,2017-04-04 17:07:57
kompose,cdrage,https://github.com/kubernetes/kompose/pull/542,https://api.github.com/repos/kubernetes/kompose/issues/542,0.5.0 release,,closed,True,2017-04-04 16:24:40,2017-04-19 16:25:13
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/543,https://api.github.com/repos/kubernetes/kompose/issues/543,Moved cpu_shares and cpuset to unsupported keys,"Resolves #272 and #267

As there is no direct mapping of `cpushares` and `cpuset` to kubernetes,
it should not be read and should be moved to unsupported keys.",closed,True,2017-04-05 06:21:43,2017-04-06 16:51:48
kompose,RyoIkarashi,https://github.com/kubernetes/kompose/issues/544,https://api.github.com/repos/kubernetes/kompose/issues/544,"Fatal error saying ""/etc/nginx/certs"": must be unique","I'm using `jrcs/letsencrypt-nginx-proxy-companion` in my `docker-compose.production.yml` and `kompose -f docker-compose.production.yml up` throws an error saying

```
WARN Unsupported logging key - ignoring
WARN Volume mount on the host ""/var/run/docker.sock"" isn't supported - ignoring path on the host
WARN Volume mount on the host ""./certs"" isn't supported - ignoring path on the host
WARN Volume mount on the host ""/var/run/docker.sock"" isn't supported - ignoring path on the host
WARN Volume mount on the host ""./certs"" isn't supported - ignoring path on the host
WARN Volume mount on the host ""/var/run/docker.sock"" isn't supported - ignoring path on the host
WARN Volume mount on the host ""./certs"" isn't supported - ignoring path on the host
INFO We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead.

INFO Successfully created Service: letsencrypt
INFO Successfully created Service: proxy
FATA Error while deploying application: Deployment.extensions ""letsencrypt"" is invalid: spec.template.spec.containers[0].volumeMounts[4].mountPath: Invalid value: ""/etc/nginx/certs"": must be unique
```

How can I fix this issue?

---

My `kompose version` is `0.5.0 ()`

And my `docker-compose.production.yml` below.

```yml
version: ""2""

services:

  proxy:
    image: jwilder/nginx-proxy
    privileged: true
    container_name: proxy
    ports:
      - 80:80
      - 443:443
    volumes:
      - /etc/nginx/vhost.d
      - /var/run/docker.sock:/tmp/docker.sock:ro
      - ./certs:/etc/nginx/certs:ro
      - /usr/share/nginx/html
    restart: always
    logging:
      options:
        max-size: 5m
        max-file: ""10""

  letsencrypt:
    image: jrcs/letsencrypt-nginx-proxy-companion
    privileged: true
    container_name: ssl
    volumes_from:
      - proxy
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - ./certs:/etc/nginx/certs:rw

networks:
  default:
    external:
      name: shared
```
",closed,False,2017-04-05 08:59:45,2017-07-27 14:19:52
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/545,https://api.github.com/repos/kubernetes/kompose/issues/545,kompose should give warning on providing blank environment variables,"Sometimes docker-compose files have environment variables which are not set, In that case, we should give warning to user.

inspired from https://github.com/redhat-developer/opencompose",closed,False,2017-04-05 12:56:52,2018-01-02 20:21:42
kompose,cdrage,https://github.com/kubernetes/kompose/pull/546,https://api.github.com/repos/kubernetes/kompose/issues/546,Add setup.md,"Adds setup.md to the docs folder in order to sync with changes to
http://kompose.io site (whenever we update setup.md here, it'll update
on the gh-pages branch).",closed,True,2017-04-05 16:43:19,2017-04-19 16:24:57
kompose,qujinping,https://github.com/kubernetes/kompose/pull/547,https://api.github.com/repos/kubernetes/kompose/issues/547,Support insecure registry and enhance parsing of image stream tag,"Add 2 enhancements for openshift:
	- support insecure docker registry for generation of openshift image stream
	    we add an import policy for the image stream tag by following instruction of the command argument
	- enhance parsing of image tag
	    current implementation doesn't support format like ""myregistryhost:5000/fedora/httpd:version1.0"". Enhance the parsing logic.",closed,True,2017-04-06 10:21:56,2017-04-07 15:40:49
kompose,kadel,https://github.com/kubernetes/kompose/issues/548,https://api.github.com/repos/kubernetes/kompose/issues/548,update docs/conversion.md,docs/conversion.md is slightly out of the for example `tmpfs` is as unsupported,closed,False,2017-04-06 14:10:47,2017-04-26 15:42:20
kompose,kadel,https://github.com/kubernetes/kompose/pull/549,https://api.github.com/repos/kubernetes/kompose/issues/549,Update ROADMAP,"This is my attempt for Kompose roadmap.
We should at least try to keep this up to date this time :wink: 

ping @pradeepto @cdrage @surajssd @containscafeine ",closed,True,2017-04-07 11:07:42,2017-04-10 16:26:03
kompose,kadel,https://github.com/kubernetes/kompose/issues/550,https://api.github.com/repos/kubernetes/kompose/issues/550,driver:local in prefixing volumes with current dir name,"```yaml
version: '2'
services:
  mariadb:
    image: 'bitnami/mariadb:latest'
    volumes:
      - 'mariadb-data:/bitnami/mariadb'
    environment:
      - MARIADB_USER=bn_wordpress
      - MARIADB_DATABASE=bitnami_wordpress
      - ALLOW_EMPTY_PASSWORD=yes
  wordpress:
    image: 'bitnami/wordpress:latest'
    ports:
      - '80:80'
      - '443:443'
    volumes:
      - 'wordpress-data:/bitnami/wordpress'
      - 'apache-data:/bitnami/apache'
      - 'php-data:/bitnami/php'
    depends_on:
      - mariadb
    environment:
      - MARIADB_HOST=mariadb
      - MARIADB_PORT=3306
      - WORDPRESS_DATABASE_USER=bn_wordpress
      - WORDPRESS_DATABASE_NAME=bitnami_wordpress
      - ALLOW_EMPTY_PASSWORD=yes
volumes:
  mariadb-data:
    driver: local
  wordpress-data:
    driver: local
  apache-data:
    driver: local
  php-data:
    driver: local
```

all PVC created from this file have names that are starting with name of current directory and `_` as separator.

```yaml
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    creationTimestamp: null
    labels:
      io.kompose.service: kompose_apache-data
    name: kompose_apache-data
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 100Mi
  status: {}
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    creationTimestamp: null
    labels:
      io.kompose.service: kompose_php-data
    name: kompose_php-data
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 100Mi
  status: {}
kind: List
metadata: {}
```

**Problem is that Kubernetes doesn't allow `_` in object names**


From first quick look it seems to me that `libcompose` is doing that  for some reason.






",closed,False,2017-04-07 12:51:21,2017-04-27 08:25:51
kompose,kadel,https://github.com/kubernetes/kompose/pull/551,https://api.github.com/repos/kubernetes/kompose/issues/551,Update document describing release process,"Updated release process.
@cdrage, does is describe how you do it?
Is there something important that I forgot?",closed,True,2017-04-07 12:59:56,2017-04-10 16:28:21
kompose,cdrage,https://github.com/kubernetes/kompose/pull/552,https://api.github.com/repos/kubernetes/kompose/issues/552,Fixes the headers of the docs,"Changes it to 1 `#`. Fixes the headers so they're consistent across all
docs.",closed,True,2017-04-10 19:31:25,2017-05-26 15:32:00
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/553,https://api.github.com/repos/kubernetes/kompose/issues/553,Updated conversion doc,`docs/conversion.md` is updated as `tmpfs` is supported now.,closed,True,2017-04-11 06:15:33,2017-04-26 14:35:40
kompose,dkarlovi,https://github.com/kubernetes/kompose/issues/554,https://api.github.com/repos/kubernetes/kompose/issues/554,[UX] Sort output when doing kind: list and --stdout,"I'm doing some sort of post-processing on the generated YAML to be able to omit `BuildConfig` (as mentioned in #446) etc. When I'm done, I save it to a versioned file to be able to keep track of production config.

When running `kompose convert --provider openshift --verbose --stdout` (which produces a `kind: list`), services' and configuration blocks' order seems to be generated arbitrarily. As this is unimportant for general usage, you might provide a nice UX boost just by sorting the output which would make having it be stable and diffs actually meaningful.

For example, you might go with:
- serviceA, `BuildConfig`
- serviceA, `DeploymentConfig`
- serviceB, `BuildConfig`
- serviceB, `DeploymentConfig`
- etc.

Also, stuff like environment variables and service ports might get sorted by `name`.",closed,False,2017-04-13 14:04:43,2017-05-10 13:21:05
kompose,nkysg,https://github.com/kubernetes/kompose/pull/555,https://api.github.com/repos/kubernetes/kompose/issues/555,kompose convert --rc and kompose convert --ds not right,"when i run `kompose convert --rc`
It show that 
Error: unknown flag: --rc

when i run ｀kompose convert --ds`
it shows `Error: unknown flag: --ds`",closed,True,2017-04-17 05:53:28,2017-04-24 01:46:48
kompose,cdrage,https://github.com/kubernetes/kompose/pull/556,https://api.github.com/repos/kubernetes/kompose/issues/556,Update doc with better console output and add note on deployment config,"Adds note on Deployment Config as well as updates console output for
Kubernetes example",closed,True,2017-04-18 15:13:51,2017-05-26 15:32:11
kompose,procrypt,https://github.com/kubernetes/kompose/pull/557,https://api.github.com/repos/kubernetes/kompose/issues/557,fix driver:local in prefixing volumes with current dir name,"If we have a `docker-file` with root level `volumes` and we do a `kompose up` using that `docker-file`, libcompose will add an additional `_` followed by the current directory name. 

`docker-compose.yml` used 
```yaml
version: '2'
services:
  mariadb:
    image: 'bitnami/mariadb:latest'
    volumes:
      - 'mariadb-data:/bitnami/mariadb'
    environment:
      - MARIADB_USER=bn_wordpress
      - MARIADB_DATABASE=bitnami_wordpress
      - ALLOW_EMPTY_PASSWORD=yes
  wordpress:
    image: 'bitnami/wordpress:latest'
    ports:
      - '80:80'
      - '443:443'
    volumes:
      - 'wordpress-data:/bitnami/wordpress'
      - 'apache-data:/bitnami/apache'
      - 'php-data:/bitnami/php'
    depends_on:
      - mariadb
    environment:
      - MARIADB_HOST=mariadb
      - MARIADB_PORT=3306
      - WORDPRESS_DATABASE_USER=bn_wordpress
      - WORDPRESS_DATABASE_NAME=bitnami_wordpress
      - ALLOW_EMPTY_PASSWORD=yes
volumes:
  mariadb-data:
    driver: local
  wordpress-data:
    driver: local
  apache-data:
    driver: local
  php-data:
    driver: local
```
```yaml
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    creationTimestamp: null
    labels:
      io.kompose.service: kompose_apache-data
    name: kompose_apache-data
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 100Mi
  status: {}
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    creationTimestamp: null
    labels:
      io.kompose.service: kompose_php-data
    name: kompose_php-data
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 100Mi
  status: {}
kind: List
metadata: {}
```
```bash
$ kompose -f docker-compose.yml up
WARN Unsupported root level volumes key - ignoring 
WARN Unsupported depends_on key - ignoring        
INFO We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead. 
 
INFO Deploying application in ""default"" namespace 
INFO Successfully created Service: mariadb        
INFO Successfully created Service: wordpress      
FATA Error while deploying application: Deployment.extensions ""mariadb"" is invalid: [spec.template.spec.volumes[0].name: Invalid value: ""komposefiles_mariadb-data"": must match the regex [a-z0-9]([-a-z0-9]*[a-z0-9])? (e.g. 'my-name' or '123-abc'), spec.template.spec.containers[0].volumeMounts[0].name: Not found: ""komposefiles_mariadb-data""] 
```
Since `kubernetes` doesn't allow `_` in the objects created so `kompose up` will fail to deploy it.

 As a solution we replace `_` to `-` and we can then deploy it successfully. 

```bash
$ kompose -f docker-compose.yml up
WARN Unsupported root level volumes key - ignoring 
WARN Unsupported depends_on key - ignoring        
INFO We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead. 
 
INFO Deploying application in ""default"" namespace 
INFO Successfully created Service: mariadb        
INFO Successfully created Service: wordpress      
INFO Successfully created Deployment: mariadb     
INFO Successfully created PersistentVolumeClaim: komposefiles-mariadb-data 
INFO Successfully created Deployment: wordpress   
INFO Successfully created PersistentVolumeClaim: komposefiles-wordpress-data 
INFO Successfully created PersistentVolumeClaim: komposefiles-apache-data 
INFO Successfully created PersistentVolumeClaim: komposefiles-php-data 

Your application has been deployed to Kubernetes. You can run 'kubectl get deployment,svc,pods,pvc' for details.
```
```yaml
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    creationTimestamp: null
    labels:
      io.kompose.service: kompose-apache-data
    name: kompose-apache-data
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 100Mi
  status: {}
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    creationTimestamp: null
    labels:
      io.kompose.service: kompose-php-data
    name: kompose-php-data
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 100Mi
  status: {}
kind: List
metadata: {}
```

CC: @kadel @cdrage  
Fixes #550 ",closed,True,2017-04-19 08:17:12,2017-04-27 08:25:52
kompose,cdrage,https://github.com/kubernetes/kompose/pull/558,https://api.github.com/repos/kubernetes/kompose/issues/558,Add test dependencies,"This clears up .travis.yaml as well as adds the test dependencies when
running `make test` so the user running the tests has the most
up-to-date ones available.",closed,True,2017-04-19 14:40:28,2017-05-26 15:31:52
kompose,cdrage,https://github.com/kubernetes/kompose/pull/559,https://api.github.com/repos/kubernetes/kompose/issues/559,Clarify tarball,Describe that it's a bandwidth-conservative alternative,closed,True,2017-04-19 15:00:23,2017-05-26 15:32:23
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/560,https://api.github.com/repos/kubernetes/kompose/issues/560,Ignore Volume if similar mountpath found,"Resolves #544

With this PR, kompose will give error if similar mountpaths are found
in case when `volumes_from` is being used.",closed,True,2017-04-20 07:45:19,2017-07-19 04:08:51
kompose,surajssd,https://github.com/kubernetes/kompose/issues/561,https://api.github.com/repos/kubernetes/kompose/issues/561,git repo with detached head generates wrong `bc`,"here is my git env

```bash
✔ /tmp/kompose [:24e53f2|…6] 
08:28 $ git log | head
commit 24e53f20abca2e3fb8e8a31ade3ba8f0ca73df4a
Author: Anush Shetty <ashetty@redhat.com>
Date:   Wed Mar 1 16:07:21 2017 +0530

    Adding OpenShift functional tests for kompose up/down
    
    * This PR adds functional tests for kompose up/down. The test scripts
    are hosted under script/test_in_openshift. The directory structure,
    as follows:
    
✔ /tmp/kompose [:24e53f2|…6] 
08:28 $ git branch 
* (HEAD detached at anush/openshift_up_down_test)
  master
✔ /tmp/kompose [:24e53f2|…6] 
08:28 $ 
```

kompose generates wrong buildconfig for openshift in git repo that is detached

```bash
$ kompose convert -f examples/buildconfig/docker-compose.yml --provider openshift --stdout | grep git
INFO Buildconfig using https://github.com/kubernetes-incubator/kompose/.git::HEAD as source. 
      git:
        uri: https://github.com/kubernetes-incubator/kompose/.git
```",closed,False,2017-04-20 08:32:23,2018-03-06 13:58:26
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/562,https://api.github.com/repos/kubernetes/kompose/issues/562,Updating Vendor,"As https://github.com/docker/libcompose/pull/457 and
https://github.com/docker/libcompose/pull/450 are merged now in libcompose",closed,True,2017-04-20 10:18:11,2017-04-21 11:16:01
kompose,procrypt,https://github.com/kubernetes/kompose/pull/563,https://api.github.com/repos/kubernetes/kompose/issues/563,delete buildConfig based on label,"`BuildConfig` was not getting deleted earlier using `kompose down`.
Fixes #382 
@cdrage ",closed,True,2017-04-20 13:15:43,2017-05-17 11:41:03
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/564,https://api.github.com/repos/kubernetes/kompose/issues/564,commenting test case temporarily ,"PR https://github.com/kubernetes-incubator/kompose/pull/562 is failing due to test case,

```
convert::expect_success_and_warning: Running: 'kompose --provider=openshift -f /home/travis/gopath/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/ngnix-node-redis/docker-compose.yml convert --stdout -j' expected_output: '/home/travis/gopath/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/ngnix-node-redis/output-os.json' expected_warning: 'Buildconfig using https://github.com/kubernetes-incubator/kompose.git::HEAD as source.
```
So as of now. I think we should comment out the test case and will pass the https://github.com/kubernetes-incubator/kompose/pull/562, so that https://github.com/kubernetes-incubator/kompose/pull/454 will get pass. after successful build. I will again add the test case.
cc @cdrage @surajssd @procrypt @containscafeine ",closed,False,2017-04-20 13:18:56,2017-04-21 11:16:55
kompose,procrypt,https://github.com/kubernetes/kompose/pull/565,https://api.github.com/repos/kubernetes/kompose/issues/565,sort output when creating kubernetes/openshift objects,"The objects created by `kompose` are not in order according to the `services` in `docker-compose` file. This makes it confusing to read the output of `kompose convert --stdout`. 
I have tested it with several `docker-compose` files to make sure it works as, we prefer `Service` to be deployed first as per `kubernetes` best practices.

cc: @cdrage @surajssd 
Fixes: #554 ",closed,True,2017-04-21 12:51:23,2017-05-10 13:21:06
kompose,cdrage,https://github.com/kubernetes/kompose/pull/566,https://api.github.com/repos/kubernetes/kompose/issues/566,Update vendoring for libcompose and others,"This updates the vendoring for libcompose because of the result of
https://github.com/docker/libcompose/pull/457 and
https://github.com/docker/libcompose/pull/450 being merged upstream.",closed,True,2017-04-21 15:29:49,2017-04-24 16:21:55
kompose,cdrage,https://github.com/kubernetes/kompose/pull/567,https://api.github.com/repos/kubernetes/kompose/issues/567,Adds spacing to table,Adds some spacing to the table to better separate each section.,closed,True,2017-04-21 15:35:33,2017-05-26 15:31:54
kompose,nkysg,https://github.com/kubernetes/kompose/pull/568,https://api.github.com/repos/kubernetes/kompose/issues/568,fix output replication-controller and daemon-set,@cdrage  fix output   replication-controller and daemon-set,closed,True,2017-04-24 02:04:48,2017-04-24 13:05:47
kompose,procrypt,https://github.com/kubernetes/kompose/pull/569,https://api.github.com/repos/kubernetes/kompose/issues/569,Add warning about change in the service name.,"Add warning about change in the service name of docker-compose file that contains `_` in it to `-`.

Fixes: #538 

cc: @cdrage @surajssd @surajnarwade @containscafeine ",closed,True,2017-04-24 04:02:37,2017-04-26 14:37:58
kompose,procrypt,https://github.com/kubernetes/kompose/pull/570,https://api.github.com/repos/kubernetes/kompose/issues/570,typo in nginx name.,"There is typo in `nginx` name, it's named as `ngnix`.

CC: @cdrage ",closed,True,2017-04-24 04:17:22,2017-04-25 16:40:45
kompose,surajssd,https://github.com/kubernetes/kompose/issues/571,https://api.github.com/repos/kubernetes/kompose/issues/571,kompose passes a kubernetes deployment without image ,"I have a docker-compose service with build specified but without image. So since kompose has no build support with kubernetes so it should error out saying that there is no image provided.

```bash
$ kompose up
WARN Kubernetes provider doesn't support build key - ignoring 
INFO We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead. 
 
INFO Deploying application in ""default"" namespace 
INFO Successfully created Service: foo            
FATA Error while deploying application: Deployment.apps ""foo"" is invalid: spec.template.spec.containers[0].image: Required value 
```


I am using following docker-compose file:

```yaml
$ cat docker-compose.yml 
version: '2'

services:
  foo:
    build: .
```

So I would recommend that we suggest user to add one more additional field called `image` to provide the image name explicitly.",closed,False,2017-04-24 06:02:58,2018-02-05 09:53:13
kompose,ashetty1,https://github.com/kubernetes/kompose/issues/572,https://api.github.com/repos/kubernetes/kompose/issues/572,Blockers for running buildconfig tests on OpenShift,"For executing buildconfig tests for OpenShift, both #561 and #382 need to be fixed. 

Creating an issue to track both the bugs.",closed,False,2017-04-24 11:27:44,2018-03-06 13:59:39
kompose,procrypt,https://github.com/kubernetes/kompose/pull/573,https://api.github.com/repos/kubernetes/kompose/issues/573,Kompose should show an error when image is not given,"kompose passes a kubernetes deployment without image, we should give an error about it.
Fixes: #571  

cc: @surajssd @cdrage ",closed,True,2017-04-26 14:03:06,2017-05-23 19:28:28
kompose,cdrage,https://github.com/kubernetes/kompose/issues/574,https://api.github.com/repos/kubernetes/kompose/issues/574,0.6.0 Release,"Let's merge these two before release:
 - https://github.com/kubernetes-incubator/kompose/pull/454
 - https://github.com/kubernetes-incubator/kompose/pull/557",closed,False,2017-04-26 15:09:31,2017-05-03 10:40:54
kompose,gitlawr,https://github.com/kubernetes/kompose/issues/575,https://api.github.com/repos/kubernetes/kompose/issues/575,"Support for cap_add,cap_drop","Currently these keys are marked as unsupported and kompose generates WARNINGs when they are used. But I think there is equivalent in Kubernetes.
see:
https://kubernetes.io/docs/concepts/policy/container-capabilities/
My proposal is to convert `cap_add/cap_drop` to `Pod.Spec.Container.SecurityContext.capabilities.add/drop`
For example with such a docker-compose.yml


```
version: ""2""

services:
    hello-world:
        image: alpine:3.4
        command: [""/bin/echo"", ""hello"", ""world""]
        cap_add:
          - SYS_NICE
        cap_drop:
          - KILL
```
kompose generate
```
metadata:
  labels:
    service: hello-world
spec:
  containers:
  - image: ""alpine:3.4""
    command: [""/bin/echo"", ""hello"", ""world""]
    securityContext:
      capabilities:
        add:
        - SYS_NICE
        drop:
        - KILL
```",closed,False,2017-04-27 08:46:18,2017-04-28 13:31:11
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/576,https://api.github.com/repos/kubernetes/kompose/issues/576,Fixture regarding build context fails each time,"Fixtures which are regarding build context, for example `script/test/fixtures/nginx-node-redis`
it will always fails on individual machine because it will always return different `URI` and `REF` as each individual have different git environment.",closed,False,2017-04-27 09:28:52,2017-05-09 11:39:56
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/577,https://api.github.com/repos/kubernetes/kompose/issues/577,Fixes fixture test for build context,"Resolves #576

This PR includes `output-os-template.json` in `nginx-node-redis` example,
which is basically output template contains `%URI%` and `%REF%` variables
which will be filled while initializing test cases and new will be stored as
`/tmp/output-os.json`
This will remove the problem of git uri and ref.",closed,True,2017-04-27 09:58:11,2017-05-09 11:39:56
kompose,kadel,https://github.com/kubernetes/kompose/pull/578,https://api.github.com/repos/kubernetes/kompose/issues/578,Add io.kompose.service label to every object & use reaper to delete BuildConfig," - Add  `io.kompose.service` label to BuildConfig, DaemonSet, ReplicationController and Pod.
 - Use reaper to delete BuildConfig (deletes also pods used for build)

Now every object created by Kompose should have this label.
Only some of the objects had this label before. This fixes #382 

",closed,True,2017-04-27 11:35:44,2017-05-17 11:40:52
kompose,cdrage,https://github.com/kubernetes/kompose/pull/579,https://api.github.com/repos/kubernetes/kompose/issues/579,Update PR for ROADMAP,We're going to have push/pull support in 0.7.0,closed,True,2017-04-27 13:40:56,2017-05-26 15:32:21
kompose,gitlawr,https://github.com/kubernetes/kompose/pull/580,https://api.github.com/repos/kubernetes/kompose/issues/580,Add Support for cap_add & cap_drop,"Fixes #575
This commit Add support for cap_add & cap_drop which maps to
Pod.Spec.Container.SecurityContext.Capabilities.Add/Drop
Added unit tests for ConfigCapabilities function
Updated conversion.md on support for these keys",closed,True,2017-04-28 06:46:08,2017-04-29 01:05:58
kompose,cdrage,https://github.com/kubernetes/kompose/pull/581,https://api.github.com/repos/kubernetes/kompose/issues/581,Update the release script again,"Updates the release script to use the actual GOPATH directory as
previous problems with commit hashes / versions in `kompose version`.

Cleans this up in regards to all the `cd` and `cd ..` commands.

No need to `git clone`.",closed,True,2017-04-28 12:26:58,2017-05-26 15:32:17
kompose,cdrage,https://github.com/kubernetes/kompose/pull/582,https://api.github.com/repos/kubernetes/kompose/issues/582,0.6.0 Release,,closed,True,2017-04-28 13:24:52,2017-05-26 15:32:07
kompose,cdrage,https://github.com/kubernetes/kompose/pull/583,https://api.github.com/repos/kubernetes/kompose/issues/583,Release script binary upload bug,"Removes the '$CLI' portion of uploading the binaries / tarballs. Had a
naming error when uploading.",closed,True,2017-04-28 14:41:41,2017-05-26 15:32:15
kompose,codecraf8,https://github.com/kubernetes/kompose/issues/584,https://api.github.com/repos/kubernetes/kompose/issues/584,Error with volume name with generated deployment file,"Following is my compose file 

```
web:
  image: flask_web      
  command: python app.py
  ports:
   - ""5000:5000""
  volumes:
   - .:/code
  links:
   - redis
redis:
  image: redis

```

It works well. Now I want to create deployment and services for this compose file. 
As mentioned in docs `kompose -f docker-compose.yml convert`
It generates 5 files 

```
INFO file ""redis-service.yaml"" created
INFO file ""web-service.yaml"" created
INFO file ""redis-deployment.yaml"" created
INFO file ""web-deployment.yaml"" created
INFO file "".-persistentvolumeclaim.yaml"" created
```

When trying to run the deployment, `kubectl create -f web-deployment.yaml` I get an error 

```
The Deployment ""web"" is invalid:
* spec.template.spec.volumes[0].name: Invalid value: ""."": a DNS-1123 label must consist of lower case alphanumeric characters or '-', and must start and end with an alphanumeric character (e.g. 'my-name',  or '123-abc', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?')
* spec.template.spec.containers[0].volumeMounts[0].name: Not found: "".""
```

Whats gone wrong? How to rectify? Redis works fine, issues with web. 

Files 

Web Deployment - https://gist.github.com/codecraf8/5d41c752658ac6c2ec348befa3b89356
Web Service - https://gist.github.com/codecraf8/4cf6d4a34b71d74a0856e4c2b0dde795
.-persistentvolumeclaim.yaml -
 https://gist.github.com/codecraf8/87c2809f8e49b318ce1cdbc5d590c4cd",closed,False,2017-05-02 09:57:38,2017-06-19 13:40:00
kompose,surajssd,https://github.com/kubernetes/kompose/issues/585,https://api.github.com/repos/kubernetes/kompose/issues/585,Latest kompose fails on many build-config tests locally,"Building kompose

```bash
✘-127 ~/go/src/github.com/kubernetes-incubator/kompose [master L|✔]
17:14 $ make install
go install -ldflags=""-w -X github.com/kubernetes-incubator/kompose/cmd.GITCOMMIT=abf8192""
✔ ~/go/src/github.com/kubernetes-incubator/kompose [master L|✔]
17:15 $ kompose version
0.6.0 (abf8192)
```

Running tests:

```bash
✔ ~/go/src/github.com/kubernetes-incubator/kompose [master L|✔]
17:15 $ make test-cmd
./script/test/cmd/tests.sh


===> Starting test <===
convert::expect_failure: Running: 'kompose -f /home/hummer/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/etherpad/docker-compose.yml convert --stdout'
PASS: errored out with exit status: 1

[SNIP]

===> Starting test <===
convert::expect_success_and_warning: Running: 'kompose --provider=openshift -f /home/hummer/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/nginx-node-redis/docker-compose.yml convert --stdout -j' expected_output: '/home/hummer/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/nginx-node-redis/output-os.json' expected_warning: 'Buildconfig using https://github.com/kubernetes-incubator/kompose.git::HEAD as source.'
FAIL: converted output does not match

```
Above failed.


Below one failed
```bash
[SNIP]

===> Starting test <===
convert::expect_success_and_warning: Running: 'kompose convert --provider openshift --stdout -j' expected_output: '/home/hummer/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/nginx-node-redis/output-os.json' expected_warning: 'Buildconfig using https://github.com/kubernetes-incubator/kompose.git::HEAD as source.'
FAIL: converted output does not match


===> Starting test <===
convert::expect_success_and_warning: Running: 'kompose convert --provider openshift --stdout -j -f nginx-node-redis/docker-compose.yml' expected_output: '/home/hummer/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/nginx-node-redis/output-os.json' expected_warning: 'Buildconfig using https://github.com/kubernetes-incubator/kompose.git::HEAD as source.'
FAIL: converted output does not match


===> Starting test <===
convert::expect_success_and_warning: Running: 'kompose convert --provider openshift --stdout -j -f ../docker-compose.yml' expected_output: '/home/hummer/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/nginx-node-redis/output-os.json' expected_warning: 'Buildconfig using https://github.com/kubernetes-incubator/kompose.git::HEAD as source.'
FAIL: converted output does not match

[SNIP]

===> Starting test <===
convert::expect_success: Running: 'kompose --provider=openshift convert --stdout -j' expected_output: '/home/hummer/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/yaml-and-yml/yml/output-os.json'
PASS: converted output matches
Makefile:67: recipe for target 'test-cmd' failed
make: *** [test-cmd] Error 1
```

How is this one passing on travis or for anyone else on their machines?",closed,False,2017-05-02 12:06:38,2017-05-09 12:24:13
kompose,surajssd,https://github.com/kubernetes/kompose/pull/586,https://api.github.com/repos/kubernetes/kompose/issues/586,Fix link to fedora setup in docs,,closed,True,2017-05-03 13:08:46,2017-05-03 16:57:18
kompose,cdrage,https://github.com/kubernetes/kompose/issues/587,https://api.github.com/repos/kubernetes/kompose/issues/587,Unable to run tests,"Not too sure why I'm getting this:
```
github.com/kubernetes-incubator/kompose  master ✔                                                                                   1d  
▶ make test-unit
go test -ldflags=""-w -X github.com/kubernetes-incubator/kompose/cmd.GITCOMMIT=abf8192"" -race -cover -v ./cmd/... ./pkg/... ./script/... .
script/kompose/vendor/k8s.io/kubernetes/pkg/master/thirdparty_controller.go:26:2: cannot find package ""k8s.io/kubernetes/pkg/apiserver"" in any of:
        /home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/script/kompose/vendor/k8s.io/kubernetes/pkg/apiserver (vendor tree)
        /home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/k8s.io/kubernetes/pkg/apiserver
        /usr/local/go/src/k8s.io/kubernetes/pkg/apiserver (from $GOROOT)
        /home/wikus/dropbox/dev/go/src/k8s.io/kubernetes/pkg/apiserver (from $GOPATH)
script/kompose/vendor/k8s.io/kubernetes/pkg/master/thirdparty_controller.go:27:2: cannot find package ""k8s.io/kubernetes/pkg/registry/thirdpartyresource/etcd"" in any of:
        /home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/script/kompose/vendor/k8s.io/kubernetes/pkg/registry/thirdpartyresource/etcd (vendor tree)
        /home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/k8s.io/kubernetes/pkg/registry/thirdpartyresource/etcd
        /usr/local/go/src/k8s.io/kubernetes/pkg/registry/thirdpartyresource/etcd (from $GOROOT)
        /home/wikus/dropbox/dev/go/src/k8s.io/kubernetes/pkg/registry/thirdpartyresource/etcd (from $GOPATH)
Makefile:47: recipe for target 'test-unit' failed
make: *** [test-unit] Error 1

github.com/kubernetes-incubator/kompose  master ✔                                                                                                                                                                                                                           1d  ⍉
▶ go version
go version go1.8 linux/amd64
```",closed,False,2017-05-03 16:54:23,2017-05-04 13:31:35
kompose,ashetty1,https://github.com/kubernetes/kompose/pull/588,https://api.github.com/repos/kubernetes/kompose/issues/588,Adding tests for kompose-specific labels and buildconfig dockerfile construct,"* Two new scripts testing kompose-specific labels have been added:
	script/test_in_openshift/tests/routes-service-expose-hostname.sh
	script/test_in_openshift/tests/routes-service-expose-true.sh

* Ability to run individual scripts: Changes have been made to script/test_in_openshift/run.sh
  for running individual scripts:

	Eg. ./script/test_in_openshift/run.sh script/test_in_openshift/tests/routes-service-expose-true.sh",closed,True,2017-05-05 10:40:10,2017-06-08 13:09:52
kompose,justinhj,https://github.com/kubernetes/kompose/issues/589,https://api.github.com/repos/kubernetes/kompose/issues/589,crashes on launch,"Crashes on launch. Note that removing the networks section fixes the problem. This bug occurs in version 0.6.0. I tried to build the project from HEAD but wasn't able to get it working.

version: '2'

services:
  dynamodb:
    image: deangiberson/aws-dynamodb-local
    expose:
    - 8000
    networks:
     - appnet

  redis:
    image: redis:3.0-alpine
    expose:
      - 6379
    networks:
     - appnet
  
  appseed1:
    image: justinhj/app:latest
    expose:
      - 1600
    environment:
      - APP_CONFIG=/app/appseed1.conf
    networks:
     - appnet

  appseed2:
    image: justinhj/app:latest
    ports:
      - 11080:11080
    expose:
      - 1601
    environment:
      - APP_CONFIG=/app/appseed2.conf
    networks:
     - appnet

  justapp:
    image: justinhj/app:latest
    environment:
      - APP_CONFIG=/app/justapp.conf
    networks:
     - appnet

networks:
  appnet:


justinhjmbp1:dockerlocal justinhj$ kompose -f docker-compose.yml convert
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x18 pc=0x21f008c]

goroutine 1 [running]:
github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project.(*Project).handleNetworkConfig(0xc4200c01c0)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project/project.go:292 +0x19c
github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project.(*Project).load(0xc4200c01c0, 0x7fff5fbffa23, 0x12, 0xc420092b00, 0x30c, 0x50c, 0xc4204cb340, 0xc4204cb340)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project/project.go:245 +0x490
github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project.(*Project).Parse(0xc4200c01c0, 0x0, 0x0)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/docker/libcompose/project/project.go:123 +0x162
github.com/kubernetes-incubator/kompose/pkg/loader/compose.(*Compose).LoadFile(0x3673be8, 0xc42025a410, 0x1, 0x1, 0xc4201ef830, 0x0, 0xfeb5e8fa9faab678, 0xc4204cb9e0, 0x100141e)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/pkg/loader/compose/compose.go:306 +0x10f
github.com/kubernetes-incubator/kompose/pkg/app.Convert(0x100000100, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0xc42025a410, 0x1, 0x1, ...)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/pkg/app/app.go:213 +0x145
github.com/kubernetes-incubator/kompose/cmd.glob..func3(0x3645be0, 0xc4201f1b40, 0x0, 0x2)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/cmd/convert.go:85 +0x5a
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).execute(0x3645be0, 0xc4201f1ae0, 0x2, 0x2, 0x3645be0, 0xc4201f1ae0)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:635 +0x23a
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x3646060, 0xc42006e058, 0x0, 0xc4204cbf48)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:710 +0x339
github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra.(*Command).Execute(0x3646060, 0x1, 0x1)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/vendor/github.com/spf13/cobra/command.go:669 +0x2b
github.com/kubernetes-incubator/kompose/cmd.Execute()
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/cmd/root.go:92 +0x31
main.main()
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/main.go:22 +0x20",closed,False,2017-05-06 05:15:05,2017-05-15 16:32:05
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/590,https://api.github.com/repos/kubernetes/kompose/issues/590,Failing when port is specified with labels,"Resolves #522
Kompose will give FATAL error if labels are given but ports are not defined",closed,True,2017-05-08 08:18:16,2017-06-15 09:26:31
kompose,cdrage,https://github.com/kubernetes/kompose/issues/591,https://api.github.com/repos/kubernetes/kompose/issues/591,Problems running tests with latest master?,"Seems that the tests are no longer working?

```
github.com/kubernetes-incubator/kompose  master ✔                                                                                                                                                                                                                            4d  
▶ ./kompose -f script/test/fixtures/etherpad/docker-compose.yml convert --stdout -j
WARN The DB_PORT variable is not set. Substituting a blank string. 
WARN The ROOT_PASS variable is not set. Substituting a blank string. 
WARN The DB_NAME variable is not set. Substituting a blank string. 
WARN The DB_PASS variable is not set. Substituting a blank string. 
WARN The DB_USER variable is not set. Substituting a blank string. 
WARN The DB_HOST variable is not set. Substituting a blank string. 
WARN The DB_NAME variable is not set. Substituting a blank string. 
WARN The DB_PASS variable is not set. Substituting a blank string. 
WARN The DB_PORT variable is not set. Substituting a blank string. 
WARN The DB_USER variable is not set. Substituting a blank string. 
ERRO Could not parse config for project etherpad : Service 'mariadb' configuration key 0 value Does not match format 'ports' 
FATA composeObject.Parse() failed, Failed to load compose file: Service 'mariadb' configuration key 0 value Does not match format 'ports' 
```",closed,False,2017-05-08 16:37:38,2017-05-09 12:22:33
kompose,cdrage,https://github.com/kubernetes/kompose/pull/592,https://api.github.com/repos/kubernetes/kompose/issues/592,Use old git command,"Some versions of git don't have git-url (case in point on Debian 8, no
get-url on packaged git).

Use old command in getting URL.",closed,True,2017-05-09 12:56:38,2017-05-26 15:31:58
kompose,ashetty1,https://github.com/kubernetes/kompose/issues/593,https://api.github.com/repos/kubernetes/kompose/issues/593,Is this a case of buildconfig contextDir being incorrectly set?,"My docker-compose file:

```
version: ""2""

services:
 foo:
  build:
   context: ""./build""
  command: ""sleep 120""

```
And when I run `kompose convert`:

```
""runPolicy"": ""Serial"",
        ""source"": {
          ""type"": ""Git"",
          ""git"": {
            ""uri"": ""https://github.com/kubernetes-incubator/kompose.git"",
            ""ref"": ""master""
          },
          ""contextDir"": ""examples/buildconfig/examples/buildconfig/build""
        },
        ""strategy"": {
          ""type"": ""Docker"",
          ""dockerStrategy"": {}
```

I don't see the same behaviour with this docker-compose file:

```
version: ""2""

services:
 foo:
  build: ""./build""
  command: ""sleep 120""
```

The contextDir is set correctly with the above docker compose file:

```
 ""runPolicy"": ""Serial"",
        ""source"": {
          ""type"": ""Git"",
          ""git"": {
            ""uri"": ""https://github.com/kubernetes-incubator/kompose.git"",
            ""ref"": ""master""
          },
            ""contextDir"": ""examples/buildconfig/build""
        },
        ""strategy"": {
          ""type"": ""Docker"",
          ""dockerStrategy"": {}
        }
```
Can you please confirm, @surajnarwade ",closed,False,2017-05-10 07:56:46,2017-05-10 10:01:42
kompose,ashetty1,https://github.com/kubernetes/kompose/issues/594,https://api.github.com/repos/kubernetes/kompose/issues/594,`kompose convert` should validate dockerfilepath ,"Would it be possible for `dockerfilepath` to be validated with `kompose convert` on OpenShift? Suppose an absolute path is provided instead of relative path, it gets detected only with `oc create`. 

docker-compose file here:
```
version: ""2""

services:
 foo:
  build:
   context: ""../../script/test_in_openshift/buildconfig""
   dockerfile: ""/Dockerfile""
  command: ""sleep 120""
```
...
```
$ kompose version
0.6.0 (ebd9dcf)

$ kompose --provider=openshift -f examples/buildconfig/docker-compose.yml convert -o /tmp/bc2
INFO Buildconfig using https://github.com/kubernetes-incubator/kompose.git::master as source.

$ oc create -f /tmp/bc2
Error from server: BuildConfig ""foo"" is invalid: spec.strategy.dockerStrategy.dockerfilePath: Invalid value: ""/Dockerfile"": dockerfilePath must be a relative path within your source location
```



",closed,False,2017-05-10 11:25:49,2017-05-31 17:13:05
kompose,procrypt,https://github.com/kubernetes/kompose/issues/595,https://api.github.com/repos/kubernetes/kompose/issues/595,environment variables are populated in random order in the created artifacts.,If we are loading the some variables from the environment to `docker-compose` file they get populated in any random order. This is generates different output every time when we run `kompose convert --stdout`.   ,closed,False,2017-05-10 12:44:12,2017-06-17 05:50:11
kompose,procrypt,https://github.com/kubernetes/kompose/pull/596,https://api.github.com/repos/kubernetes/kompose/issues/596,update generated artifacts for k8s and openshift so that env variables are loaded in a particular order,"Fixes: #595 
cc: @surajssd ",closed,True,2017-05-10 12:46:41,2017-06-17 05:50:11
kompose,cdrage,https://github.com/kubernetes/kompose/pull/597,https://api.github.com/repos/kubernetes/kompose/issues/597,<docs> Update version number,Updates version number within setup installation instructions for docs,closed,True,2017-05-10 15:06:20,2017-05-26 15:32:13
kompose,cdrage,https://github.com/kubernetes/kompose/pull/598,https://api.github.com/repos/kubernetes/kompose/issues/598,Remove 1.6 and 1.7 testing from Travis,"Let's speed up travis by only testing against 1.8.

There hasn't been any problems with other version (1.6 and 1.7)
and Travis has been unbearibly slow.

Let's switch to only doing 1.8 (since Travis at times refuses to do all
three concurrently!).",closed,True,2017-05-10 17:18:04,2017-05-15 14:48:21
kompose,judavi,https://github.com/kubernetes/kompose/issues/599,https://api.github.com/repos/kubernetes/kompose/issues/599,Volume mount on the host isn't supported ,"Hi!
I'm using  [https://github.com/docker/notary/blob/master/docker-compose.yml](docker-compose.yml)  Docker Notary. My plan is deploy the Docker Notary Server on Openshift so I'm using 
`kompose -f docker-compose.yml --provider openshift up -v` but the volumes keep ever in pending state.

Also when I use `kompose -f docker-compose.yml --provider openshift down -v` 
I'm having this warning that I'm not sure if is important or not to (sorry I'm still new with containers things)

> WARN Volume mount on the host ""./notarysql/mysql-initdb.d"" isn't supported - ignoring path on the host 

How can I fix this issue? I appreciate any comment ",closed,False,2017-05-12 11:56:59,2017-05-29 09:51:55
kompose,cdrage,https://github.com/kubernetes/kompose/pull/600,https://api.github.com/repos/kubernetes/kompose/issues/600,Add v3 support of Docker Compose,"This does a major refactor on the compose.go functions as well as brings
in a new era of v3 support to Kompose.

Similar to how we utilize libcompose, we utilize docker/cli's ""stack
deploy"" code which has a built-in v3 parser. We convert the parsed
structure to our own and then convert it to Kubernetes/OpenShift
artifacts.",closed,True,2017-05-12 18:46:58,2017-06-15 19:30:12
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/601,https://api.github.com/repos/kubernetes/kompose/issues/601,Updated Vendoring,"It resolves issues #474 and #589 which were coming from libcompose,
as well as resolves #440 and #437 partially as `group_add` & `stop_grace_period`
are supported by libcompose now.",closed,True,2017-05-15 13:00:23,2017-05-15 16:12:43
kompose,surajssd,https://github.com/kubernetes/kompose/pull/602,https://api.github.com/repos/kubernetes/kompose/issues/602,remove duplicate import with different name,`k8s.io/kubernetes/pkg/api` is imported directly and once with the alias import name `kapi` so remove the original import and keep the aliased with `kapi` one and also replace the code bits which call it with `api` name.,closed,True,2017-05-15 15:44:57,2017-05-16 03:54:48
kompose,procrypt,https://github.com/kubernetes/kompose/pull/603,https://api.github.com/repos/kubernetes/kompose/issues/603,PVC name changes if volumes containes .(dot) in it,"If the `docker-compose.yml` has `volumes` defined like this 
```yaml
   volumes:
     - .:/code
```
Then `pvc` generated by `kompose` will be like `.-persistentvolumeclaim.yaml`. This PR handles the `.(dot)` in the `pvc` name.

`docker-compose.yml` file used
```yaml
web:
  image: flask_web      
  command: python app.py
  ports:
   - ""5000:5000""
  volumes:
   - .:/code
  links:
   - redis
redis:
  image: redis
```
Master output
```bash
$ kompose convert -f volume.yml -o sample/
INFO file ""sample/redis-service.yaml"" created     
INFO file ""sample/web-service.yaml"" created       
INFO file ""sample/redis-deployment.yaml"" created  
INFO file ""sample/web-deployment.yaml"" created    
INFO file ""sample/.-persistentvolumeclaim.yaml"" created 
```
This PR output.
```bash
$ kompose convert -f volume.yml -o config/
INFO file ""config/redis-service.yaml"" created     
INFO file ""config/web-service.yaml"" created       
INFO file ""config/redis-deployment.yaml"" created  
INFO file ""config/web-deployment.yaml"" created    
INFO file ""config/web-claim0-persistentvolumeclaim.yaml"" created
```

Fixes: #584 

cc: @surajssd @cdrage @surajnarwade ",closed,True,2017-05-16 09:59:00,2017-06-19 13:40:00
kompose,kadel,https://github.com/kubernetes/kompose/issues/604,https://api.github.com/repos/kubernetes/kompose/issues/604,Failing test should show diff,"If one test in  `make test-cmd` fails it just shows following message:
```
FAIL: converted output does not match
```

It is quite annoying to debug why this test is failing because you have to run it again manually to catch output and do `diff` with the expected output.

Diff should be shown automatically for.",closed,False,2017-05-16 15:10:41,2017-06-14 14:15:39
kompose,cdrage,https://github.com/kubernetes/kompose/issues/605,https://api.github.com/repos/kubernetes/kompose/issues/605,Add support for providing URL,"Would be awesome to be able to supply:
```
kompose up -f https://foobar.com/docker-compose.yaml
```

As an input!

@containscafeine ",closed,False,2017-05-16 17:26:33,2018-03-06 13:42:26
kompose,achanda,https://github.com/kubernetes/kompose/pull/606,https://api.github.com/repos/kubernetes/kompose/issues/606,Replace underscores with dashes while rendering container names,"Kubernetes container names must match the regex [a-z0-9]([-a-z0-9]*[a-z0-9])?
This excludes underscores, which is common in container names in compose. Given this docker compose file
```
version: '2'
services:
  app:
    build: app
    container_name: forest_app
    image: app
```
Before this patch, compose generates this deployment
```
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  creationTimestamp: null
  name: app
spec:
  replicas: 1
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        io.kompose.service: app
    spec:
      containers:
      - image: app
        name: forest_app
        resources: {}
      restartPolicy: Always
status: {}
```
After the patch, it generates
```
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  creationTimestamp: null
  name: app
spec:
  replicas: 1
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        io.kompose.service: app
    spec:
      containers:
      - image: app
        name: forest-app
        resources: {}
      restartPolicy: Always
status: {}
```
The CLI output:
```
# ./kompose -f test.yaml convert
INFO Container name in docker-compose has been changed from ""forest_app"" to ""forest-app""
WARN Kubernetes provider doesn't support build key - ignoring
INFO file ""app-service.yaml"" created
INFO file ""app-deployment.yaml"" created
```",closed,True,2017-05-16 17:44:52,2017-05-17 12:48:21
kompose,containscafeine,https://github.com/kubernetes/kompose/issues/607,https://api.github.com/repos/kubernetes/kompose/issues/607,Add design decisions for contributors,"It would be great to have certain design decisions in a developers doc or CONTRIBUTING.md suggesting the conventions being followed throughout the project.

One would not to use `log.Fatal` at places, instead pass the error up the call stack.
Another would be to use the `errors` package to wrap and pass the errors up the stack.",closed,False,2017-05-17 14:01:49,2018-08-03 10:21:29
kompose,gitlawr,https://github.com/kubernetes/kompose/pull/608,https://api.github.com/repos/kubernetes/kompose/issues/608,Add support for stop_grace_period,"To solve #440
This commit Add support for stop_grace_period which maps to
Pod.Spec.TerminationGracePeriodSeconds
Updated conversion.md on support for the key",closed,True,2017-05-18 06:07:35,2017-05-23 18:42:35
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/609,https://api.github.com/repos/kubernetes/kompose/issues/609,Validate dockerfilepath in buildconfig,"This PR will resolve #594 by validating dockerfilepath based on whether
it is relative path or not.",closed,True,2017-05-18 07:59:57,2017-05-31 17:13:05
kompose,gitlawr,https://github.com/kubernetes/kompose/issues/610,https://api.github.com/repos/kubernetes/kompose/issues/610,Add support for 'pid' key,"In compose file, [pid](https://docs.docker.com/compose/compose-file/#pid) key is merely used to set the PID mode to the host PID mode (and no support for pid=container:id). Therefore I think it can be converted to [Pod.Spec.HostPid](https://kubernetes.io/docs/resources-reference/v1.6/#podspec-v1-core) in K8s.",closed,False,2017-05-18 08:43:29,2017-05-31 16:06:58
kompose,arcolife,https://github.com/kubernetes/kompose/issues/611,https://api.github.com/repos/kubernetes/kompose/issues/611,image tag name absent from generated imagestream config,"On running `kompose up --provider openshift` the image build is completed, but the container never starts. All I see on `oc get pods` is:

```
myproject   web-1-build                     0/1       Completed           0          10m
```

On manually triggering the container through `oc rollout latest dc/web`, I get 
```
Error from server (BadRequest): cannot trigger a deployment for ""web"" because it contains unresolved images
```
On checking `oc edit is web` I get 
```
spec: {}
```

so then on checking `oc get is` I see:
```
web           172.30.1.1:5000/myproject/web           latest    20 minutes ago
```
But my docker compose file contains the following info:

```
<snip>
  web:
    restart: always
    build:
      context: lib/backend
      args:
        BACKEND_SERVER_PORT: $BACKEND_SERVER_PORT
    env_file: .env
    image: sarjitsu:backend
    ports:
    - ""${BACKEND_PORT_MAPPING}:${BACKEND_SERVER_PORT}""
    depends_on:
...
</snip>
```

The `:backend` tag should've been applied to the image, but that field `spec` in `is` is empty. Hence we see `..because it contains unresolved images` and no container launches.

We could workaround this through `oc edit dc web` ..by changing `name: web:backend` to `name: web:latest`  like this:

```
  test: false
  triggers:
  - type: ConfigChange
  - imageChangeParams:
      automatic: true
      containerNames:
      - web
      from:
        kind: ImageStreamTag
        name: web:latest
        namespace: myproject
      lastTriggeredImage: 172.30.1.1:5000/myproject/web@sha256:a906e1715d23ac84f431c565cd32ee148b997d49bf8b5a529351f2a1c2a812e7
    type: ImageChange
```

Conclusion is, the tag `:backend` is not appearing in image stream, but is present in deployment config.

The same error could be verified by checking contents of `web-imagestream.yaml`  when generating config files `kompose convert -f docker-compose.yml  --provider openshift` ..where the `:backend` tag is absent :
```
apiVersion: v1
kind: ImageStream
metadata:
  creationTimestamp: null
  labels:
    io.kompose.service: web
  name: web
spec: {}
status:
  dockerImageRepository: """"
``` 

### Versions

#### kompose
0.6.0 (HEAD)
(built from repo's master branch)

#### openshift
```
oc v1.5.0
kubernetes v1.5.2+43a9be4
features: Basic-Auth GSSAPI Kerberos SPNEGO

Server https://10.209.68.209:8443
openshift v1.5.0+031cbe4
kubernetes v1.5.2+43a9be4
```

### Supplementary info
Docker compose config being referred to in here, is at https://github.com/arcolife/sarjitsu/blob/master/docker-compose.yml#L82-L103

### Related

Not sure this should be the way it is, but a tangentially related issue is that [this image name `sarjitsu:backend`](https://github.com/arcolife/sarjitsu/blob/non-root/docker-compose.yml#L63) is not appearing anywhere in openshift's imagestreams / pod names, while It appears that way when using docker-compose:
```
sarjitsu_web_1           /docker-entrypoint.sh backend    Up      0.0.0.0:9704->80/tcp   
```

Rather, it's all based out of the service names I assign, like `web:backend`

cc/ @procrypt @surajnarwade @containscafeine ",closed,False,2017-05-18 13:44:26,2018-08-07 12:13:54
kompose,cdrage,https://github.com/kubernetes/kompose/pull/612,https://api.github.com/repos/kubernetes/kompose/issues/612,Update `kompose completion`,"Updates Kompose completion with neutral language (using shell instead of
bash).

Fixes the indentation issues when outputting `kompose completion --help`",closed,True,2017-05-19 14:27:47,2017-05-26 15:32:04
kompose,kadel,https://github.com/kubernetes/kompose/pull/613,https://api.github.com/repos/kubernetes/kompose/issues/613,Fix incorrect tag in BuildConfig.,"For services with build and image keys DeploymentConfig respects tag from docker-compose image key.
But BuildConfig image tag was always set to  'latest'.
Result of this was that deployment wasn't trigired after successful build.
This fixes it by setting BuildConfig output image tag to the same tag that is used for  DeploymentConfig (tag from docker-compose image key)

fixes #611 ",closed,True,2017-05-23 12:06:30,2017-05-23 19:13:35
kompose,cdrage,https://github.com/kubernetes/kompose/issues/614,https://api.github.com/repos/kubernetes/kompose/issues/614,Unable to run `make test-openshift`,"Seems it's saying it's missing a command?

```
Testing buildconfig on kompose


Running kompose up ...

Error: unknown command ""/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/examples/buildconfig/docker-compose.yml"" for ""kompose""
Run 'kompose --help' for usage.
unknown command ""/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/examples/buildconfig/docker-compose.yml"" for ""kompose""
FAIL: kompose up has failed

Running tests with entrypoint/command option


Running kompose up ...

Error: unknown command ""/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/script/test_in_openshift/compose-files/docker-compose-command.yml"" for ""kompose""
Run 'kompose --help' for usage.
unknown command ""/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/script/test_in_openshift/compose-files/docker-compose-command.yml"" for ""kompose""
FAIL: kompose up has failed

Testing kompose up/down with etherpad docker-compose file


Running kompose up ...

Error: unknown command ""/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/etherpad/docker-compose.yml"" for ""kompose""
Run 'kompose --help' for usage.
unknown command ""/home/wikus/dropbox/dev/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/etherpad/docker-compose.yml"" for ""kompose""
FAIL: kompose up has failed

Running tests for replica option

Error: unknown command ""2"" for ""kompose""

Did you mean this?
        up

Run 'kompose --help' for usage.
unknown command ""2"" for ""kompose""

Did you mean this?
        up

FAIL: kompose up has failedMakefile:62: recipe for target 'test-openshift' failed
```

Bit confused on what's happening.",closed,False,2017-05-23 18:31:08,2017-08-18 15:50:16
kompose,cdrage,https://github.com/kubernetes/kompose/pull/615,https://api.github.com/repos/kubernetes/kompose/issues/615,Remove version column from conversion document,"Removes the version column in order to expand the width of the
conversion document as well as indicate that the table expands on ALL
versions (1,2,3)",closed,True,2017-05-23 18:47:30,2017-05-30 10:07:31
kompose,cdrage,https://github.com/kubernetes/kompose/pull/616,https://api.github.com/repos/kubernetes/kompose/issues/616,Add provider to file output,"Adds the provider name to the file output. For example:

```sh
INFO OpenShift file ""frontend-service.yaml"" created
INFO OpenShift file ""redis-master-service.yaml"" created
INFO OpenShift file ""redis-slave-service.yaml"" created
INFO OpenShift file ""frontend-deploymentconfig.yaml"" created
INFO OpenShift file ""frontend-imagestream.yaml"" created
INFO OpenShift file ""redis-master-deploymentconfig.yaml"" created
INFO OpenShift file ""redis-master-imagestream.yaml"" created
INFO OpenShift file ""redis-slave-deploymentconfig.yaml"" created
INFO OpenShift file ""redis-slave-imagestream.yaml"" created
```",closed,True,2017-05-23 19:09:22,2017-06-15 19:30:15
kompose,gitlawr,https://github.com/kubernetes/kompose/pull/617,https://api.github.com/repos/kubernetes/kompose/issues/617,"add support for ""pid"" key","solve #610
convert service.pid to Pod.Spec.HostPid
set Pod.Spec.HostPid to true if service.pid =""host""
update conversion.md on support for the key",closed,True,2017-05-24 10:57:46,2017-05-31 16:06:55
kompose,cdrage,https://github.com/kubernetes/kompose/pull/618,https://api.github.com/repos/kubernetes/kompose/issues/618,Update version number in setup.md file in release script,"This change updates setup.md to include the new version number when
doing a release.",closed,True,2017-05-25 15:39:52,2017-05-25 15:41:55
kompose,cdrage,https://github.com/kubernetes/kompose/pull/619,https://api.github.com/repos/kubernetes/kompose/issues/619,0.7.0 Release,,closed,True,2017-05-25 16:06:08,2017-05-25 16:06:42
kompose,verisadmin,https://github.com/kubernetes/kompose/issues/620,https://api.github.com/repos/kubernetes/kompose/issues/620,"configuration key 'build' contains an invalid type, it should be a string.","- I have docker-compose file whixh extends other compose files and setup my apps. It is working fine.
- But When I tried same file with `kompose` I am getting invalid type error : 

```
ERRO Failed to parse service micro_service_api: Service 'v_test' configuration key 'build' contains an invalid type, it should be a string. 
```

- here are my Compose files : 
   - Main : 

```
version: '2'

services:
  test_micro_service_api:
    extends :
      file : ../v-test/docker-compose-test.yml
      service : v_test
```

   - child : 

```
version: ""2""

services:
  v_test:
    build:
      context: .
      dockerfile: ./Dockerfile
    env_file:
     - ../locale/env/test_service
    environment:
     DEBUG: 'true'
    command: bash -c ""python ./manage.py migrate && python ./manage.py runserver 0.0.0.0:8018""
    volumes:
     - .:/v-test
    ports:
     - ""8018:8018""
```",closed,False,2017-05-26 09:31:39,2017-06-17 05:56:29
kompose,cdrage,https://github.com/kubernetes/kompose/pull/621,https://api.github.com/repos/kubernetes/kompose/issues/621,Update ROADMAP,"This updates the ROADMAP.md with a clear outline of the future release
of Kompose as well as the current updates / changes on each-release.",closed,True,2017-05-26 14:35:18,2017-06-15 17:10:39
kompose,cdrage,https://github.com/kubernetes/kompose/pull/622,https://api.github.com/repos/kubernetes/kompose/issues/622,Update README with only docker compose example,"At the moment, `dabs` don't seem to work as well as the fact that there
hasn't been much development since the experimental announcement of the
DAB format.

Removing it from the README makes the example clearer as well as more
direct / informative.",closed,True,2017-05-26 18:09:35,2017-05-30 12:33:49
kompose,cdrage,https://github.com/kubernetes/kompose/pull/623,https://api.github.com/repos/kubernetes/kompose/issues/623,Move logo to the bottom,Moves the logo to the bottom of the sidebar rather than the top.,closed,True,2017-05-26 18:50:50,2017-05-29 13:25:20
kompose,surajssd,https://github.com/kubernetes/kompose/issues/624,https://api.github.com/repos/kubernetes/kompose/issues/624,duplicate info from multiple compose files not being overridden,"duplicate info from multiple compose files not being overridden

I am using two docker-compose files:
```bash
$ ll
total 8
-rw-rw-r--. 1 foo foo 77 May 29 12:16 docker-compose1.yml
-rw-rw-r--. 1 foo foo 77 May 29 12:16 docker-compose2.yml

$ cat docker-compose1.yml 
version: ""2""

services:
  web:
    image: centos/httpd
    ports:
    - ""80""

$ diff docker-compose1.yml docker-compose2.yml 
```

Both docker-compose files are same.

Now when deploying it to the cluster using kompose the conversion does not look at the duplicate data. But merges the values.

When deploying to the cluster directly:

```bash
$ kompose up -f docker-compose1.yml -f docker-compose2.yml --provider openshift
INFO We are going to create OpenShift DeploymentConfigs, Services and PersistentVolumeClaims for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'oc create -f' commands instead. 
 
INFO Deploying application in ""web"" namespace     
FATA Error while deploying application: Service ""web"" is invalid: spec.ports[1].name: Duplicate value: ""80"" 
```

When doing the conversion, see the repetition of ports in the `service` and in the `DeploymentConfig`

```yaml
$ kompose convert --stdout -f docker-compose1.yml -f docker-compose2.yml --provider openshift
apiVersion: v1
items:
- apiVersion: v1
  kind: Service
  metadata:
    creationTimestamp: null
    labels:
      io.kompose.service: web
    name: web
  spec:
    ports:
    - name: ""80""
      port: 80
      targetPort: 80
    - name: ""80""
      port: 80
      targetPort: 80
    selector:
      io.kompose.service: web
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    creationTimestamp: null
    labels:
      io.kompose.service: web
    name: web
  spec:
    replicas: 1
    selector:
      io.kompose.service: web
    strategy:
      resources: {}
    template:
      metadata:
        creationTimestamp: null
        labels:
          io.kompose.service: web
      spec:
        containers:
        - image: ' '
          name: web
          ports:
          - containerPort: 80
          - containerPort: 80
          resources: {}
        restartPolicy: Always

...
```

Also the config in [script/test/fixtures/multiple-compose-files/output-openshift.json](https://github.com/kubernetes-incubator/kompose/blob/master/script/test/fixtures/multiple-compose-files/output-openshift.json) is not deployable.

",closed,False,2017-05-29 06:56:53,2018-10-01 10:05:07
kompose,ashetty1,https://github.com/kubernetes/kompose/issues/625,https://api.github.com/repos/kubernetes/kompose/issues/625,emptyvols option doesn't work for kompose convert/up,"`kompose convert` and `kompose up` fails with emptyvols option:

```
$ kompose version
0.7.0 (c25b7e8)
```

```
$ kompose --provider=openshift --emptyvols -f examples/docker-compose.yaml convert -h
Error: unknown command ""examples/docker-compose.yaml"" for ""kompose""
Run 'kompose --help' for usage.
unknown command ""examples/docker-compose.yaml"" for ""kompose""
```
 Without emptyvols option: 
```
$ kompose --provider=openshift -f examples/docker-compose.yaml convert
INFO file ""frontend-service.yaml"" created         
INFO file ""redis-master-service.yaml"" created     
INFO file ""redis-slave-service.yaml"" created      
INFO file ""frontend-deploymentconfig.yaml"" created 
INFO file ""frontend-imagestream.yaml"" created     
INFO file ""redis-master-deploymentconfig.yaml"" created 
INFO file ""redis-master-imagestream.yaml"" created 
INFO file ""redis-slave-deploymentconfig.yaml"" created 
INFO file ""redis-slave-imagestream.yaml"" created 
```

Same issue is seen with `kompose up`, and has been documented here #614 ",closed,False,2017-05-29 11:14:48,2017-06-05 04:59:06
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/626,https://api.github.com/repos/kubernetes/kompose/issues/626,Handling Volume at early stage,It will resolve #544 as well as refactor volume handling part.,closed,True,2017-05-30 13:02:32,2017-07-27 14:19:52
kompose,procrypt,https://github.com/kubernetes/kompose/issues/627,https://api.github.com/repos/kubernetes/kompose/issues/627,Fix EnvSort so that env variables are populated properly,"Environment variables in `docker-compose` file are populated in random order resulting in failure of the `functional test` in `golang`.

I have used multiple `docker-compose` files to test this out from 
[fixtures](https://github.com/kubernetes-incubator/kompose/blob/master/script/test/fixtures/multiple-compose-files) folder.
`docker-compose` file used [1](https://github.com/kubernetes-incubator/kompose/blob/master/script/test/fixtures/multiple-compose-files/docker-k8s.yml) and [2](https://github.com/kubernetes-incubator/kompose/blob/master/script/test/fixtures/multiple-compose-files/docker-os.yml)

```bash
$ kompose convert --provider=openshift -f docker-k8s.yml -f docker-os.yml --stdout -j > a.json
$ kompose convert --provider=openshift -f docker-k8s.yml -f docker-os.yml --stdout -j > b.json
```
```
$ diff a.json b.json
```
```vim
126a127,130
>                     ""name"": ""DB_DBID"",
>                     ""value"": ""openshift""
>                   },
>                   {
140,143d143
<                     ""value"": ""openshift""
<                   },
<                   {
<                     ""name"": ""DB_DBID"",
```
Sorting this [struct](https://github.com/kubernetes-incubator/kompose/blob/master/pkg/kobject/kobject.go#L96)
```go
type EnvVar struct {
	Name  string
	Value string
}
```
 would fix this issue.
This issue is a blocker for #518",closed,False,2017-05-31 11:41:42,2017-06-14 07:53:24
kompose,cdrage,https://github.com/kubernetes/kompose/pull/628,https://api.github.com/repos/kubernetes/kompose/issues/628,Update documentation to reflect quickstart,"Adds quickstart.md from the kompose.io site as well as incorporates
changes so that you can update the index page of Kompose.io via
quickstart.md",closed,True,2017-06-01 19:35:36,2017-06-02 11:14:54
kompose,cdrage,https://github.com/kubernetes/kompose/pull/629,https://api.github.com/repos/kubernetes/kompose/issues/629,Fix adding Jekyll format to the top,"Problem with `/permalink/`. This adds a few bash lines that updates
index.md without the permalink.",closed,True,2017-06-02 14:06:12,2017-06-02 14:14:29
kompose,cdrage,https://github.com/kubernetes/kompose/pull/630,https://api.github.com/repos/kubernetes/kompose/issues/630,Remove jekyll format from top of quickstart,Left this in while adding docs/quickstart.md by accident,closed,True,2017-06-02 15:24:19,2017-06-02 15:48:36
kompose,procrypt,https://github.com/kubernetes/kompose/pull/631,https://api.github.com/repos/kubernetes/kompose/issues/631,Fix EnvSort struct,"Fixes #627 and unblocks #518  

cc: @surajssd @cdrage ",closed,True,2017-06-06 13:35:12,2017-06-14 07:54:54
kompose,cdrage,https://github.com/kubernetes/kompose/issues/632,https://api.github.com/repos/kubernetes/kompose/issues/632,Delete BuildConfig on `kompose down`,"After #521 is merged in, we'll have to figure out a way to determine if BuildConfig has been used and delete it accordingly when doing `kompose down`",open,False,2017-06-06 16:50:28,2018-01-04 18:23:52
kompose,changux,https://github.com/kubernetes/kompose/issues/633,https://api.github.com/repos/kubernetes/kompose/issues/633,ports error on converting,"Hi.

I am trying to convert this docker-compose file:

[https://raw.githubusercontent.com/wazuh/wazuh-docker/master/docker-compose.yml]()

With this output:

```bash
ERRO Could not parse config for project kompose : Service 'wazuh' configuration key 0 value Does not match format 'ports'
Service 'wazuh' configuration key 2 value Does not match format 'ports'
FATA composeObject.Parse() failed, Failed to load compose file: Service 'wazuh' configuration key 0 value Does not match format 'ports'
Service 'wazuh' configuration key 2 value Does not match format 'ports'
```
Docker-compose file is valid, what is wrong?

Thanks!
",closed,False,2017-06-07 21:15:17,2017-06-12 21:59:40
kompose,cdrage,https://github.com/kubernetes/kompose/pull/634,https://api.github.com/repos/kubernetes/kompose/issues/634,Update widgets (add godoc) as well as README,"Update the widgets (as well as add godoc), and update the README, making
the `kompose completion` section more concise.",closed,True,2017-06-08 17:11:28,2017-06-14 14:17:25
kompose,cdrage,https://github.com/kubernetes/kompose/pull/635,https://api.github.com/repos/kubernetes/kompose/issues/635,Change output examples in docs to new format,Changes the format from INFO to INFO <PROVIDER> in output examples.,closed,True,2017-06-09 16:54:38,2017-06-12 07:56:31
kompose,cdrage,https://github.com/kubernetes/kompose/issues/636,https://api.github.com/repos/kubernetes/kompose/issues/636,Add `build` key support for v3 of Docker Compose,"This will have to be fixed upstream as the code here in `docker/cli` ignores build at the moment: https://github.com/docker/cli/blob/master/cli/compose/types/types.go#L9

This is a tracking issue as #600 has yet to be merged.",closed,False,2017-06-12 14:12:36,2017-11-30 14:06:33
kompose,cdrage,https://github.com/kubernetes/kompose/pull/637,https://api.github.com/repos/kubernetes/kompose/issues/637,Add documentation list,"Adds an ""index"" with a list of all documentation on the README.md",closed,True,2017-06-12 14:52:26,2017-06-15 19:30:08
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/638,https://api.github.com/repos/kubernetes/kompose/issues/638,Failing test will show diff,"If test in `make test-cmd` is failing, now it will show diff so that
it will be easy to debug.

for example,

```
===> Starting test <===
convert::expect_success_and_warning: Running: 'kompose -f /home/snarwade/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/service-name-change/docker-compose.yml convert --stdout -j' expected_output: '/home/snarwade/go/src/github.com/kubernetes-incubator/kompose/script/test/fixtures/service-name-change/output-k8s.json' expected_warning: 'Unsupported root level volumes key - ignoring'
WARN Unsupported root level volumes key - ignoring
WARN Unsupported depends_on key - ignoring
103c103
<                     ""value"": ""bitnami_wordpres""
---
>                     ""value"": ""bitnami_wordpress""
FAIL: converted output does not match
```",closed,True,2017-06-13 08:56:13,2017-06-14 07:28:31
kompose,surajssd,https://github.com/kubernetes/kompose/issues/639,https://api.github.com/repos/kubernetes/kompose/issues/639,Save the cmd used to create config,"When we generate config it is really hard to know what command was used to generate that config. And has caused issues in past. As much as important it is to have the docker-compose file to generate the artifacts the command line flags used to generate config are also important, so we should have some way to know what flags were used to generate specific config.

So I propose saving the command given to convert along with flags in annotations of generated configs

like if I use:

```
kompose convert --emptyvols
```

This should show up in the converted annotations like 

```yaml
...
annotations:
  ""kompose.cmd"": ""kompose convert --emptyvols""
  ""kompose.version"": ""0.6.0 (45a0daw)""
...
```

This will help us mitigate issues like https://github.com/kubernetes-incubator/kompose/issues/632",closed,False,2017-06-14 07:14:07,2017-08-14 13:53:42
kompose,procrypt,https://github.com/kubernetes/kompose/issues/640,https://api.github.com/repos/kubernetes/kompose/issues/640,Move git functions in openshift.go into a separate package,"We have some git functions like `GetGitCurrentRemoteURL()` and  `GetGitCurrentBranch()` in `opneshift.go`, it would be great if we move them to a separate package.

cc: @kadel",closed,False,2017-06-15 05:54:18,2017-08-12 06:49:54
kompose,ashetty1,https://github.com/kubernetes/kompose/issues/641,https://api.github.com/repos/kubernetes/kompose/issues/641,Add openshift tests for docker compose v3,"Add OpenShift tests for validating docker composer v3 support in Kompose

Ref: #600 ",closed,False,2017-06-15 07:06:33,2018-08-03 09:20:29
kompose,ashetty1,https://github.com/kubernetes/kompose/pull/642,https://api.github.com/repos/kubernetes/kompose/issues/642,OpenShift tests for docker compose v3,"Adding OpenShift tests for docker compose v3 support on Kompose

Ref: #600 ",closed,True,2017-06-15 11:13:51,2017-08-29 13:12:41
kompose,ashetty1,https://github.com/kubernetes/kompose/issues/643,https://api.github.com/repos/kubernetes/kompose/issues/643,Support  restart_policy in v3 docker compose,"We need to support the restart_policy key in v3 docker compose file.
",closed,False,2017-06-15 13:44:10,2017-06-15 17:24:30
kompose,cdrage,https://github.com/kubernetes/kompose/issues/644,https://api.github.com/repos/kubernetes/kompose/issues/644,Tracking card for new `deploy` keys in v3,"We have to cover the new keys in deploy for v3 of Docker Compose, at the moment, we only have mem_limit complete.

New keys:

- [x] mode
- [x] replicas
- [x] placement
- [ ] update_config
- [x] resources
- [x] restart_policy
- [x] labels
- [x] cpus (under 'resources')
- [X] memory (under 'resources')

",closed,False,2017-06-15 17:02:26,2017-12-06 15:16:07
kompose,cdrage,https://github.com/kubernetes/kompose/pull/645,https://api.github.com/repos/kubernetes/kompose/issues/645,Update ROADMAP,"This updates the ROADMAP.md with a clear outline of the future release
of Kompose as well as the current updates / changes on each-release.",closed,True,2017-06-15 17:23:33,2017-06-21 06:28:43
kompose,cdrage,https://github.com/kubernetes/kompose/issues/646,https://api.github.com/repos/kubernetes/kompose/issues/646,v3 Documentation,We should add some more documentation in regards to v3 as well as a bit on v1/v2 somewhere in the user-guide or elsewhere.,closed,False,2017-06-15 17:54:36,2017-06-26 14:45:40
kompose,cdrage,https://github.com/kubernetes/kompose/issues/647,https://api.github.com/repos/kubernetes/kompose/issues/647,Docker Build/Push documentation,"With the changes to how we build and push containers when users use the `build` key, we should note in our documentation both the functionality as well as *how* to use it.",closed,False,2017-06-15 17:55:20,2017-06-26 14:45:41
kompose,cdrage,https://github.com/kubernetes/kompose/pull/648,https://api.github.com/repos/kubernetes/kompose/issues/648,Update documentation to reflect build/push and v3 changes,"    Update documentation to reflect build/push and v3 changes
    
    Adds a user guide on how to use the build/push functionality of Docker
    images to the user guide.
    
    Adds v3 documentation as well as cleans up the user guide as well.
    
    I also do minor changes such as removing `$ ` in the CLI examples, as
    it's easier to copy and paste without the `$ ` there (when double
    clicking).
    
    I've also changed the `console` yaml indicitors to `sh` since it doesn't
    matter / it's aliased, see:
    https://github.com/github/linguist/blob/master/lib/linguist/languages.yml
",closed,True,2017-06-15 19:48:03,2017-06-22 13:19:05
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/649,https://api.github.com/repos/kubernetes/kompose/issues/649,Updating Vendor,"resolves #620 as libcompose PR https://github.com/docker/libcompose/pull/476
got merged.",closed,True,2017-06-16 12:30:38,2017-06-17 05:56:29
kompose,bgruening,https://github.com/kubernetes/kompose/issues/650,https://api.github.com/repos/kubernetes/kompose/issues/650,v3 env substitution is not working,"Hi,

I have a few problems with the latest kompose version and the substitutions of env vars.

```
bag@bag ~/temp/foo % go get -u github.com/kubernetes-incubator/kompose                                                  
bag@bag ~/temp/foo % kompose version
0.7.0 (08658d3)
```

This small test file:
```
version: ""3""
services:
  web:
    image: quay.io/bgruening/galaxy-web:${IMAGE_VER:-latest}
    environment:
        - GALAXY_RUNNERS_ENABLE_K8=${GALAXY_RUNNERS_ENABLE_K8}
```

result in this k8s file:
```
bag@bag ~/temp/foo % IMAGE_VER=foo GALAXY_RUNNERS_ENABLE_K8=""asdf"" kompose convert -f k8.yaml && cat web-deployment.yaml
INFO Kubernetes file ""web-service.yaml"" created   
INFO Kubernetes file ""web-deployment.yaml"" created 
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    io.kompose.service: web
  name: web
spec:
  replicas: 1
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        io.kompose.service: web
    spec:
      containers:
      - env:
        - name: GALAXY_RUNNERS_ENABLE_K8
        image: quay.io/bgruening/galaxy-web:latest
        name: web
        resources: {}
      restartPolicy: Always
status: {}

```

I tried to create an .env file
```
GALAXY_RUNNERS_ENABLE_K8=True
IMAGE_VER=8.9
```

and also exported it with no success.

`- GALAXY_RUNNERS_ENABLE_K8=${GALAXY_RUNNERS_ENABLE_K8:-default}` in the docker-compose.yml file will substitute it with `default` but not with the values available during runtime.
` - GALAXY_RUNNERS_ENABLE_K8=$GALAXY_RUNNERS_ENABLE_K8` does not work at all.

Thanks a lot for any help!
",closed,False,2017-06-18 11:54:09,2017-06-20 13:41:20
kompose,procrypt,https://github.com/kubernetes/kompose/pull/651,https://api.github.com/repos/kubernetes/kompose/issues/651,move git and related functions from openshift.go into a separate file,"Fixes #640 and we can use the same functions in #518 
cc: @kadel @surajssd ",closed,True,2017-06-19 12:33:24,2017-08-12 06:49:54
kompose,cdrage,https://github.com/kubernetes/kompose/issues/652,https://api.github.com/repos/kubernetes/kompose/issues/652,Deprecation warnings are not showing,"See: https://github.com/spf13/cobra/issues/463

Marking flags as `MarkDeprecated` does not show the proper warning.",closed,False,2017-06-19 20:23:50,2017-06-22 13:18:32
kompose,cdrage,https://github.com/kubernetes/kompose/pull/653,https://api.github.com/repos/kubernetes/kompose/issues/653,Disable dab,"See issue: https://github.com/kubernetes-incubator/kompose/issues/390

Remove DAB as it is hard to maintain / not much usage / DAB is still
experimental in Docker and there hasn't been much movement:
https://github.com/moby/moby/issues/26876

MarkDeprecated does not work at the moment due to issue:
https://github.com/kubernetes-incubator/kompose/issues/652

However, that is not a blocker as we `fatalF` within `ValidateFlags`",closed,True,2017-06-19 20:33:09,2017-06-21 11:39:59
kompose,procrypt,https://github.com/kubernetes/kompose/issues/654,https://api.github.com/repos/kubernetes/kompose/issues/654,make test is failing,"When I run make test I'm getting this error
```bash
$ make test
go get github.com/mattn/goveralls
go get github.com/modocache/gover
go get github.com/Masterminds/glide
go get github.com/sgotti/glide-vc
go get github.com/golang/lint/golint
./script/check-vendor.sh
Checking for nested vendor dirs
OK
Checking if vendor was cleaned using glide-vc.
OK
./script/check-gofmt.sh
gofmt OK
go vet ./pkg/... ./cmd/... .
pkg/loader/compose/compose_test.go:67: arg expected for printf verb %s of wrong type: github.com/kubernetes-incubator/kompose/pkg/kobject.Ports
exit status 1
Makefile:75: recipe for target 'vet' failed
make: *** [vet] Error 1
```
",closed,False,2017-06-20 04:22:58,2017-06-20 12:27:23
kompose,procrypt,https://github.com/kubernetes/kompose/pull/655,https://api.github.com/repos/kubernetes/kompose/issues/655,Changing printf verb in compose_test.go,"Fixes #654 
cc: @surajssd @cdrage @kadel @surajnarwade ",closed,True,2017-06-20 04:28:12,2017-06-20 12:27:45
kompose,surajssd,https://github.com/kubernetes/kompose/issues/656,https://api.github.com/repos/kubernetes/kompose/issues/656,kompose build fails: unable to create tarball,"kompose build fails: unable to create tarball

my kompose version
```
$ kompose version
0.7.0 (ee79612)
```

when doing local builds on repo https://github.com/pranavgore09/classico/tree/nodejs-service

```bash
✔ ~/git/classico [:9f03f9e|✚ 1] 
12:08 $ git branch 
* (HEAD detached at origin/nodejs-service)
  master
```

I have made changes to the docker-compose file to have my docker hub repo name, docker-compose file looks like this:

```yaml
✔ ~/git/classico [:9f03f9e|✚ 1] 
12:03 $ cat docker-compose.yaml 
version: '2'
services:
  backend:
    image: docker.io/surajd/backend
    build:
      context: ./backend
  gateway:
    image: docker.io/surajd/pranav/gateway
    build:
      context: ./gateway
    ports:
      - ""1111:1111""
  daily:
    image: docker.io/surajd/daily-backend
    build:
      context: ./daily-backend
```

running the kompose build command

```bash
✔ ~/git/classico [:9f03f9e|✚ 1] 
12:04 $ kompose up --provider openshift 
INFO Building image 'docker.io/surajd/backend' from directory 'backend' 
INFO Image 'docker.io/surajd/backend' from directory 'backend' built successfully 
INFO Pushing image 'surajd/backend:latest' to registry 'docker.io' 
INFO Multiple authentication credentials detected. Will try each configuration. 
INFO Attempting authentication credentials 'https://index.docker.io/v1/ 
INFO Successfully pushed image 'surajd/backend:latest' to registry 'docker.io' 
INFO Building image 'docker.io/surajd/daily-backend' from directory 'daily-backend' 
FATA Unable to build Docker container for service daily: Unable to create a tarball: archive/tar: write too long 
```

Since the build is big, so i cannot know what is happening in background whether it is stuck or going on.",closed,False,2017-06-20 06:39:05,2019-01-30 19:28:03
kompose,surajssd,https://github.com/kubernetes/kompose/issues/657,https://api.github.com/repos/kubernetes/kompose/issues/657,Enable kompose to generate configs per docker-compose service,"Right now we create configs of entire docker-compose file.

Consider the following docker-compose file with only one service:

```yaml
services:
  one:
  ...
```

Now a user is using this for sometime, but after sometime she adds one more service and docker-compose file looks like this:

```yaml
services:
  one:
  ...
  two:
  ...
```

Now what user wants is that only artifacts of service `two` to be created. How can we enable that to happen? I propose that we add a flag named `service` which creates config only for particular docker-compose service.

```bash
kompose convert --service two
kompose up --service two
```",closed,False,2017-06-20 10:42:02,2018-06-08 15:56:10
kompose,kadel,https://github.com/kubernetes/kompose/pull/658,https://api.github.com/repos/kubernetes/kompose/issues/658,fix env substitution for docker compose v3,fixes #650 ,closed,True,2017-06-20 11:19:34,2017-06-20 15:09:45
kompose,procrypt,https://github.com/kubernetes/kompose/issues/659,https://api.github.com/repos/kubernetes/kompose/issues/659,make test failing again,"When I run `make test`, it's failing again
```bash
$ make test
go get github.com/mattn/goveralls
go get github.com/modocache/gover
go get github.com/Masterminds/glide
go get github.com/sgotti/glide-vc
go get github.com/golang/lint/golint
./script/check-vendor.sh
Checking for nested vendor dirs
OK
Checking if vendor was cleaned using glide-vc.
OK
./script/check-gofmt.sh
gofmt OK
go vet ./pkg/... ./cmd/... .
pkg/transformer/utils.go:216: github.com/kubernetes-incubator/kompose/pkg/utils/docker.Build composite literal uses unkeyed fields
pkg/transformer/utils.go:243: github.com/kubernetes-incubator/kompose/pkg/utils/docker.Push composite literal uses unkeyed fields
exit status 1
Makefile:75: recipe for target 'vet' failed
make: *** [vet] Error 1
```
",closed,False,2017-06-20 12:55:33,2017-06-20 16:56:04
kompose,cdrage,https://github.com/kubernetes/kompose/pull/660,https://api.github.com/repos/kubernetes/kompose/issues/660,Fix vet issues with build/push code,This fixes the vet issues when running `make vet` due to unkeyed fields.,closed,True,2017-06-20 12:58:35,2017-06-20 16:55:51
kompose,procrypt,https://github.com/kubernetes/kompose/pull/661,https://api.github.com/repos/kubernetes/kompose/issues/661,Fix make test,Fixed #659,closed,True,2017-06-20 13:03:57,2017-06-20 16:55:18
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/662,https://api.github.com/repos/kubernetes/kompose/issues/662,Removing unused function taggedimage,,closed,True,2017-06-20 13:07:31,2017-06-21 05:55:10
kompose,cdrage,https://github.com/kubernetes/kompose/pull/663,https://api.github.com/repos/kubernetes/kompose/issues/663,Update vendoring for Cobra CLI fix,"Updates the vendoring in order to implement the fix for MarkDeprecated
output in the CLI

See: https://github.com/spf13/cobra/pull/466

Closes https://github.com/kubernetes-incubator/kompose/issues/652",closed,True,2017-06-20 18:26:08,2017-06-22 13:18:32
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/664,https://api.github.com/repos/kubernetes/kompose/issues/664,Added support for `replicas` keys in v3,resolves #644 `replicas` key,closed,True,2017-06-22 04:53:46,2017-07-06 10:38:01
kompose,ashetty1,https://github.com/kubernetes/kompose/pull/665,https://api.github.com/repos/kubernetes/kompose/issues/665,Fix OpenShift tests for build and push,"[Work in Progress]
This patch fixes the broken buildconfig functional tests and also will add more tests for the new build and push feature.",closed,True,2017-06-22 10:09:56,2017-08-09 13:58:11
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/666,https://api.github.com/repos/kubernetes/kompose/issues/666,added support for `restart-policy` keys in v3,Resolves `restart_policy` from issue #644,closed,True,2017-06-22 12:05:05,2017-07-06 12:50:15
kompose,cdrage,https://github.com/kubernetes/kompose/pull/667,https://api.github.com/repos/kubernetes/kompose/issues/667,Change title to build and push images,"Changes the header in the user-guide.md in regards to building and
pushing docker images",closed,True,2017-06-22 19:42:01,2017-06-23 12:26:17
kompose,cdrage,https://github.com/kubernetes/kompose/pull/668,https://api.github.com/repos/kubernetes/kompose/issues/668,Remove 'cdrage' username from example,Removes username in favour of a foobar username,closed,True,2017-06-22 19:43:32,2017-06-23 12:25:57
kompose,rupalibehera,https://github.com/kubernetes/kompose/pull/669,https://api.github.com/repos/kubernetes/kompose/issues/669,Adding Jenkinsfile for PR pipeline on Fabric8CD infrastructure,"Initial commit adding Jenkinsfile for pr pipeline on fabric8CD(http://jenkins.cd.k8s.fabric8.io/job/kubernetes-incubator/)

This PR includes a Jenkinsfile which just does `make test` for now which will run the tests on every PR and on merge with master.
It uses golang version 1.8.1

The below things are not covered which are there in .travis.yml:
1. It does not test with the Matrix of various versions of go lang.
2. It does not do the coverage 
3. It does not sync the docs",closed,True,2017-06-23 11:29:19,2017-06-30 12:46:20
kompose,cdrage,https://github.com/kubernetes/kompose/pull/670,https://api.github.com/repos/kubernetes/kompose/issues/670,Add v3 example,"Same example as docker-compose.yaml but with 3 in the version name.

Needed for 1.0.0 blog post!",closed,True,2017-06-23 12:51:52,2017-06-23 13:37:56
kompose,cdrage,https://github.com/kubernetes/kompose/issues/671,https://api.github.com/repos/kubernetes/kompose/issues/671,Add example integration tests,"We should test our examples using integration tests ran on Travis / CentOS CI via this method: https://github.com/kubernetes/community/blob/master/contributors/devel/local-cluster/local.md (despite it being deprecated, it still works well).",closed,False,2017-06-23 13:50:14,2017-07-19 17:34:54
kompose,cdrage,https://github.com/kubernetes/kompose/pull/672,https://api.github.com/repos/kubernetes/kompose/issues/672,Remove DAB from docs,Removes references to --bundle or DAB from the Kompose documentation.,closed,True,2017-06-26 18:42:06,2017-07-07 14:10:17
kompose,cdrage,https://github.com/kubernetes/kompose/issues/673,https://api.github.com/repos/kubernetes/kompose/issues/673,kompose.service.type issues,"For some odd reason, our example no longer works:
```
version: ""2""                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                  
services:                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                  
  redis-master:                                                                                                                                                                                                                                                                   
    image: gcr.io/google_containers/redis:e2e                                                                                                                                                                                                                                     
    ports:                                                                                                                                                                                                                                                                        
      - ""6379""                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                  
  redis-slave:                                                                                                                                                                                                                                                                    
    image: gcr.io/google_samples/gb-redisslave:v1                                                                                                                                                                                                                                 
    ports:                                                                                                                                                                                                                                                                        
      - ""6379""                                                                                                                                                                                                                                                                    
    environment:                                                                                                                                                                                                                                                                  
      - GET_HOSTS_FROM=dns                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                  
  frontend:                                                                                                                                                                                                                                                                       
    image: gcr.io/google-samples/gb-frontend:v4                                                                                                                                                                                                                                   
    ports:                                                                                                                                                                                                                                                                        
      - ""80:80""                                                                                                                                                                                                                                                                   
    environment:                                                                                                                                                                                                                                                                  
      - GET_HOSTS_FROM=dns                                                                                                                                                                                                                                                        
    labels:                                                                                                                                                                                                                                                                       
      kompose.service.type: LoadBalancer  
```

```
▶ kompose convert -v
DEBU Checking validation of provider %skubernetes 
DEBU 'docker-compose.yml' not found: stat docker-compose.yml: no such file or directory 
DEBU Docker Compose version: 2                    
DEBU Opening compose files: docker-compose.yaml   
DEBU [0/1] [frontend]: Adding                     
DEBU [0/1] [redis-master]: Adding                 
DEBU [0/3] [redis-slave]: Adding                  
DEBU [0/3] [default]: EventType: 32               
DEBU [0/3] [default]: EventType: 32               
DEBU [0/3] [default]: EventType: 32               
DEBU Default network found                        
FATA kompose.service.type can't be set if service doesn't expose any ports.: LoadBalancer defined in service frontend with no ports present. Issues may occur when bringing up artifacts. 
```",closed,False,2017-06-26 23:31:16,2017-06-28 12:42:32
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/674,https://api.github.com/repos/kubernetes/kompose/issues/674,Fixes kompose.service.type label issue,"Minor Fix, resolves #673",closed,True,2017-06-27 04:23:31,2017-06-28 12:42:32
kompose,cdrage,https://github.com/kubernetes/kompose/issues/675,https://api.github.com/repos/kubernetes/kompose/issues/675,Clean up and add current example files to integration tests.,"Two things:

- Test each example to see if they work and convert correctly
- Add integration tests for each one, test against a real Kubernetes cluster",closed,False,2017-06-27 14:39:26,2018-10-06 21:14:07
kompose,cdrage,https://github.com/kubernetes/kompose/issues/676,https://api.github.com/repos/kubernetes/kompose/issues/676,Add OpenShift specific examples for conversion,"Let's add some OpenShift-specific examples to the `/examples` folder as many of the example files use root-user images (ex. official docker hub nginx image, apache2, etc.)",closed,False,2017-06-27 14:40:22,2018-10-07 00:17:07
kompose,cdrage,https://github.com/kubernetes/kompose/pull/677,https://api.github.com/repos/kubernetes/kompose/issues/677,2016 -> 2017 for licensing,"New year, update to the license.",closed,True,2017-06-28 14:50:15,2017-07-07 14:10:03
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/678,https://api.github.com/repos/kubernetes/kompose/issues/678,setting environment variable PROVIDER no longer works,"Kompose user guide states as:

```
... By setting environment variable PROVIDER you can permanently switch to OpenShift provider without need to always specify --provider openshift option. 
```

but it doesn't work.

```
$ export PROVIDER=openshift
$ echo $PROVIDER
openshift
$ kompose convert 
INFO Kubernetes file ""frontend-service.yaml"" created 
INFO Kubernetes file ""redis-master-service.yaml"" created 
INFO Kubernetes file ""redis-slave-service.yaml"" created 
INFO Kubernetes file ""frontend-deployment.yaml"" created 
INFO Kubernetes file ""redis-master-deployment.yaml"" created 
INFO Kubernetes file ""redis-slave-deployment.yaml"" created 
```",closed,False,2017-06-30 05:11:23,2017-07-08 07:08:40
kompose,cdrage,https://github.com/kubernetes/kompose/pull/679,https://api.github.com/repos/kubernetes/kompose/issues/679,ci test pr do not merge,do not merge,closed,True,2017-06-30 12:47:47,2017-07-10 14:26:07
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/680,https://api.github.com/repos/kubernetes/kompose/issues/680,Updated user-guide,"Fixes issue #678. As we no longer supports setting provider by environment
variable, this PR will remove documentation for the same.",closed,True,2017-07-05 10:25:18,2017-07-06 18:11:27
kompose,cdrage,https://github.com/kubernetes/kompose/pull/681,https://api.github.com/repos/kubernetes/kompose/issues/681,Remove meeting from README + update,"We talk enough in the Slack channel and find that impromptu meetings to
be more efficient :+1: rather than a monthly meeting.",closed,True,2017-07-05 14:06:12,2017-07-19 07:14:36
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/682,https://api.github.com/repos/kubernetes/kompose/issues/682,Remove empty if branch,,closed,True,2017-07-06 13:13:23,2017-07-07 14:10:34
kompose,phatlast96,https://github.com/kubernetes/kompose/issues/683,https://api.github.com/repos/kubernetes/kompose/issues/683,One Script to Run Them All,"Running each individual K8s YAML file is dramatic change for anyone who is used to Docker Swarm, who tends to only run a single 'docker-compose.yaml' file for deployment. 

It'd be nice for kompose to produce a single, executable script that runs all the K8s YAML files it produced. This thus improves the workflow of a former Docker Swarm user in addition to easing their transition to Kubernetes.

There could be an option to opt in or opt out of this feature.

If not, then it'd be nice if all the produced K8s YAML file are organized into a single folder.",closed,False,2017-07-06 14:39:43,2017-07-14 13:45:15
kompose,cdrage,https://github.com/kubernetes/kompose/pull/684,https://api.github.com/repos/kubernetes/kompose/issues/684,Change menu to left side,"This commit changes the menu to the left side rather than on top,
syncing with cdrage/minimal branch / style.",closed,True,2017-07-06 17:43:22,2017-07-07 14:10:40
kompose,cdrage,https://github.com/kubernetes/kompose/pull/685,https://api.github.com/repos/kubernetes/kompose/issues/685,Setup -> Installation + title updates,"Updates the docs to reflect that it's not a ""setup"" documention but
rather an installation document.

I've also updated the header of architecture.md to reflect the filename.",closed,True,2017-07-07 14:17:03,2017-07-10 13:54:58
kompose,cdrage,https://github.com/kubernetes/kompose/pull/686,https://api.github.com/repos/kubernetes/kompose/issues/686,Adds development doc + conversion -> conversion matrix,"Makes development doc available on the site and change name of the
conversion menu name.",closed,True,2017-07-07 18:55:14,2017-07-07 18:55:42
kompose,cdrage,https://github.com/kubernetes/kompose/pull/687,https://api.github.com/repos/kubernetes/kompose/issues/687,Update menu.yml with installation,Merge after: https://github.com/kubernetes-incubator/kompose/pull/685,closed,True,2017-07-07 18:58:25,2017-07-10 13:55:09
kompose,cdrage,https://github.com/kubernetes/kompose/pull/688,https://api.github.com/repos/kubernetes/kompose/issues/688,Merge pull request #686 from cdrage/add-dev-doc,Adds development doc + conversion -> conversion matrix,closed,True,2017-07-07 19:37:24,2017-07-07 19:37:50
kompose,cdrage,https://github.com/kubernetes/kompose/pull/689,https://api.github.com/repos/kubernetes/kompose/issues/689,Conversion -> Conversion Matrix,,closed,True,2017-07-07 19:38:57,2017-07-07 19:39:08
kompose,cdrage,https://github.com/kubernetes/kompose/pull/690,https://api.github.com/repos/kubernetes/kompose/issues/690,Change menu to left side,"This commit changes the menu to the left side rather than on top,
syncing with cdrage/minimal branch / style.",closed,True,2017-07-07 19:46:25,2017-07-07 19:47:31
kompose,hrishin,https://github.com/kubernetes/kompose/issues/691,https://api.github.com/repos/kubernetes/kompose/issues/691,Docker build in kompose convert,"`kompose convert` provides nice utility for converting docker-compose resources to kubenetes resources. However while leveraging on it if compose file has `build:` tag, so converting those resources to kubernates resources wont help much in our case as another system expects docker image do exists in respective registry prior bringing kubenetes deployment up and running.
It would be great if we can add optional flag in `kompose convert -b`so on presence of it `kompose ` can build docker images, push it to respective registry and the execute conversation process as a whole.

As of now I can see this functionality is available in `kompose up` command but we don't want to spin up the pods/containers.
",closed,False,2017-07-10 12:02:32,2017-07-24 04:51:40
kompose,cdrage,https://github.com/kubernetes/kompose/pull/692,https://api.github.com/repos/kubernetes/kompose/issues/692,Update quickstart,Remove ▶ from CLI commands as well as remove .dab reference.,closed,True,2017-07-10 18:45:28,2017-07-18 13:01:11
kompose,cdrage,https://github.com/kubernetes/kompose/pull/693,https://api.github.com/repos/kubernetes/kompose/issues/693,Adds redirection plugin for website,"Fixes redirection issues when adding links such as `/docs/` to the
documentation",closed,True,2017-07-10 19:12:41,2017-07-10 19:12:54
kompose,cdrage,https://github.com/kubernetes/kompose/pull/694,https://api.github.com/repos/kubernetes/kompose/issues/694,Fix redirection site issues,"Fixes the issues in regards to rediction.

For example, supplying `/docs/conversion` within the user guide the link
will appear as a 404.

Adding this allows redirection from `/docs/conversion` to `/conversion`.",closed,True,2017-07-10 19:15:59,2017-07-11 16:46:58
kompose,cdrage,https://github.com/kubernetes/kompose/pull/695,https://api.github.com/repos/kubernetes/kompose/issues/695,Add mention bot,"In order to deploy https://github.com/facebook/mention-bot it's good to
have a .mention-bot file in the root directory.

This PR adds that said file as well as creates a user blacklist so
maintainer alumni aren't needlessly pinged.",closed,True,2017-07-10 19:36:44,2017-07-11 15:32:51
kompose,surajssd,https://github.com/kubernetes/kompose/issues/696,https://api.github.com/repos/kubernetes/kompose/issues/696,remove dependency on docker daemon for building container images,"As a part of removing the dependency on docker and docker daemon, I propose we use buildah for building OCI compliant images.
And as a part of this work we will also need a mechanism that helps to push the images so we can use skopeo for that.

This will make sure we can build image anywhere regardless of the docker daemon, we don't need to exec since exec is bad. We can package all this in one single binary.

Project Buildah: https://github.com/projectatomic/buildah
Skopeo project: https://github.com/projectatomic/skopeo

",closed,False,2017-07-11 07:27:09,2018-03-06 13:40:20
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/697,https://api.github.com/repos/kubernetes/kompose/issues/697,Fixed minor issue in kubernetes_test.go,Fixed identical expression in kubernetes_test.go,closed,True,2017-07-11 09:23:06,2017-07-11 12:20:12
kompose,cdrage,https://github.com/kubernetes/kompose/issues/698,https://api.github.com/repos/kubernetes/kompose/issues/698,Add StatefulSet,"We've gone DaemonSet, let's add StatefulSet now.

https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/",open,False,2017-07-11 12:45:05,2018-04-11 04:55:11
kompose,cdrage,https://github.com/kubernetes/kompose/pull/699,https://api.github.com/repos/kubernetes/kompose/issues/699,[dont close] Test mention bot functionality,"Testing mention bot, please ignore.",closed,True,2017-07-11 15:33:52,2017-07-11 16:12:52
kompose,cdrage,https://github.com/kubernetes/kompose/pull/700,https://api.github.com/repos/kubernetes/kompose/issues/700,Update mention bot config,"Removes some of the values which are already set to their default values
on mention bot.",closed,True,2017-07-11 16:00:08,2017-07-11 16:03:18
kompose,cdrage,https://github.com/kubernetes/kompose/pull/701,https://api.github.com/repos/kubernetes/kompose/issues/701,Update mention bot configuration to avoid mentioning people twice,"This updates the config to avoid mentioning people twice as well as
assinging people appropriately.",closed,True,2017-07-11 16:10:50,2017-07-11 16:11:29
kompose,containscafeine,https://github.com/kubernetes/kompose/pull/702,https://api.github.com/repos/kubernetes/kompose/issues/702,remove unused parameter from ValidateComposeFile(),"In pkg/app/app.go, the function ValidateComposeFile() has an
unused parameter ""cmd *cobra.Command"".

This commit removes that parameter from the function and the
callers of the function.",closed,True,2017-07-12 09:19:14,2017-07-12 13:28:41
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/703,https://api.github.com/repos/kubernetes/kompose/issues/703,Refactoring code as per gosimple check,This PR refactors some code bits as per `gosimple` tool check.,closed,True,2017-07-12 10:19:55,2017-07-12 13:35:07
kompose,cdrage,https://github.com/kubernetes/kompose/pull/704,https://api.github.com/repos/kubernetes/kompose/issues/704,kubernetes-incubator -> kubernetes,"Today, we graduate from the incubator, thus all links are updates from
kubernetes-incubator to kubernetes",closed,True,2017-07-12 19:43:05,2017-07-12 20:49:55
kompose,cdrage,https://github.com/kubernetes/kompose/pull/705,https://api.github.com/repos/kubernetes/kompose/issues/705,Update _config with new repo,"Updates the _config with the kubernetes repo instead of
kubernetes-incubator.",closed,True,2017-07-12 19:56:28,2017-07-12 20:50:17
kompose,e-minguez,https://github.com/kubernetes/kompose/pull/706,https://api.github.com/repos/kubernetes/kompose/issues/706,Added Fedora 26,http://fedora.melbourneitmirror.net/fedora/linux/releases/26/Everything/x86_64/os/Packages/k/kompose-0.7.0-0.1.fc26.x86_64.rpm,closed,True,2017-07-13 09:58:00,2017-07-14 18:47:02
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/707,https://api.github.com/repos/kubernetes/kompose/issues/707,Added docker compose v3 example for counter,,closed,True,2017-07-13 18:03:06,2017-07-18 05:07:43
kompose,cdrage,https://github.com/kubernetes/kompose/pull/708,https://api.github.com/repos/kubernetes/kompose/issues/708,Conversion Reference -> Conversion Matrix,"Initialize a documentation build (running the script on travis) as well
as change from Conversion Reference to Conversion Matrix.",closed,True,2017-07-13 19:00:32,2017-07-13 19:02:32
kompose,fate-grand-order,https://github.com/kubernetes/kompose/pull/709,https://api.github.com/repos/kubernetes/kompose/issues/709,fix some typos to make goreport happy,,closed,True,2017-07-14 02:59:21,2017-07-14 13:50:30
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/710,https://api.github.com/repos/kubernetes/kompose/issues/710,Updated code with go lint result,Updated code with suggestion given by `go lint`,closed,True,2017-07-14 05:42:46,2017-07-14 18:46:28
kompose,cdrage,https://github.com/kubernetes/kompose/pull/711,https://api.github.com/repos/kubernetes/kompose/issues/711,Make mention bot less aggresive,2 or less reviewers as well as up to 5 max files searched.,closed,True,2017-07-14 13:51:42,2017-07-17 07:39:54
kompose,hrishin,https://github.com/kubernetes/kompose/issues/712,https://api.github.com/repos/kubernetes/kompose/issues/712,Kompose  latest release version info from version file,"For fabrica8 maven plugin integration, we need a file which can give latest release version from Http URL.

Now this can be done by consuming github release API  but it will overkill the simplicity.
For the sake of consistency and aligning existing implementations we need the version file under kompose repository.
e.g. gofabric8 https://github.com/fabric8io/gofabric8/blob/master/version/VERSION

It would e great if kompose project can provide similar version file",closed,False,2017-07-14 14:10:06,2017-07-18 03:58:42
kompose,nikhilrayaprolu,https://github.com/kubernetes/kompose/issues/713,https://api.github.com/repos/kubernetes/kompose/issues/713,error with autogenerated cluster name,"![image](https://user-images.githubusercontent.com/15216503/28242224-b0a035a4-69c3-11e7-840d-1ef6b1bd2501.png)
![image](https://user-images.githubusercontent.com/15216503/28242227-c7700ae8-69c3-11e7-93df-6dc5b34b3aa1.png)

",closed,False,2017-07-15 19:42:07,2018-07-08 16:14:38
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/714,https://api.github.com/repos/kubernetes/kompose/issues/714,Moving version from variable to text file,"Resolves #712 , As it is needed for fabric8-maven-plugin",closed,True,2017-07-17 11:49:55,2017-07-18 03:58:43
kompose,cdrage,https://github.com/kubernetes/kompose/pull/715,https://api.github.com/repos/kubernetes/kompose/issues/715,Ignore pinging dusty on PR's,Adds Dusty to the user blacklist so he doesn't get pinged.,closed,True,2017-07-17 13:57:23,2017-07-17 13:57:38
kompose,cdrage,https://github.com/kubernetes/kompose/pull/716,https://api.github.com/repos/kubernetes/kompose/issues/716,Update doc script,"Redirection works for http://kompose.io/docs/conversion/ but not for
http://kompose.io/docs/conversion.md which is what I originally
intended.

This PR updates the script to redirect all `.md` doc links.",closed,True,2017-07-17 14:42:44,2017-07-18 05:06:04
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/717,https://api.github.com/repos/kubernetes/kompose/issues/717,adding timestamp in k8s artifacts,"I was validating results from kompose using [kubeval](https://github.com/garethr/kubeval), I got following output: 

```
$ kubeval frontend-deployment.yaml 
The document frontend-deployment.yaml contains an invalid Deployment
--> spec.template.metadata.creationTimestamp: Invalid type. Expected: string, given: null
--> metadata.creationTimestamp: Invalid type. Expected: string, given: null
```

Should we add timestamp in spec ?
any thoughts, @kadel @surajssd @cdrage ",closed,False,2017-07-18 09:37:28,2017-07-25 04:40:01
kompose,cdrage,https://github.com/kubernetes/kompose/issues/718,https://api.github.com/repos/kubernetes/kompose/issues/718,Distinguish / re-add ` $` to docs,"As per #692 @surajssd 's comments, let's re-add `$` whenever we show a command whether in the README, docs or website.",closed,False,2017-07-18 13:02:21,2017-07-26 15:48:13
kompose,kadel,https://github.com/kubernetes/kompose/issues/719,https://api.github.com/repos/kubernetes/kompose/issues/719,"Change imports  for kompose packages to 'k8s.io/kompose""",To reflect move to Kubernetes  org we should use `k8s.io/kompose` instead of `github.com/kubernetes-incubator/kompose`,closed,False,2017-07-19 12:43:10,2017-08-02 14:32:28
kompose,cdrage,https://github.com/kubernetes/kompose/pull/720,https://api.github.com/repos/kubernetes/kompose/issues/720,Adds clarification on commands,Re-adds '$' to commands,closed,True,2017-07-19 17:06:32,2017-07-20 13:16:40
kompose,lucj,https://github.com/kubernetes/kompose/issues/721,https://api.github.com/repos/kubernetes/kompose/issues/721,Error running kompose on counter v3 example file,"When running ```kompose convert``` on the newly added `docker-compose-counter-v3.yaml` example file, I got the following error.

```
$ kompose -f docker-compose-counter-v3.yaml convert
ERRO Could not parse config for project examples : yaml: unmarshal errors:
  line 1: cannot unmarshal !!str `3` into config.RawService
FATA composeObject.Parse() failed, Failed to load compose file: yaml: unmarshal errors:
  line 1: cannot unmarshal !!str `3` into config.RawService
```
",closed,False,2017-07-19 21:35:50,2017-07-24 08:23:50
kompose,cdrage,https://github.com/kubernetes/kompose/pull/722,https://api.github.com/repos/kubernetes/kompose/issues/722,Update the release script,"Updates the release script with SHA256 sums, installation guide as well
as a switch to kubernetes from kubernetes-incubator.",closed,True,2017-07-20 15:39:40,2017-07-20 15:40:05
kompose,cdrage,https://github.com/kubernetes/kompose/pull/723,https://api.github.com/repos/kubernetes/kompose/issues/723,1.0.0 Release,,closed,True,2017-07-20 15:55:03,2017-07-20 15:56:39
kompose,cdrage,https://github.com/kubernetes/kompose/pull/724,https://api.github.com/repos/kubernetes/kompose/issues/724,Update release script with properly formatted table,"Updates the script to properly format the table (had a bit of a
shortcoming doing that) as well as remove the leftover file
install_guide.txt as it's generated for release notes.",closed,True,2017-07-20 16:20:53,2017-07-25 15:34:33
kompose,cdrage,https://github.com/kubernetes/kompose/issues/725,https://api.github.com/repos/kubernetes/kompose/issues/725,"Deprecate Docker Compose Version 2.1, 2.2, and 3.3. Only support 1,2,3,4 (future).","See:
https://docs.docker.com/compose/compose-file/compose-versioning/#versioning

I propose that we deprecate any minor versions and only support major versions. 

Problem case is that version 2.1 and 2.2 isn't support by https://github.com/docker/libcompose and we would have to contribute up-stream.

Docker is pushing for Version 3 and is supported by their http://github.com/docker/cli tool, however, 3.1, 3.2 and 3.3 are moving too quick (3.1 and 3.2 aren't even mentioned on https://docs.docker.com/compose/compose-file/compose-versioning/#version-3 anymore).

I suggest we only support major versions (1,2,3) and eventually 4 (in the farrrr future).",closed,False,2017-07-21 19:37:12,2018-07-10 14:40:51
kompose,cdrage,https://github.com/kubernetes/kompose/issues/726,https://api.github.com/repos/kubernetes/kompose/issues/726,Adding compatibility matrix for different Kubernetes versions,Add something similar to: https://github.com/kubernetes-incubator/client-python where we have the compatibility matrix on different versions of Kubernetes and/or OpenShift.,closed,False,2017-07-25 15:56:22,2018-10-11 18:09:11
kompose,cdrage,https://github.com/kubernetes/kompose/pull/727,https://api.github.com/repos/kubernetes/kompose/issues/727,Add tests for deploy key specifically,"Due to:
https://github.com/kubernetes/kompose/commit/9dcb2bfba6639c045022d732d49867689ebb1de9
tests for ""replicas"" was disabled due to generating ""pod-only""
kubernetes artifacts as per ""restart_policy"" being added.

This PR adds ""deploy"" tests so we can effectively test `replicas`",closed,True,2017-07-26 16:29:38,2017-08-21 14:33:47
kompose,cdrage,https://github.com/kubernetes/kompose/pull/728,https://api.github.com/repos/kubernetes/kompose/issues/728,Updates the conversion document to reflect changes,"This updates the conversion document to outline that we do not support
minor versions since libcompose does not support 2.1 or 2.2 as well as
constant changes to docker/cli stack code regarding 3.1 and above.

I also update the conversion document to better reflect our support on
version 3 as well as update current values.",closed,True,2017-07-26 16:40:16,2017-08-02 13:50:47
kompose,cdrage,https://github.com/kubernetes/kompose/pull/729,https://api.github.com/repos/kubernetes/kompose/issues/729,Add gitlawr to mention bot blacklist,"Let's try to keep it to active contributors / maintainers so people
aren't needlessly pinged :)",closed,True,2017-07-26 16:43:31,2017-07-26 16:43:44
kompose,cdrage,https://github.com/kubernetes/kompose/issues/730,https://api.github.com/repos/kubernetes/kompose/issues/730,Add support for cpus (Version 3 Resources Key),"Now that Docker Compose Version 3 has been released, we're able to map `limits` and `reservations` regarding CPU to Kubernetes.

See: https://docs.docker.com/compose/compose-file/#resources

In particular:

```yaml
version: '3'
services:
  redis:
    image: redis:alpine
    deploy:
      resources:
        limits:
          cpus: '0.001'
          memory: 50M
        reservations:
          cpus: '0.0001'
          memory: 20M
```

Which will map directly to Kubernetes: https://kubernetes.io/docs/tasks/configure-pod-container/assign-cpu-ram-container/",closed,False,2017-07-26 18:21:03,2017-08-14 17:50:54
kompose,cdrage,https://github.com/kubernetes/kompose/pull/731,https://api.github.com/repos/kubernetes/kompose/issues/731,Adds Kubernetes cluster tests,"This adds cluster tests for ""kompose up"" and ""kompose down"" for
Kubernetes. At the moment this checks that they are deployable to a
single-node Kubernetes cluster.

More proficient tests such as testing if the pods are actually up will
be added in the future.

You can test this by running: `make test-ci` on your local-machine.

Furthermore, we'll eventually have this enabled on Fabric8 / CentOS CI /
Semaphore (whatever comes first) so we can have a full end-to-end
testing environment.",closed,True,2017-07-28 14:38:28,2017-08-04 15:13:28
kompose,cdrage,https://github.com/kubernetes/kompose/issues/732,https://api.github.com/repos/kubernetes/kompose/issues/732,Add documentation on Kompose integrations,Kompose has been integrated into Fabric8 (see: https://github.com/fabric8io/fabric8-maven-plugin/pull/988) we should effectively document cases where Kompose has been used in other integrations. Whether it's a GUI site or plugin.,closed,False,2017-07-31 13:33:33,2017-10-16 08:26:16
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/733,https://api.github.com/repos/kubernetes/kompose/issues/733,Added `saving command` to annotation feature,"This will save kompose command and version to annoatations, which were used to generate artifacts.
Fixes #639",closed,True,2017-08-01 05:33:30,2017-08-14 13:53:42
kompose,xiaoping378,https://github.com/kubernetes/kompose/pull/734,https://api.github.com/repos/kubernetes/kompose/issues/734,add option --hostpaths,"add option --hostpaths, #109 ",closed,True,2017-08-01 13:10:42,2018-07-26 06:58:11
kompose,cdrage,https://github.com/kubernetes/kompose/pull/735,https://api.github.com/repos/kubernetes/kompose/issues/735,Add Windows instructions to installation.md,,closed,True,2017-08-01 16:40:45,2017-08-02 13:49:21
kompose,cdrage,https://github.com/kubernetes/kompose/pull/736,https://api.github.com/repos/kubernetes/kompose/issues/736,Add integration doc,"Adds an integration document that lists third-party organizations /
users that use Kompose in some-way or another.",closed,True,2017-08-01 16:54:57,2017-08-02 13:51:39
kompose,cdrage,https://github.com/kubernetes/kompose/pull/737,https://api.github.com/repos/kubernetes/kompose/issues/737,Adds integrations doc,Adds integrations doc to website,closed,True,2017-08-01 17:00:35,2017-08-02 13:51:45
kompose,cdrage,https://github.com/kubernetes/kompose/pull/738,https://api.github.com/repos/kubernetes/kompose/issues/738,"Add CPU limit, CPU Reservation and Memory Reservation","This adds support for CPU limit, CPU reservation as well as memory
reservation.

Specifically, when using the `deploy` key in Docker Compose.",closed,True,2017-08-01 20:06:45,2017-08-08 14:08:00
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/739,https://api.github.com/repos/kubernetes/kompose/issues/739, Added support for `group_add` key,,closed,True,2017-08-02 10:09:41,2017-08-11 14:07:55
kompose,cdrage,https://github.com/kubernetes/kompose/pull/740,https://api.github.com/repos/kubernetes/kompose/issues/740,Update integrations links,"Jekyll doesn't support automatically linking, so we have to manually add
the links here.",closed,True,2017-08-02 14:11:25,2017-08-02 14:11:44
kompose,cdrage,https://github.com/kubernetes/kompose/pull/741,https://api.github.com/repos/kubernetes/kompose/issues/741,Update installation instructions,Updates the install instructions on the README and installation.md guide,closed,True,2017-08-02 14:20:54,2017-08-07 17:16:13
kompose,JadCham,https://github.com/kubernetes/kompose/pull/742,https://api.github.com/repos/kubernetes/kompose/issues/742,Add author to Kompose UI,,closed,True,2017-08-02 23:51:06,2017-08-03 13:37:03
kompose,asifdxtreme,https://github.com/kubernetes/kompose/pull/743,https://api.github.com/repos/kubernetes/kompose/issues/743,Add Goreport badge,,closed,True,2017-08-04 08:55:00,2017-08-08 14:57:43
kompose,cdrage,https://github.com/kubernetes/kompose/issues/744,https://api.github.com/repos/kubernetes/kompose/issues/744,"When specifying a wrong parameter, --help is not complete","For example:
```
▶ kompose convert --daemonset
Error: unknown flag: --daemonset
Usage:
  kompose convert [file] [flags]

Flags:
      --build string   Set the type of build (""local""|""build-config"" (OpenShift only)|""none"") (default ""none"")
      --emptyvols      Use Empty Volumes. Do not generate PVCs
  -h, --help           help for convert
  -j, --json           Generate resource files into JSON format
  -o, --out string     Specify a file name to save objects to
      --replicas int   Specify the number of repliaces in the generate resource spec (default 1)
      --stdout         Print converted objects to stdout

Global Flags:
      --error-on-warning    Treat any warning as an error
  -f, --file stringArray    Specify an alternative compose file
      --provider string     Specify a provider. Kubernetes or OpenShift. (default ""kubernetes"")
      --suppress-warnings   Suppress all warnings
  -v, --verbose             verbose output

unknown flag: --daemonset
```

Does not show the Kubernetes or OpenShift flags:
```
github.com/kubernetes/kompose  add-healthcheck ✔                                                                                                                                                                                                                            1d  ⍉
▶ ./kompose convert --help     
Usage:
  kompose convert [file] [flags]

Kubernetes Flags:
      --daemon-set               Generate a Kubernetes daemonset object
  -d, --deployment               Generate a Kubernetes deployment object
  -c, --chart                    Create a Helm chart for converted objects
      --replication-controller   Generate a Kubernetes replication controller object

OpenShift Flags:
      --build-branch             Specify repository branch to use for buildconfig (default is current branch name)
      --build-repo               Specify source repository for buildconfig (default is current branch's remote url
      --deployment-config        Generate an OpenShift deployment config object
      --insecure-repository      Specify to use insecure docker repository while generating Openshift image stream object

Flags:
      --build string   Set the type of build (""local""|""build-config"" (OpenShift only)|""none"") (default ""none"")
      --emptyvols      Use Empty Volumes. Do not generate PVCs
  -h, --help           help for convert
  -j, --json           Generate resource files into JSON format
  -o, --out string     Specify a file name to save objects to
      --replicas int   Specify the number of repliaces in the generate resource spec (default 1)
      --stdout         Print converted objects to stdout

Global Flags:
      --error-on-warning    Treat any warning as an error
  -f, --file stringArray    Specify an alternative compose file
      --provider string     Specify a provider. Kubernetes or OpenShift. (default ""kubernetes"")
      --suppress-warnings   Suppress all warnings
  -v, --verbose             verbose output
```
",closed,False,2017-08-04 14:42:38,2017-08-29 06:35:52
kompose,cdrage,https://github.com/kubernetes/kompose/issues/745,https://api.github.com/repos/kubernetes/kompose/issues/745,Improve chart support / Helm testing,"We should improve chart / helm support, check that it works as well as add it to an end-to-end test.",closed,False,2017-08-04 14:55:57,2018-11-23 17:18:18
kompose,rathko,https://github.com/kubernetes/kompose/pull/746,https://api.github.com/repos/kubernetes/kompose/issues/746,Create docker client from environment variables,"*Why:*

Currently `kompose` works only with the hard-coded Unix socket endpoint, which makes it difficult to use with macOS and other non-Linux environments.

*What:*

Detect if the `DOCKER_HOST` is set and create a docker client from the environment variables DOCKER_HOST, DOCKER_TLS_VERIFY, and DOCKER_CERT_PATH.",closed,True,2017-08-04 15:17:06,2017-08-08 17:07:09
kompose,cdrage,https://github.com/kubernetes/kompose/pull/747,https://api.github.com/repos/kubernetes/kompose/issues/747,Exit 1 not Exit 0,Wrong exit value,closed,True,2017-08-04 15:19:54,2017-08-04 15:21:03
kompose,cdrage,https://github.com/kubernetes/kompose/issues/748,https://api.github.com/repos/kubernetes/kompose/issues/748,Update development.md with relevant details regarding CI,"Update the development.md documentation in regards to what CI does what (Travis, SemaphoreCI, Fabric8, etc.)",open,False,2017-08-04 15:30:31,2018-01-03 09:01:16
kompose,cdrage,https://github.com/kubernetes/kompose/pull/749,https://api.github.com/repos/kubernetes/kompose/issues/749,Update docs to reflect conversion changes,"Updates the doc due to the recent changes to deploy keys as well as
othre mappings.",closed,True,2017-08-08 14:29:12,2017-08-09 11:19:44
kompose,surajssd,https://github.com/kubernetes/kompose/issues/750,https://api.github.com/repos/kubernetes/kompose/issues/750,get rid of the bundle tag in kobject,We have removed support for docker `bundle` so I think we can get rid of the tags in `kobject` file [here](https://github.com/kubernetes/kompose/blob/af26b797a22ac67c6789212fa050477c33bbec87/pkg/kobject/kobject.go#L65).,closed,False,2017-08-08 14:44:19,2017-08-09 15:36:04
kompose,cdrage,https://github.com/kubernetes/kompose/pull/751,https://api.github.com/repos/kubernetes/kompose/issues/751,Gets rid of bundle tag,"Closes https://github.com/kubernetes/kompose/issues/750

Since we no longer support DAB / Bundle (for now), let's remove the
uneeded bundle tag.",closed,True,2017-08-08 14:51:10,2017-08-09 15:36:04
kompose,cdrage,https://github.com/kubernetes/kompose/issues/752,https://api.github.com/repos/kubernetes/kompose/issues/752,Build errors with current OpenShift cluster tests,"See: https://semaphoreci.com/cdrage/kompose-2/branches/master/builds/25

Seems that adding the `xip.io` change caused an issue.",closed,False,2017-08-08 16:20:04,2018-01-02 20:23:58
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/753,https://api.github.com/repos/kubernetes/kompose/issues/753,unit test for annotation,"after merging #733 , we will need to figure out a way to add unit test for annotations,

Removed unit test code snippet,

```
if !equalStringMaps(config.Annotations, meta.Annotations) {
		return fmt.Errorf(""Found different annotations: %#v vs. %#v"", config.Annotations, meta.Annotations)
	}
```",closed,False,2017-08-09 07:11:07,2018-03-10 12:36:37
kompose,cdrage,https://github.com/kubernetes/kompose/pull/754,https://api.github.com/repos/kubernetes/kompose/issues/754,Temporarily remove buildconfig tests for OpenShift,Temporarily remove these until we get buildconfig tests working.,closed,True,2017-08-09 14:40:32,2017-08-09 14:51:43
kompose,cdrage,https://github.com/kubernetes/kompose/issues/755,https://api.github.com/repos/kubernetes/kompose/issues/755,Re-add tests for buildconfig to OpenShift cluster,"With this PR we remove them:
https://github.com/kubernetes/kompose/pull/754/files

Let's re-add BuildConfig tests for OpenShift.",open,False,2017-08-09 14:45:24,2018-01-02 20:22:04
kompose,cdrage,https://github.com/kubernetes/kompose/pull/756,https://api.github.com/repos/kubernetes/kompose/issues/756,[testing ci] testing ci builds,"testing to see if new builds successfully trigger all CI integrations
(semaphore, cla, travis, etc.)",closed,True,2017-08-10 15:05:21,2017-08-14 15:08:43
kompose,cdrage,https://github.com/kubernetes/kompose/pull/757,https://api.github.com/repos/kubernetes/kompose/issues/757,"Update cluster tests, use local Kompose binary","Uses the local kompose binary that was built, not the one stored in the
GOPATH bin folder.

For example, using `./kompose` instead of `kompose`

Disables `make bin` generation for Kubernetes tests.",closed,True,2017-08-10 15:12:47,2017-08-11 15:54:41
kompose,cdrage,https://github.com/kubernetes/kompose/pull/758,https://api.github.com/repos/kubernetes/kompose/issues/758,"Revert "" Added support for `group_add` key""",Reverts kubernetes/kompose#739,closed,True,2017-08-11 16:29:27,2017-08-23 17:07:44
kompose,cdrage,https://github.com/kubernetes/kompose/pull/759,https://api.github.com/repos/kubernetes/kompose/issues/759,Adds healthcheck,"This PR adds support for HealthCheck, being able to supply, for example:

```yaml
version: ""3""

services:
  redis:
    image: redis
    healthcheck:
      test: echo ""hello world""
      interval: 10s
      timeout: 1s
      retries: 5
```

Which is then converted to:

```yaml
spec:
  containers:
  - image: redis
    livenessProbe:
      exec:
        command:
        - echo ""hello world""
      failureThreshold: 5
      periodSeconds: 10
      timeoutSeconds: 1
    name: redis
    resources: {}
  restartPolicy: Always
```

At the moment, this only supports livenessProbe, with support for readinessProbe in the future.",closed,True,2017-08-11 16:42:45,2017-08-27 03:39:55
kompose,mbssaiakhil,https://github.com/kubernetes/kompose/pull/760,https://api.github.com/repos/kubernetes/kompose/issues/760,Fix typo in Events Code of Conduct,,closed,True,2017-08-13 10:32:40,2017-08-14 13:19:45
kompose,cdrage,https://github.com/kubernetes/kompose/pull/761,https://api.github.com/repos/kubernetes/kompose/issues/761,Rename test-ci to test-k8s,"Renames test-ci to test-k8s to coincide with our `make test-openshift`
command.",closed,True,2017-08-14 16:37:11,2017-08-16 19:58:28
kompose,cdrage,https://github.com/kubernetes/kompose/pull/762,https://api.github.com/repos/kubernetes/kompose/issues/762,Go down to one ACK,"Move down to one ACK rather than two for code changes. One or none for
doc changes.",closed,True,2017-08-14 16:45:00,2017-08-21 14:34:12
kompose,cdrage,https://github.com/kubernetes/kompose/pull/763,https://api.github.com/repos/kubernetes/kompose/issues/763,Fix for OpenShift cluster tests,"Tests are pass/failing 50% of the time due to the fact that Kompose down
is too fast for the next step to continue.

Hopefully this fixes it.",closed,True,2017-08-14 17:33:57,2017-08-25 14:10:52
kompose,mbssaiakhil,https://github.com/kubernetes/kompose/pull/764,https://api.github.com/repos/kubernetes/kompose/issues/764,Update Community Code of Conduct,Update Community Code of Conduct from kubernetes/kubernetes-template-project,closed,True,2017-08-15 13:10:00,2017-08-16 15:45:14
kompose,rickypai,https://github.com/kubernetes/kompose/issues/765,https://api.github.com/repos/kubernetes/kompose/issues/765,overlapped content on the conversion matrix documentation page,"In the [Conversion Matrix](http://kompose.io/conversion/) page, when you scroll horizontally on the table, the content will overlap with the menu.

<img width=""777"" alt=""screen shot 2017-08-15 at 4 35 51 pm"" src=""https://user-images.githubusercontent.com/1469579/29341231-d8928342-81d7-11e7-8681-3f11c0fa2900.png"">
",closed,False,2017-08-15 23:36:35,2017-08-17 15:07:42
kompose,cdrage,https://github.com/kubernetes/kompose/pull/766,https://api.github.com/repos/kubernetes/kompose/issues/766,[WIP] Update to use ./kompose instead of $GOPATH kompose binary,"The issue is that when running `make test-cmd` you'll have to cp kompose
to the /usr/local/bin directory or the $GOPATH directory.

Since `make test` is being used consistently in the same git diretory,
it makes sense to use the local-built binary.",closed,True,2017-08-16 16:56:58,2017-10-06 14:21:00
kompose,cdrage,https://github.com/kubernetes/kompose/pull/767,https://api.github.com/repos/kubernetes/kompose/issues/767,Add compatibility matrix,Adds a matrix that signifies what versions of Kubernetes we support.,closed,True,2017-08-16 17:08:08,2017-08-18 14:13:36
kompose,asifdxtreme,https://github.com/kubernetes/kompose/pull/768,https://api.github.com/repos/kubernetes/kompose/issues/768,Fix minor typo,,closed,True,2017-08-16 17:57:45,2017-08-16 18:41:10
kompose,asifdxtreme,https://github.com/kubernetes/kompose/pull/769,https://api.github.com/repos/kubernetes/kompose/issues/769,Change bot message,,closed,True,2017-08-16 17:59:44,2017-08-16 18:40:52
kompose,cdrage,https://github.com/kubernetes/kompose/issues/770,https://api.github.com/repos/kubernetes/kompose/issues/770,Update to annotations / cli tests + development document,"So there's two issues I'm encountering with annotations:

1. If there is no `kompose`, it does not error out. For example, if Kompose is not within $GOPATH or /usr/local/bin, then the annotation is blank for VERSION.
2. Tests need to be updated.. Using sed seems like a hack at the moment and it should be refactored (in the future)

Ping @surajnarwade ",closed,False,2017-08-16 18:49:33,2018-10-01 15:02:42
kompose,cdrage,https://github.com/kubernetes/kompose/pull/771,https://api.github.com/repos/kubernetes/kompose/issues/771,Add deploy: mode: global support,"Adds support for deploy: mode.

For example:

```yaml
version: ""3""

services:
  foo:
    deploy:
      resources:
        mode: global
        replicas: 6
    image: redis
```

Will only generate replicas: 1 in Kubernetes pods as ""global"" limits
replicas to only one.",closed,True,2017-08-16 19:36:15,2017-08-24 05:53:21
kompose,cdrage,https://github.com/kubernetes/kompose/issues/772,https://api.github.com/repos/kubernetes/kompose/issues/772,Remove useless Kubernetes artifact keys,"For example, `""importPolicy"": {}` is added to each OpenShift output.

Within Kubernetes there are also other useless keys that are either `null` or `{}`.

Let's remove them.",open,False,2017-08-16 19:37:38,2018-01-03 06:43:46
kompose,cdrage,https://github.com/kubernetes/kompose/pull/773,https://api.github.com/repos/kubernetes/kompose/issues/773,Fix css for horizontal scrolling,,closed,True,2017-08-17 15:05:52,2017-08-17 15:06:12
kompose,cdrage,https://github.com/kubernetes/kompose/pull/774,https://api.github.com/repos/kubernetes/kompose/issues/774,Fix footer horizontal scrolling,,closed,True,2017-08-17 15:07:16,2017-08-17 15:07:23
kompose,cdrage,https://github.com/kubernetes/kompose/pull/775,https://api.github.com/repos/kubernetes/kompose/issues/775,"Adds a more ""full"" conversion document","This majorly updates the conversion document in order to have version
compatibile checks with V1, V2 and V3 of Docker Compose and Kompose
support.",closed,True,2017-08-17 20:02:19,2017-08-18 14:15:30
kompose,cdrage,https://github.com/kubernetes/kompose/issues/776,https://api.github.com/repos/kubernetes/kompose/issues/776,Improve user guide,Discussion for improving the user-guide.,closed,False,2017-08-18 14:03:31,2017-11-27 15:49:48
kompose,cdrage,https://github.com/kubernetes/kompose/pull/777,https://api.github.com/repos/kubernetes/kompose/issues/777,Remove dab examples,Removes .dab examples from the example dir,closed,True,2017-08-18 14:42:36,2017-08-22 06:48:43
kompose,cdrage,https://github.com/kubernetes/kompose/pull/778,https://api.github.com/repos/kubernetes/kompose/issues/778,Change directory for cluster tests,"Fixes the directory for running cluster tests (test_k8s rather than
test_ci)",closed,True,2017-08-18 15:05:15,2017-08-18 15:05:27
kompose,cdrage,https://github.com/kubernetes/kompose/pull/779,https://api.github.com/repos/kubernetes/kompose/issues/779,Update conversion matrix with windows notes,Moves one of the notes as well as updates credentials_spec,closed,True,2017-08-18 15:40:38,2017-08-22 06:47:09
kompose,cdrage,https://github.com/kubernetes/kompose/pull/780,https://api.github.com/repos/kubernetes/kompose/issues/780,Update the dev guide with CI details,Updates the development.md doc with details on what CI's we use.,closed,True,2017-08-18 15:55:19,2017-08-29 13:25:59
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/781,https://api.github.com/repos/kubernetes/kompose/issues/781,Add testing documentation,"As of now, we don't have testing documetation (which is needed for any new contributors)",closed,False,2017-08-21 05:25:24,2018-10-11 18:09:10
kompose,kadel,https://github.com/kubernetes/kompose/pull/782,https://api.github.com/repos/kubernetes/kompose/issues/782,build and upload master builds to bintray,,closed,True,2017-08-21 15:06:56,2017-08-21 15:07:17
kompose,kadel,https://github.com/kubernetes/kompose/pull/783,https://api.github.com/repos/kubernetes/kompose/issues/783,add correct secrets for bintray,"this should fix `Bintray response: 401 Unauthorized. This resource requires authentication` error while uploading binaries to bintray


I'll add links to readme in another PR, once we are sure that this works.",closed,True,2017-08-21 16:08:22,2017-08-21 17:43:37
kompose,Rajadeepan,https://github.com/kubernetes/kompose/pull/784,https://api.github.com/repos/kubernetes/kompose/issues/784,Fix minor typo in comment,Fix minor typo in comment,closed,True,2017-08-21 18:10:36,2017-08-21 18:22:30
kompose,cdrage,https://github.com/kubernetes/kompose/pull/785,https://api.github.com/repos/kubernetes/kompose/issues/785,Add Bintray documentation to README and installation doc,"Adds information on nightly builds to the README and installation
document.",closed,True,2017-08-21 19:09:57,2017-08-25 19:29:04
kompose,cdrage,https://github.com/kubernetes/kompose/pull/786,https://api.github.com/repos/kubernetes/kompose/issues/786,Fix minor help output,Fixes the minor help output for --build (removes the space),closed,True,2017-08-21 19:15:30,2017-08-22 06:49:06
kompose,cdrage,https://github.com/kubernetes/kompose/pull/787,https://api.github.com/repos/kubernetes/kompose/issues/787,"Add --volumes parameter, deprecate emptyvols","This adds the --volumes paramater with a ""generate"" and ""empty""

By default, ""generate"" will be used as a place-holder for ""true"".
Although not used in the code, we will eventually add ""none""

This uses CLI paramater naming processes (no emptyVols as that is Go /
Kubernetes specific) and thus we use dashes.",closed,True,2017-08-21 19:57:11,2017-09-08 17:08:06
kompose,cdrage,https://github.com/kubernetes/kompose/issues/788,https://api.github.com/repos/kubernetes/kompose/issues/788,"Rework ""unsupported keys"" prompt","Rework out ""unsupported keys"" function for both v3.go and v1v2.go files. Having both better outputs as well as warnings.",open,False,2017-08-22 16:57:16,2018-01-03 14:15:24
kompose,cdrage,https://github.com/kubernetes/kompose/issues/789,https://api.github.com/repos/kubernetes/kompose/issues/789,Update Kubernetes cluster tests with port testing,"Currently we deploy Kubernetes artifacts and undeploy them using the `make test-k8s` command.

However, we don't check to see if the ports have come up nor checking to see if the service / pods / containers are actually running. 

Similar to the work @ashetty1 did to OpenShift, let's implement port testing to the Kubernetes cluster tests.",closed,False,2017-08-23 15:55:31,2018-10-11 18:09:10
kompose,cdrage,https://github.com/kubernetes/kompose/issues/790,https://api.github.com/repos/kubernetes/kompose/issues/790,Fabric8 CI not working,"Ping @rupalibehera seems that http://jenkins.cd.k8s.fabric8.io/job/kubernetes-incubator/ doesn't show.

Could it be since we move the org to `kubernetes` from `kubernetes-incubator`?",closed,False,2017-08-23 16:10:40,2018-03-06 13:41:56
kompose,cdrage,https://github.com/kubernetes/kompose/pull/791,https://api.github.com/repos/kubernetes/kompose/issues/791,Update favicons delete useless files,"Updates the favicon to work on all pages, adds an android chrome
favicon, removes the deleted / useless files from _site",closed,True,2017-08-23 16:35:13,2017-08-23 17:07:28
kompose,cdrage,https://github.com/kubernetes/kompose/issues/792,https://api.github.com/repos/kubernetes/kompose/issues/792,Add --controller,"Add a --controller flag instead of using parameters such as `--daemon-set` `--deployment`, etc.

This allows output based on simply doing `--controller=DaemonSet`",closed,False,2017-08-23 16:36:19,2017-10-06 14:24:19
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/793,https://api.github.com/repos/kubernetes/kompose/issues/793,Functional test for examples Directory,We should add functional test for docker-compose files present in examples Directory,closed,False,2017-08-24 09:21:07,2017-08-25 14:34:36
kompose,rupalibehera,https://github.com/kubernetes/kompose/pull/794,https://api.github.com/repos/kubernetes/kompose/issues/794,changing the organisation from kubernetes-incubator to kubernetes,"@cdrage, I have updated the Jenkinsfile",closed,True,2017-08-24 09:52:36,2017-08-25 14:13:05
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/795,https://api.github.com/repos/kubernetes/kompose/issues/795,Added functional test for docker compose files in Example directory,Fixes #793,closed,True,2017-08-24 11:59:12,2017-08-25 14:34:36
kompose,cdrage,https://github.com/kubernetes/kompose/pull/796,https://api.github.com/repos/kubernetes/kompose/issues/796,Update to lowercase in conversion.md,Makes the table a little less clustered with lowercase abbreviations.,closed,True,2017-08-25 14:39:38,2017-08-28 14:51:25
kompose,JadCham,https://github.com/kubernetes/kompose/pull/797,https://api.github.com/repos/kubernetes/kompose/issues/797,Fix kompose docker container wrong href,The link was pointing to komposeui instead of kompose-docker,closed,True,2017-08-25 19:19:01,2017-08-25 19:29:29
kompose,cdrage,https://github.com/kubernetes/kompose/issues/798,https://api.github.com/repos/kubernetes/kompose/issues/798,Up and convert commands are not equal in features,"For example, we are able to deploy --daemon-set using `convert`, but not with `up`.

We have *some* things such as `--build` which is consistent in `kompose up`, but other aspects such as controllers, etc do not function correctly.

We should have the SAME experience between `up` and `convert`.

It goes against UX/UI having inconsistencies between the commands. One should convert, one should bring those converted up.

List of parameters NOT in `up`:
- [ ] --daemon-set
- [ ] --deployment
- [ ] --chart (I don't think this should be applicable)
- [ ] --replication-controller
- [x] --build-branch
- [x] --build-repo
- [ ] --deployment-config
- [x] --insecure-repository

A couple of these parameters will be deprecated in favour of `--controller` however. ",closed,False,2017-08-25 19:41:02,2017-11-30 14:06:14
kompose,cdrage,https://github.com/kubernetes/kompose/pull/799,https://api.github.com/repos/kubernetes/kompose/issues/799,Add env_file + ConfigMaps feature to Kompose,"When using env_file with Docker Compose, a ConfigMap will be generated.

For example:

```sh
▶ ./kompose convert -f
script/test/fixtures/configmaps/docker-compose.yml
INFO Kubernetes file ""redis-service.yaml"" created
INFO Kubernetes file ""redis-deployment.yaml"" created
INFO Kubernetes file ""foo-env-configmap.yaml"" created
INFO Kubernetes file ""bar-env-configmap.yaml"" created
```

File:

```yaml
version: '3'

services:
  redis:
    image: 'bitnami/redis:latest'
    environment:
      - ALLOW_EMPTY_PASSWORD=no
    # Env file will override environment / warn!
    env_file:
      - ""foo.env""
      - bar.env
    labels:
      kompose.service.type: nodeport
    ports:
      - '6379:6379'
```

To:

```yaml
apiVersion: v1
data:
  ALLOW_EMPTY_PASSWORD: ""yes""
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: foo-env
```

```yaml
...
      - env:
        - name: ALLOW_EMPTY_PASSWORD
          valueFrom:
            configMapKeyRef:
              key: ALLOW_EMPTY_PASSWORD
              name: foo-env
```",closed,True,2017-08-25 19:52:52,2017-10-10 18:59:34
kompose,cdrage,https://github.com/kubernetes/kompose/pull/800,https://api.github.com/repos/kubernetes/kompose/issues/800,Fixes output of help template,"Fixes the issue of the help output not ouputting all commands due to the
wrong function being used within spf13/cobra.

Closes https://github.com/spf13/cobra/issues/512
Closes https://github.com/kubernetes/kompose/issues/744",closed,True,2017-08-28 15:26:40,2017-08-29 06:35:52
kompose,ashetty1,https://github.com/kubernetes/kompose/issues/801,https://api.github.com/repos/kubernetes/kompose/issues/801,Kompose replicas option not working with v3 deploy?,"It looks like the kompose replica option isn't working with v3 compose file including deploy label:

```
$ ./kompose version
1.0.0 (5f89e1a)

$ cat script/test/fixtures/v3/docker-compose-deploy-mode.yaml
version: ""3""

services:
  foo:
    deploy:
      mode: global
      replicas: 6
    image: redis

$ ./kompose up --provider=openshift --emptyvols --replicas 2 -f script/test/fixtures/v3/docker-compose-deploy-mode.yaml
WARN Global mode not yet supported, containers will only be replicated once throughout the cluster. DaemonSet support will be added in the future. 
INFO We are going to create OpenShift DeploymentConfigs, Services for your Dockerized application. 
If you need different kind of resources, use the 'kompose convert' and 'oc create -f' commands instead. 
 
INFO Deploying application in ""myproject"" namespace 
INFO Successfully created Service: foo            
INFO Successfully created DeploymentConfig: foo   
INFO Successfully created ImageStream: foo        

Your application has been deployed to OpenShift. You can run 'oc get dc,svc,is' for details.

$ oc get pods
NAME          READY     STATUS    RESTARTS   AGE
foo-1-jrqdc   1/1       Running   0          10m

```
",closed,False,2017-08-30 11:05:57,2017-08-30 14:16:25
kompose,ashetty1,https://github.com/kubernetes/kompose/pull/802,https://api.github.com/repos/kubernetes/kompose/issues/802,Adding OpenShift tests for deploy keys,,closed,True,2017-08-30 11:44:20,2017-08-30 14:00:30
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/803,https://api.github.com/repos/kubernetes/kompose/issues/803,`--deployment-config` flag is not necessary,"even when we don't provide `--deployment-config` flag, kompose creates deploymentconfig, so it doesn't make any sense to have this flag.",closed,False,2017-08-30 11:45:41,2018-05-14 16:20:24
kompose,cdrage,https://github.com/kubernetes/kompose/pull/804,https://api.github.com/repos/kubernetes/kompose/issues/804,1.1.0 Release,,closed,True,2017-08-30 15:39:01,2017-08-30 15:45:31
kompose,ashetty1,https://github.com/kubernetes/kompose/pull/805,https://api.github.com/repos/kubernetes/kompose/issues/805,Script for generating unit tests,Issue #770 ,closed,True,2017-09-01 06:56:27,2017-12-19 16:07:16
kompose,rahulkrishnanfs,https://github.com/kubernetes/kompose/issues/806,https://api.github.com/repos/kubernetes/kompose/issues/806,Packaging Kompose for debian ,Bug#874049: Acknowledgement (ITP: Kompose -- conversion tool for all things compose( namely Docker Compose) to container ochestrators (Kubernetes or Openshift)),open,False,2017-09-02 12:08:07,2018-01-04 18:24:02
kompose,ThHareau,https://github.com/kubernetes/kompose/issues/807,https://api.github.com/repos/kubernetes/kompose/issues/807,tmpfs with mode fails,"Hello, 

Trying to use kompose on [microservices-demo](https://github.com/microservices-demo/microservices-demo), I had to modify the generated files, because a mode is provided for the tmpfs. 
Here is a shortened version of it:

Using this compose file. 

```yml
version: ""2""

services:

  redis-master:
    image: gcr.io/google_containers/redis:e2e 
    ports:
      - ""6379""
    tmpfs:
      - /tmp:rw,noexec,nosuid
```

This file can be used correctly with docker compose. However, when running `kompose up`, the pod fails to be created: 
```
redis-master-1539052294-z8txm   0/1       rpc error: code = 2 desc = Error response from daemon: {""message"":""invalid bind mount spec \""/var/lib/kubelet/pods/c902b3c2-92d6-11e7-8f5f-0200ac100026/volumes/kubernetes.io~empty-dir/redis-master-tmpfs0:/tmp:rw,noexec,nosuid\"": invalid mode: rw,noexec,nosuid""}   0         47s

```

```bash 
kompose version
1.1.0 (36652f6)
```",closed,False,2017-09-06 08:07:40,2017-09-27 09:50:39
kompose,cdrage,https://github.com/kubernetes/kompose/pull/808,https://api.github.com/repos/kubernetes/kompose/issues/808,Remove redundant strings.ToLower(),"Removes the redundant strings.ToLower commands for GlobalProvider in
up.go, convert.go and down.go",closed,True,2017-09-06 17:42:28,2017-09-11 14:26:37
kompose,ylogx,https://github.com/kubernetes/kompose/issues/809,https://api.github.com/repos/kubernetes/kompose/issues/809,Cannot locate specified Dockerfile: Dockerfile,"When I run `kompose up`, I get the following error:
```
FATA Error while deploying application: k.Transform failed: Unable to build Docker image for service business-api: Unable to build image. For more output, use -v or --verbose when converting.: API error (500): {""message"":""Cannot locate specified Dockerfile: Dockerfile""}
```

My folder structure is: 
```
repo 
  package
    business-api
        Dockerfile
```

My docker-compose.yaml is:
```yaml
version: '2'

services:
  business-api:
    restart: always
    build: ./package/business_api
    image: index.docker.io/company/business-api
    volumes:
      - ./:/usr/src/app:ro
      - ./data:/root/data:ro
    depends_on:
      - some-other-service
```
",closed,False,2017-09-06 20:00:45,2018-02-13 14:23:28
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/810,https://api.github.com/repos/kubernetes/kompose/issues/810,Added `--controller` feature,"Previously we used to mention controller type as `--deployment`,
`--replication-controller` or `--daemonset` as argument.
But now,
it will be like,

ex.

```
kompose convert --controller=daemonset
```",closed,True,2017-09-07 05:49:45,2017-10-04 15:20:37
kompose,ashetty1,https://github.com/kubernetes/kompose/pull/811,https://api.github.com/repos/kubernetes/kompose/issues/811,emptvols -> volumes=yes,,closed,True,2017-09-11 13:11:20,2017-09-13 11:22:12
kompose,cdrage,https://github.com/kubernetes/kompose/pull/812,https://api.github.com/repos/kubernetes/kompose/issues/812,Update the styles.css for larger width,Changes to styles.css in order to increase the width.,closed,True,2017-09-11 18:08:54,2017-09-11 18:10:14
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/813,https://api.github.com/repos/kubernetes/kompose/issues/813,Added feature for `placement` key in v3,"it will map `engine.labels.operatingsystem` to `beta.kubernetes.io/os` and
`node.hostname` to `kubernetes.io/hostname` and all other constraints will not be supported.",closed,True,2017-09-12 07:21:13,2017-10-06 14:20:34
kompose,kadel,https://github.com/kubernetes/kompose/issues/814,https://api.github.com/repos/kubernetes/kompose/issues/814,`--volumes` is not validated ,"If you run `kompose convert --volumes foobar` PVC is created and no error is raised.

This should error out as an invalid value for `--volumes`. Currently, only possible values are `PersistentVolumeClaim` and `emptyDir`",closed,False,2017-09-13 11:02:49,2017-09-27 09:57:09
kompose,ashetty1,https://github.com/kubernetes/kompose/pull/815,https://api.github.com/repos/kubernetes/kompose/issues/815,Fix reference to emptyDir in OpenShift test scripts,,closed,True,2017-09-13 13:06:48,2017-09-26 19:27:14
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/816,https://api.github.com/repos/kubernetes/kompose/issues/816,Fixed tmpfs with mode failure,"Fixes #807
now kompose will ignore mode of tmpfs and will pass only mount path.",closed,True,2017-09-14 08:54:43,2017-09-26 19:24:36
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/817,https://api.github.com/repos/kubernetes/kompose/issues/817,Fixed `--volumes` validation,,closed,True,2017-09-14 11:28:58,2017-09-26 19:24:03
kompose,abitrolly,https://github.com/kubernetes/kompose/pull/818,https://api.github.com/repos/kubernetes/kompose/issues/818,Simplify copy/paste installation for Linux,,closed,True,2017-09-15 17:54:37,2017-09-17 06:35:10
kompose,ashetty1,https://github.com/kubernetes/kompose/pull/819,https://api.github.com/repos/kubernetes/kompose/issues/819,Adding documentation for tests,As part of issue #781 ,closed,True,2017-09-18 09:23:50,2017-10-26 18:00:59
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/820,https://api.github.com/repos/kubernetes/kompose/issues/820,Adding  --build-branch to `kompose up`,"In order to maintain symmetry between `kompose up` and `kompose convert`,
adding `--build-branch`",closed,True,2017-09-18 12:22:45,2017-09-29 12:52:54
kompose,cdrage,https://github.com/kubernetes/kompose/pull/821,https://api.github.com/repos/kubernetes/kompose/issues/821,1.2.0 Release,,closed,True,2017-09-18 18:38:38,2017-09-18 18:39:32
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/822,https://api.github.com/repos/kubernetes/kompose/issues/822,add support for `kompose update`,"inspired from `minikube`,
To update to latest version, we should have something like,

```
kompose update
```",closed,False,2017-09-22 05:57:05,2018-02-13 14:30:28
kompose,abitrolly,https://github.com/kubernetes/kompose/issues/823,https://api.github.com/repos/kubernetes/kompose/issues/823,Do not generate empty services,"If ports are not set `kompose` generates empty services. Example:
```
  cs-bitcoin-process:
    image: cybernode/cs-bitcoin-processor:release-0.5.3
    environment:
      CASSANDRA_CONNECTION: cs-elassandra
      KAFKA_CONNECTION: cs-kafka:9092
```
This generates:

    NAME                      CLUSTER-IP      EXTERNAL-IP      PORT(S)                       AGE
    svc/cs-bitcoin-process    None            <none>           55555/TCP                     8h
",closed,False,2017-09-26 05:43:55,2019-03-01 07:43:55
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/824,https://api.github.com/repos/kubernetes/kompose/issues/824,Added `--build-repo` in `kompose up`,"In order to maintain symmetry between kompose up and kompose convert,
adding `--build-repo`",closed,True,2017-09-26 11:06:03,2017-10-04 15:27:27
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/825,https://api.github.com/repos/kubernetes/kompose/issues/825,`go vet` is failing locally,"```
$ make test
go get github.com/mattn/goveralls
go get github.com/modocache/gover
go get github.com/Masterminds/glide
go get github.com/sgotti/glide-vc
go get github.com/golang/lint/golint
go get github.com/mitchellh/gox
./script/check-vendor.sh
Checking for nested vendor dirs
OK
Checking if vendor was cleaned using glide-vc.
OK
./script/check-gofmt.sh
gofmt OK
go vet ./pkg/... ./cmd/... .
pkg/loader/compose/compose_test.go:59: arg expected for printf verb %s of wrong type: github.com/kubernetes/kompose/pkg/kobject.HealthCheck
exit status 1
Makefile:75: recipe for target 'vet' failed
make: *** [vet] Error 1
```",closed,False,2017-09-26 11:12:18,2017-09-27 09:53:41
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/826,https://api.github.com/repos/kubernetes/kompose/issues/826,    Fixed `go vet` issue while doing `make test`," Fixes #825
",closed,True,2017-09-26 11:18:44,2017-09-26 11:24:25
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/827,https://api.github.com/repos/kubernetes/kompose/issues/827,Fixed `go vet`,Fixes #825 (since `go vet` was failing locally while doing `make test`),closed,True,2017-09-26 11:30:30,2017-09-26 19:18:02
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/828,https://api.github.com/repos/kubernetes/kompose/issues/828,Updated vendoring,"Updated vendoring for getting changes from docker/cli
for build key in v3
(since https://github.com/docker/cli/pull/481 is merged now)",closed,True,2017-09-26 13:25:20,2017-09-26 19:17:29
kompose,cdrage,https://github.com/kubernetes/kompose/pull/829,https://api.github.com/repos/kubernetes/kompose/issues/829,Update CSS,"Updates the site to Ubuntu font, increases the width, increases the font
size as well.",closed,True,2017-09-26 17:38:14,2017-09-26 19:16:31
kompose,cdrage,https://github.com/kubernetes/kompose/pull/830,https://api.github.com/repos/kubernetes/kompose/issues/830,Add Ubuntu font,,closed,True,2017-09-26 19:36:59,2017-09-26 19:37:13
kompose,cdrage,https://github.com/kubernetes/kompose/pull/831,https://api.github.com/repos/kubernetes/kompose/issues/831,Add highlighting for menus + add slack/releases/github links,"Adds highlighting depending on what page you are on, also adds links to
slack / releases / github",closed,True,2017-09-27 15:22:36,2017-09-27 15:25:13
kompose,surajssd,https://github.com/kubernetes/kompose/issues/832,https://api.github.com/repos/kubernetes/kompose/issues/832,kompose build fails to read the context correctly,"## Problem

kompose fails to find the `Dockerfile` even if the `dockerfile` is set under `build` and `context` is also set.

## How to reproduce?

Please see the following directory structure    

```console
$ tree
.
├── docker-compose.yml
├── example
│   └── db.json
├── glide.lock
├── glide.yaml
├── LICENSE
├── main.go
├── Makefile
├── output.json
├── parsego.go
├── README.md
├── scripts
│   ├── Dockerfile
│   ├── entrypoint.sh
│   └── k8s-release
├── spec.go
├── swagger.json
└── vendor
    ├── github.com
    │   ├── davecgh
...
```

I am trying to do a build with `Dockerfile` being in `scripts` directory. But my build context is root of the project. Essentially I am running a build command as following:

```console
docker build -t surajd/kedgeschema -f ./scripts/Dockerfile .
```

Above works fine.

To make it easier I have created `docker-compose` file which looks like following:

```yaml
$ cat docker-compose.yml 
version: ""2""
services:
  gen:
    build:
      context: .
      dockerfile: scripts/Dockerfile
    image: surajd/kedgeschema
```

docker-compose works on this:

```console
$ docker-compose up
Building gen
Step 1/11 : FROM golang:1.9.0 AS build-env
...
```

But kompose fails as 

```console
$ kompose up
INFO Build key detected. Attempting to build and push image 'surajd/kedgeschema' 
INFO Building image 'surajd/kedgeschema' from directory 'json-schema-generator' 
FATA Error while deploying application: k.Transform failed: Unable to build Docker image for service gen: Unable to build image. For more output, use -v or --verbose when converting.: API error (500): {""message"":""Cannot locate specified Dockerfile: Dockerfile""}
```

## Versions

```console
$ kompose version
1.2.0 (8efe274)
```

## Other info

The project I am trying that docker-compose file is https://github.com/kedgeproject/json-schema-generator",closed,False,2017-09-27 17:12:05,2017-12-14 06:35:40
kompose,u007,https://github.com/kubernetes/kompose/issues/833,https://api.github.com/repos/kubernetes/kompose/issues/833,[doc] more tutorial for gcloud?,"Hi,

it would be nice if there is a doc for kompose and kubectl with gcloud
this is my configuration, but i could not get external ip from gcloud container.
Any help on external ip?

```
gcloud auth login
gcloud auth application-default login
gcloud components install kubectl
```
setup google compute container on google cloud
click on connect to get instruction
```
...
kubectl proxy
kompose convert
kompose up
kompose replace ...yaml # to update
```

and never ever kompose down as it will delete off volumes

thank you
",closed,False,2017-09-28 08:20:25,2018-02-13 14:30:19
kompose,cdrage,https://github.com/kubernetes/kompose/pull/834,https://api.github.com/repos/kubernetes/kompose/issues/834,"Add Getting Started guide, adds Minishift tutorial","Updates the getting started guide as well as introduces an
""introduction"" page for Kompose.

Adds a Minishift guide as well as a general update to all documentation.",closed,True,2017-09-28 16:57:30,2017-10-06 14:07:59
kompose,cdrage,https://github.com/kubernetes/kompose/pull/835,https://api.github.com/repos/kubernetes/kompose/issues/835,Update vendoring for logrus and gojsonschema changes,"                                                                                                                                                                                                                                                                                  
Some vendoring is blocking other PR's due to changes to logrus (Sirupsen                                                                                                                                                                                                          
vs sirupsen for lower-case) as well as a non-versioned gojsonschema in                                                                                                                                                                                                            
glide.yaml                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                  
This updates glide.yaml to reflect the upper-case as well as lower-case                                                                                                                                                                                                           
versions of logrus as well as adds a versionized gojsonschema in order                                                                                                                                                                                                            
to get rid of the following error:                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                  
```sh                                                                                                                                                                                                                                                                             
▶ make bin                                                                                                                                                                                                                                                                        
go build -ldflags=""-w -X github.com/kubernetes/kompose/cmd.GITCOMMIT=0e56b7d"" -o kompose main.go                                                                                                                                                                                  
# github.com/kubernetes/kompose/vendor/github.com/docker/cli/cli/compose/schema                                                                                                                                                                                                   
vendor/github.com/docker/cli/cli/compose/schema/schema.go:34: cannot use portsFormatChecker literal (type portsFormatChecker) as type gojsonschema.FormatChecker in argument to gojsonschema.FormatCheckers.Add:                                                                  
        portsFormatChecker does not implement gojsonschema.FormatChecker (wrong type for IsFormat method)                                                                                                                                                                         
                have IsFormat(string) bool                                                                                                                                                                                                                                        
                want IsFormat(interface {}) bool                                                                                                                                                                                                                                  
vendor/github.com/docker/cli/cli/compose/schema/schema.go:35: cannot use portsFormatChecker literal (type portsFormatChecker) as type gojsonschema.FormatChecker in argument to gojsonschema.FormatCheckers.Add:                                                                  
        portsFormatChecker does not implement gojsonschema.FormatChecker (wrong type for IsFormat method)                                                                                                                                                                         
                have IsFormat(string) bool                                                                                                                                                                                                                                        
                want IsFormat(interface {}) bool                                                                                                                                                                                                                                  
vendor/github.com/docker/cli/cli/compose/schema/schema.go:36: cannot use durationFormatChecker literal (type durationFormatChecker) as type gojsonschema.FormatChecker in argument to gojsonschema.FormatCheckers.Add:                                                            
        durationFormatChecker does not implement gojsonschema.FormatChecker (wrong type for IsFormat method)                                                                                                                                                                      
                have IsFormat(string) bool                                                                                                                                                                                                                                        
                want IsFormat(interface {}) bool                                                                                                                                                                                                                                  
# github.com/kubernetes/kompose/vendor/github.com/docker/libcompose/config                                                                                                                                                                                                        
vendor/github.com/docker/libcompose/config/schema_helpers.go:60: cannot use environmentFormatChecker literal (type environmentFormatChecker) as type gojsonschema.FormatChecker in argument to gojsonschema.FormatCheckers.Add:                                                   
        environmentFormatChecker does not implement gojsonschema.FormatChecker (wrong type for IsFormat method)                                                                                                                                                                   
                have IsFormat(string) bool                                                                                                                                                                                                                                        
                want IsFormat(interface {}) bool                                                                                                                                                                                                                                  
vendor/github.com/docker/libcompose/config/schema_helpers.go:61: cannot use portsFormatChecker literal (type portsFormatChecker) as type gojsonschema.FormatChecker in argument to gojsonschema.FormatCheckers.Add:                                                               
        portsFormatChecker does not implement gojsonschema.FormatChecker (wrong type for IsFormat method)                                                                                                                                                                         
                have IsFormat(string) bool                                                                                                                                                                                                                                        
                want IsFormat(interface {}) bool                                                                                                                                                                                                                                  
vendor/github.com/docker/libcompose/config/schema_helpers.go:62: cannot use portsFormatChecker literal (type portsFormatChecker) as type gojsonschema.FormatChecker in argument to gojsonschema.FormatCheckers.Add:                                                               
        portsFormatChecker does not implement gojsonschema.FormatChecker (wrong type for IsFormat method)                                                                                                                                                                         
                have IsFormat(string) bool                                                                                                                                                                                                                                        
                want IsFormat(interface {}) bool                                                                                                                                                                                                                                  
^CMakefile:29: recipe for target 'bin' failed                                                                                                                                                                                                                                     
make: *** [bin] Interrupt                                                                                                                                                                                                                                                         
```  ",closed,True,2017-09-29 15:14:26,2017-10-06 14:20:08
kompose,piyush-garg,https://github.com/kubernetes/kompose/pull/836,https://api.github.com/repos/kubernetes/kompose/issues/836,Added Fabric8 Maven Plugin in Integration,"Changes for #732 

- added fabric8-maven-plugin kompose integration links and basic description",closed,True,2017-10-04 08:59:16,2017-10-10 19:57:24
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/837,https://api.github.com/repos/kubernetes/kompose/issues/837,Fixed kompose build failure,"While `local` build, kompose was not recognizing `dockerfile` key
Hence it was breaking the build as mentioned in issue #832.
This PR will fix the issue.",closed,True,2017-10-05 16:47:20,2017-12-11 14:33:33
kompose,denverdino,https://github.com/kubernetes/kompose/pull/838,https://api.github.com/repos/kubernetes/kompose/issues/838,Fix the cpu limits and requests in generated deployment file,"Signed-off-by: Li Yi <denverdino@gmail.com>

The source docker-compose.yml with CPU limits and reservations is as following.

```
version: '3'
services:
  mysql:
    image: mysql:5.7
    environment:
      - MYSQL_ROOT_PASSWORD=password
    deploy:
      resources:
        limits:
          cpus: ""1""
        reservations:
          cpus: ""0.5""
```

The generated deployment file with kompose 1.2 has incorrect format for CPU resource

```
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  annotations:
    kompose.cmd: kompose convert
    kompose.version: 1.2.0 (99f88ef)
  creationTimestamp: null
  labels:
    io.kompose.service: mysql
  name: mysql
spec:
  replicas: 1
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        io.kompose.service: mysql
    spec:
      containers:
      - env:
        - name: MYSQL_ROOT_PASSWORD
          value: password
        image: mysql:5.7
        name: mysql
        resources:
          limits:
            cpu: 1e3
          requests:
            cpu: ""500""
      restartPolicy: Always
status: {}
```

The proper format should be

```
...
        resources:
          limits:
            cpu: ""1""
          requests:
            cpu: 500m
```",closed,True,2017-10-09 09:19:18,2017-10-10 16:27:21
kompose,cdrage,https://github.com/kubernetes/kompose/pull/839,https://api.github.com/repos/kubernetes/kompose/issues/839,"Add ""getting started"" to the menu",Adds the getting started guide to the side-menu,closed,True,2017-10-10 13:01:43,2017-10-10 16:27:46
kompose,cdrage,https://github.com/kubernetes/kompose/pull/840,https://api.github.com/repos/kubernetes/kompose/issues/840,Update getting started guide docs,Updates the getting started docs to reflect the three different guides.,closed,True,2017-10-10 13:03:19,2017-10-10 16:27:53
kompose,cdrage,https://github.com/kubernetes/kompose/pull/841,https://api.github.com/repos/kubernetes/kompose/issues/841,Update version number in introduction.md,,closed,True,2017-10-10 19:02:28,2017-10-10 19:03:04
kompose,cdrage,https://github.com/kubernetes/kompose/issues/842,https://api.github.com/repos/kubernetes/kompose/issues/842,Update --help page for convert to be the same as up,"We have separate sections for Kubernetes and OpenShift flags when specifying `kompose convert --help`.

The same should be for `kompose up`.

Ex:
```
Usage:
  kompose convert [file] [flags]

Kubernetes Flags:
      --daemon-set               Generate a Kubernetes daemonset object
  -d, --deployment               Generate a Kubernetes deployment object
  -c, --chart                    Create a Helm chart for converted objects
      --replication-controller   Generate a Kubernetes replication controller object

OpenShift Flags:
      --build-branch             Specify repository branch to use for buildconfig (default is current branch name)
      --build-repo               Specify source repository for buildconfig (default is current branch's remote url
      --deployment-config        Generate an OpenShift deployment config object
      --insecure-repository      Specify to use insecure docker repository while generating Openshift image stream object

Flags:
      --build string        Set the type of build (""local""|""build-config""(OpenShift only)|""none"") (default ""none"")
      --controller string   Set the output controller (""deployment""|""daemonSet""|""replicationController"")
  -h, --help                help for convert
  -j, --json                Generate resource files into JSON format
  -o, --out string          Specify a file name to save objects to
      --replicas int        Specify the number of repliaces in the generate resource spec (default 1)
      --stdout              Print converted objects to stdout
      --volumes string      Volumes to be generated (""persistentVolumeClaim""|""emptyDir"") (default ""persistentVolumeClaim"")

Global Flags:
      --error-on-warning    Treat any warning as an error
  -f, --file stringArray    Specify an alternative compose file
      --provider string     Specify a provider. Kubernetes or OpenShift. (default ""kubernetes"")
      --suppress-warnings   Suppress all warnings
  -v, --verbose             verbose output
```",closed,False,2017-10-10 19:12:37,2017-10-26 05:49:11
kompose,cdrage,https://github.com/kubernetes/kompose/pull/843,https://api.github.com/repos/kubernetes/kompose/issues/843,1.3.0 Release,,closed,True,2017-10-10 19:24:49,2017-10-10 19:25:38
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/844,https://api.github.com/repos/kubernetes/kompose/issues/844,Link is broken for maven example,"`Quickstart` link in `kompose integation` section is broken (404)

@piyush1594 
",closed,False,2017-10-11 06:43:38,2017-10-11 16:05:23
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/845,https://api.github.com/repos/kubernetes/kompose/issues/845,Fix links in docs/README.md,"`setup` is 404 as there is `getting-started` file added.
@piyush1594 ",closed,False,2017-10-11 06:47:02,2017-10-12 14:28:46
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/846,https://api.github.com/repos/kubernetes/kompose/issues/846,Added support for build key in v3,"Resolves #636 

This PR will add support for `build` in docker compose v3, as docker/cli#481 got merged now.
also this will update `sirupsen`, `docker/cli`, `docker/libcompose` in `glide`,
Also changed `Sirupsen` with `sirupsen` in all kompose packages as well as in
`docker/distribution` packages",closed,True,2017-10-11 07:25:32,2017-11-30 14:44:35
kompose,piyush-garg,https://github.com/kubernetes/kompose/pull/847,https://api.github.com/repos/kubernetes/kompose/issues/847,Fix Redirecting Error,"This wil fix the redirecting issue to quickstart in integrations.md
and to kompose installation in maven-example.md
Fixes #844",closed,True,2017-10-11 15:27:59,2017-10-11 16:05:24
kompose,cdrage,https://github.com/kubernetes/kompose/pull/848,https://api.github.com/repos/kubernetes/kompose/issues/848,Redirects not working,"Due to not adding a trailing `/` redirects were not working.

For example, going to kompose.io/docs/user-guide.md will appear as
plaintext html, adding a trailing / creates an index.html in the
directory and correctly redirects the user.",closed,True,2017-10-11 18:19:38,2017-10-11 18:20:25
kompose,piyush-garg,https://github.com/kubernetes/kompose/pull/849,https://api.github.com/repos/kubernetes/kompose/issues/849,Fix Redirecting Error in README.md,"Setup and Quickstart file are giving 404 as they were renamed
to installation and getting-started repectively.
Renamed the same in README.md to fix redirecting.
Fixes #845",closed,True,2017-10-12 08:46:02,2017-10-12 14:28:46
kompose,dkarlovi,https://github.com/kubernetes/kompose/issues/850,https://api.github.com/repos/kubernetes/kompose/issues/850,"Add support for ""scratch space"" volumes","When running a worker-type container, you'd want it to have some temporary workspace where it can leave temp files, etc, so called ""scratch space"".

With `compose` and local environments, this would simply be another volume:

```yaml
# docker-compose.yaml
version: 2
services:
  worker:
    volumes:
      - tmp:/tmp
volumes:
  tmp: ~
```

But this would become a full blown PVC on production which is not something you want. Better alternative would be to label the volume (say, `kompose.volume.scratch = true` or something) and transform to an [`emptyDir`](https://kubernetes.io/docs/concepts/storage/volumes/#emptydir) volume:

```yaml
# dc.yaml
apiVersion: v1
kind: DeploymentConfig
spec:
    template:
        spec:
            containers:
                -
                    volumeMounts:
                      - mountPath: /tmp
                        name: tmp-scratch
            volumes:
              - emptyDir: {}
                name: tmp-scratch
```",closed,False,2017-10-13 08:03:00,2018-12-29 21:08:26
kompose,gdhgdhgdh,https://github.com/kubernetes/kompose/issues/851,https://api.github.com/repos/kubernetes/kompose/issues/851,Not creation of `-service.yaml` when `restart` is present,"Hi, using `1.3.0` of `kompose` and this trivial `docker-compose.yaml`:

```
frontend:
  image: registry:5000/frontend:1.0.0
  ports:
    - ""12681:80""
    - ""12683:443""
  environment:
    API_URL: ""http://10.179.49.0:12603""
  restart: 'no'

redis:
  image: registry:5000/redis:3.0.7
  ports:
    - ""12679:6379""
```

```
[root@node1 k]# kompose convert
INFO Kubernetes file ""redis-service.yaml"" created 
INFO Kubernetes file ""frontend-pod.yaml"" created  
INFO Kubernetes file ""redis-deployment.yaml"" created 
```

There's no service for the frontend, which I thought was a bit odd. When I remove the `restart` line completely, I get a different set of files:

```
[root@node1 k]# kompose convert
INFO Kubernetes file ""frontend-service.yaml"" created 
INFO Kubernetes file ""redis-service.yaml"" created 
INFO Kubernetes file ""frontend-deployment.yaml"" created 
INFO Kubernetes file ""redis-deployment.yaml"" created 
```

Yes, two services and two deployments is what I'd expect. Is this a bug?

",closed,False,2017-10-13 12:00:04,2018-08-03 11:22:28
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/852,https://api.github.com/repos/kubernetes/kompose/issues/852,Updated `--help` page for `kompose up`,"This PR will add customhelp section in `kompose up --help` section,
which will show consistency in help section.
Issue reference: #842

for example,

```
$ kompose up --help
Deploy your Dockerized application to a container orchestrator. (default ""kubernetes"")

Usage:
  kompose up [flags]

OpenShift Flags:
      --build-branch             Specify repository branch to use for buildconfig (default is current branch name)
      --build-repo               Specify source repository for buildconfig (default is current branch's remote url
      --insecure-repository      Specify to use insecure docker repository while generating Openshift image stream object

Flags:
      --build string       Set the type of build (""local""|""build-config"" (OpenShift only)|""none"") (default ""local"")
  -h, --help               help for up
      --namespace string   Specify Namespace to deploy your application (default ""default"")
      --replicas int       Specify the number of replicas generated (default 1)
      --volumes string     Volumes to be generated (""persistentVolumeClaim""|""emptyDir"") (default ""persistentVolumeClaim"")

Global Flags:
      --error-on-warning    Treat any warning as an error
  -f, --file stringArray    Specify an alternative compose file
      --provider string     Specify a provider. Kubernetes or OpenShift. (default ""kubernetes"")
      --suppress-warnings   Suppress all warnings
  -v, --verbose             verbose output
```",closed,True,2017-10-13 12:36:38,2017-10-25 17:48:22
kompose,grebois,https://github.com/kubernetes/kompose/issues/853,https://api.github.com/repos/kubernetes/kompose/issues/853,panic: runtime error: invalid memory address or nil pointer dereference,"With a ver 2 file works but with the same file in ver 3 I get;

```
$ kompose convert -f docker-compose.am-int.yml 
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x2219a7b]

goroutine 1 [running]:
github.com/kubernetes/kompose/pkg/loader/compose.dockerComposeToKomposeMapping(0xc42016b700, 0x27, 0xc420044220, 0x1, 0x1, 0xc4201b76b0)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/v3.go:321 +0x40b
github.com/kubernetes/kompose/pkg/loader/compose.parseV3(0xc42055d3a0, 0x1, 0x1, 0x1, 0x1, 0x0, 0x30, 0x27dbd20)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/v3.go:113 +0x22b
github.com/kubernetes/kompose/pkg/loader/compose.(*Compose).LoadFile(0x3700a00, 0xc42055d3a0, 0x1, 0x1, 0xc4201b6f60, 0x0, 0x0, 0x17, 0x15)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/compose.go:165 +0x4d2
github.com/kubernetes/kompose/pkg/app.Convert(0x100000100, 0x0, 0x0, 0x0, 0x0, 0x289b588, 0x4, 0x0, 0x28af58b, 0x15, ...)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/pkg/app/app.go:227 +0x145
github.com/kubernetes/kompose/cmd.glob..func3(0x36ce680, 0xc420311c20, 0x0, 0x2)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/cmd/convert.go:95 +0x4d
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).execute(0x36ce680, 0xc420311be0, 0x2, 0x2, 0x36ce680, 0xc420311be0)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:704 +0x2c6
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x36ceb00, 0x36cef80, 0x2493b60, 0x36cec50)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:785 +0x30e
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).Execute(0x36ceb00, 0x0, 0xc42057ff48)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:738 +0x2b
github.com/kubernetes/kompose/cmd.Execute()
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/cmd/root.go:92 +0x31
main.main()
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/main.go:22 +0x20
```",closed,False,2017-10-18 08:57:54,2018-03-31 04:55:10
kompose,kadel,https://github.com/kubernetes/kompose/issues/854,https://api.github.com/repos/kubernetes/kompose/issues/854,old Kompose version in Fedora 26,Fedora 26 still has only Kompose 1.0.0 but currently the latest released version is 1.3.0 :-(,closed,False,2017-10-20 09:32:03,2018-02-23 15:32:24
kompose,johnament,https://github.com/kubernetes/kompose/issues/855,https://api.github.com/repos/kubernetes/kompose/issues/855,Local volumes (from host) via conversion,"I'm trying to get my feet wet with Kubernetes.  Since we already had a lot of investment in docker-compose I figured I'd try kompose to convert my docker-compose.yml into kubernetes service definitions.

When I do the conversion, I get this warning:

```
WARN Volume mount on the host ""/Users/spartan/src/my-app/docker/custom-scripts"" isn't supported - ignoring path on the host
```

My volume looks like this in docker-compose

```
    volumes:
      - ""../docker/custom-scripts:/custom""
```

Is there another format I should use?",closed,False,2017-10-20 17:05:36,2018-11-19 14:47:57
kompose,u007,https://github.com/kubernetes/kompose/issues/856,https://api.github.com/repos/kubernetes/kompose/issues/856,insufficient cpu,"kompose 1.3.0 ()
Google Cloud SDK 176.0.0
alpha 2017.09.15
bq 2.0.27
core 2017.10.13
gsutil 4.27

hi,

i have this docker-compose file which works fine on docker with gloud gce.
but when deployed using kompose,
i keep getting ""insufficient cpu"" on either or both redis and nginx pods

even resizing cluster count to 2, it keep giving the same error.
does it take into consideration of resources?
```
version: ""3""
services:

  redis:
    image: 'redis:latest'
    ports:
      - '6379:6379'
    networks:
      - backend
    volumes:
      - data:/data
    logging:
      driver: ""json-file""
      options:
        max-size: ""500k""
        max-file: ""50""
    deploy:
      resources:
        limits:
          cpus: '0.1'
          memory: 100M
        reservations:
          cpus: '0.0001'
          memory: 50M
    restart: ""on-failure""

  pdf2htmlex:
    image: 'ukwa/pdf2htmlex:latest'
    ports:
      - '5000:5000'
    networks:
      - backend
    logging:
      driver: ""json-file""
      options:
        max-size: ""500k""
        max-file: ""50""
    deploy:
      resources:
        limits:
          cpus: '0.1'
          memory: 200M
        reservations:
          cpus: '0.0001'
          memory: 50M
  arxiv:
    image: 'nurtureai/arxivscraper'
    command: 'server'
    ports:
      - '5005:5005'
    networks:
      - backend
    logging:
      driver: ""json-file""
      options:
        max-size: ""500k""
        max-file: ""50""
    deploy:
      resources:
        limits:
          cpus: '0.1'
          memory: 200M
        reservations:
          cpus: '0.0001'
          memory: 50M
  nginx:
    environment:
      - ""ENVNAME=staging""
      - ""APPHost=staging_web""
    image: 'nurtureai/nginx-ssl'
    networks:
      - backend
    ports:
      - '80:80'
      - '443:443'
    volumes:
      - /root/web:/home/app/web
    logging:
      driver: ""json-file""
      options:
        max-size: ""500k""
        max-file: ""50""
    deploy:
      resources:
        limits:
          cpus: '0.2'
          memory: 200M
        reservations:
          cpus: '0.0001'
          memory: 50M

networks:
  frontend:
  backend:

volumes:
  db-data:
  web:
  data:
```",closed,False,2017-10-21 01:19:09,2018-03-06 13:42:13
kompose,hrishin,https://github.com/kubernetes/kompose/issues/857,https://api.github.com/repos/kubernetes/kompose/issues/857,update integration doc,"Add documentation for
- [ ] Dev. suit installer

Rearrange integration doc
- [ ] Bring f8-m-p integration on the top in the list
- [ ] Dev. suit installer integration second",closed,False,2017-10-23 08:16:53,2018-06-04 18:04:35
kompose,cdrage,https://github.com/kubernetes/kompose/pull/858,https://api.github.com/repos/kubernetes/kompose/issues/858,1.4.0 Release,,closed,True,2017-10-31 20:47:52,2017-10-31 20:48:13
kompose,xianlubird,https://github.com/kubernetes/kompose/issues/859,https://api.github.com/repos/kubernetes/kompose/issues/859,Docker compose links section can't support,"  About compose  introduce links https://docs.docker.com/compose/compose-file/compose-file-v2/#links .
  I have a compose like this:
```
web:
  image: registry.aliyuncs.com/acs-sample/wordpress:4.5
  ports:
    - '80'
  environment:
    WORDPRESS_AUTH_KEY: changeme
    WORDPRESS_SECURE_AUTH_KEY: changeme
    WORDPRESS_LOGGED_IN_KEY: changeme
    WORDPRESS_NONCE_KEY: changeme
    WORDPRESS_AUTH_SALT: changeme
    WORDPRESS_SECURE_AUTH_SALT: changeme
    WORDPRESS_LOGGED_IN_SALT: changeme
    WORDPRESS_NONCE_SALT: changeme
    WORDPRESS_NONCE_AA: changeme
  restart: always
  links:
    - 'db:mysql'
db:
  image: registry.aliyuncs.com/acs-sample/mysql:5.7
  environment:
    MYSQL_ROOT_PASSWORD: password
  restart: always
  labels:
    aliyun.logs: /var/log/mysql
```
  kompose will convert db service to db deployment, but the wordpress deplotment will connect db by `mysql` hostname.   So wordpress pods will call that and it can't connect the db database.  Because the `links` can't convert to k8s yaml.

  I have two kinds suggestions:
1.  kompose convert db service to mysql service, just rename deployment name for links, and the new service name is mysql, the wordpress can connect mysql by service name corrently.
2. print warning or error message if compose has links section which alias name is different from service name.

   Can anyone give me some suggestion, and I will create a PR to fix this, Thanks.",closed,False,2017-11-06 09:40:26,2018-05-09 14:03:36
kompose,cdrage,https://github.com/kubernetes/kompose/pull/860,https://api.github.com/repos/kubernetes/kompose/issues/860,Update CSS,Updates the CSS for Kompose site,closed,True,2017-11-06 15:50:19,2017-11-06 15:52:00
kompose,cdrage,https://github.com/kubernetes/kompose/pull/861,https://api.github.com/repos/kubernetes/kompose/issues/861,"Add TOC to documentation, add readme.md notice","Adds TOC to architecture.md, getting-started.md, integrations.md and
user-guide.md

Updates README.md to add a notice that the files are best viewed on the
website.",closed,True,2017-11-06 15:55:54,2017-11-06 18:35:43
kompose,xianlubird,https://github.com/kubernetes/kompose/pull/862,https://api.github.com/repos/kubernetes/kompose/issues/862,Ignore links attribute and print warning message,"Related to issue    #859 


Signed-off-by: xianlubird@gmail.com",closed,True,2017-11-07 03:10:08,2018-04-27 07:15:44
kompose,xianlubird,https://github.com/kubernetes/kompose/pull/863,https://api.github.com/repos/kubernetes/kompose/issues/863,Fix typo,Signed-off-by: xianlu <xianlubird@gmail.com>,closed,True,2017-11-07 09:40:56,2018-05-03 07:56:42
kompose,cdrage,https://github.com/kubernetes/kompose/pull/864,https://api.github.com/repos/kubernetes/kompose/issues/864,Move version information to separate file,"Moves the version information to a seperate file. This is mostly due to
import cycle errors occuring when using ""import
github.com/kubernetes/kompose/cmd"" in order to get the global variable
of VERSION and GITCOMMIT.

Update's the Makefile and other files accordingly.

If the version and commmit is unretriveable due to not being able to
find the kompose binary, the one from pkg/version/version.go will be
used.",closed,True,2017-11-07 20:32:58,2017-11-21 12:40:56
kompose,abitrolly,https://github.com/kubernetes/kompose/issues/865,https://api.github.com/repos/kubernetes/kompose/issues/865,volumes long-syntax doesn't work,"[Conversion matrix](http://kompose.io/conversion/) specifies that `volumes: long-syntax` works, but it doesn't, because it requires at least `version: '3.2`` in the header to be loaded. For example, this fails to validate with `docker-compose`:

```
version: '3'
services:
  cs-btcd:
    image: cybernode/bitcoin-btcd:temp
    volumes:
      - type: volume
        source: /cyberdata
```
```
✗ docker-compose config 
ERROR: The Compose file './docker-compose.yml' is invalid because:
services.cs-btcd.volumes contains an invalid type, it should be a string
```
The same error is reported by `kompose`:
```
✗ kompose convert
FATA services.cs-btcd.volumes.0 must be a string  
```

Changing version to `3.2` makes `docker-compose config` pass, but `kompose` still fails there:
```
✗ kompose convert       
FATA Version 3.2 of Docker Compose is not supported. Please use version 1, 2 or 3 
```
",closed,False,2017-11-08 03:04:52,2018-03-22 14:02:33
kompose,abitrolly,https://github.com/kubernetes/kompose/pull/866,https://api.github.com/repos/kubernetes/kompose/issues/866,architecture.md  Link sources,,closed,True,2017-11-08 11:01:07,2017-11-08 15:08:16
kompose,abitrolly,https://github.com/kubernetes/kompose/pull/867,https://api.github.com/repos/kubernetes/kompose/issues/867, Set PVC volume size with kompose.volume.size,"#235 

Example:
```
version: '3'
services:
  cs-btcd:
    image: cybernode/bitcoin-btcd:temp
    labels:
      kompose.volume.size: 500Mi
    volumes:
      - /cyberdata:/cyberdata
```",closed,True,2017-11-08 13:30:32,2017-11-15 14:41:14
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/868,https://api.github.com/repos/kubernetes/kompose/issues/868,Adding `--controller` flag in `up` & `down`,"To make `kompose up` & `kompose convert` equal in feature, This PR will
add `--controller` flag for `kompose up` as well as `kompose down`
so that user experience will be the same for `up` & `convert`
Resolves #798",closed,True,2017-11-14 05:27:19,2017-11-30 14:06:14
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/869,https://api.github.com/repos/kubernetes/kompose/issues/869,Updated conversion matrix,,closed,True,2017-11-14 05:46:54,2017-11-14 13:05:12
kompose,surajnarwade,https://github.com/kubernetes/kompose/issues/870,https://api.github.com/repos/kubernetes/kompose/issues/870,kompose should read input from stdin,"kompose should take standard input as well,

for example,

```
echo docker-compose.yml | kompose convert -f -
```
",closed,False,2017-11-14 10:06:39,2018-04-13 11:25:57
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/871,https://api.github.com/repos/kubernetes/kompose/issues/871,Kompose will read input from stdin,"Resolves issue #870

for example,

```
$ cat docker-compose.yaml | kompose convert -f -
INFO Kubernetes file ""frontend-service.yaml"" created
INFO Kubernetes file ""redis-master-service.yaml"" created
INFO Kubernetes file ""redis-slave-service.yaml"" created
INFO Kubernetes file ""frontend-deployment.yaml"" created
INFO Kubernetes file ""redis-master-deployment.yaml"" created
INFO Kubernetes file ""redis-slave-deployment.yaml"" created
```",closed,True,2017-11-14 10:36:10,2018-06-06 15:04:48
kompose,cdrage,https://github.com/kubernetes/kompose/issues/872,https://api.github.com/repos/kubernetes/kompose/issues/872,Add test cases / documentation for setting PVC volume size,"Tracker for https://github.com/kubernetes/kompose/pull/867

We need to:

- [ ] Add documentation for the new label
- [ ] Add tests",closed,False,2017-11-15 14:41:53,2018-02-23 15:29:58
kompose,kadel,https://github.com/kubernetes/kompose/issues/873,https://api.github.com/repos/kubernetes/kompose/issues/873,conversion metrix doc is outdated,"Conversion metrics says that `env_file` is not supported in Kompose.

But according to https://github.com/kubernetes/kompose/issues/308 it is.",closed,False,2017-11-21 13:13:03,2017-11-22 17:02:28
kompose,cdrage,https://github.com/kubernetes/kompose/pull/874,https://api.github.com/repos/kubernetes/kompose/issues/874,1.5.0 Release,,closed,True,2017-11-21 16:22:26,2017-11-21 16:22:57
kompose,cdrage,https://github.com/kubernetes/kompose/pull/875,https://api.github.com/repos/kubernetes/kompose/issues/875,Update conversion doc for env_file,"Updates the conversion doc to indicate that we support env_file

Closes https://github.com/kubernetes/kompose/issues/873",closed,True,2017-11-22 17:02:18,2017-11-22 17:02:28
kompose,Arnold1,https://github.com/kubernetes/kompose/issues/876,https://api.github.com/repos/kubernetes/kompose/issues/876,Error transforming Kubernetes objects,"Hi,

i run into some issues with kompose when i run the following command. do you know what is wrong and how to resolve it?
```
kompose convert -f docker-compose.yml
WARN Unsupported links key - ignoring             
WARN Volume mount on the host ""./alertmanager/alertmanager.yml"" isn't supported - ignoring path on the host 
FATA Error transforming Kubernetes objects: k.UpdateController failed: updateTemplate failed: Unknown restart policy unless-stopped for servicealertmanager
```

docker-compose.yml:
```
version: ""2""

services:

  prometheus-server:
    image: prom/prometheus
    ports:
      - 9090:9090
    volumes:
      - ./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml
      - ./prometheus/alert.yml:/etc/prometheus/alert.yml
    links:
      - ""alertmanager:alertmanager""

  alertmanager:
    image: prom/alertmanager
    restart: unless-stopped
    ports:
      - 9093:9093
    volumes:
      - ./alertmanager/alertmanager.yml:/etc/alertmanager/config.yml
    command:
      - '-config.file=/etc/alertmanager/config.yml'
      - '-storage.path=/alertmanager'
      - '-log.level=debug'

  grafana:
    image: grafana/grafana
    ports:
      - 3000:3000
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=password
    links:
      - prometheus-server:prometheus

  go-mux-example:
    image: mux:v1
    ports:
      - 8080:8080
```",closed,False,2017-11-27 15:45:23,2018-10-23 15:29:57
kompose,cdrage,https://github.com/kubernetes/kompose/issues/877,https://api.github.com/repos/kubernetes/kompose/issues/877,Refactor tests (integration),"Let's refactor our testing suite to use a go file / more integrated file rather than using bash / command-line.

See: #868  for reference as well as #871 

TODO:

 - Change to `e2e_test.go`
 - Check if ports are up against Kubernetes, etc.
 - Fix failing OpenShift tests",closed,False,2017-11-28 15:16:23,2018-11-01 19:25:17
kompose,cdrage,https://github.com/kubernetes/kompose/pull/878,https://api.github.com/repos/kubernetes/kompose/issues/878,n -> ✓ for build v3 support,"✓ for build v3 support since we merged in
https://github.com/kubernetes/kompose/pull/846/",closed,True,2017-11-30 14:10:43,2017-11-30 15:05:01
kompose,cdrage,https://github.com/kubernetes/kompose/issues/879,https://api.github.com/repos/kubernetes/kompose/issues/879,"Add development.md to site, refactor with `make vendor-update`","Since we ran into logrus issues, we've added `make vendor-update`. 

Two things:

 - Need to update `development.md` documentation to indicate that we use `make vendor-update` now.
 - Add `development.md` to the side-bar on the site",closed,False,2017-11-30 15:19:37,2018-06-04 18:03:45
kompose,cdrage,https://github.com/kubernetes/kompose/pull/880,https://api.github.com/repos/kubernetes/kompose/issues/880,Update vendoring / fix Windows builds,"Something within golang.org/x/sys messed up and it doesn't help that we
have three different projects using different versions.

This vendor update specifies a golang.org/x/sys as well as fixes the
previous compiling issues with Windows/Linux/macOS builds.

See issue: 

```sh
gox -osarch=""darwin/amd64 linux/amd64 linux/arm windows/amd64""
-output=""bin/kompose-{{.OS}}-{{.Arch}}"" -ldflags=""-w -X
github.com/kubernetes/kompose/pkg/version.GITCOMMIT=42e7f0e""
Number of parallel builds: 1
-->   windows/amd64: github.com/kubernetes/kompose
-->     linux/amd64: github.com/kubernetes/kompose
-->    darwin/amd64: github.com/kubernetes/kompose
-->       linux/arm: github.com/kubernetes/kompose
1 errors occurred:
--> windows/amd64 error: exit status 2
Stderr: #
github.com/kubernetes/kompose/vendor/golang.org/x/crypto/ssh/terminal
vendor/golang.org/x/crypto/ssh/terminal/util_windows.go:42: undefined:
windows.ENABLE_ECHO_INPUT
vendor/golang.org/x/crypto/ssh/terminal/util_windows.go:42: undefined:
windows.ENABLE_PROCESSED_INPUT
vendor/golang.org/x/crypto/ssh/terminal/util_windows.go:42: undefined:
windows.ENABLE_LINE_INPUT
vendor/golang.org/x/crypto/ssh/terminal/util_windows.go:42: undefined:
windows.ENABLE_PROCESSED_OUTPUT
vendor/golang.org/x/crypto/ssh/terminal/util_windows.go:43: undefined:
windows.SetConsoleMode
vendor/golang.org/x/crypto/ssh/terminal/util_windows.go:62: undefined:
windows.SetConsoleMode
vendor/golang.org/x/crypto/ssh/terminal/util_windows.go:67: undefined:
windows.ConsoleScreenBufferInfo
vendor/golang.org/x/crypto/ssh/terminal/util_windows.go:68: undefined:
windows.GetConsoleScreenBufferInfo
vendor/golang.org/x/crypto/ssh/terminal/util_windows.go:91: undefined:
windows.ENABLE_ECHO_INPUT
vendor/golang.org/x/crypto/ssh/terminal/util_windows.go:92: undefined:
windows.ENABLE_PROCESSED_INPUT
vendor/golang.org/x/crypto/ssh/terminal/util_windows.go:92: too many
errors
```",closed,True,2017-11-30 15:26:17,2017-12-01 05:42:43
kompose,cdrage,https://github.com/kubernetes/kompose/pull/881,https://api.github.com/repos/kubernetes/kompose/issues/881,Fix makefile,Fixes the makefile and uses sirupsen instead of sirupen.,closed,True,2017-11-30 20:22:28,2017-11-30 20:22:42
kompose,cdrage,https://github.com/kubernetes/kompose/pull/882,https://api.github.com/repos/kubernetes/kompose/issues/882,Test cross-compiling within travis,"Tests cross compiling by building on 1.6 of Go for Windows / Linux /
macOS",closed,True,2017-11-30 21:03:42,2017-11-30 23:54:17
kompose,rkachowski,https://github.com/kubernetes/kompose/issues/883,https://api.github.com/repos/kubernetes/kompose/issues/883,Kompose down doesn't remove configmaps,"When running `kompose up`, many resources are created including services, pods, deployments and configmaps. When running `kompose down`, created configmaps aren't removed. This results in a fatal error when `kompose up` is run subsequently.

## Expected
`kompose down` brings down all traces of the application in the cluster. `kompose up` and `down` can be run after each other

## Actual
Process dies before all resources can be created. `kompose up` emits `FATA Error while deploying application: configmaps ""<app>"" already exists` 

## logs
```
$ kompose up
INFO We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead.

INFO Deploying application in ""default"" namespace
INFO Successfully created Service: app
INFO Successfully created Service: nginx
INFO Successfully created Service: postgres
INFO Successfully created Service: redis
INFO Successfully created Deployment: app
INFO Successfully created Config Map: app-app-env
INFO Successfully created Deployment: nginx
INFO Successfully created PersistentVolumeClaim: nginx-claim0 of size 100Mi. If your cluster has dynamic storage provisioning, you don't have to do anything. Otherwise you have to create PersistentVolume to make PVC work
INFO Successfully created Deployment: postgres
INFO Successfully created Config Map: postgres-app-env
INFO Successfully created PersistentVolumeClaim: postgres of size 100Mi. If your cluster has dynamic storage provisioning, you don't have to do anything. Otherwise you have to create PersistentVolume to make PVC work
INFO Successfully created Deployment: redis

Your application has been deployed to Kubernetes. You can run 'kubectl get deployment,svc,pods,pvc' for details.

$ kompose down
INFO Deleting application in ""default"" namespace
INFO Successfully deleted Service: app
INFO Successfully deleted Service: nginx
INFO Successfully deleted Service: postgres
INFO Successfully deleted Service: redis
INFO Successfully deleted Deployment: app
INFO Successfully deleted Deployment: nginx
INFO Successfully deleted PersistentVolumeClaim: nginx-claim0
INFO Successfully deleted Deployment: postgres
INFO Successfully deleted PersistentVolumeClaim: postgres
INFO Successfully deleted Deployment: redis

$ kompose up
INFO We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. If you need different kind of resources, use the 'kompose convert' and 'kubectl create -f' commands instead.

INFO Deploying application in ""default"" namespace
INFO Successfully created Service: app
INFO Successfully created Service: nginx
INFO Successfully created Service: postgres
INFO Successfully created Service: redis
INFO Successfully created Deployment: app
FATA Error while deploying application: configmaps ""app-app-env"" already exists
```",closed,False,2017-12-01 15:37:26,2018-01-09 19:35:33
kompose,cdrage,https://github.com/kubernetes/kompose/issues/884,https://api.github.com/repos/kubernetes/kompose/issues/884,[EPIC] Improvements to volumes,"Volumes is probably the number one problem when converting from Docker Compose to Kubernetes and thus we should add a solution for the conversion.

Suggestions: https://kubernetes.io/docs/concepts/api-extension/custom-resources/

Close / resolve these issues:

- [x] Error transforming objects https://github.com/kubernetes/kompose/issues/876
- [x] Add test cases / documentation for volume label https://github.com/kubernetes/kompose/issues/872
- [x] Fix volume long syntax https://github.com/kubernetes/kompose/issues/865
- [ ] Local volume from host conversion https://github.com/kubernetes/kompose/issues/855
- [ ] Supporting top-level volumes https://github.com/kubernetes/kompose/issues/447
- [x] Supporting host path volumes https://github.com/kubernetes/kompose/issues/109
- [ ] Supporting per-volume option https://github.com/kubernetes/kompose/issues/850

As well as:

- [ ] Improve errors and offer solutions rather than erroring
- [ ] Explain WHY it doesn't **clearly** within documentation as well as CLI",closed,False,2017-12-01 20:31:07,2018-08-30 17:02:52
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/885,https://api.github.com/repos/kubernetes/kompose/issues/885,Fixed conversion matrix,Updated conversion matrix as cpus under deploy.resources in docker compose v3 are supported now,closed,True,2017-12-04 07:44:02,2017-12-05 20:02:10
kompose,jmatsushita,https://github.com/kubernetes/kompose/issues/886,https://api.github.com/repos/kubernetes/kompose/issues/886,Output option with convert -c fails.,"Hi there,

When using `kompose convert -c` with the `-o` option, the charts are created in the desired folder but the last step fails:
```
> kompose convert -c -o chart
kompose convert -c -o chart
INFO Kubernetes file ""chart/service-service.yaml"" created
INFO Kubernetes file ""chart/service-deployment.yaml"" created
WARN open docker-compose/templates/chart/service-service.yaml: no such file or directory
WARN open docker-compose/templates/chart/service-deployment.yaml: no such file or directory
INFO chart created in ""./docker-compose/""
```

The resulting `docker-compose` folder lacks the template files:
```
> tree docker-compose
docker-compose
├── Chart.yaml
├── README.md
└── templates
```

It would be nice to be able to choose the name of the outputting directory rather than it being hardcoded to `docker-compose`.

Cheers,

Jun
",closed,False,2017-12-04 15:04:20,2018-02-27 15:07:40
kompose,cdrage,https://github.com/kubernetes/kompose/issues/887,https://api.github.com/repos/kubernetes/kompose/issues/887,Add FAQ,"Add some form of FAQ to Kompose.

TODO:
 - [ ] Why can't I access my service?",closed,False,2017-12-05 19:48:31,2018-03-06 13:39:47
kompose,cdrage,https://github.com/kubernetes/kompose/pull/888,https://api.github.com/repos/kubernetes/kompose/issues/888,"Change font to black, not lightish gray","Changes the font so it's darker, rather than the lightish grey it is.",closed,True,2017-12-05 19:57:46,2017-12-05 19:58:05
kompose,prein,https://github.com/kubernetes/kompose/issues/889,https://api.github.com/repos/kubernetes/kompose/issues/889,Bintray links broken in the README,Tiny (and perhaps boring) issue but all Bintray links in the README are not working and I couldn't figure out what would be the correct path.,closed,False,2017-12-06 14:29:12,2017-12-19 13:30:50
kompose,jmatsushita,https://github.com/kubernetes/kompose/issues/890,https://api.github.com/repos/kubernetes/kompose/issues/890,Doesn't run on alpine?,"Hi there,

It seems that the `1.5.0` binary doesn't run on alpine. Maybe I'm missing something? Here's a one liner test with docker:

```
docker run --rm --entrypoint sh alpine -c ""apk update && apk add curl && curl -L https://github.com/kubernetes/kompose/releases/download/v1.5.0/kompose-linux-amd64 -o kompose && chmod +x kompose && ./kompose --help""
```

In contrast this runs fine in `debian`:
```
docker run --rm --entrypoint sh debian -c ""apt-get update && apt-get install -y curl && curl -L https://github.com/kubernetes/kompose/releases/download/v1.5.0/kompose-linux-amd64 -o kompose && chmod +x kompose && ./kompose --help""
```

Here's the full log of the first command:
```
> docker run --rm -it --entrypoint sh alpine -c ""apk update && apk add curl && curl -L https://github.com/kubernetes/kompose/releases/download/v1.5.0/kompose-linux-amd64 -o kompose && chmod +x kompose && ./kompose --version""
fetch http://dl-cdn.alpinelinux.org/alpine/v3.7/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.7/community/x86_64/APKINDEX.tar.gz
v3.7.0-8-g7f9d974993 [http://dl-cdn.alpinelinux.org/alpine/v3.7/main]
v3.7.0-10-g867acb9878 [http://dl-cdn.alpinelinux.org/alpine/v3.7/community]
OK: 9044 distinct packages available
(1/4) Installing ca-certificates (20171114-r0)
(2/4) Installing libssh2 (1.8.0-r2)
(3/4) Installing libcurl (7.57.0-r0)
(4/4) Installing curl (7.57.0-r0)
Executing busybox-1.27.2-r6.trigger
Executing ca-certificates-20171114-r0.trigger
OK: 6 MiB in 15 packages
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   609    0   609    0     0    609      0 --:--:-- --:--:-- --:--:--  1198
100 45.6M  100 45.6M    0     0  3891k      0  0:00:12  0:00:12 --:--:-- 5067k
sh: ./kompose: not found
~/infra/python > docker run --name kompose -it --entrypoint sh alpine -c ""apk update && apk add curl && curl -L https://github.com/kubernetes/kompose/releases/download/v1.5.0/kompose-linux-amd64 -o kompose && chmod +x kompose && ./kompose --version""
fetch http://dl-cdn.alpinelinux.org/alpine/v3.7/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.7/community/x86_64/APKINDEX.tar.gz
v3.7.0-8-g7f9d974993 [http://dl-cdn.alpinelinux.org/alpine/v3.7/main]
v3.7.0-10-g867acb9878 [http://dl-cdn.alpinelinux.org/alpine/v3.7/community]
OK: 9044 distinct packages available
(1/4) Installing ca-certificates (20171114-r0)
(2/4) Installing libssh2 (1.8.0-r2)
(3/4) Installing libcurl (7.57.0-r0)
(4/4) Installing curl (7.57.0-r0)
Executing busybox-1.27.2-r6.trigger
Executing ca-certificates-20171114-r0.trigger
OK: 6 MiB in 15 packages
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   609    0   609    0     0    609      0 --:--:-- --:--:-- --:--:--  1164
100 45.6M  100 45.6M    0     0  2747k      0  0:00:17  0:00:17 --:--:-- 3860k
sh: ./kompose: not found
```",closed,False,2017-12-06 14:42:32,2018-08-03 20:31:29
kompose,cdrage,https://github.com/kubernetes/kompose/pull/891,https://api.github.com/repos/kubernetes/kompose/issues/891,1.6.0 Release,,closed,True,2017-12-11 18:50:55,2017-12-11 18:51:09
kompose,pkelleratwork,https://github.com/kubernetes/kompose/issues/892,https://api.github.com/repos/kubernetes/kompose/issues/892,panic: runtime error: invalid memory address or nil pointer dereference,"version 1.6.0 (e4adfef)
macOS 10.13.2

kompose convert =

panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x221af2b]

goroutine 1 [running]:
github.com/kubernetes/kompose/pkg/loader/compose.dockerComposeToKomposeMapping(0xc4205dc6c0, 0x20, 0xc42045d820, 0x1, 0x1, 0xc4200d35f0)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/v3.go:323 +0x45b
github.com/kubernetes/kompose/pkg/loader/compose.parseV3(0xc4203686f0, 0x1, 0x1, 0x1, 0x1, 0x0, 0x30, 0x27e2280)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/v3.go:113 +0x22b
github.com/kubernetes/kompose/pkg/loader/compose.(*Compose).LoadFile(0x370a980, 0xc4203686f0, 0x1, 0x1, 0xc4200d3080, 0x0, 0x0, 0x9, 0x7)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/compose.go:186 +0x4d2
github.com/kubernetes/kompose/pkg/app.Convert(0x100000100, 0x0, 0x0, 0x0, 0x0, 0x28a1b28, 0x4, 0x0, 0x28b5b4d, 0x15, ...)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/pkg/app/app.go:227 +0x145
github.com/kubernetes/kompose/cmd.glob..func3(0x36d8660, 0x370a980, 0x0, 0x0)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/cmd/convert.go:95 +0x4d
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).execute(0x36d8660, 0x370a980, 0x0, 0x0, 0x36d8660, 0x370a980)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:704 +0x2c6
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x36d8aa0, 0x36d8ee0, 0x2499880, 0x36d8be0)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:785 +0x30e
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).Execute(0x36d8aa0, 0x0, 0xc420315f48)
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:738 +0x2b
github.com/kubernetes/kompose/cmd.Execute()
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/cmd/root.go:92 +0x31
main.main()
	/home/wikus/dropbox/dev/go/src/github.com/kubernetes/kompose/main.go:22 +0x20
",closed,False,2017-12-13 19:51:43,2018-04-02 13:55:14
kompose,Code0x58,https://github.com/kubernetes/kompose/issues/893,https://api.github.com/repos/kubernetes/kompose/issues/893,Unable to push to (private) registry,"When doing `kompose up` on a file which has build+image information, it builds the image and then it looks like it tries to push it incorrectly:
```
INFO Build key detected. Attempting to build and push image 'my.registry.com/my-namespace/image:latest' 
INFO Building image 'my.registry.com/my-namespace/image:latest' from directory 'image' 
INFO Image 'my.registry.com/my-namespace/image:latest' from directory 'image' built successfully 
INFO Pushing image 'my-namespace/image:latest' to registry 'my.registry.com' 
INFO Attempting authentication credentials 'my.registry.com 
ERRO Unable to push image 'my-namespace/image:latest' to registry 'my.registry.com'. Error: An image does not exist locally with the tag: my-namespace/image 
FATA Error while deploying application: k.Transform failed: Unable to push Docker image for service image: unable to push docker image(s). Check that `docker login` works successfully on the command line
```
`docker-compose build && docker-compose push` doesn't have an issue with this.

To bodge it at the moment I remove the build information and do `docker push my.registry.com/my-namespace/image:latest` before running `kompose up`.",closed,False,2017-12-14 11:42:09,2018-01-04 14:12:00
kompose,warrenseymour,https://github.com/kubernetes/kompose/pull/894,https://api.github.com/repos/kubernetes/kompose/issues/894,[RFC] Map ingress path to optional 'kompose.service.expose_path',"I've cobbled this together to allow a new optional label `kompose.service.expose_path` to map to `ingress.spec.rules[].http.paths[].path`.

This supports a workflow I find desirable, and I suspect others may find this useful too. I've never worked with Go before, so please forgive me if the implementation is sub-optimal. Also, I'm aware that you may not want to maintain such a specific feature, so I didn't spend any time adding tests or docs at this point.

If a maintainer here feels the concept is sound but has implementation advice, I'm more than happy to spend some time making this merge-worthy.",closed,True,2017-12-15 09:09:02,2018-06-02 18:10:19
kompose,Code0x58,https://github.com/kubernetes/kompose/pull/895,https://api.github.com/repos/kubernetes/kompose/issues/895,Fix pushing of image to a private repository,"This is to test and fix #893

_p.s. The existing tests/platform [flaked](https://semaphoreci.com/cdrage/kompose-2/branches/pull-request-895/builds/3) on OpenShift_",closed,True,2017-12-15 16:35:59,2018-01-04 16:48:15
kompose,Code0x58,https://github.com/kubernetes/kompose/pull/896,https://api.github.com/repos/kubernetes/kompose/issues/896,Add kompose.service.expose.tls-secret,,closed,True,2017-12-17 17:36:11,2017-12-20 16:40:58
kompose,jmatsushita,https://github.com/kubernetes/kompose/issues/897,https://api.github.com/repos/kubernetes/kompose/issues/897,Allow specifying imagePullSecret,"Hi there,

How would one go about providing the `imagePullSecret` key to a `deployment`?

This could possibly help with #893 ? This might also be part of a broader discussion about ""template-supported conversions"", which would allow to make custom changes to the conversion outputs...

Cheers,

Jun",closed,False,2017-12-18 13:33:35,2018-09-15 14:55:32
kompose,cdrage,https://github.com/kubernetes/kompose/issues/898,https://api.github.com/repos/kubernetes/kompose/issues/898,Add (better) documentation on adding tests,"We should elaborate / go more into detail on how to add integration, unit tests, etc for Kompose.",closed,False,2017-12-19 16:07:42,2018-05-18 17:16:12
kompose,spiffxp,https://github.com/kubernetes/kompose/pull/899,https://api.github.com/repos/kubernetes/kompose/issues/899,Update code-of-conduct.md,"Refer to kubernetes/community as authoritative source for code of conduct

ref: kubernetes/community#1527",closed,True,2017-12-20 18:32:51,2018-01-03 00:48:38
kompose,piyush-garg,https://github.com/kubernetes/kompose/pull/900,https://api.github.com/repos/kubernetes/kompose/issues/900,Added Case for Config Map in kompose down,"Added Case for Config Map in kompose down. To implement this, added a label in the configMap object at the time of init.
It will delete the configMap object during `kompose down`
#883 ",closed,True,2017-12-22 05:57:29,2018-01-04 14:11:14
kompose,thockin,https://github.com/kubernetes/kompose/pull/901,https://api.github.com/repos/kubernetes/kompose/issues/901,Convert registry to k8s.gcr.io,"This PR was auto-generated.  Please apply human expertise to review for correctness.

Followup to https://github.com/kubernetes/kubernetes/pull/54174

xref https://github.com/kubernetes/release/issues/281",closed,True,2017-12-22 18:00:21,2018-01-02 20:34:26
kompose,bhavin192,https://github.com/kubernetes/kompose/issues/902,https://api.github.com/repos/kubernetes/kompose/issues/902,No proper link to Binary Installation method in README.md,Link for the **Binary (Prefered method)** method in the `README.md` opens https://github.com/kubernetes/kompose/blob/master/README.md instead of jumping to the proper section from the file.,closed,False,2017-12-23 11:15:00,2018-01-15 17:03:34
kompose,bhavin192,https://github.com/kubernetes/kompose/pull/903,https://api.github.com/repos/kubernetes/kompose/issues/903,Fix link to binary-installation method in README.md,"Now it links to the section of same file.
Also fixes typo in word preferred.
fixes #902 
",closed,True,2017-12-23 11:18:27,2018-01-15 17:03:34
kompose,jsheflin,https://github.com/kubernetes/kompose/issues/904,https://api.github.com/repos/kubernetes/kompose/issues/904,docker config.json format,,closed,False,2017-12-28 19:47:59,2017-12-28 19:48:20
kompose,surajneupane55,https://github.com/kubernetes/kompose/issues/905,https://api.github.com/repos/kubernetes/kompose/issues/905,Cannot run in gcloud environment with Kompose CLI,"I want to integrate Kompose CLI inside the container so I can use it as a part of CI/CD pipeline. In gitlab-ci.yml I want to install Kompose in the container so I can use it. So far I am unable to do so. 

Here is my gitlab-ci.yml file:

    image: node:8-alpine

    stages:
      - build

    build_image:
      stage: build
      only: [master]
      image: google/cloud-sdk
      services:
        - docker:dind
      script:
        - echo ""$GOOGLE_KEY_SECRET"" > key.json # Google Cloud service accounts
        - gcloud auth activate-service-account --key-file key.json
        - gcloud config set project my-web-190118

    // I install Kompose here with following command: curl -L https://github.com/kubernetes/kompose/releases/download/v1.6.0/kompose-linux-amd64 -o kompose 

    //I want to use `- Kompose up` here
",closed,False,2017-12-30 08:48:46,2018-01-03 12:20:38
kompose,cdrage,https://github.com/kubernetes/kompose/pull/906,https://api.github.com/repos/kubernetes/kompose/issues/906,1.7.0 Release,,closed,True,2018-01-04 17:09:23,2018-01-04 17:09:48
kompose,caglar10ur,https://github.com/kubernetes/kompose/pull/907,https://api.github.com/repos/kubernetes/kompose/issues/907,Allow services to use same port with different protocols,"kompose fails if compose file declares different protocols for the same port. eg;

```
...
     ports:
      - 666:666/udp
      - 666:666/tcp
...
```

This PR adds the port to the output and also makes sure that names are unique for each port/protocol pair. This is supported with LoadBalancer (https://github.com/kubernetes/kubernetes/issues/2995
) so trying to use this config with LB panics",closed,True,2018-01-07 00:28:11,2018-03-07 06:59:06
kompose,a8uhnf,https://github.com/kubernetes/kompose/pull/908,https://api.github.com/repos/kubernetes/kompose/issues/908,Invalid quick start link,[Quick start](docs/quickstart.md) is invalid. ,closed,True,2018-01-11 10:15:20,2018-01-12 16:14:26
kompose,darKoram,https://github.com/kubernetes/kompose/issues/909,https://api.github.com/repos/kubernetes/kompose/issues/909,extended env_file capability to in-docker-compose.yml substitutions,"in https://github.com/kubernetes/kompose/pull/799 the tests show the ability to over-ride an 'environment' var with one from a '.env' file which is useful if the container runtime depends on the var.  But another use case for docker-compose .env file is to allow ${var} substitutions in other docker-compose arguments.  A common example would be

    services:
      app:
        image: myapp
        volumes: ${local_path_to_data}:/data
        env_file: 
          - ""./.env""

and 
.env 
    local_path_to_data=/home/me/data          # for a linux user
    # or
    local_path_to_data=/Users/me/data           # for a mac user

In my testing, this sort of substitution is not yet supported and gives an error
`* error decoding 'Volumes[0]': invalid spec: :/data empty section between colons`

I would expect the default behavior to be to create a persistent volume named for the rhs of Volumes populated with the data at local_path_to_data specified in the .env file.

",closed,False,2018-01-14 19:46:11,2019-01-30 16:20:42
kompose,kbroughton,https://github.com/kubernetes/kompose/issues/910,https://api.github.com/repos/kubernetes/kompose/issues/910,unable to push to private repo in hub.docker.com,"$ kompose  --file docker-compose-out.yml -v up
INFO Build key detected. Attempting to build and push image 'haystackabi/hsabi-web-app:4ca21a16'
DEBU Compose file dir: /Users/kesten/projects/core
INFO Building image 'myorg/myimage:4ca21a16' from directory 'myimage'
DEBU Created temporary file /tmp/kompose-image-build-328321841 for Docker image tarballing
INFO Image 'myorg/myimage' from directory 'myimage' built successfully
DEBU Docker Compose version: 3.0
FATA Error while deploying application: k.Transform failed: Unable to push Docker image for service haystack-web-app: Unable to retrieve .docker/config.json authentication details. Check that 'docker login' works successfully on the command line.: Failed to read authentication from dockercfg

$ kompose version
1.7.0 (767ab4b)

push using docker works fine
$ docker push haystackabi/hsabi-web-app:4ca21a16
The push refers to a repository [docker.io/haystackabi/hsabi-web-app]
2a0a82b8c76c: Layer already exists
5c95d741d318: Pushing [=================>                                 ]    112MB/313MB
3f34fa06d2a5: Pushing [===================",closed,False,2018-01-15 16:19:07,2018-01-24 12:49:32
kompose,ruddra,https://github.com/kubernetes/kompose/issues/911,https://api.github.com/repos/kubernetes/kompose/issues/911,Unable to push Docker image for service web: Unable to retrieve .docker/config.json authentication details. ,"I got this error while running: `kompose up`
I have been using the following docker-compose.yml:

> version: '3'
> 
> services:
>   db:
>     image: mysql:5.5
>     container_name: db-container
>     ports:
>       - ""3406:3306""
>     environment:
>       MYSQL_ROOT_PASSWORD: mypassword
>       MYSQL_USER: root
>       MYSQL_DATABASE: mydb
>   web:
>     build: .
>     container_name: web-container
>     command: python3 manage.py runserver 0.0.0.0:8000
>     volumes:
>       - .:/code
>     image: ""ruddra/web-image""
>     ports:
>       - ""8000:8000""
>     depends_on:
>       - db


I ran the following commands:
>kompose convert --provider=openshift
>kompose up --provider=openshift


I was able to push to my dockerhub repository using: 
`docker-compose push`
",open,False,2018-01-19 13:04:17,2019-01-11 23:36:57
kompose,cdrage,https://github.com/kubernetes/kompose/pull/912,https://api.github.com/repos/kubernetes/kompose/issues/912,1.8.0 Release,,closed,True,2018-01-24 15:51:54,2018-01-24 15:52:14
kompose,coodix,https://github.com/kubernetes/kompose/pull/913,https://api.github.com/repos/kubernetes/kompose/issues/913,Push image without authentication,For fixing issue #911 ,closed,True,2018-01-25 09:29:23,2018-01-29 18:48:32
kompose,alexanderkjeldaas,https://github.com/kubernetes/kompose/issues/914,https://api.github.com/repos/kubernetes/kompose/issues/914,docker-compose version 3.3 is not supported.,,closed,False,2018-01-28 21:54:07,2018-07-27 14:06:59
kompose,alexanderkjeldaas,https://github.com/kubernetes/kompose/issues/915,https://api.github.com/repos/kubernetes/kompose/issues/915,kompose does not indicate key nor line number when printing error,"This output:

```
 $ kompose convert -f ./docker-compose.yml
FATA configs Additional property configs is not allowed
```

Gives mostly no information:

1. No line number information
2. No yaml key
3. No `jq` style location
4. No excerpt from the input file.
5. It refers to ""property config"" where none of those words appear in the input.

",closed,False,2018-01-28 22:01:25,2018-06-29 15:04:50
kompose,oilbeater,https://github.com/kubernetes/kompose/pull/916,https://api.github.com/repos/kubernetes/kompose/issues/916,reduce binary size,"remove symbol tables and debug info to reduce binary size, see: https://golang.org/cmd/link/",closed,True,2018-01-29 16:00:18,2018-01-29 18:42:05
kompose,Vad1mo,https://github.com/kubernetes/kompose/issues/917,https://api.github.com/repos/kubernetes/kompose/issues/917,Kubernetes specific support in Compose,"With compose 3.4 it is possible to define **extension-fields** with those it would be possible to map them to a structure that only exists in k8s 

https://docs.docker.com/compose/compose-file/#extension-fields",closed,False,2018-01-29 16:17:21,2019-03-28 14:25:24
kompose,niQo,https://github.com/kubernetes/kompose/issues/918,https://api.github.com/repos/kubernetes/kompose/issues/918,"""panic: runtime error: invalid memory address or nil pointer dereference"" when using environment unset variables","when using a compose file containing an unset environment var, kompose crash with:
```
kompose up -f docker-compose.yml 
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x1621e4b]
```

example:
```
version: '3'

services:
  jenkins:
    image: jenkins
    environment:
      - DEBUG
```


Note: if the environment var is set, everything work as expected. example:
```
version: '3'

services:
  jenkins:
    image: jenkins
    environment:
      - DEBUG=1
```",closed,False,2018-01-29 17:50:34,2018-02-08 13:20:01
kompose,cdrage,https://github.com/kubernetes/kompose/pull/919,https://api.github.com/repos/kubernetes/kompose/issues/919,Update the README,"- Removes the incubation line (already graduated)
- Go 1.5 is 3 years old. Remove not regarding building on 1.5
- Remove not working Slack widget",closed,True,2018-01-29 18:51:36,2018-01-29 18:51:47
kompose,pborreli,https://github.com/kubernetes/kompose/pull/920,https://api.github.com/repos/kubernetes/kompose/issues/920,Fixed typo,,closed,True,2018-01-31 11:55:45,2018-02-27 15:11:12
kompose,adolphlwq,https://github.com/kubernetes/kompose/pull/921,https://api.github.com/repos/kubernetes/kompose/issues/921,provide more details for building steps,"1. add more detailed steps for  building code
2. fix typo",closed,True,2018-02-01 09:49:27,2018-02-07 13:00:33
kompose,hangyan,https://github.com/kubernetes/kompose/pull/922,https://api.github.com/repos/kubernetes/kompose/issues/922,Remove unneeded todo comment,"Because when we check the version of the compose file, we have already read the file's content and ensure the file exist",closed,True,2018-02-06 15:45:30,2018-03-31 04:05:38
kompose,yank1,https://github.com/kubernetes/kompose/pull/923,https://api.github.com/repos/kubernetes/kompose/issues/923,fix a typo in development.md,fix a typo in development.md,closed,True,2018-02-06 15:55:09,2018-02-06 16:09:59
kompose,hangyan,https://github.com/kubernetes/kompose/pull/924,https://api.github.com/repos/kubernetes/kompose/issues/924,Remove unneeded TODO comment,"Because when we check the version of the compose file, we have already read the file's content and ensure the file exist",closed,True,2018-02-06 16:05:25,2018-02-07 08:26:33
kompose,hangyan,https://github.com/kubernetes/kompose/pull/925,https://api.github.com/repos/kubernetes/kompose/issues/925,Fix typo in cli help message,,closed,True,2018-02-07 03:13:22,2018-03-31 04:05:39
kompose,hangyan,https://github.com/kubernetes/kompose/pull/926,https://api.github.com/repos/kubernetes/kompose/issues/926,Fix unset env bug for v3 compose,fix #918 ,closed,True,2018-02-07 03:52:49,2018-03-31 04:05:40
kompose,bongole,https://github.com/kubernetes/kompose/issues/927,https://api.github.com/repos/kubernetes/kompose/issues/927,kompose.volume.size label is not working,"kompose.volume.size label is not working.
I tested on macOS 10.13.3 and brew installed kompose.

``` yaml
# test.yaml 
version: '2'
services:
  db:
    image: postgres:10.1
    labels:
      kompose.volume.size: 1Gi
    volumes:
      - db-data:/var/lib/postgresql/data
```

``` shell
$ kompose version
1.8.0 ()

$ ls
test.yaml

$ kompose convert -f test.yaml
INFO Kubernetes file ""db-service.yaml"" created
INFO Kubernetes file ""db-deployment.yaml"" created
INFO Kubernetes file ""db-data-persistentvolumeclaim.yaml"" created

$ ls
db-data-persistentvolumeclaim.yaml db-deployment.yaml db-service.yaml test.yaml

$ cat db-data-persistentvolumeclaim.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  creationTimestamp: null
  labels:
    io.kompose.service: db-data
  name: db-data
spec:
  accessModes:
  - ReadWriteOnce
  resources:
    requests:
      storage: 100Mi # <-- not 1Gi
status: {}
```",closed,False,2018-02-07 05:46:03,2018-07-30 21:41:37
kompose,hangyan,https://github.com/kubernetes/kompose/pull/928,https://api.github.com/repos/kubernetes/kompose/issues/928,Fix log format error,,closed,True,2018-02-07 05:46:09,2018-03-31 04:05:10
kompose,hangyan,https://github.com/kubernetes/kompose/pull/929,https://api.github.com/repos/kubernetes/kompose/issues/929,Fix custom pvc size in v2 compose not working error,fix #927 ,closed,True,2018-02-07 07:31:16,2018-03-31 04:05:14
kompose,hangyan,https://github.com/kubernetes/kompose/pull/930,https://api.github.com/repos/kubernetes/kompose/issues/930,Fix typos in doc,,closed,True,2018-02-07 08:26:01,2018-03-31 04:05:08
kompose,hangyan,https://github.com/kubernetes/kompose/pull/931,https://api.github.com/repos/kubernetes/kompose/issues/931,Fix typo in function name,,closed,True,2018-02-07 08:27:25,2018-03-31 04:05:05
kompose,hangyan,https://github.com/kubernetes/kompose/pull/932,https://api.github.com/repos/kubernetes/kompose/issues/932,Fix typos in Makefile,,closed,True,2018-02-08 07:26:23,2018-03-31 04:05:13
kompose,hangyan,https://github.com/kubernetes/kompose/pull/933,https://api.github.com/repos/kubernetes/kompose/issues/933,Refactor package app to use const rather than raw string,,closed,True,2018-02-08 07:43:02,2018-02-13 14:27:07
kompose,BookOfGreg,https://github.com/kubernetes/kompose/issues/934,https://api.github.com/repos/kubernetes/kompose/issues/934,panic: runtime error: invalid memory address or nil pointer dereference SIGSEGV related to Healthcheck,"Similar to #918 and #892 but slightly different cause.
This one is triggered by the `healthcheck`, this runs if `healthcheck` is removed.
This may have been fixed in #926 but I'm unable to test that yet.
```yml
version: '3'

services:

  postgres:
    image: postgres
    healthcheck:
      test: psql postgres --command ""select 1""
    ports:
      - ""5432:5432""
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: password
      POSTGRES_DB: postgres

  broker_app:
    image: dius/pact-broker
    ports:
      - ""80:80""
    links:
      - postgres
    environment:
      PACT_BROKER_DATABASE_USERNAME: postgres
      PACT_BROKER_DATABASE_PASSWORD: password
      PACT_BROKER_DATABASE_HOST: postgres
      PACT_BROKER_DATABASE_NAME: postgres
```

```bash
$ kompose convert -f docker-compose.yml
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x2220748]

goroutine 1 [running]:
github.com/kubernetes/kompose/pkg/loader/compose.parseHealthCheck(0xc4200a9b80, 0x2, 0x2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/private/tmp/kompose-20180105-58832-38j8jm/kompose-1.7.0/src/github.com/kubernetes/kompose/pkg/loader/compose/v3.go:190 +0x78
github.com/kubernetes/kompose/pkg/loader/compose.dockerComposeToKomposeMapping(0xc42037f580, 0x25, 0xc4200a86e0, 0x1, 0x1, 0xc42048a570)
	/private/tmp/kompose-20180105-58832-38j8jm/kompose-1.7.0/src/github.com/kubernetes/kompose/pkg/loader/compose/v3.go:255 +0x11b2
github.com/kubernetes/kompose/pkg/loader/compose.parseV3(0xc4203dd3f0, 0x1, 0x1, 0x1, 0x1, 0x0, 0x30, 0x27ea960)
	/private/tmp/kompose-20180105-58832-38j8jm/kompose-1.7.0/src/github.com/kubernetes/kompose/pkg/loader/compose/v3.go:113 +0x22b
github.com/kubernetes/kompose/pkg/loader/compose.(*Compose).LoadFile(0x3724c40, 0xc4203dd3f0, 0x1, 0x1, 0xc42048a120, 0x0, 0x0, 0xc, 0x8)
	/private/tmp/kompose-20180105-58832-38j8jm/kompose-1.7.0/src/github.com/kubernetes/kompose/pkg/loader/compose/compose.go:186 +0x4d2
github.com/kubernetes/kompose/pkg/app.Convert(0x100000100, 0x0, 0x0, 0x0, 0x0, 0x28aa4b8, 0x4, 0x0, 0x28be4a7, 0x15, ...)
	/private/tmp/kompose-20180105-58832-38j8jm/kompose-1.7.0/src/github.com/kubernetes/kompose/pkg/app/app.go:227 +0x145
github.com/kubernetes/kompose/cmd.glob..func3(0x36f2960, 0xc420179f20, 0x0, 0x2)
	/private/tmp/kompose-20180105-58832-38j8jm/kompose-1.7.0/src/github.com/kubernetes/kompose/cmd/convert.go:95 +0x4d
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).execute(0x36f2960, 0xc420179ee0, 0x2, 0x2, 0x36f2960, 0xc420179ee0)
	/private/tmp/kompose-20180105-58832-38j8jm/kompose-1.7.0/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:704 +0x2c6
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x36f2da0, 0x36f31e0, 0x24a03d0, 0x36f2ee0)
	/private/tmp/kompose-20180105-58832-38j8jm/kompose-1.7.0/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:785 +0x30e
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).Execute(0x36f2da0, 0x0, 0xc420241f48)
	/private/tmp/kompose-20180105-58832-38j8jm/kompose-1.7.0/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:738 +0x2b
github.com/kubernetes/kompose/cmd.Execute()
	/private/tmp/kompose-20180105-58832-38j8jm/kompose-1.7.0/src/github.com/kubernetes/kompose/cmd/root.go:92 +0x31
main.main()
	/private/tmp/kompose-20180105-58832-38j8jm/kompose-1.7.0/main.go:22 +0x20
```",closed,False,2018-02-08 15:25:23,2018-02-20 16:00:19
kompose,hangyan,https://github.com/kubernetes/kompose/pull/935,https://api.github.com/repos/kubernetes/kompose/issues/935,Add doc for volume size label,With this should close #872 ,closed,True,2018-02-09 02:40:15,2018-03-31 04:05:17
kompose,hangyan,https://github.com/kubernetes/kompose/pull/936,https://api.github.com/repos/kubernetes/kompose/issues/936,Fix healthcheck parser nil pointer error,fix #934 ,closed,True,2018-02-09 03:10:43,2018-03-31 04:05:16
kompose,hangyan,https://github.com/kubernetes/kompose/pull/937,https://api.github.com/repos/kubernetes/kompose/issues/937,Variable name should not be the same as imported package name,,closed,True,2018-02-09 03:32:37,2018-03-31 04:05:16
kompose,hangyan,https://github.com/kubernetes/kompose/pull/938,https://api.github.com/repos/kubernetes/kompose/issues/938,Fix custom output and charts conflict error,"fix #886 

@cdrage I didn't find a correct way to add test for  this change. So can you help me with this?

After this change, the logic now becomes:

assume there is a yaml in /tmp/a.yaml

* -c : results in /tmp/a/
* -c -o /tmp/charts : results in /tmp/charts/ (yaml in /tmp/charts/templates)
* -o /tmp/charts: results in /tmp/charts 
*  no args: results yaml in current dir

",closed,True,2018-02-09 06:57:54,2018-03-31 04:05:20
kompose,matt-shaw,https://github.com/kubernetes/kompose/issues/939,https://api.github.com/repos/kubernetes/kompose/issues/939,depends_on with conditions,"Hi,

Does kompose support the following contruct?

```
    depends_on:
      reference-discovery-app:
        condition: service_healthy
      reference-config-app:
        condition: service_healthy
```
",closed,False,2018-02-09 11:58:32,2018-07-09 20:42:11
kompose,k24,https://github.com/kubernetes/kompose/pull/940,https://api.github.com/repos/kubernetes/kompose/issues/940,"Accept nested path such as ""build: ./foo/bar"" in kompose up","In `kompose up`, building docker image but throws ""Cannot locate specified Dockerfile"" because `path.Base` removes parent directory path segments. I think that a nested path should be accepted.

For instance, in the case of #809, ""./package/business_api"" is modified to ""business_api"" by `path.Base`. However `os.Stat` verifies the existence of `service.Build` before the lines.

It's difficult to test `BuildDockerImage`, so I extracted `resolveImagePathAndName` from the func then modify it and add testing.

I have no idea why using `path.Base`. If having some reasons to make a sense, could you please write it as a comment? I will accept any reason and you can close this anytime. Thanks!",closed,True,2018-02-09 17:12:39,2018-02-10 09:33:19
kompose,ghostsquad,https://github.com/kubernetes/kompose/issues/941,https://api.github.com/repos/kubernetes/kompose/issues/941,Support for multi-port services,"From the documentation it sounds like multi-port services aren't supported?

http://kompose.io/user-guide/#labels
> If multiple ports are defined in a service, the first one is chosen to be the exposed.

https://kubernetes.io/docs/concepts/services-networking/service/#multi-port-services

This seems like a pretty basic feature, and the simplest example requirement is an http service that allows redirect from port 80 to 443. Any reason why only 1 port is supported, and if there are plans on supporting multi-port services?",closed,False,2018-02-09 17:34:01,2018-03-06 13:58:04
kompose,cdrage,https://github.com/kubernetes/kompose/issues/942,https://api.github.com/repos/kubernetes/kompose/issues/942,Coordinated efforts / centralized location for packages.,"As per a comment by @kadel here: https://github.com/kubernetes/kompose/issues/822

We've got:

- MacOS  - [Homebrew](https://brew.sh/) ([package exists](http://formulae.brew.sh/formula/kompose) and it looks like updates are somehow automated )
- Windows  - [Chocolatey](https://chocolatey.org/)
- DEB systems (Ubuntu/Debian) - using  [PPA](https://launchpad.net/ubuntu/+ppas)
- RPM systems (Centos/Fedora - using [Copr](https://copr.fedorainfracloud.org/) 
- ArchLinux - [AUR](https://aur.archlinux.org) ([package exists](https://aur.archlinux.org/packages/kompose-bin/) but updates are not automated)

We not only need to document each release, but also coordinate our efforts that each release of Kompose is also updated upstream / their respective providers.

Let's use this issue to coordinate our efforts.",closed,False,2018-02-13 14:34:14,2018-10-11 18:09:09
kompose,cdrage,https://github.com/kubernetes/kompose/pull/943,https://api.github.com/repos/kubernetes/kompose/issues/943,1.9.0 Release,,closed,True,2018-02-13 21:00:22,2018-02-13 21:00:52
kompose,BenderV,https://github.com/kubernetes/kompose/issues/944,https://api.github.com/repos/kubernetes/kompose/issues/944,Kompose doesn't find dockerfile with context .,"I think I have find two errors:

1 - kompose us searching for context related to directory from where it is run, not from where docker-compose.yml file is located

> kompose up -f docker/docker-compose-dev.yml -v
FATA Error while deploying application: k.Transform failed: Unable to build Docker image for service backend-server: ../server is not a valid path for building image backend-server. Check if this dir exists.: stat ../server: no such file or directory

2 - kompose fail to look for dockerfile (if the context is not in a subdirectory ?)  -- could be related: https://github.com/kubernetes/kompose/issues/809 & https://github.com/kubernetes/kompose/issues/832

Error: `{""message"":""Cannot locate specified Dockerfile: Dockerfile""}`

Note that docker-compose work well here.
--- 

Structures
```yaml
docker/ -- docker-compose files
   docker-compose-dev.yml 
server/ -- back-end
web/ -- front-end
````

docker-compose-dev.yml 
```yaml
version: '3'

services:
  backend-server:
    image: backend-server:dev
    build:
      context: ../server
      dockerfile: Dockerfile
    volumes:
      - ../templates:/usr/src/templates
    env_file:
      - ../docker_env.list
    ports:
      - 5000:4000

  front-end:
    image: front-end:dev
    build:
      context: ../web
      dockerfile: Dockerfile
    volumes:
      - ../web/src:/usr/src/web/src
      - ../web/config:/usr/src/web/config
      - ../web/build:/usr/src/web/build
      - ../web/static:/usr/src/web/static
    env_file:
      - ../docker_env.list
    ports:
      - 8080:8080
    depends_on:
      - backend-server
```",closed,False,2018-02-15 11:59:33,2019-03-19 13:04:31
kompose,abitrolly,https://github.com/kubernetes/kompose/issues/945,https://api.github.com/repos/kubernetes/kompose/issues/945,Add HTTPS support for download URLs,HTTPS on https://kompose.io/ is broken. Because GitHub doesn't support HTTPS on custom domains - https://stackoverflow.com/questions/42172216/is-it-possible-to-use-https-ssl-on-github-pages-sites-with-a-custom-domain - one of the solutions is to use Netlify - https://www.netlify.com/docs/ssl/,closed,False,2018-02-15 12:37:46,2018-10-02 05:42:51
kompose,hangyan,https://github.com/kubernetes/kompose/pull/946,https://api.github.com/repos/kubernetes/kompose/issues/946,Fix image build path error,should fix #944 ,closed,True,2018-02-23 06:59:31,2018-03-31 04:05:18
kompose,hangyan,https://github.com/kubernetes/kompose/issues/947,https://api.github.com/repos/kubernetes/kompose/issues/947,Remove RC from supported workload,"Accoding to the documents, (https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller/), RC is not recommended any more. Deployment is the replacement",closed,False,2018-02-23 09:35:32,2018-08-03 11:22:29
kompose,hangyan,https://github.com/kubernetes/kompose/pull/948,https://api.github.com/repos/kubernetes/kompose/issues/948,Refactor label names to const strings,,closed,True,2018-02-25 06:32:46,2018-03-31 04:05:19
kompose,hangyan,https://github.com/kubernetes/kompose/pull/949,https://api.github.com/repos/kubernetes/kompose/issues/949,Fix broken links for volume long syntax in comments,,closed,True,2018-03-03 10:59:08,2018-03-31 04:05:21
kompose,hangyan,https://github.com/kubernetes/kompose/pull/950,https://api.github.com/repos/kubernetes/kompose/issues/950,Support old restart policy in compose v3,related to #876 ,closed,True,2018-03-03 12:35:39,2018-03-31 04:05:21
kompose,cdrage,https://github.com/kubernetes/kompose/pull/951,https://api.github.com/repos/kubernetes/kompose/issues/951,1.10.0 Release,,closed,True,2018-03-06 15:43:44,2018-03-06 15:44:04
kompose,marziman,https://github.com/kubernetes/kompose/issues/952,https://api.github.com/repos/kubernetes/kompose/issues/952,Correct DL-link to latest kompose in installation guide,"Hi kompose-Team,

thanks for your efforts. I just figured out that your bintray is not available, but you point your installation guide on it.
Or am I missing something?

BR Mehmet",closed,False,2018-03-07 13:15:23,2018-06-06 12:13:40
kompose,cdrage,https://github.com/kubernetes/kompose/pull/953,https://api.github.com/repos/kubernetes/kompose/issues/953,Remove bintray instructions,"Bintray forced us into an ""enterprise"" plan and then cut access off
unless we contacted supported.

For now, we are removing bintray details until we have a good
alternative.",closed,True,2018-03-07 20:00:59,2018-03-07 20:02:00
kompose,hangyan,https://github.com/kubernetes/kompose/pull/954,https://api.github.com/repos/kubernetes/kompose/issues/954,Add support for compose v3.2,"fix #865 . 

My opinion is : Since we have declaim that we support volume's long syntax, and it's a feature only supported by compose v3.2+, it's better to allow uses to convert docker compose files with version=3.2. ",closed,True,2018-03-08 14:31:52,2018-03-31 04:05:23
kompose,cdrage,https://github.com/kubernetes/kompose/pull/955,https://api.github.com/repos/kubernetes/kompose/issues/955,Add script for generating deb / rpm packages,Adds a script to generate deb / rpm packages on release day.,closed,True,2018-03-08 18:34:08,2018-03-22 14:28:48
kompose,hangyan,https://github.com/kubernetes/kompose/pull/956,https://api.github.com/repos/kubernetes/kompose/issues/956,Refactor tests script to uses vars,less is more ~,closed,True,2018-03-09 03:25:01,2018-03-31 04:05:24
kompose,hangyan,https://github.com/kubernetes/kompose/pull/957,https://api.github.com/repos/kubernetes/kompose/issues/957,Support hostpath volume,fix #876 #109 ,closed,True,2018-03-11 05:41:06,2018-03-31 04:05:25
kompose,VenkateshSrini,https://github.com/kubernetes/kompose/issues/958,https://api.github.com/repos/kubernetes/kompose/issues/958,How do I Specify the instance count via docker -compose file for Kompose,"Hi,
I have a docker compose file as below

`version: '3'
services:
  worker:
    image: dockersamples/examplevotingapp_worker
    networks:
      - frontend
      - backend
    deploy:
      mode: replicated
      replicas: 6`

Will kompose automatically specify as by replica count in deployment yaml file ? If not what is the way to achieve this ?

Thanks",closed,False,2018-03-12 10:09:51,2018-08-09 12:44:03
kompose,mvreg,https://github.com/kubernetes/kompose/issues/959,https://api.github.com/repos/kubernetes/kompose/issues/959,Kompose fails on version 3 with deploy-resources-limits (panic: runtime error: invalid memory address or nil pointer dereference),"Using kompose version 1.10.0 (8bb0907) on Ubuntu 16.04 and converting using 
```
kompose convert -f b.yaml
```

-----

b.yaml:

```
services:
  haproxydocker:
    command: haproxy -f /etc/haproxy/haproxy_dsp.cfg
    environment:
      BACKEND_1_IP: 192.168.1.105
    image: haproxy
    network_mode: host
    restart: always
    deploy:
      resources:
        limits:
          memory: 256m
version: ""3""
```
---------
I get following error:
```
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x10 pc=0x1622d57]

goroutine 1 [running]:
github.com/kubernetes/kompose/pkg/loader/compose.dockerComposeToKomposeMapping(0xc420010600, 0x1c, 0xc420133c20, 0x1, 0x1, 0xc4201a5e60)
	/home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/v3.go:267 +0xfe7
github.com/kubernetes/kompose/pkg/loader/compose.parseV3(0xc42052db70, 0x1, 0x1, 0x1, 0x1, 0x0, 0x30, 0x1bec580)
	/home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/v3.go:113 +0x22b
github.com/kubernetes/kompose/pkg/loader/compose.(*Compose).LoadFile(0x2b1f0d8, 0xc42052db70, 0x1, 0x1, 0xc4201a5830, 0x0, 0x1a, 0x7f6a9adfcd50, 0x454d10)
	/home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/compose.go:186 +0x4d2
github.com/kubernetes/kompose/pkg/app.Convert(0x100000100, 0x0, 0x0, 0x0, 0x0, 0x1cac29c, 0x4, 0x0, 0x1cc0501, 0x15, ...)
	/home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/pkg/app/app.go:232 +0x145
github.com/kubernetes/kompose/cmd.glob..func3(0x2aec8e0, 0xc42045f900, 0x0, 0x2)
	/home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/cmd/convert.go:95 +0x4d
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).execute(0x2aec8e0, 0xc42045f8c0, 0x2, 0x2, 0x2aec8e0, 0xc42045f8c0)
	/home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:704 +0x2c6
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x2aecd20, 0x2aed160, 0x18a1b60, 0x2aece60)
	/home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:785 +0x30e
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).Execute(0x2aecd20, 0x0, 0xc420275f48)
	/home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:738 +0x2b
github.com/kubernetes/kompose/cmd.Execute()
	/home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/cmd/root.go:92 +0x31
main.main()
	/home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/main.go:22 +0x20
```
-----

If I comment out deploy section:
```
    # deploy:
      # resources:
        # limits:
          # memory: 256m
```
it works OK and creates deployment and service. yaml

To be sure that this is docker-compose.yaml (b.yaml) is valid synthax I also checked with
docker-compose -f b.yaml config
and it works OK (used docker-compose version 1.19.0, build 9e633ef)






",closed,False,2018-03-12 20:04:01,2018-03-19 12:55:04
kompose,hangyan,https://github.com/kubernetes/kompose/pull/960,https://api.github.com/repos/kubernetes/kompose/issues/960,Fix deploy resources parse error,fix #959 ,closed,True,2018-03-15 03:59:35,2018-03-31 04:05:24
kompose,jonyhy96,https://github.com/kubernetes/kompose/pull/961,https://api.github.com/repos/kubernetes/kompose/issues/961,fix pod-controller relationship mistake,"fix pod-controller relationship mistake
```release-note
None
```",closed,True,2018-03-20 06:54:27,2018-03-20 15:38:12
kompose,abhi-vaidya,https://github.com/kubernetes/kompose/issues/962,https://api.github.com/repos/kubernetes/kompose/issues/962,kompose up is not able to mount configmap volume,"kompose up
←[36mINFO←[0m We are going to create Kubernetes Deployments, Services and PersistentVolumeClaims for your Dockerized application. If you need different kind of resources,
 use the 'kompose convert' and 'kubectl create -f' commands instead.

volumeMounts:
        - name: my-appl-path
          mountPath: /opt/app/properties
      volumes:
        - name: my-appl-path
          configMap:
            name: my-app-1

I have created config map with kubectl create configmap.
is my yaml file.  Could you please check this issue
",closed,False,2018-03-20 11:11:35,2018-08-17 17:57:37
kompose,cdrage,https://github.com/kubernetes/kompose/pull/963,https://api.github.com/repos/kubernetes/kompose/issues/963,Add hangyan to OWNERS,,closed,True,2018-03-20 14:49:37,2018-03-20 15:00:02
kompose,hangyan,https://github.com/kubernetes/kompose/issues/964,https://api.github.com/repos/kubernetes/kompose/issues/964,Support ubuntu's snap package format,(of course very low priority,closed,False,2018-03-21 05:38:00,2018-08-18 08:11:37
kompose,VenkateshSrini,https://github.com/kubernetes/kompose/issues/965,https://api.github.com/repos/kubernetes/kompose/issues/965,Create Rolling updates using Kompose tool,"Hi ,
I had deployed a service in Kubernetes using Kompose Up <Dockerfile>. Now my docker image has changed and I want to update the container image in the already deployed Pod. If I perform Kompose up from the same dockerfile will that patch my container  ? If not what should I do to perform the image patching alone.

",closed,False,2018-03-22 11:28:46,2018-08-19 16:43:36
kompose,nh2d,https://github.com/kubernetes/kompose/issues/966,https://api.github.com/repos/kubernetes/kompose/issues/966,Unable to kompose up my django container from windows or azure cloudshell.,"```
version: '2' 

volumes:
  postgres_data_local: {}
  postgres_backup_local: {}

services:
  django: &django
    build:
      context: .
      dockerfile: ./compose/local/django/Dockerfile
    image: enjoithesk8life/test_respo:django
    depends_on:
      - postgres
    volumes:
      - .:/app
    environment:
      - POSTGRES_USER=nh2d
      - USE_DOCKER=yes
    ports:
      - ""8000:8000""
    command: /start.sh

  postgres:
    build:
      context: .
      dockerfile: ./compose/production/postgres/Dockerfile
    volumes:
      - postgres_data_local:/var/lib/postgresql/data
      - postgres_backup_local:/backups
      - /var/lib/postgresql:/var/run/postgresql
    environment:
      - POSTGRES_USER=nh2d


  redis:
    image: redis:3.0

  celeryworker:
    # https://github.com/docker/compose/issues/3220
    <<: *django
    image: enjoithesk8life/test_respo:celeryworker
    depends_on:
      - redis
      - postgres
    ports: []
    command: /start-celeryworker.sh

  celerybeat:
    # https://github.com/docker/compose/issues/3220
    <<: *django
    image: enjoithesk8life/test_repo:celerybeat
    depends_on:
      - redis
      - postgres
    ports: []
    command: /start-celerybeat.sh
```


From cookie-cutter django. Did not change much. Just trying to test a deploy here.... I get

>  [33mWARN[0m Unsupported root level volumes key - ignoring
> [33mWARN[0m Unsupported depends_on key - ignoring
> [36mINFO[0m Build key detected. Attempting to build and push image 'enjoithesk8life/test_repo:django'
> [36mINFO[0m Building image 'enjoithesk8life/test_repo:django' from directory 'E:\projects\hoos_feeding\src\hoos_fed'
> [31mFATA[0m Error while deploying application: k.Transform failed: Unable to build Docker image for service django: open \tmp\kompose-image-build-929081207: The system cannot find the path specified.
> 
> 

From powershell.

When I tried in azure cloudshell I get an error at same point but with different message:

>  navid@Azure:~/clouddrive/hoos_feeding/src/hoos_fed$ ../../../kompose --file local.yml up
> WARN Unsupported root level volumes key - ignoring
> WARN Unsupported depends_on key - ignoring
> INFO Build key detected. Attempting to build and push image 'enjoithesk8life/test_repo:celerybeat'
> INFO Building image 'enjoithesk8life/test_repo:celerybeat' from directory 'hoos_fed'
> FATA Error while deploying application: k.Transform failed: Unable to build Docker image for service celerybeat: Unable to build image. For more output, use -v or --verbose when converting.: dial unix /var/run/docker.sock: connect: no such file or directory",closed,False,2018-03-25 01:10:35,2019-03-24 20:55:33
kompose,hangyan,https://github.com/kubernetes/kompose/pull/967,https://api.github.com/repos/kubernetes/kompose/issues/967,Fix golint warnings,,closed,True,2018-03-25 08:23:36,2018-03-31 04:05:27
kompose,nathan-K-,https://github.com/kubernetes/kompose/issues/968,https://api.github.com/repos/kubernetes/kompose/issues/968,Merge multiple docker-compose files,"Hey,

First of all, thanks for this great project,
I've run into a very basic issue, when having two docker-compose files, ie:

docker-compose.yml
```
version: '3'

services:
  server:
    image: test
    container_name: test_server
    build:
      context: .
      dockerfile: Dockerfile-dev
    ports:
      - 3000:3000
```

docker-compose.prod.yml
```
version: '3'

services:
  server:
    ports:
      - 5000:5000
```

With ```kompose convert -f ""docker-compose.yml"" -f ""docker-compose.prod.yml"" ```, there is :
```   
     - name: ""3000""
      port: 3000
      targetPort: 3000
[...]
      spec:
        containers:
        - image: test:dev
          name: test_server
          ports:
          - containerPort: 3000
```
But nothing about port 5000. (with kompose 1.10.0 (8bb0907), on ubuntu 16.04)

I've seen the PR #312 , but they didn't speak about merging multiple docker-compose files.
Is it planned for a future release ?
 
Thanks",closed,False,2018-03-26 12:48:02,2018-05-03 05:01:57
kompose,huntal,https://github.com/kubernetes/kompose/issues/969,https://api.github.com/repos/kubernetes/kompose/issues/969,Cannot kompose up,"Hi, I've been working on some docker project and wanna transform them into a kubernetes cluster. 
```
➜  iotanode_dockerized git:(master) kompose -f docker-compose.yml convert
WARN Unsupported hostname key - ignoring
WARN Volume mount on the host ""./volumes/iota/iota.ini"" isn't supported - ignoring p
ath on the host
WARN Volume mount on the host ""./volumes/iota/ixi"" isn't supported - ignoring path on the host
WARN Volume mount on the host ""./volumes/iota/mainnetdb"" isn't supported - ignoringpath on the host
WARN Volume mount on the host ""/etc/localtime"" isn't supported - ignoring path on the host
INFO Kubernetes file ""iri-node-service.yaml"" created
INFO Kubernetes file ""iri-node-deployment.yaml"" created
INFO Kubernetes file ""iri-node-claim0-persistentvolumeclaim.yaml"" created
INFO Kubernetes file ""iri-node-claim1-persistentvolumeclaim.yaml"" created
INFO Kubernetes file ""iri-node-claim2-persistentvolumeclaim.yaml"" created
INFO Kubernetes file ""iri-node-claim3-persistentvolumeclaim.yaml"" created
```

The convert went okay but when I try to kompose up, here's what happens: 
```
➜  iotanode_dockerized git:(master) ✗ kompose -f iri-node-deployment.yaml up
ERRO Could not parse config for project iotanodedockerized : yaml: unmarshal errors:
  line 1: cannot unmarshal !!str `extensi...` into config.RawService
  line 2: cannot unmarshal !!str `Deployment` into config.RawService
FATA composeObject.Parse() failed, Failed to load compose file: yaml: unmarshal erro
rs:
  line 1: cannot unmarshal !!str `extensi...` into config.RawService
  line 2: cannot unmarshal !!str `Deployment` into config.RawService
➜  iotanode_dockerized git:(master) ✗ kompose up
WARN Unsupported hostname key - ignoring
FATA Error while deploying application: k.Transform failed: image key required withi
n build parameters in order to build and push service 'iri-node'
```

Here's my docker-compose file : 
```
version: '2'

services:
  iri-node: 
    build:
      context: ./iri
      dockerfile: Dockerfile
    container_name: iri-running
    hostname: iota
    volumes: 
      - ./volumes/iota/iota.ini:/iri/iota.ini:ro
      - ./volumes/iota/ixi:/iri/ixi:rw
      - ./volumes/iota/mainnetdb:/iri/mainnetdb:rw
      - /etc/localtime:/etc/localtime:ro
    expose: 
      - ""5556""
    ports: 
      - ""14600:14600/udp""
      - ""15600:15600/tcp""
      - ""14265:14265""
```",closed,False,2018-03-26 13:35:41,2018-09-05 06:57:32
kompose,cdrage,https://github.com/kubernetes/kompose/pull/970,https://api.github.com/repos/kubernetes/kompose/issues/970,1.11.0 Release,,closed,True,2018-03-26 16:03:43,2018-03-26 16:03:58
kompose,jaden-young,https://github.com/kubernetes/kompose/issues/971,https://api.github.com/repos/kubernetes/kompose/issues/971,Minor typos in Makefile,"https://github.com/kubernetes/kompose/blob/39ad6140c33d35954aed38a66155f4ac392ce547/Makefile#L70-L71
Should probably be
```Makefile
.PHONY gen-cmd
gen-cmd:
```
and
https://github.com/kubernetes/kompose/blob/39ad6140c33d35954aed38a66155f4ac392ce547/Makefile#L129
Should probably be
```Makefile
.PHONY test-k8s
```",closed,False,2018-03-28 20:02:00,2018-03-30 13:18:34
kompose,neeon-li,https://github.com/kubernetes/kompose/issues/972,https://api.github.com/repos/kubernetes/kompose/issues/972,Environment value merge failed with multiple docker-compose files,"This may relate to Issue #968. 

Environment value is unable to merge and replaced by the last docker-compose file.
Merge with command `kompose convert -o dev-out.yaml -f base.yaml -f dev.yaml`

base.yaml
```
version: '3'

services:
  web:
    image: richarvey/nginx-php-fpm
    environment:
      - ERRORS=0
      - HIDE_NGINX_HEADERS=0
      - REMOVE_FILES=0
      - RUN_SCRIPTS=0
      - PHP_ERRORS_STDERR=0
      - ENABLE_XDEBUG=0
```

dev.yaml
```
version: '3'

services:
  web:
    environment:
      - ERRORS=1
      - HIDE_NGINX_HEADERS=0
      - REMOVE_FILES=0
      - RUN_SCRIPTS=1
      - PHP_ERRORS_STDERR=1
      - ENABLE_XDEBUG=1

```

But the dev-out.yaml shows
```
apiVersion: v1
items:
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kompose.cmd: kompose convert -o dev-out.yaml -f base.yaml -f dev.yaml
      kompose.version: 1.11.0 ()
    creationTimestamp: null
    labels:
      io.kompose.service: web
    name: web
  spec:
    clusterIP: None
    ports:
    - name: headless
      port: 55555
      targetPort: 0
    selector:
      io.kompose.service: web
  status:
    loadBalancer: {}
- apiVersion: extensions/v1beta1
  kind: Deployment
  metadata:
    annotations:
      kompose.cmd: kompose convert -o dev-out.yaml -f base.yaml -f dev.yaml
      kompose.version: 1.11.0 ()
    creationTimestamp: null
    labels:
      io.kompose.service: web
    name: web
  spec:
    replicas: 1
    strategy: {}
    template:
      metadata:
        creationTimestamp: null
        labels:
          io.kompose.service: web
      spec:
        containers:
        - env:
          - name: ENABLE_XDEBUG
            value: ""0""
          - name: ERRORS
            value: ""0""
          - name: HIDE_NGINX_HEADERS
            value: ""0""
          - name: PHP_ERRORS_STDERR
            value: ""0""
          - name: REMOVE_FILES
            value: ""0""
          - name: RUN_SCRIPTS
            value: ""0""
          image: richarvey/nginx-php-fpm
          name: web
          resources: {}
        restartPolicy: Always
  status: {}
kind: List
metadata: {}
```

The environment value of the container is unable to replace by the `dev.yaml`.",closed,False,2018-03-29 02:44:02,2018-05-03 05:01:33
kompose,jonyhy96,https://github.com/kubernetes/kompose/pull/973,https://api.github.com/repos/kubernetes/kompose/issues/973,typo fix,"typo fix
```release-note
None
```",closed,True,2018-03-29 07:18:36,2018-03-29 11:39:53
kompose,jaden-young,https://github.com/kubernetes/kompose/pull/974,https://api.github.com/repos/kubernetes/kompose/issues/974,Fix typos in Makefile,Closes #971,closed,True,2018-03-29 12:26:15,2018-04-03 16:27:55
kompose,hangyan,https://github.com/kubernetes/kompose/issues/975,https://api.github.com/repos/kubernetes/kompose/issues/975,Remove status field in the generated yaml,"status field seems uncommon in the resource yaml(deployment,daemonset....) before apply.",closed,False,2018-03-30 13:21:39,2018-08-27 15:51:36
kompose,hangyan,https://github.com/kubernetes/kompose/pull/976,https://api.github.com/repos/kubernetes/kompose/issues/976,Support hostname and domainname,,closed,True,2018-03-31 04:01:17,2018-04-11 13:58:19
kompose,hangyan,https://github.com/kubernetes/kompose/pull/977,https://api.github.com/repos/kubernetes/kompose/issues/977,Update dev doc about make gen-cmd,,closed,True,2018-03-31 04:50:38,2018-04-03 16:28:30
kompose,hangyan,https://github.com/kubernetes/kompose/pull/978,https://api.github.com/repos/kubernetes/kompose/issues/978,Fix typos in comments,,closed,True,2018-04-01 08:02:20,2018-04-03 16:29:40
kompose,hangyan,https://github.com/kubernetes/kompose/pull/979,https://api.github.com/repos/kubernetes/kompose/issues/979,Add headless service type label,Also remove the relation between restart and service create,closed,True,2018-04-02 13:48:54,2018-04-16 19:20:28
kompose,jonyhy96,https://github.com/kubernetes/kompose/pull/980,https://api.github.com/repos/kubernetes/kompose/issues/980,typo fix,"typo fix
```release-note
None
```",closed,True,2018-04-03 08:07:15,2018-04-03 08:33:01
kompose,jonyhy96,https://github.com/kubernetes/kompose/pull/981,https://api.github.com/repos/kubernetes/kompose/issues/981,typo fix,"typo fix
```release-note
None
```",closed,True,2018-04-03 08:21:53,2018-04-04 18:28:18
kompose,xianlubird,https://github.com/kubernetes/kompose/issues/982,https://api.github.com/repos/kubernetes/kompose/issues/982,Should we provide a go library to support the third-party integration ? ,"From the code, we can see that kompose read file from local disk. But In many circumstances , we want a string which contains all compose content as a input.  Thought change code to string is feasible,  we'd better support a library that can use as a library ?",closed,False,2018-04-08 09:07:45,2018-04-08 09:15:42
kompose,xianlubird,https://github.com/kubernetes/kompose/pull/983,https://api.github.com/repos/kubernetes/kompose/issues/983,Fix some typo,Signed-off-by: xianlubird <xianlubird@gmail.com>,closed,True,2018-04-11 12:44:20,2018-05-13 12:43:06
kompose,AdamDang,https://github.com/kubernetes/kompose/pull/984,https://api.github.com/repos/kubernetes/kompose/issues/984,Typo fix in glide.yaml,"Line 80: 
""it this case it is OK""->""in this case it is OK""",closed,True,2018-04-15 15:55:20,2018-04-16 05:18:34
kompose,AdamDang,https://github.com/kubernetes/kompose/pull/985,https://api.github.com/repos/kubernetes/kompose/issues/985,Typo fix in conversion.md,Kubernetes uses it's own->Kubernetes uses its own,closed,True,2018-04-15 15:57:45,2018-05-01 02:31:20
kompose,foxundermoon,https://github.com/kubernetes/kompose/issues/986,https://api.github.com/repos/kubernetes/kompose/issues/986,FATA services.xxx.ports.0 must be a string or number,"

```yml
    ports:
      - target: 5010
        published: 5010
        protocol: tcp
```",closed,False,2018-04-16 07:30:03,2018-12-13 15:48:13
kompose,jonyhy96,https://github.com/kubernetes/kompose/pull/987,https://api.github.com/repos/kubernetes/kompose/issues/987,Typo fix,"Change validated -> validates at line  159
```release-note
None
```",closed,True,2018-04-17 03:51:16,2018-04-17 05:36:34
kompose,cdrage,https://github.com/kubernetes/kompose/pull/988,https://api.github.com/repos/kubernetes/kompose/issues/988,1.12.0 Release,,closed,True,2018-04-18 13:59:15,2018-04-18 13:59:34
kompose,jonathanperret,https://github.com/kubernetes/kompose/pull/989,https://api.github.com/repos/kubernetes/kompose/issues/989,Fix typo in conversion.md,,closed,True,2018-04-18 15:34:42,2018-04-18 15:37:48
kompose,xianlubird,https://github.com/kubernetes/kompose/pull/990,https://api.github.com/repos/kubernetes/kompose/issues/990,Fix missing attribute when convert with multiple docker-compose files,"Fix issue #972 and #968

A brief introdction:
- When multiple docker compose files are passed, we should parse every compose file and override previous object if next compose file has this field
- Docker compose merge multiple file, so we should do so
- This function is very useful
- First, I implemented the v3 compose version. Please @cdrage @hangyan help me review. If you guys accept this method, I will do the same thing to v2 compose version.

Thanks .

Signed-off-by: xianlubird <xianlubird@gmail.com>",closed,True,2018-04-26 11:49:25,2018-05-03 07:56:20
kompose,hangyan,https://github.com/kubernetes/kompose/pull/991,https://api.github.com/repos/kubernetes/kompose/issues/991,Remove incorrect logging about headless service,,closed,True,2018-04-26 12:53:12,2018-04-26 19:11:24
kompose,xianlubird,https://github.com/kubernetes/kompose/pull/992,https://api.github.com/repos/kubernetes/kompose/issues/992,Fix golint warnings,"Fix golint warning

```
golint ./cmd/... ./build/... ./pkg/... .
pkg/loader/compose/utils.go:37:2: comment on exported const ServiceTypeHeadless should be of the form ""ServiceTypeHeadless ...""
```

Pls @cdrage @hangyan help review. Thanks",closed,True,2018-04-27 06:35:39,2018-04-27 13:28:49
kompose,xianlubird,https://github.com/kubernetes/kompose/pull/993,https://api.github.com/repos/kubernetes/kompose/issues/993,Fix doc that we have support v3.1 & 3.2,"We have support v3.1 & 3.2

@hangyan @cdrage ",closed,True,2018-04-27 07:22:28,2018-05-13 12:43:22
kompose,xianlubird,https://github.com/kubernetes/kompose/pull/994,https://api.github.com/repos/kubernetes/kompose/issues/994,"Add support for Config, endpoint_mode and 3.3 support","```
Version 3.3
An upgrade of version 3 that introduces new parameters only available with Docker Engine version 17.06.0+, and higher.

Introduces the following additional parameters:

    build labels
    credential_spec
    configs
    deploy endpoint_mode
```


Docker compose v3.3 add four attributes.   For `credential_spec` we shouldn't support. I will work on it , support v3.3 ASAP.

Issue:  https://github.com/kubernetes/kompose/issues/914 and https://github.com/kubernetes/kompose/issues/865

@cdrage 

",closed,True,2018-04-27 08:23:46,2018-08-01 19:09:01
kompose,AdamDang,https://github.com/kubernetes/kompose/pull/995,https://api.github.com/repos/kubernetes/kompose/issues/995,Correct the proper nouns to be in capital letter,"The proper nouns like: Kubernetes, OpenShift, Transformer should be in capital letters, while there some places in the doc use lowercases.",closed,True,2018-04-27 14:02:15,2018-05-01 02:05:16
kompose,AdamDang,https://github.com/kubernetes/kompose/pull/996,https://api.github.com/repos/kubernetes/kompose/issues/996,Typo fix: containes->contains,Line 460: containes->contains,closed,True,2018-04-29 16:56:45,2018-06-03 02:40:40
kompose,hangyan,https://github.com/kubernetes/kompose/pull/997,https://api.github.com/repos/kubernetes/kompose/issues/997,Remove go1.6 support in ci,"From the error logs of the build, the root cause is that golint have abandon the support for 1.6, and because golang already have version1.9/1.10, I think we can do that too.

https://travis-ci.org/kubernetes/kompose/jobs/373755156
@cdrage ",closed,True,2018-05-02 05:12:13,2018-05-02 13:11:05
kompose,AdamDang,https://github.com/kubernetes/kompose/pull/998,https://api.github.com/repos/kubernetes/kompose/issues/998,Typo fix: wil->will,wil->will,closed,True,2018-05-02 11:10:44,2018-05-02 13:12:44
kompose,xianlubird,https://github.com/kubernetes/kompose/pull/999,https://api.github.com/repos/kubernetes/kompose/issues/999,Support compose global deploy mode to daemonset,"Support compose global deploy mode to daemonset

@cdrage @hangyan Pls help to review if you are free. Thanks.",closed,True,2018-05-04 09:37:20,2018-05-07 08:00:34
kompose,xianlubird,https://github.com/kubernetes/kompose/pull/1000,https://api.github.com/repos/kubernetes/kompose/issues/1000,Add some deprecated info warning,"```
kompose convert --replication-controller
Flag --replication-controller has been deprecated, use --controller
```
Add deprecated info in help message",closed,True,2018-05-07 03:41:40,2018-05-13 12:42:45
kompose,xianlubird,https://github.com/kubernetes/kompose/pull/1001,https://api.github.com/repos/kubernetes/kompose/issues/1001,Add label 'kompose.controller.type' set service convert controller type,"A standard wordpress compose like this
```
web:
  image: wordpress:4.5
  ports:
    - '80'
  environment:
    WORDPRESS_AUTH_KEY: changeme
    WORDPRESS_SECURE_AUTH_KEY: changeme
    WORDPRESS_LOGGED_IN_KEY: changeme
    WORDPRESS_NONCE_KEY: changeme
    WORDPRESS_AUTH_SALT: changeme
    WORDPRESS_SECURE_AUTH_SALT: changeme
    WORDPRESS_LOGGED_IN_SALT: changeme
    WORDPRESS_NONCE_SALT: changeme
    WORDPRESS_NONCE_AA: changeme
  restart: always
  links:
    - 'db:mysql'
db:
  image: mysql:5.7
  environment:
    MYSQL_ROOT_PASSWORD: password
  restart: always
  labels:
    project.logs: /var/log/mysql
```

For service `db`, we'd better convert it to `StatefulSet`. But if we run command `kompose convert -f `, all of them are converted to `Deployment`. We have to split them into two compose file.So we'd better support a label which can control what type you want to convert.

After that, a compose like this
```
web:
  image: wordpress:4.5
  ports:
    - '80'
  environment:
    WORDPRESS_AUTH_KEY: changeme
    WORDPRESS_SECURE_AUTH_KEY: changeme
    WORDPRESS_LOGGED_IN_KEY: changeme
    WORDPRESS_NONCE_KEY: changeme
    WORDPRESS_AUTH_SALT: changeme
    WORDPRESS_SECURE_AUTH_SALT: changeme
    WORDPRESS_LOGGED_IN_SALT: changeme
    WORDPRESS_NONCE_SALT: changeme
    WORDPRESS_NONCE_AA: changeme
  restart: always
  links:
    - 'db:mysql'
db:
  image: mysql:5.7
  environment:
    MYSQL_ROOT_PASSWORD: password
  restart: always
  labels:
    project.logs: /var/log/mysql
    kompose.controller.type: daemonset
```
So service web convert to `Deployment`, service db convert to `StatefulSet`, it's very useful.


What's your opinion, @cdrage @hangyan ",closed,True,2018-05-07 11:24:26,2018-05-13 07:13:46
kompose,posix4e,https://github.com/kubernetes/kompose/issues/1002,https://api.github.com/repos/kubernetes/kompose/issues/1002,Activate downward api,"Recently we wanted to get access to our namespace as an envvar. K8s can do this via the downward api
https://kubernetes-v1-4.github.io/docs/user-guide/downward-api/
It would be trivial to allow kompose users to activate this metadata as envvar.",closed,False,2018-05-08 19:07:27,2018-10-11 17:08:08
kompose,xianlubird,https://github.com/kubernetes/kompose/issues/1003,https://api.github.com/repos/kubernetes/kompose/issues/1003,Glide update error,"I want to upgrade k8s vendor to a newer version. I change `github.com/openshift/origin` version from `v1.4.0-rc1` to `v3.9.0`, then run `glide update --strip-vendor`. There're many errors message

```
[ERROR]	Error looking for k8s.io/api/apps/v1beta1: Unable to get repository: Cloning into '/root/.glide/cache/src/git-github.com-openshift-kubernetes-api'...
[ERROR]	Error scanning k8s.io/api/autoscaling/v1: cannot find package ""."" in:
	/root/.glide/cache/src/git-github.com-openshift-kubernetes-api/autoscaling/v1
[ERROR]	Error scanning k8s.io/api/batch/v1: cannot find package ""."" in:
	/root/.glide/cache/src/git-github.com-openshift-kubernetes-api/batch/v1
[ERROR]	Error scanning k8s.io/api/batch/v1beta1: cannot find package ""."" in:
	/root/.glide/cache/src/git-github.com-openshift-kubernetes-api/batch/v1beta1
[ERROR]	Error scanning k8s.io/api/batch/v2alpha1: cannot find package ""."" in:
	/root/.glide/cache/src/git-github.com-openshift-kubernetes-api/batch/v2alpha1
[ERROR]	Error scanning k8s.io/api/core/v1: cannot find package ""."" in:
	/root/.glide/cache/src/git-github.com-openshift-kubernetes-api/core/v1
```

So I can't upgrade k8s vendor to a newer version.   I find a issue https://github.com/redhat-developer/odo/issues/377, when I clean all glide cache and vendor folder, it always show above error message.   

@cdrage @hangyan Do you have some suggestion about this ? Need help.",closed,False,2018-05-11 08:07:23,2018-08-13 11:52:16
kompose,beefee,https://github.com/kubernetes/kompose/issues/1004,https://api.github.com/repos/kubernetes/kompose/issues/1004,when to support this parameter build: args?,"build: args not implemented yet.
need to implemented quickly.
![qq20180512-134033](https://user-images.githubusercontent.com/38183891/39954052-a982f946-55ea-11e8-9e0e-f1b267a72d26.jpg)
",closed,False,2018-05-12 05:45:05,2018-10-10 14:42:08
kompose,mariojacobo,https://github.com/kubernetes/kompose/issues/1005,https://api.github.com/repos/kubernetes/kompose/issues/1005,Kubernetes multiple volumeMounts with subPath and 1 configmap volume - onle 1 volumeMount works,"Hello, 

ISSUE
=====
When a deployment has multiple volumeMounts and only 1 volume (from configMap), only the last volumeMount is actually being mounted in the PODs; the rest do not get mounted; I have 3 volumeMounts with subPath specified to each required file that I want mounted. 

STEPS to REPRO
============
1. create configmap: $ kubectl create configmap nginx-config --from-file=nginx.conf --from-file=default.conf --from-file=index.html 
2. create the deployment: $ kubectl create -f deployment.yaml 

deployment.yaml
=============
apiVersion: apps/v1beta1
kind: Deployment
metadata:
  name: nginx
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx
        volumeMounts:
          - name: nginx-config
            mountPath: /etc/nginx/nginx.conf
            subPath: nginx.conf
            mountPath: /etc/nginx/conf.d/default.conf
            subPath: default.conf
            mountPath: /usr/share/nginx/html/index.html
            subPath: index.html   
        ports:
        - containerPort: 80
      volumes:
        - name: nginx-config
          configMap:
            name: nginx-config

Investigation
==========
1. configmap nginx-config has all 3 required sections: 
$ kubectl describe configmap nginx-config | egrep  ""conf|html""
Name:         nginx-config
default.conf:
index.html:
nginx.conf:
 
2.   If I connect to the POD/s, only ""index.html"" has been mounted from the configMap, the rest of the files are default.  if I switch the order of the volumeMounts, then the same behavior is seen, the last entry gets mounted. 

Workaround
==========
As a workaround, I needed to create 3 separate configmaps and add 3 volumes (configmap) in the deployment spec. that seems to work properly, however it would be nice to have 1 single configmap volume to keep things tidy. ",closed,False,2018-05-14 09:54:18,2018-09-24 15:28:07
kompose,cdrage,https://github.com/kubernetes/kompose/pull/1006,https://api.github.com/repos/kubernetes/kompose/issues/1006,1.13.0 Release,,closed,True,2018-05-14 13:16:14,2018-05-14 13:16:44
kompose,hangyan,https://github.com/kubernetes/kompose/pull/1007,https://api.github.com/repos/kubernetes/kompose/issues/1007,Add support for file based secret,"related to #296 

Notes:
1. External secret is not supported
2. may have conflict with #994 
3. import a new package cast(https://github.com/spf13/cast)
",closed,True,2018-05-15 03:24:39,2019-03-29 16:51:29
kompose,skyc024,https://github.com/kubernetes/kompose/pull/1008,https://api.github.com/repos/kubernetes/kompose/issues/1008,Fix golint warnings,,closed,True,2018-05-16 00:40:02,2018-05-16 03:58:10
kompose,skyc024,https://github.com/kubernetes/kompose/pull/1009,https://api.github.com/repos/kubernetes/kompose/issues/1009,Fix golint warnings,,closed,True,2018-05-16 03:58:39,2018-05-17 06:26:19
kompose,Journerist,https://github.com/kubernetes/kompose/issues/1010,https://api.github.com/repos/kubernetes/kompose/issues/1010,Missing service metadata.labels mapping,"Hi,

first, I really like the project, thank you very much!

I am not able to map compose values to service's metadata.labels.

example:
```
version: ""3""
services:
  selenium-hub:
    image: selenium/hub:3.12.0-americium
    container_name: selenium-hub
    ports:
      - ""4444:4444""
    deploy:
      resources:
        limits:
          cpus: '0.5'
          memory: 500M
        reservations:
          cpus: '0.5'
          memory: 500M
    labels:
      service.beta.kubernetes.io/aws-load-balancer-internal: 0.0.0.0/0
      kompose.service.type: LoadBalancer
```

The result is:

```
apiVersion: v1
kind: Service
metadata:
  annotations:
    kompose.cmd: kompose convert
    kompose.service.type: LoadBalancer
    kompose.version: 1.4.0 (c7964e7)
    service.beta.kubernetes.io/aws-load-balancer-internal: 0.0.0.0/0
  creationTimestamp: null
  labels:
    io.kompose.service: selenium-hub
  name: selenium-hub
spec:
  ports:
  - name: ""4444""
    port: 4444
    targetPort: 4444
  selector:
    io.kompose.service: selenium-hub
  type: LoadBalancer
status:
  loadBalancer: {}
```

What I need is the following:
```
apiVersion: v1
kind: Service
metadata:
  annotations:
    kompose.cmd: kompose convert
    kompose.service.type: LoadBalancer
    kompose.version: 1.4.0 (c7964e7)
    service.beta.kubernetes.io/aws-load-balancer-internal: 0.0.0.0/0
  creationTimestamp: null
  labels:
    io.kompose.service: selenium-hub
    dns: route53   <--- this field is missing
  name: selenium-hub
spec:
  ports:
  - name: ""4444""
    port: 4444
    targetPort: 4444
  selector:
    io.kompose.service: selenium-hub
  type: LoadBalancer
status:
  loadBalancer: {}
```
Maybe I missed something but I couldn't find any hint in the conversion matrix. I need to find a way to make Kompose creating the **dns: route53** label.

Any ideas how to achieve this?",closed,False,2018-05-16 09:38:40,2018-10-14 03:05:07
kompose,tongpu,https://github.com/kubernetes/kompose/pull/1011,https://api.github.com/repos/kubernetes/kompose/issues/1011,Fix typo in integrations.md,s/Adfinis SysGroup AG/Adfinis SyGroup AG/,closed,True,2018-05-16 15:26:15,2018-05-17 06:09:47
kompose,choig,https://github.com/kubernetes/kompose/issues/1012,https://api.github.com/repos/kubernetes/kompose/issues/1012,multiple containers in a pod sharing volume,"When I use `kompose up` or `kompose convert`, I get each service as its own pod with single container.  One functionality I am trying to use in kubernetes is the docker-in-docker (dind) that sits along side my execution agent in the same pod.  I have this working with kubectl create if using the same `emptyDir` to share both workspace and docker.sock for both containers.  I also have this working with `docker-compose` but this does not convert over to kubernetes without multiple containers in a pod support.

I have gone thru the docs and do not see mention of multiple container pod.  Plus in other forums, I have seen the same question posted without any solution.  Thus I am posting here after seeing the RFE for service type.  Along the same lines of `kompose.service.type` that can switch to `loadbalancer`, I wondered if it would be possible to:

- use a specific label that can group services/containers together into a pod 
- and also iterate over the volume mounts that share the same location to be combined together when `--volumes emptyDir` is present

",closed,False,2018-05-17 18:33:17,2018-10-26 06:51:13
kompose,pasikon,https://github.com/kubernetes/kompose/issues/1013,https://api.github.com/repos/kubernetes/kompose/issues/1013,'environment' with 'env-file' specified together for service in docker-compose.yml don't  work,"In such case key-value pairs in 'environment' sections are omitted.

For example

```json
services:
  namenode:
    image: bde2020/hadoop-namenode:2.0.0-hadoop2.7.4-java8
    volumes:
      - namenode:/hadoop/dfs/name
    environment:
      - CLUSTER_NAME=test
    env_file:
      - ./hadoop-hive-namenode.env
    ports:
      - ""50070:50070""
      - ""8020:8020""
```

`CLUSTER_NAME` won't be set",closed,False,2018-05-22 19:11:07,2018-07-10 05:59:00
kompose,jicowan,https://github.com/kubernetes/kompose/issues/1014,https://api.github.com/repos/kubernetes/kompose/issues/1014,Add support for Docker stack files,"With Docker discontinuing it's support of Docker Cloud, it would be useful to have a tool to convert stack files into k8s manifests. ",closed,False,2018-05-23 14:13:33,2018-10-21 17:03:13
kompose,jessfraz,https://github.com/kubernetes/kompose/issues/1015,https://api.github.com/repos/kubernetes/kompose/issues/1015,Create a SECURITY_CONTACTS file.,"As per the email sent to kubernetes-dev[1], please create a SECURITY_CONTACTS
file.

The template for the file can be found in the kubernetes-template repository[2].
A description for the file is in the steering-committee docs[3], you might need
to search that page for ""Security Contacts"".

Please feel free to ping me on the PR when you make it, otherwise I will see when
you close this issue. :)

Thanks so much, let me know if you have any questions.

(This issue was generated from a tool, apologies for any weirdness.)

[1] https://groups.google.com/forum/#!topic/kubernetes-dev/codeiIoQ6QE
[2] https://github.com/kubernetes/kubernetes-template-project/blob/master/SECURITY_CONTACTS
[3] https://github.com/kubernetes/community/blob/master/committee-steering/governance/sig-governance-template-short.md
",closed,False,2018-05-24 14:37:49,2018-08-14 17:42:59
kompose,cdrage,https://github.com/kubernetes/kompose/pull/1016,https://api.github.com/repos/kubernetes/kompose/issues/1016,Add security contacts,"As per
https://github.com/kubernetes/community/blob/master/committee-steering/governance/sig-governance-template-short.md
a SECURITY_CONTACTS file has been created.",closed,True,2018-05-24 14:57:28,2018-05-28 14:10:50
kompose,cdrage,https://github.com/kubernetes/kompose/pull/1017,https://api.github.com/repos/kubernetes/kompose/issues/1017,Update contact information for sebgoa,I've updated your contact information @sebgoa in the OWNERS file.,closed,True,2018-05-24 15:00:26,2018-05-28 09:10:18
kompose,AdamDang,https://github.com/kubernetes/kompose/pull/1018,https://api.github.com/repos/kubernetes/kompose/issues/1018,Typo fix in tests.sh: kubernets->kubernetes,Line 496: Kubernets->Kubernetes,closed,True,2018-05-25 05:06:53,2018-05-25 06:03:58
kompose,booboothefool,https://github.com/kubernetes/kompose/issues/1019,https://api.github.com/repos/kubernetes/kompose/issues/1019,"Failing with my Node.js, RabbitMQ app","This `docker-compose.yml` gives me failing (doesn't run on kubectl):
- rabbitmq deployment
- node pod
- rabbitmq pod
- rabbitmq replica set
- node-claim0 persistent volume claim (missing persistent volume?)

The rest of the generated .yaml e.g. all of the MongoDB seems to work.

Please let me know if I am missing any steps or something seems wrong. Thanks!

```
version: ""3""

services:
  node:
    build: .
    volumes:
      - ~/.somedir:/root/.somedir
    ports:
      - 8085:8085
    depends_on:
      - rabbitmq
      - mongo1
      - mongo2
      - mongo3
    restart: on-failure
  rabbitmq:
    image: rabbitmq
    ports:
      - 5672:5672
  mongo1:
    image: mongo
    ports:
      - 27017:27017
    command: mongod --replSet rs0
  mongo2:
    image: mongo
    ports:
      - 27018:27017
    command: mongod --replSet rs0
  mongo3:
    image: mongo
    ports:
      - 27019:27017
    command: mongod --replSet rs0

networks:
  default:
      external:
          name: mynet
```",closed,False,2018-05-25 23:10:48,2018-08-20 13:21:38
kompose,hangyan,https://github.com/kubernetes/kompose/pull/1020,https://api.github.com/repos/kubernetes/kompose/issues/1020,Fix environment with env_file bug,Fix #1013 ,closed,True,2018-05-26 09:13:50,2018-07-10 05:59:00
kompose,AdamDang,https://github.com/kubernetes/kompose/pull/1021,https://api.github.com/repos/kubernetes/kompose/issues/1021,Typo fix in maven-example.md,"Line 2& Line 81: Lets->Let's
Line 25: Adds->Add",closed,True,2018-05-27 08:07:17,2018-06-27 15:38:00
kompose,andreysaksonov,https://github.com/kubernetes/kompose/issues/1022,https://api.github.com/repos/kubernetes/kompose/issues/1022,Support specifying nodePort via label,For NodePort services it is possible to set the port via spec.ports[*].nodePort field. Looks like it is not supported in kompose yet,closed,False,2018-05-30 06:09:39,2018-10-31 05:48:15
kompose,robinwu0411,https://github.com/kubernetes/kompose/issues/1023,https://api.github.com/repos/kubernetes/kompose/issues/1023,getsockopt: connection refused when executing kompose up,"I have a docker compose script in my project and now i want to deploy it on google cloud kubernetes cluster.
in my local machine i have gcloud sdk and kompose and when i execute ""kompose up"" I got this error message: Get http://localhost:8080/XXX: dial tcp [::1]:8080: getsockopt: connection refused.
So I'm wondering if something wrong with the kubernetes hosted on gcloud? like do I need to configure something for kubernetes?
Thank you!",closed,False,2018-06-01 20:09:29,2018-08-20 13:22:18
kompose,AdamDang,https://github.com/kubernetes/kompose/pull/1024,https://api.github.com/repos/kubernetes/kompose/issues/1024,Typo fix: inital->initial,inital->initial,closed,True,2018-06-02 11:54:39,2018-06-03 03:14:52
kompose,AdamDang,https://github.com/kubernetes/kompose/pull/1025,https://api.github.com/repos/kubernetes/kompose/issues/1025,Typo fix: containes->contains,Line 484: containes->contains,closed,True,2018-06-03 02:53:49,2018-06-03 03:14:38
kompose,hangyan,https://github.com/kubernetes/kompose/pull/1026,https://api.github.com/repos/kubernetes/kompose/issues/1026,Fix all typos in changelog,,closed,True,2018-06-03 03:14:04,2018-06-04 13:48:45
kompose,mirake,https://github.com/kubernetes/kompose/pull/1027,https://api.github.com/repos/kubernetes/kompose/issues/1027,Typo fix: overwite -> overwrite,,closed,True,2018-06-04 07:34:56,2018-06-04 07:37:24
kompose,mirake,https://github.com/kubernetes/kompose/pull/1028,https://api.github.com/repos/kubernetes/kompose/issues/1028,Typo fix: overwite -> overwrite,,closed,True,2018-06-04 07:46:31,2018-06-05 11:41:49
kompose,denverdino,https://github.com/kubernetes/kompose/pull/1029,https://api.github.com/repos/kubernetes/kompose/issues/1029,Fix invalid port name with uppercase characters,"When there are multiple protocol for one port, the generated port name is invalid which has uppercase chars

E.g. 

```
version: '2'
services:
  bootstrap:
    image: test
    ports:
      - ""1234:1234""
      - ""1234:1234/udp""
```

The generated service config is as following

```
apiVersion: v1
kind: Service
metadata:
  annotations:
    kompose.version: 1.13.0 (84fa826)
  creationTimestamp: null
  labels:
    io.kompose.service: bootstrap
  name: bootstrap
spec:
  ports:
  - name: ""1234""
    port: 1234
    targetPort: 1234
  - name: 1234-UDP
    port: 1234
    protocol: UDP
    targetPort: 1234
  selector:
    io.kompose.service: bootstrap
```

The following exception will be return when creating service

The Service ""bootstrap"" is invalid: spec.ports[1].name: Invalid value: ""1234-UDP"": a DNS-1123 label must consist of lower case alphanumeric characters or '-', and must start and end with an alphanumeric character (e.g. 'my-name',  or '123-abc', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?')

We should append the lower case of protocol as part of the port name.

Thanks",closed,True,2018-06-04 11:59:24,2018-06-05 06:19:10
kompose,cdrage,https://github.com/kubernetes/kompose/pull/1030,https://api.github.com/repos/kubernetes/kompose/issues/1030,1.14.0 Release,,closed,True,2018-06-04 17:50:36,2018-06-04 17:50:55
kompose,mikesimos,https://github.com/kubernetes/kompose/pull/1031,https://api.github.com/repos/kubernetes/kompose/issues/1031,Add kompose.image-pull-secret,fixes #897,closed,True,2018-06-05 14:00:00,2018-07-24 13:48:20
kompose,mirake,https://github.com/kubernetes/kompose/pull/1032,https://api.github.com/repos/kubernetes/kompose/issues/1032,Typo fix: erroring -> error,,closed,True,2018-06-05 14:11:25,2018-06-06 12:55:34
kompose,mirake,https://github.com/kubernetes/kompose/pull/1033,https://api.github.com/repos/kubernetes/kompose/issues/1033,Remove unused param,,closed,True,2018-06-06 12:59:57,2018-06-06 13:11:15
kompose,mirake,https://github.com/kubernetes/kompose/pull/1034,https://api.github.com/repos/kubernetes/kompose/issues/1034,Remove unused param,,closed,True,2018-06-06 13:34:34,2018-06-06 13:59:55
kompose,mikesimos,https://github.com/kubernetes/kompose/issues/1035,https://api.github.com/repos/kubernetes/kompose/issues/1035,Support HorizontalPodAutoscaler via label,This is a really nice k8s feature. Would supporting it via a `kompose.` label be the way to move forward here?,closed,False,2018-06-06 14:07:50,2019-01-17 15:28:13
kompose,mikesimos,https://github.com/kubernetes/kompose/issues/1036,https://api.github.com/repos/kubernetes/kompose/issues/1036,Support imagePullPolicy via label.,Would `kompose.image-pull-policy` be a good candidate name for this label?,closed,False,2018-06-06 14:09:41,2018-11-15 22:58:15
kompose,cdrage,https://github.com/kubernetes/kompose/pull/1037,https://api.github.com/repos/kubernetes/kompose/issues/1037,Remove short from testing,"We shouldn't add ""-short"" as this may break testing. See:

```
-short
    Tell long-running tests to shorten their run time.
    It is off by default but set during all.bash so that installing
    the Go tree can run a sanity check but not spend time running
    exhaustive tests.
```",closed,True,2018-06-06 14:52:56,2018-07-24 12:54:54
kompose,eengelking,https://github.com/kubernetes/kompose/issues/1038,https://api.github.com/repos/kubernetes/kompose/issues/1038,Support for converting docker-compose.yml files using YAML Merge Key,"My team often uses YAML merge keys to keep our docker-compose.yml files small and to prevent repetition of tasks within the file.  Support for converting these would be very beneficial.  

http://yaml.org/type/merge.html

I'm currently receiving the following errors when attempting to convert the files ATM:

```Service 'portal' configuration key 'logging' contains an invalid type, it should be an array or object```

Example configuration:

```  
 cli:
    image: <imageURL>
    logging: &cli-logging
      driver: 'json-file'
      options:
        max-size: '200k'
        max-file: 5

  portal:
    image: <imageURL>
    logging:
      <<: *cli-labels
```",closed,False,2018-06-06 22:38:53,2019-02-07 05:34:22
kompose,jvitor83,https://github.com/kubernetes/kompose/pull/1039,https://api.github.com/repos/kubernetes/kompose/issues/1039,Support to label kompose.service.image-pull-policy,"This PR gives the label: `kompose.service.image-pull-policy`

resolve https://github.com/kubernetes/kompose/issues/1036",closed,True,2018-06-12 02:07:52,2018-06-18 20:49:52
kompose,mikesimos,https://github.com/kubernetes/kompose/pull/1040,https://api.github.com/repos/kubernetes/kompose/issues/1040,Add kompose.image-pull-secret and kompose.image-pull-policy,,closed,True,2018-06-13 13:11:47,2019-01-13 16:56:52
kompose,jvitor83,https://github.com/kubernetes/kompose/pull/1041,https://api.github.com/repos/kubernetes/kompose/issues/1041,Support node.labels at placement,"This PR just give the ability to put any custom label (not mapped) at `placement.constraints`
```
    deploy:
      placement:
        constraints:
        - node.labels.something == anything
```

Just for link the original PR for placement: https://github.com/kubernetes/kompose/pull/813",closed,True,2018-06-21 13:59:30,2018-07-05 03:38:26
kompose,mikesimos,https://github.com/kubernetes/kompose/pull/1042,https://api.github.com/repos/kubernetes/kompose/issues/1042,Add support for HorizontalPodAutoscaler via labels.,,closed,True,2018-06-27 19:15:24,2018-06-27 19:15:37
kompose,BenderV,https://github.com/kubernetes/kompose/issues/1043,https://api.github.com/repos/kubernetes/kompose/issues/1043,Unable to push to Google Cloud,"I've tried every way to use Kompose, but I've always the same issue.

docker-compose.yml (with xxx being my google project name)
```
version: ""3""
services:
  book-generator:
    image: gcr.io/xxx/book-generator:latest
    build: book-generator
    ports:
      - ""5000:5000""
```

```
INFO Build key detected. Attempting to build and push image 'gcr.io/xxx/book-generator:latest'
INFO Building image 'gcr.io/xxx/book-generator:latest' from directory 'book-generator'
INFO Image 'gcr.io/xxx/book-generator:latest' from directory 'book-generator' built successfully
INFO Pushing image 'xxx/book-generator:latest' to registry 'gcr.io'
WARN Unable to retrieve .docker/config.json authentication details. Check that 'docker login' works successfully on the command line.: Failed to read authentication from dockercfg
INFO Authentication credentials are not detected. Will try push without authentication.
INFO Attempting authentication credentials 'gcr.io
ERRO Unable to push image 'xxx/book-generator:latest' to registry 'gcr.io'. Error: unauthorized: You don't have the needed permissions to perform this operation, and you may have invalid credentials. To authenticate your request, follow the steps in: https://cloud.google.com/container-registry/docs/advanced-authentication
FATA Error while deploying application: k.Transform failed: Unable to push Docker image for service book-generator: unable to push docker image(s). Check that `docker login` works successfully on the command line
```

`~/.docker/config.json`
```
{
  ""auths"": {
    ""https://staging-k8s.gcr.io"": {},
    ""https://eu.gcr.io"": {},
    ""https://index.docker.io/v1/"": {},
    ""https://gcr.io"": {},
    ""staging-k8s.gcr.io"": {},
    ""asia.gcr.io"": {},
    ""gcr.io"": {},
    ""k8s.gcr.io"": {},
    ""us.gcr.io"": {},
    ""https://us.gcr.io"": {},
    ""https://k8s.gcr.io"": {},
    ""https://asia.gcr.io"": {},
    ""eu.gcr.io"": {}
  },
  ""credHelpers"": {
    ""gcr.io"": ""gcloud"",
    ""us.gcr.io"": ""gcloud"",
    ""eu.gcr.io"": ""gcloud"",
    ""asia.gcr.io"": ""gcloud"",
    ""staging-k8s.gcr.io"": ""gcloud""
  },
  ""credsStore"": ""osxkeychain"",
  ""HttpHeaders"": {
    ""User-Agent"": ""Docker-Client/18.03.1-ce (darwin)""
  }
}
```

I tried every type of login but I've always the same error. What is really surprising is that a direct:
`gcloud docker -- push gcr.io/xxx/book-generator:latest` works fine

Can you tell me how can I fix this issue ?",open,False,2018-06-28 12:50:10,2019-01-11 04:44:57
kompose,cdrage,https://github.com/kubernetes/kompose/pull/1044,https://api.github.com/repos/kubernetes/kompose/issues/1044,1.15.0 Release,,closed,True,2018-06-28 16:05:05,2018-06-28 16:05:26
kompose,spawnia,https://github.com/kubernetes/kompose/issues/1045,https://api.github.com/repos/kubernetes/kompose/issues/1045,Add official docker image build,"I would like use kompose packaged as a docker image.

https://hub.docker.com/r/femtopixel/kompose/

While this works, it would be nice to either have an official image or at least have this linked in the readme.",open,False,2018-07-03 13:12:15,2019-03-03 21:51:48
kompose,jardilio,https://github.com/kubernetes/kompose/issues/1046,https://api.github.com/repos/kubernetes/kompose/issues/1046,Support for PVC Access Mode ReadWriteMany,"Currently, looks like convert only covers cases for ReadOnly and ReadWriteOnce, but not ReadWriteMany. Use case is when you have more than one service that share a common volume. Ideally it would pick up in docker-compose if volume is linked to multiple services and do the conversion. Alternatively, could use labels to manually map if needed.",closed,False,2018-07-04 23:11:20,2018-12-07 07:18:31
kompose,surajnarwade,https://github.com/kubernetes/kompose/pull/1047,https://api.github.com/repos/kubernetes/kompose/issues/1047,Add surajnarwade in OWNER file,,closed,True,2018-07-05 08:31:43,2018-07-09 16:02:31
kompose,Uelb,https://github.com/kubernetes/kompose/issues/1048,https://api.github.com/repos/kubernetes/kompose/issues/1048,Multiple compose files seems to be broken,"Hi,

I'm trying to convert 2 different compose files :

```yaml
# docker-compose.yml
version: '2'
services:
  app:
    command: script/run.sh
    ports:
      - 3000
  nginx:
    image: nginx
    volumes_from:
      - app
    depends_on:
      - app
```

And 
```yaml
# docker-compose.production.yml
version: '2'
services:
  app:
    build:
      context: .
      dockerfile: Dockerfile.prod
    image: my_image
    volumes:
      - ./file_storage:/app/public/system/
      - assets:/app/public/assets/
    environment:
      PASS: ${PASS}
  nginx:
    ports:
      - 80
    volumes:
      - ./nginx.production.conf:/etc/nginx/conf.d/default.conf
volumes:
  assets:
networks:
  nginx_default:
    external: true
```

I have an error when running : 
```
kompose convert --stdout -f docker-compose.yml -f docker-compose.production.yml

ERRO Could not parse config for project members : Service 'app' has neither an image nor a build context specified. At least one must be provided.
FATA composeObject.Parse() failed, Failed to load compose file: Service 'app' has neither an image nor a build context specified. At least one must be provided.
```

It seems like the docker-compose version takes priority and that the docker-compose production yml is not read. When I change the order of the -f options, I have a similar error with the nginx service having no build context.

My kompose version is 1.15.0 (e3cd4d4).
My OS is MAC OS High Sierra (10.13.14)

When using docker-compose cli, I successfully can run this configuration with `docker-compose -f docker-compose.yml -f docker-compose.production.yml up`

I have trouble understanding why it does not work correctly.",closed,False,2018-07-09 13:48:32,2018-12-07 09:20:31
kompose,suntorytimed,https://github.com/kubernetes/kompose/issues/1049,https://api.github.com/repos/kubernetes/kompose/issues/1049,Installation Instructions for openSUSE/SLE,"**Is this a BUG REPORT or FEATURE REQUEST? (choose one):**
This is a formal feature request to follow the CONTRIBUTING.md

The README.md shows several installation methods which include Cent OS, Fedora, macOS, Windows and others. Now there is also a packaged version for openSUSE/SUSE systems available. I have already forked an created a commit ready for a pull request, which adds a link to the official package repository.",closed,False,2018-07-10 08:45:08,2018-08-02 04:01:25
kompose,suntorytimed,https://github.com/kubernetes/kompose/pull/1050,https://api.github.com/repos/kubernetes/kompose/issues/1050,Add installation instructions for openSUSE/SLE,"This adds installation instructions for the packaged version of kompose available on OBS for openSUSE and SUSE Linux Enterprise.

Patch for Issue #1049 ",closed,True,2018-07-10 09:03:58,2018-07-24 13:44:04
kompose,mbana,https://github.com/kubernetes/kompose/issues/1051,https://api.github.com/repos/kubernetes/kompose/issues/1051,Node Taints: is this supported.,"Hello,

I am looking to specify a node taint as per this documentation: https://cloud.google.com/kubernetes-engine/docs/how-to/node-taints.

Is this currently supported? I can't find examples of this. If so, please share a snippet.

Many thanks,",closed,False,2018-07-10 17:08:41,2019-02-16 15:46:09
kompose,mbana,https://github.com/kubernetes/kompose/issues/1052,https://api.github.com/repos/kubernetes/kompose/issues/1052,imagePullPolicy: is there way of specifying this,"https://kubernetes.io/docs/concepts/containers/images/#updating-images

Is the above supported, if not, is there a way of attaching arbitrary metadata to a container?",closed,False,2018-07-12 13:13:08,2019-01-05 13:46:30
kompose,edvorg,https://github.com/kubernetes/kompose/issues/1053,https://api.github.com/repos/kubernetes/kompose/issues/1053,Init Containers,"Hi is there a way to specify init containers for pods in docker-compose.yml?
https://kubernetes.io/docs/concepts/workloads/pods/init-containers/",closed,False,2018-07-13 04:04:10,2018-08-29 07:06:34
kompose,prachidamle,https://github.com/kubernetes/kompose/issues/1054,https://api.github.com/repos/kubernetes/kompose/issues/1054,hostPort in deployment spec: is this supported?,"If I have a port mapping specified in docker-compose.yml file, using the recent Kompose tool release , the generated deployment.yaml does not have the hostPort specified.

Thus if my docker-compose.yml file says:
```
version: ""2""
services:  
  result:
        image: tmadams333/example-voting-app-result:latest
        ports:
          - ""5001:80""
```
Then how can I  specify that the public port ""5001"" be exposed as a hostPort in my k8s cluster?

If I deploy the generated *service.yaml and *deployment.yaml then my deployment does not get exposed on port 5001 as-is.
",closed,False,2018-07-18 23:44:53,2019-01-11 03:57:20
kompose,cdrage,https://github.com/kubernetes/kompose/pull/1055,https://api.github.com/repos/kubernetes/kompose/issues/1055,1.16.0 Release,,closed,True,2018-07-24 16:54:22,2018-07-24 16:54:30
kompose,fentas,https://github.com/kubernetes/kompose/issues/1056,https://api.github.com/repos/kubernetes/kompose/issues/1056,read input from stdin does not work,"Simple `docker-compose.yaml`
```yaml
version: '3'
services:
  backend:
    image: helloworld
```

`kompose convert --stdout -f docker-compose.yaml` works with no problems but
```sh
bash-4.4# cat docker-compose.yaml | kompose convert --stdout -f -
ERRO Could not parse config for project application : yaml: unmarshal errors:
  line 1: cannot unmarshal !!str `3` into config.RawService 
FATA composeObject.Parse() failed, Failed to load compose file: yaml: unmarshal errors:
  line 1: cannot unmarshal !!str `3` into config.RawService 
```
don't.

```sh
bash-4.4# kompose version
1.16.0 (0c01309)
```",closed,False,2018-07-26 12:00:38,2018-10-02 02:33:48
kompose,florianrusch,https://github.com/kubernetes/kompose/issues/1057,https://api.github.com/repos/kubernetes/kompose/issues/1057,kompose webside is outdated,"On the startpage of the kompose website (http://kompose.io/) is still the install instruction for the version `1.13.0`. And maybe it's time to upgrade to https. 😉

![image](https://user-images.githubusercontent.com/1724759/43370571-80a61f60-9381-11e8-813a-9fe0abdf0d74.png)
",closed,False,2018-07-29 20:50:01,2018-08-01 19:26:35
kompose,jvitor83,https://github.com/kubernetes/kompose/issues/1058,https://api.github.com/repos/kubernetes/kompose/issues/1058,Convert version 3.5 of Docker Compose is not supported,"I have the following `docker-compose.yml`:
```
version: ""3.5""

services:

  helloworld:
    image: tutum/hello-world
    ports:
      - 80:80
    networks:
      - helloworld-network

networks:
  helloworld-network:
    name: helloworld-network
```
Executing `docker-compose up` i can up my service using the [network `name` feature introduced at version 3.5](https://docs.docker.com/compose/compose-file/compose-versioning/#version-35)

> With that feature, i can use **multiples `docker-compose.yml`** and allow them to **connect to each other** using a **specific network name**

My idea is to use `kompose convert -f docker-compose.yml` and allow to generate the k8s ignoring the networks as it already does (not supported - and it is what i expect). 
But instead, it is given the following error: `Version 3.5 of Docker Compose is not supported. Please use version 1, 2 or 3`

**I guess it is time to update to allow a greater version of compose spec.**

_FYI: Even changing the version at docker-compose.yml to 3, the error kompose convert gives is: `Additional property name is not allowed`. But allowing use as version 3 is not a solution since `docker-compose up` doesn't work unless is 3.5._",closed,False,2018-08-01 02:21:59,2019-03-26 16:36:52
kompose,mbana,https://github.com/kubernetes/kompose/issues/1059,https://api.github.com/repos/kubernetes/kompose/issues/1059,ignore Docker Compose in conversion,"Hi All,

Is there a way of ignoring a service when doing the conversion?

Thanks a lot,",closed,False,2018-08-01 09:55:03,2019-01-04 15:24:31
kompose,mterron,https://github.com/kubernetes/kompose/issues/1060,https://api.github.com/repos/kubernetes/kompose/issues/1060,Convert mounted directories into configmaps,"When a docker-compose file has a volume pointing to a local directory, Kompose should convert the content of the directory into a configmap and attach the configmap into the pod at the right path as per the volume definition.

Example docker-compose.yml
```yaml
version: ""2.4""
services:
  web:
    image: nginx
    volumes:
      - ./tls:/etc/tls
    env_file: _env
```
Content of *./tls*:
```sh
$ ls tls/
ca.pem  web.pem  web.key
```

Configmap to be created should have 3 keys, ca.pem, web.pem and web.key with values as the content of those files. The configmap should be mounted at /etc/tls as per the docker-compose file spec.",open,False,2018-08-08 22:03:06,2019-01-08 20:41:26
kompose,hangyan,https://github.com/kubernetes/kompose/pull/1061,https://api.github.com/repos/kubernetes/kompose/issues/1061,Support read data from stdin,"fix #1056
related to #871",closed,True,2018-08-09 14:48:27,2018-10-02 02:40:48
kompose,rcmorano,https://github.com/kubernetes/kompose/issues/1062,https://api.github.com/repos/kubernetes/kompose/issues/1062,dots get propagated into invalid names,"Aloha,

I've been converting some compose files to Helm charts (concretely [DAppNode's project](https://github.com/dappnode/DNP_VPN/blob/master/docker-compose-vpn.yml) ones) and ran into the same problem exposed in #420.
In fact it's [the last comment from @xiaoping378 in this issue.](https://github.com/kubernetes/kompose/issues/420#issuecomment-319583013)

I've created #1063  PR following the guidelines of previous PRs #509 and #569 which fixed the problem and added the needed warning bits to documentation.
I Hope you find it's suitable to merge or as base for future work on the issue :)

Best! ",closed,False,2018-08-11 13:02:04,2018-09-28 12:20:11
kompose,rcmorano,https://github.com/kubernetes/kompose/pull/1063,https://api.github.com/repos/kubernetes/kompose/issues/1063,Propagate dots into valid service names,Fix approach for #1062; a similar bug than #420.,closed,True,2018-08-11 13:02:38,2018-09-28 12:20:30
kompose,lakshmanvvs,https://github.com/kubernetes/kompose/issues/1064,https://api.github.com/repos/kubernetes/kompose/issues/1064,kompose up - unmarshal errors when using docker compose version '3',"Using docker compose version 3, `kompose convert` creates deployment/service files, when using `kompose up`, I get
 `ERRO Could not parse config for project kubecompose : yaml: unmarshal errors:
  line 1: cannot unmarshal !!str `extensi...` into config.RawService
  line 2: cannot unmarshal !!str `Deployment` into config.RawService`

`kompose version
1.16.0 (0c01309)`  

Using Docker for Mac - OS - High Sierra 

``` docker version
Client:
 Version:           18.06.0-ce
 API version:       1.38
 Go version:        go1.10.3
 Git commit:        0ffa825
 Built:             Wed Jul 18 19:05:26 2018
 OS/Arch:           darwin/amd64
 Experimental:      false

Server:
 Engine:
  Version:          18.06.0-ce
  API version:      1.38 (minimum version 1.12)
  Go version:       go1.10.3
  Git commit:       0ffa825
  Built:            Wed Jul 18 19:13:46 2018
  OS/Arch:          linux/amd64
  Experimental:     true
 Kubernetes:
  Version:          v1.10.3
  StackAPI:         v1beta2
```

Expected behavior: `kompose up` deploys on kubernetes",closed,False,2018-08-13 15:20:32,2018-08-17 08:16:54
kompose,slehan,https://github.com/kubernetes/kompose/issues/1065,https://api.github.com/repos/kubernetes/kompose/issues/1065,Deploy to OSE with Self Signed Certificate,"Hi all,

We are trying to use Kompose to deploy to OpenShift Enterprise. Our OSE has self-signed certificates which Kompose doesn't seem to have an elegant solution to verifying. Here is an example:

```bash
$user > kompose --build=none --provider=openshift up
INFO We are going to create OpenShift DeploymentConfigs, Services and PersistentVolumeClaims for your Dockerized application.
If you need different kind of resources, use the 'kompose convert' and 'oc create -f' commands instead.

FATA Error while deploying application: Get https://url-to-ose:443/api: x509: certificate signed by unknown authority
```

Is there anyway to get Kompose to skip verifying the certificate?",closed,False,2018-08-20 13:01:41,2019-01-31 10:52:47
kompose,jvitor83,https://github.com/kubernetes/kompose/issues/1066,https://api.github.com/repos/kubernetes/kompose/issues/1066,Proposal: Use the docker-compose network as kubernetes namespace,"In docker-compose 3.5, we can give the network a specific name. https://docs.docker.com/compose/compose-file/compose-versioning/#version-35

Consider the following docker-compose:
```
version: ""3.5""

services:

  helloworld:
    image: tutum/hello-world
    ports:
      - 80:80

networks:
  default:
    name: helloword-ns
```

Using the `docker-compose up` a network is created with the name `helloword-ns`, with that, i can create another compose that use the same network to allow connect to that service.

I believe this behaviour is the same as namespace in kubernetes. In fact, each k8s object could be generated with the metadata namespace set with the name of network.

```
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  annotations:
    kompose.cmd: kompose convert
    kompose.version: 1.16.0 (13ce410)
  creationTimestamp: null
  labels:
    io.kompose.service: helloworld
  name: helloworld
  namespace: helloword-ns # <---------------- THIS CAN BE GENERATED
spec:
  replicas: 1
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        io.kompose.service: helloworld
    spec:
      containers:
      - image: tutum/hello-world
        name: helloworld
        ports:
        - containerPort: 80
        resources: {}
      restartPolicy: Always
status: {}
```

At docker-compose, the services using the same network can communicate to each other.
At kubernetes namespace, the services using the same namespace can communicate to each other.

> Additionally, if it DON'T HAVE the `external: true` _(which means that it connect to a existing network)_ like:
> ```
> networks:
>   default:
>     external: true
>     name: helloword-ns
> ```
> it could generate the k8s namespace object file:
> ```
> apiVersion: v1
> kind: Namespace
> metadata:
>   creationTimestamp: null
>   name: helloword-ns
> spec: {}
> status: {}
> ```
> So, it can create the namespace (because isn't `external: true`)

If the param `--namespace` is used like `kompose up --namespace some-name` it can override the specified in compose.

I see that a modification like that is a breaking change, so a major version of this tool can be necessary.

> _FYI: I have made some experiments in a local fork with that behavior (generating the namespace metadata and the namespace file), it fits gracefully in my point of view._

This is a proposal anyway.
What the maintainers think?
@hangyan @cdrage ",open,False,2018-08-29 20:45:27,2019-03-18 16:44:28
kompose,AtalayBaysal,https://github.com/kubernetes/kompose/issues/1067,https://api.github.com/repos/kubernetes/kompose/issues/1067,Command converted to Args,"I do have up and running docker-compose file. When i convert it this command line in docker-compose.yml

`
        command:
            gunicorn myapp.wsgi:application --workers 1 --bind 0.0.0.0:800
`

convert as args inside of generated deployment file

`
      - args:
        - gunicorn
        - myapp.wsgi:application
        - --workers
        - ""1""
        - --bind
        - 0.0.0.0:8000
`

if i am not wrong, output should be 

`
    command: [""gunicorn myapp.wsgi:application --workers 1 --bind 0.0.0.0:800""]
`

",closed,False,2018-09-02 18:54:18,2019-02-04 05:21:44
kompose,segrax,https://github.com/kubernetes/kompose/pull/1068,https://api.github.com/repos/kubernetes/kompose/issues/1068,Use OS provided temporary directory,Fix for #966,closed,True,2018-09-07 00:57:27,2018-09-07 03:20:03
kompose,spiffxp,https://github.com/kubernetes/kompose/issues/1069,https://api.github.com/repos/kubernetes/kompose/issues/1069,Use tide for PR merging,"This is a [core repository](https://github.com/kubernetes/community/blob/master/github-management/kubernetes-repositories.md#core-repositories).  As such, it [needs to use the same merge automation as the rest of the project](https://github.com/kubernetes/community/blob/master/github-management/kubernetes-repositories.md#rules-1)

I have a PR open that will address this at an org-wide level: https://github.com/kubernetes/test-infra/pull/9342.  It will:
- enable the approve plugin, to allow use of the `/approve` plugin
- enable the blunderbuss plugin, to assign reviews based on OWNERS files
- add all repos in the kubernetes org to tide's query

Can one of the repo maintainers here drop an LGTM (or objections) on the linked PR?  Alternatively, if I hear no objections by Monday 10am PT of next week, I will merge the PR.",closed,False,2018-09-11 22:25:21,2018-09-17 17:11:17
kompose,dkarlovi,https://github.com/kubernetes/kompose/issues/1070,https://api.github.com/repos/kubernetes/kompose/issues/1070,Duplicate container ports if different host ports point to same container port,"If you have something like this:

```yaml
version: '3'
services:
    test:
        image: alpine
        ports:
        - '8000:80'
        - '80:80'
```

you end up with this:

```yaml
- apiVersion: extensions/v1beta1
  kind: Deployment
  spec:
    template:
      spec:
        containers:
        - image: alpine
          name: test
          ports:
          - containerPort: 80
          - containerPort: 80
```

which creates problems with usage on K8s.",open,False,2018-09-14 05:47:49,2019-03-14 08:49:13
kompose,dkarlovi,https://github.com/kubernetes/kompose/issues/1071,https://api.github.com/repos/kubernetes/kompose/issues/1071,Labels not converted to annotations in ingress,"If you have something like:

```yaml
version: '2'
services:
    web:
        labels:
            kompose.service.expose: dev.example.com
            kompose.service.expose.tls-secret: tls-secret
            kompose.service.type: clusterip

            kubernetes.io/ingress.class: nginx
            certmanager.k8s.io/cluster-issuer: letsencrypt-prod
            nginx.ingress.kubernetes.io/rewrite-target: /
        ports:
            - '80:80'
```

the annotations related to the ingress controller are not present in the `Ingress` object (they're there in `Service` and `Deployment`).",closed,False,2018-09-14 06:28:17,2019-03-27 17:05:25
kompose,jjankar,https://github.com/kubernetes/kompose/issues/1072,https://api.github.com/repos/kubernetes/kompose/issues/1072,Unable to load yaml/json file,"Output of Terminal:
$ kompose convert -f docker-compose.yml
FATA Unable to load yaml/json file for version parsing: yaml: line 26: found unexpected end of stream 
janis@jk:~$ cat docker-compose.yml
version: '2'
services:
  postgres:
    container_name: clair_postgres
    image: postgres:latest
    restart: unless-stopped
    environment:
      POSTGRES_PASSWORD: password

  clair:
    container_name: clair_clair
    image: quay.io/coreos/clair:v2.0.1
    restart: unless-stopped
    depends_on:
      - postgres
    ports:
      - ""6060:6060""
      - ""6061:6061
    links:
      - postgres
    volumes:
      - /tmp:/tmp
      - ./clair_config:/config
    command: [-config, /config/config.yaml]

But docker compose command is working and all is setup. What could go wrong with this file?",closed,False,2018-09-20 10:14:24,2019-02-24 08:47:39
kompose,HaraldNordgren,https://github.com/kubernetes/kompose/pull/1073,https://api.github.com/repos/kubernetes/kompose/issues/1073,Bump Go versions,Appears the the fetching of `lint` was recently broken and this appears to be a fix: https://github.com/golang/lint/issues/415,closed,True,2018-10-21 14:29:20,2018-10-23 14:35:42
kompose,HaraldNordgren,https://github.com/kubernetes/kompose/pull/1074,https://api.github.com/repos/kubernetes/kompose/issues/1074,Bump Go versions and use '.x' to always get latest patch versions,,closed,True,2018-10-28 13:25:45,2018-11-14 20:28:48
kompose,cdrage,https://github.com/kubernetes/kompose/pull/1075,https://api.github.com/repos/kubernetes/kompose/issues/1075,1.17.0 Release,,closed,True,2018-11-05 15:34:14,2018-12-31 16:09:32
kompose,treksler,https://github.com/kubernetes/kompose/pull/1076,https://api.github.com/repos/kubernetes/kompose/issues/1076,add annotations to ingress,this closes #1071 ,open,True,2018-11-06 04:44:14,2019-03-05 16:44:22
kompose,mooncak,https://github.com/kubernetes/kompose/pull/1077,https://api.github.com/repos/kubernetes/kompose/issues/1077,Fix typos: accecpts -> accepts,Fix typos: accecpts -> accepts,closed,True,2018-11-10 13:07:42,2018-11-12 03:01:53
kompose,xichengliudui,https://github.com/kubernetes/kompose/pull/1078,https://api.github.com/repos/kubernetes/kompose/issues/1078,delete excess code,delete excess code,closed,True,2018-11-15 07:35:46,2018-11-15 07:36:00
kompose,xichengliudui,https://github.com/kubernetes/kompose/pull/1079,https://api.github.com/repos/kubernetes/kompose/issues/1079,delete excess code,delete excess code,closed,True,2018-11-15 07:37:50,2018-11-20 01:55:32
kompose,SataQiu,https://github.com/kubernetes/kompose/pull/1080,https://api.github.com/repos/kubernetes/kompose/issues/1080,Fix typo: generting -> generating,Fix typo: generting -> generating,closed,True,2018-11-15 08:16:00,2018-11-16 08:15:30
kompose,bnoeson,https://github.com/kubernetes/kompose/issues/1081,https://api.github.com/repos/kubernetes/kompose/issues/1081,Environment variables of multiple docker-compose are not merged,"Hi,

I have 2 docker-compose files, where I put different environment variables. When I make a `kompose -f file1 -f file2 convert`, the variables are not merged, it just takes the environment variables of file2.

I have found some issues talking about that, but it seems that it is not yet fixed in 1.17.0.

Reproduction steps : 

docker-compose.yml
```
version: '3'
services:
  hello:
    image: helloworld
    environment:
      - VAR=whatever
```
docker-compose.prod.yml
```
version: '3'
services:
  hello:
    environment:
      - APP_ENV=prod
```

`kompose -f docker-compose.yml -f docker-compose.prod.yml convert`

hello-deployment.yaml
```
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  annotations:
    kompose.cmd: C:\Program Files\kompose\kompose.exe -f docker-compose.yml -f docker-compose.prod.yml
      convert
    kompose.version: 1.17.0 (a74acad)
  creationTimestamp: null
  labels:
    io.kompose.service: hello
  name: hello
spec:
  replicas: 1
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        io.kompose.service: hello
    spec:
      containers:
      - env:
        - name: APP_ENV
          value: prod
        image: helloworld
        name: hello
        resources: {}
      restartPolicy: Always
status: {}
```

Desired behavior : in env, it should have 2 values

- ADD_ENV from docker-compose.prod.yml
- VAR from docker-compose.yml.",open,False,2018-11-17 17:59:13,2019-03-17 19:09:50
kompose,selfup,https://github.com/kubernetes/kompose/issues/1082,https://api.github.com/repos/kubernetes/kompose/issues/1082,kompose up fails to parse yml that kompose convert generated,"### OS

Ubuntu 18.04.1 LTS

### Kompose version

1.17.0 (a74acad)

### Stacktrace

```
ERRO Could not parse config for project kompose : yaml: unmarshal errors:
  line 1: cannot unmarshal !!str `extensi...` into config.RawService
  line 2: cannot unmarshal !!str `Deployment` into config.RawService
FATA composeObject.Parse() failed, Failed to load compose file: yaml: unmarshal errors:
  line 1: cannot unmarshal !!str `extensi...` into config.RawService
  line 2: cannot unmarshal !!str `Deployment` into config.RawService
```

Why ERRO is not ERROR or FATA not FATAL I have no idea :joy: 

### Kompose file

This is just one of the two files, the other one is the same other than the name of the container

```yml
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  annotations:
    kompose.cmd: kompose convert
    kompose.version: 1.17.0 (a74acad)
  creationTimestamp: null
  labels:
    io.kompose.service: downlink
  name: downlink
spec:
  replicas: 1
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        io.kompose.service: downlink
    spec:
      containers:
      - args:
        - ./rel/boot.sh
        env:
        - name: UPLINK_NODE
          value: uplink
        image: registry.gitlab.com/selfup/smache:latest
        name: downlink
        resources: {}
      restartPolicy: Always
status: {}
```

### Script

```bash
#!/usr/bin/env bash

kompose up -f kompose/uplink-deployment.yaml -f kompose/downlink-deployment.yaml \
  && kubectl get deployment,svc,pods
```

### Docker Compose File

```yml
version: '3.1'

services:
  uplink:
    environment:
      - UPLINK_NODE=uplink
    image: registry.gitlab.com/selfup/smache:latest
    command: ['./rel/boot.sh']
  downlink:
    depends_on:
      - uplink
    links:
      - uplink
    environment:
      - UPLINK_NODE=uplink
    image: registry.gitlab.com/selfup/smache:latest
    command: ['./rel/boot.sh']
```

### Repo(s)

GitHub remote origin: https://github.com/selfup/smache
GitLab remote release: https://gitlab.com/selfup/smache ",closed,False,2018-11-18 11:11:30,2018-11-21 16:54:43
kompose,huikaihoo,https://github.com/kubernetes/kompose/pull/1083,https://api.github.com/repos/kubernetes/kompose/issues/1083,Add label support to named volumes in docker compose v3 to Kubernetes,"1.  Add the below labels support to named volumes:
- `kompose.volume.selector` - Add selector.matchLabels to kubernetes PVC for volume binding
- `kompose.volume.size` - Change kubernetes supported volume size for docker named volumes

```
volumes:
  database-vol:
    labels:
      kompose.volume.selector: database-vol-dev
      kompose.volume.size: 500Mi
```

For example, the above named volume (database-vol) defined in docker compose file will convert to following Kubernetes config

```
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  creationTimestamp: null
  labels:
    io.kompose.service: database-vol
  name: database-vol
spec:
  accessModes:
  - ReadWriteOnce
  resources:
    requests:
      storage: 200Mi
  selector:
    matchLabels:
      io.kompose.service: database-vol-dev
status: {}
```

2. Fix the PVC size in log message when deploy Kubernetes

3. Skip creation of PVC if it is already created in the same kubernetes deploy
",closed,True,2018-11-20 03:54:25,2019-01-02 09:06:08
kompose,gaozhenhai,https://github.com/kubernetes/kompose/pull/1084,https://api.github.com/repos/kubernetes/kompose/issues/1084,Fix log output specific warning info,Signed-off-by: gaozhenhai <gaozh1988@live.com>,closed,True,2018-11-24 09:02:51,2018-11-29 17:06:48
kompose,ismailyenigul,https://github.com/kubernetes/kompose/issues/1085,https://api.github.com/repos/kubernetes/kompose/issues/1085,openshift route with edge termination,"I am creating route for openshift 3.7 in docker-compose with the  kompose.service.expose label.

But this label creates HTTP route not HTTPS. 
Is there any way to create route with Termination Type: Edge
I also added kompose.service.expose.tls-secret but It did not help.

Example yaml file was created by kompose

```route.yaml 
apiVersion: v1
kind: Route
metadata:
  creationTimestamp: null
  labels:
    io.kompose.service: myconnector
  name: myconnector
spec:
  host: myconnector-IP.nip.io
  port:
    targetPort: 8000
  to:
    kind: Service
    name: myconnector
    weight: null
status:
  ingress: null
```
Thanks",open,False,2018-11-24 19:12:12,2019-03-24 20:55:22
kompose,Vad1mo,https://github.com/kubernetes/kompose/issues/1086,https://api.github.com/repos/kubernetes/kompose/issues/1086,Compose-on-kubernetes and kompose,"
Docker just announced to open source their compose to kubernetes tool. 

https://github.com/docker/compose-on-kubernetes

my question is, how does this announcement impact this project and it future and maybe it position?",open,False,2018-12-05 14:01:46,2019-04-04 23:17:51
kompose,ryanjfrizzell,https://github.com/kubernetes/kompose/pull/1087,https://api.github.com/repos/kubernetes/kompose/issues/1087,initial run at adding labels to podspecs,pass annotations down to pods for deployments. Rough cut,open,True,2018-12-12 17:35:58,2019-03-20 04:05:50
kompose,skofgar,https://github.com/kubernetes/kompose/issues/1088,https://api.github.com/repos/kubernetes/kompose/issues/1088,How do I use a service account?,"I have a service account that I would like to use. I am able to use the service account's secret to connect to the cluster but when I use `kompose up` it publishes it under the default service account. 

I need it to use the service account I added, because that one also has the docker credentials for a private container repo.

Alternatively I found out that I can have kompose create the kubernetes files, and then I just manually add `spec.template.spec.serviceAccountName` to the yaml. Using `kubectl apply -f mydeployyaml.yaml` then successfully deploys the pod and k8s is able to pull from the private registry.  e.g.:

```
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  annotations:
    kompose.cmd: kompose convert
    kompose.service.type: NodePort
    kompose.version: 1.17.0 ()
  creationTimestamp: null
  labels:
    io.kompose.service: myapp
  name: myapp
spec:
  replicas: 1
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        io.kompose.service: myapp
    spec:
      containers:
      - image: myprivateregistry.url.com/myapp:snapshot
        name: eventbus
        ports:
        - containerPort: 8087
        - containerPort: 8088
        resources: {}
      restartPolicy: Always
      serviceAccountName: my-custom-ci-account  # <==== if I have this line everything is fine
status: {}
```

also my service account:

```
> kubectl get serviceaccounts my-custom-ci-account -o yaml 
apiVersion: v1
imagePullSecrets:
- name: my-custom-ci-account-artifactory-secret
kind: ServiceAccount
```

Please let me know if you see what I am doing wrong. Thank you for your time.
",open,False,2018-12-17 02:27:32,2019-04-02 17:26:11
kompose,willseward,https://github.com/kubernetes/kompose/issues/1089,https://api.github.com/repos/kubernetes/kompose/issues/1089,HostPath volumes incorrectly concatenate paths,"When using `--volumes hostPath`, the path of the volume (at least on macOS) incorrectly concatenates the full path of the docker-compose.yml file to the full path of the host mount:

Current:
```yaml
volumes:
      - hostPath:
          path: /Users/foobar/Documents/Projects/x/Users/foobar/Documents/Projects/x/runtime-media/mysql
        name: mysql-hostpath0
```

Expected:
```yaml
volumes:
      - hostPath:
          path: /Users/foobar/Documents/Projects/x/runtime-media/mysql
        name: mysql-hostpath0
```


See: https://github.com/kubernetes/kompose/pull/957/",open,False,2018-12-24 18:35:27,2019-03-19 13:23:17
kompose,hexmind,https://github.com/kubernetes/kompose/pull/1090,https://api.github.com/repos/kubernetes/kompose/issues/1090,Update introduction.md,"fix ""It's as simple as 1-2-3""
```
$ wget https://raw.githubusercontent.com/kubernetes/kompose/master/examples/docker-compose-v3.yaml
$ kompose up
FATA No 'docker-compose' file found: stat docker-compose.yaml: no such file or directory 
```",closed,True,2018-12-26 10:49:53,2019-01-30 19:52:15
kompose,kiela,https://github.com/kubernetes/kompose/pull/1091,https://api.github.com/repos/kubernetes/kompose/issues/1091,Add kompose.image-pull-secret and kompose.image-pull-policy,This PR is a rebase of #1040 on top of the latest `master`.,closed,True,2019-01-02 12:13:14,2019-02-07 14:50:53
kompose,huikaihoo,https://github.com/kubernetes/kompose/pull/1092,https://api.github.com/repos/kubernetes/kompose/issues/1092,Support multiple hostnames on expose label in service for Kubernetes,Support multiple hostnames [separated by semicolon] on expose label (kompose.service.expose) in service for Kubernetes.,closed,True,2019-01-03 08:59:51,2019-01-31 14:34:05
kompose,wuestkamp,https://github.com/kubernetes/kompose/issues/1093,https://api.github.com/repos/kubernetes/kompose/issues/1093,k.Transform failed archive/tar: write too long,"When running `kompose up -vvv` I'm getting:

```
INFO Building image 'eu.gcr.io/project/php:latest' from directory 'project_dir' 
DEBU Created temporary file /var/folders/yt/9pghpn1s5sq0bvnw0hmwljfr0000gn/T/kompose-image-build-069005223 for Docker image tarballing 
FATA Error while deploying application: k.Transform failed: Unable to build Docker image for service php: Unable to create a tarball: archive/tar: write too long 
```

I can push manually though without issues using `docker push eu.gcr.io/project/php:latest`

Why is this a problem here?
What is tarball used for?
Can I disable tarballing?

I saw #656 but is closed so wanted to open a new one. I'm having a Symfony project and removed already the vendor folder, no change.

Thanks,
Kim",closed,False,2019-01-12 02:11:38,2019-01-12 05:06:02
kompose,ChenTanyi,https://github.com/kubernetes/kompose/issues/1094,https://api.github.com/repos/kubernetes/kompose/issues/1094,Volumes path with underline was converted into dash,"When I convert a docker-compose.yml file, the volumes path with underline will change into dash.

Simple example:
```yaml
version: ""2""
services:
  hello:
    image: hello-world
    volumes:
      - ./hello_world:/hello_world
```
It will be converted into
```yaml
      containers:
      - image: hello-world
        name: hello
        resources: {}
        volumeMounts:
        - mountPath: /hello-world
          name: hello-hostpath0
      restartPolicy: Always
      volumes:
      - hostPath:
          path: /Users/test/test/hello-world
        name: hello-hostpath0
```
All ```hello_world``` were converted into ```hello-world```

kompose verion: 1.17.0 (HEAD), go get from master currently (1-15, 2019)
os: mac os 10.13.4",open,False,2019-01-15 08:59:26,2019-01-15 08:59:26
kompose,stevefan1999-personal,https://github.com/kubernetes/kompose/issues/1095,https://api.github.com/repos/kubernetes/kompose/issues/1095,'expose' is not converted,"Using this `docker-compose.yml` for example:
```yml
version: '3'
services:
    seafile:
        container_name: seafile
        image: seafileltd/seafile:latest
        volumes:
            - seafile:/shared
        restart: always
        expose:
            - 80/tcp
```
Does not generate
```yml
  spec:
    ports:
    - name: ""80""
      port: 80
      targetPort: 80
```
However, if I change `expose` to `ports`, it does, but it is contradictory to the conversion matrix.",open,False,2019-01-18 09:50:51,2019-03-07 14:55:02
kompose,andrevtg,https://github.com/kubernetes/kompose/issues/1096,https://api.github.com/repos/kubernetes/kompose/issues/1096,volumeMounts and subPath - how to convert named volumes,"Most charts define a ""subPath"" for each volumeMount - I believe this is the current workaround for the ""lost+found"" issue when a non-initialized volume is expected on the first run.

Is there a way to kompose generate YAMLs (and charts) with a subPath for each volumeMount? This is a must have, AFAIK...
",open,False,2019-01-24 17:57:53,2019-01-24 17:57:53
kompose,DevasiaThomas,https://github.com/kubernetes/kompose/issues/1097,https://api.github.com/repos/kubernetes/kompose/issues/1097,Issues with volume mounts in docker-compose.yml,"I have the following in my compose yml
```
volumes:
       - type: bind
         source: /var/run/docker.sock
         target: /var/run/docker.sock
       - type: bind
         source: /dev
         target: /host/dev
         read_only: true
         bind:
           propagation: rslave
       - type: bind
         source: /sys
         target: /host/sys
         read_only: true
         bind:
           propagation: rslave
       - type: bind
         source: /boot
         target: /host/boot
         read_only: true
         bind:
           propagation: rslave
       - type: bind
         source: /home
         target: /host/home
         read_only: true
         bind:
           propagation: rslave
       - type: bind
         source: /run
         target: /host/run
         read_only: true
         bind:
           propagation: rslave
       - type: bind/
         source: var
         target: /host/var
         read_only: true
         bind:
           propagation: rslave
       - type: bind
         source: /proc
         target: /host/proc
         read_only: true
         bind:
           propagation: rslave
```
When I try to convert it says ""volume mount on the host is not supported"".  But I thought it was supported through host paths. I read in some issue here that host path support was added. Am I doing something wrong here? I'm fine with editing generated files but I'm just dipping into k8s so I don't know what to edit in the generated files.",open,False,2019-01-25 21:43:10,2019-03-07 18:25:41
kompose,neerolyte,https://github.com/kubernetes/kompose/issues/1098,https://api.github.com/repos/kubernetes/kompose/issues/1098,Names based on the helm chart name,"Most Helm charts seem to reference the `.Chart.Name` (often indirectly via a function in `_helpers.tpl`) in all the objects, allowing for the same chart to be installed multiple times in a single Kubernetes namespaces.

I can't see any option to inject something in the names of the objects generated by `kompose convert --chart  ...`, it would be great to have some trivial way of doing as it seems like the option at the moment is to script an edit of the chart yaml files after conversion.",open,False,2019-01-30 00:30:20,2019-01-30 23:33:18
kompose,cdrage,https://github.com/kubernetes/kompose/pull/1099,https://api.github.com/repos/kubernetes/kompose/issues/1099,Update the year,,closed,True,2019-01-30 19:56:37,2019-01-30 19:56:52
kompose,spawnia,https://github.com/kubernetes/kompose/pull/1100,https://api.github.com/repos/kubernetes/kompose/issues/1100,Add Dockerfile,"Hey @cdrage 

According to your suggestion, i added a simple Dockerfile.

Feel free to modify if you see any fit. Thanks!

Resolves #1045",closed,True,2019-02-01 15:16:47,2019-02-01 15:18:07
kompose,spawnia,https://github.com/kubernetes/kompose/pull/1101,https://api.github.com/repos/kubernetes/kompose/issues/1101,Add Dockerfile,"Resubmit #1100 with correct user/email

Hey @cdrage

According to your suggestion, i added a simple Dockerfile.

Feel free to modify if you see any fit. Thanks!

Resolves #1045",open,True,2019-02-01 15:20:04,2019-02-01 15:20:20
kompose,tal47,https://github.com/kubernetes/kompose/issues/1102,https://api.github.com/repos/kubernetes/kompose/issues/1102,kompose up returning ErrImagePull while pulling from a private repo,"Hi all,
I have created (and pushed) a private docker hub repo, and created a secret using:

```
$ echo -n 'password' > ./password.txt
$ echo -n 'user' > ./username.txt
$ kubectl create secret generic docker-user-pass --from-file=./username.txt --from-file=./password.txt
secret/docker-user-pass created
```

Now, I have created a docker-compose.yml file:

```
version: '3.1'
services:
  statisticstest:
    build:
      context: ../ 
      dockerfile: nts/Dockerfile-StatisticsTest
    image: ""<repo>/<name>:1.0""
    secrets:
      - docker-user-pass
secrets:
  docker-user-pass:
    external: true
```

While running ```kompose up``` I'm getting the desired ```Your application has been deployed to Kubernetes. ```
But when describing the pods, I am getting:

![screenshot from 2019-02-04 12-35-32](https://user-images.githubusercontent.com/16876322/52203562-331a6600-287a-11e9-957a-f6a82ac8d0ed.png)

As you can see, I am failing there when the secret should be called.

Any help? Thanks :)",closed,False,2019-02-04 10:44:07,2019-02-04 14:52:17
kompose,teur,https://github.com/kubernetes/kompose/pull/1103,https://api.github.com/repos/kubernetes/kompose/issues/1103,Ingress,"Hi, I have rebased #1076 onto the master.",open,True,2019-02-07 06:40:00,2019-02-07 06:40:14
kompose,avikjis27,https://github.com/kubernetes/kompose/issues/1104,https://api.github.com/repos/kubernetes/kompose/issues/1104,error decoding 'Ports': No port specified: ::<empty>,"I am trying to convert (`kompose convert`) below docker compose file. Ihave tested the compose file is working fine with `docker-compose run iss-rabbit-mq`.
```
version: '3'
networks:
    mse:
services:
    iss-rabbit-mq:
        container_name: iss-rabbit-mq
        image: ${DOCKER_REPO}/iss-rabbit-mq:${RABBIT_MQ_VERSION}
        env_file:
            - ./.env
        ports:
            - ""${RABBIT_MQ_PORT}:${RABBIT_MQ_PORT}""
            - ""${RABBIT_MQ_MANAGEMENT_PORT}:${RABBIT_MQ_MANAGEMENT_PORT}""
        dns: ${LOCAL_DNS_ADDRESS}
        networks:
            - mse

```
Getting below error:
```
FATA 1 error(s) decoding:

* error decoding 'Ports': No port specified: ::<empty> 
```
The .env file is given below
```
DOCKER_REPO=artifactory.rds.xxx.com:5000
REDIS_PORT=6379
REDIS_MANAGEMENT=6060
LOCAL_DNS_ADDRESS=10.199.134.18
REDIS_VERSION=latest
```",open,False,2019-02-07 11:40:21,2019-03-25 05:57:32
kompose,rqc,https://github.com/kubernetes/kompose/issues/1105,https://api.github.com/repos/kubernetes/kompose/issues/1105,Support kompose up build with no push,"Hi,

I am trying out `kompose up` to run some containers in a `docker-compose.yml` file. One of them needs to be built locally. From the docs, it seems that the build support also pushes the image to a remote registry. How can I disable the `docker push` if I am just interested in building the image and running the containers locally?

Thanks!
",open,False,2019-02-07 16:07:10,2019-03-25 05:56:37
kompose,mikegerber,https://github.com/kubernetes/kompose/issues/1106,https://api.github.com/repos/kubernetes/kompose/issues/1106,kompose fails to convert cpu resources from a second (override) docker-compose yaml file,"I am using a second Compose YAML to override e.g. the `image` in `docker-compose.yml`. This works as intended, however, kompose fails to include cpu resources I specify in the second YAML:

```
% kompose convert --stdout -f docker-compose.yml -f tmp-docker-compose-deploy.yml | grep cpu
%
```
If I merge the two YAML files manually, kompose includes the cpu resources:

```
% kompose convert --stdout -f docker-compose-manually-merged.yml | grep cpu
              cpu: ""1""
              cpu: ""1""
%
```

[YAML files (.zip)](https://github.com/kubernetes/kompose/files/2864795/yamls.zip)",open,False,2019-02-14 11:39:28,2019-03-25 05:55:51
kompose,RyanSiu1995,https://github.com/kubernetes/kompose/issues/1107,https://api.github.com/repos/kubernetes/kompose/issues/1107,Placement tag inside deploy,"I have a compose script with the following setting:
```
deploy:
            mode: global
            update_config:
                parallelism: 1
            labels:
                role: xxx
            placement:
                constraints:
                    - node.labels.monitor != xxx
```
kompose cannot parse the != properly with the following error.
```
panic: runtime error: index out of range

goroutine 1 [running]:
github.com/kubernetes/kompose/pkg/loader/compose.loadV3Placement(0xc000618010, 0x1, 0x1, 0x0)
        /home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/v3.go:145 +0x46a
github.com/kubernetes/kompose/pkg/loader/compose.dockerComposeToKomposeMapping(0xc0001c0b40, 0x0, 0x0, 0x0, 0x1, 0xc0004a98c0)
        /home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/v3.go:346 +0xc44
github.com/kubernetes/kompose/pkg/loader/compose.parseV3(0xc00004cf40, 0x1, 0x1, 0x3, 0x1, 0x0, 0x7fe1237e7000, 0xc000000300)
        /home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/v3.go:127 +0x1b4
github.com/kubernetes/kompose/pkg/loader/compose.(*Compose).LoadFile(0x2f72ef0, 0xc00004cf40, 0x1, 0x1, 0x0, 0x0, 0x7fe123777f3d, 0xc0002bda80, 0x2f)
        /home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/pkg/loader/compose/compose.go:186 +0x373
github.com/kubernetes/kompose/pkg/app.Up(0x100, 0x0, 0x0, 0x0, 0x0, 0x1b99785, 0x5, 0x0, 0x1bace61, 0x15, ...)
        /home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/pkg/app/app.go:270 +0x112
github.com/kubernetes/kompose/cmd.glob..func8(0x2f41840, 0xc00000d120, 0x0, 0x2)
        /home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/cmd/up.go:73 +0x4d
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).execute(0x2f41840, 0xc00000d0e0, 0x2, 0x2, 0x2f41840, 0xc00000d0e0)
        /home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:704 +0x2d3
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x2f41620, 0x4, 0x8, 0x0)
        /home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:785 +0x2dc
github.com/kubernetes/kompose/vendor/github.com/spf13/cobra.(*Command).Execute(0x2f41620, 0x4074a0, 0xc000092058)
        /home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/vendor/github.com/spf13/cobra/command.go:738 +0x2b
github.com/kubernetes/kompose/cmd.Execute()
        /home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/cmd/root.go:92 +0x2d
main.main()
        /home/wikus/seafile/files/dev/go/src/github.com/kubernetes/kompose/main.go:22 +0x20
```",closed,False,2019-02-19 06:43:19,2019-04-04 19:31:06
kompose,cdrage,https://github.com/kubernetes/kompose/pull/1108,https://api.github.com/repos/kubernetes/kompose/issues/1108,1.18.0 Release,,closed,True,2019-03-01 20:28:20,2019-03-01 20:30:00
kompose,ZedYeung,https://github.com/kubernetes/kompose/pull/1109,https://api.github.com/repos/kubernetes/kompose/issues/1109,fix: hostpath volume supoort for docker-compose v3 file,"fix #1089 
The problem is that in v3, we use the ""long syntax"" for volumes in terms of parsing.
So the path is already an absolute path. We don't need to join it with dir.
Therefore, the idea is to simply get the docker-compose file version and use switch case.",open,True,2019-03-02 23:23:58,2019-03-02 23:47:31
kompose,facundofarias,https://github.com/kubernetes/kompose/pull/1110,https://api.github.com/repos/kubernetes/kompose/issues/1110,Fixing kind of typo in the intro,,closed,True,2019-03-03 12:21:03,2019-03-03 12:25:00
kompose,facundofarias,https://github.com/kubernetes/kompose/pull/1111,https://api.github.com/repos/kubernetes/kompose/issues/1111,Fixing kind of typo in the intro,,open,True,2019-03-03 12:25:27,2019-03-07 08:51:32
kompose,slowr,https://github.com/kubernetes/kompose/issues/1113,https://api.github.com/repos/kubernetes/kompose/issues/1113,HostPath volumes File/Directory detection,There needs to be a check whether the mapped volume is a directory or a type and generate the correct type in the .yaml file,open,False,2019-03-07 17:34:48,2019-03-07 17:34:48
kompose,slowr,https://github.com/kubernetes/kompose/pull/1114,https://api.github.com/repos/kubernetes/kompose/issues/1114,Calculate the absolute path directly instead of join (Resolves #1089),"HostPath volume path currently is calculated wrong by concatenating the compose's absolute path with the one defined in the file.

Instead I calculate the absolute path directly and add that instead of join.

Resolves #1089",open,True,2019-03-07 18:20:27,2019-03-19 13:54:18
kompose,joelsmith,https://github.com/kubernetes/kompose/pull/1115,https://api.github.com/repos/kubernetes/kompose/issues/1115,Update embargo doc link in SECURITY_CONTACTS and change PST to PSC,See https://github.com/kubernetes/security/issues/8 for more information,closed,True,2019-03-08 18:07:11,2019-03-09 00:21:33
kompose,jrabbit,https://github.com/kubernetes/kompose/issues/1116,https://api.github.com/repos/kubernetes/kompose/issues/1116,Drop master/slave terminology in the docs,I cannot possibly recommend this project if the docs are brazenly stuck in the past. Try literally any other naming scheme that doesn't involve crimes against humanity.,open,False,2019-03-10 18:47:19,2019-04-03 15:01:20
kompose,agnf,https://github.com/kubernetes/kompose/issues/1117,https://api.github.com/repos/kubernetes/kompose/issues/1117,"""kompose up"" won't push to Google on Windows Subsystem for Linux","""kompose up"" can't push to private repository on Google on the Windows Subsystem for Linux (WSL) on Windows 10 Pro. Trying out different strategies and solutions found on Github didn't fix the problem for me.

Some output:

$ kompose version
1.18.0 (06a2e56)


$ kompose up
INFO Build key detected. Attempting to build and push image 'eu.gcr.io/0000/testalpine:latest'
INFO Building image 'eu.gcr.io/0000/testalpine:latest' from directory 'kompose'
INFO Image 'eu.gcr.io/0000/testalpine:latest' from directory 'kompose' built successfully
INFO Pushing image '0000/testalpine:latest' to registry 'eu.gcr.io'
WARN Unable to retrieve .docker/config.json authentication details. Check that 'docker login' works successfully on the command line.: Failed to read authentication from dockercfg
INFO Authentication credentials are not detected. Will try push without authentication.
INFO Attempting authentication credentials 'eu.gcr.io
ERRO Unable to push image '0000/testalpine:latest' to registry 'eu.gcr.io'. Error: unauthorized: You don't have the needed permissions to perform this operation, and you may have invalid credentials. To authenticate your request, follow the steps in: https://cloud.google.com/container-registry/docs/advanced-authentication
FATA Error while deploying application: k.Transform failed: Unable to push Docker image for service apache: unable to push docker image(s). Check that `docker login` works successfully on the command line


$ docker login eu.gcr.io
Authenticating with existing credentials...
Login Succeeded


$ docker-compose push apache
Pushing apache (eu.gcr.io/0000/testalpine:latest)...
The push refers to repository [eu.gcr.io/0000/testalpine]
XXX6ee230d1a: Layer already exists
XXX2f368fe23: Layer already exists
latest: digest: sha256:XXX22f299e969d6607b7ea8049acfee81c8898215c964731909a85deff8b67e6 size: 739


$ kompose convert
INFO Kubernetes file ""apache-service.yaml"" created
INFO Kubernetes file ""apache-deployment.yaml"" created


$ kubectl create -f apache-deployment.yaml,apache-service.yaml
deployment.extensions/apache created
service/apache created


$ cat Dockerfile
FROM alpine:latest
RUN apk --no-cache add apache2 apache2-utils
RUN mkdir -p /run/apache2
EXPOSE 80
CMD [""/usr/sbin/httpd"", ""-DFOREGROUND""]


$ cat docker-compose.yml
version: ""3""
services:
  apache:
    image: eu.gcr.io/0000/testalpine:latest
    build: .
    ports:
      - ""80:80""

	  
$ cat .docker/config.json
{
        ""auths"": {
                ""eu.gcr.io"": {},
                ""gcr.io"": {}
        },
        ""HttpHeaders"": {
                ""User-Agent"": ""Docker-Client/18.06.3-ce (linux)""
        },
        ""credHelpers"": {
                ""asia.gcr.io"": ""gcloud"",
                ""eu.gcr.io"": ""gcloud"",
                ""gcr.io"": ""gcloud"",
                ""marketplace.gcr.io"": ""gcloud"",
                ""staging-k8s.gcr.io"": ""gcloud"",
                ""us.gcr.io"": ""gcloud""
        }
}



The ""config.json"" is copied to these locations in an attempt to make it visible to kompose:
- .docker/config.json
- ~/.docker/config.json
- /.docker/config.json
- /root/.docker/config.json
- /c/Users/myUsrName/Documents/IT/docker/kompose

Previously, I had problems with ""docker-compose"" and volumes. I have Docker for Windows installed and use the Linux Subsystem under Windows 10. Before, my yaml files resided in ""~/docker/..."" where volumes couldn't be used. Then I moved the files over to ""/c/Users/myUsrName/Documents/IT/docker/..."" and linked that folder to my Linux home for easy access. After that I was able to use volumes in my ""docker-compose.yaml"" successfully.

Based on that I was thinking that there is a similar problem with paths and where kompose might look for credential files. However, putting the ""config.json"" to different places didn't help.

Since building and pushing the image via docker, then running ""kompose convert"" and then creating the deployment via ""kubectl create -f ..."" works, I have a workaround. Still, it would be great if ""kompose up"" would work. Other issues I found on that regard (like #911) seem to focus on MacOS, hence I decided to open this up for Windows 10 now.

Let me know if you need further info on this!

Cheers
Andreas",open,False,2019-03-15 15:38:30,2019-04-04 19:32:37
kompose,cdrage,https://github.com/kubernetes/kompose/pull/1118,https://api.github.com/repos/kubernetes/kompose/issues/1118,Remove ROADMAP.md,Removes the outdated ROADMAP.md and references to it,closed,True,2019-03-18 20:27:04,2019-03-18 20:35:22
kompose,hangyan,https://github.com/kubernetes/kompose/issues/1119,https://api.github.com/repos/kubernetes/kompose/issues/1119,Fix dep,"I have checked the dep management situation, it's hard to update the packages and support new compose versions. May be we can drop openshift support for a while and try to fix the dep issue first?
If things worked out, we can add openshift support back? 

@cdrage ",closed,False,2019-03-24 14:58:00,2019-03-26 16:32:50
kompose,hangyan,https://github.com/kubernetes/kompose/pull/1120,https://api.github.com/repos/kubernetes/kompose/issues/1120,Update dep for compose 3.5+,"Finally, i think i managed to update the dependency....

#1119 
#1058 ",closed,True,2019-03-26 03:14:50,2019-03-26 15:44:27
kompose,hangyan,https://github.com/kubernetes/kompose/pull/1121,https://api.github.com/repos/kubernetes/kompose/issues/1121,Fix placement parser panic,"Fix #1107,  seems the kubernetes packages doest not support node anti-affinity for now, so just skip the `!=` placement constraint",closed,True,2019-03-27 05:57:38,2019-04-04 19:31:07
kompose,devnewton,https://github.com/kubernetes/kompose/issues/1122,https://api.github.com/repos/kubernetes/kompose/issues/1122,kompose up not working on windows?,"kompose up failed on windows with the following message:

`FATA Error while deploying application: k.Transform failed: Unable to build Docker image for service xxx: Unable to build image. For more output, use -v or --verbose when converting.: dial unix /var/run/docker.sock: connect: not supported by windows`

Is there a workaround?",open,False,2019-03-28 16:34:00,2019-04-05 07:10:45
kompose,cdrage,https://github.com/kubernetes/kompose/pull/1123,https://api.github.com/repos/kubernetes/kompose/issues/1123,Add node references,"Removes old Kubernetes references to master / slave and converts them to
master / node.",open,True,2019-04-03 14:56:02,2019-04-03 15:11:34
