name repository,url,url html,created by,title,body,assignees,# commit,created at,updated at,closed at,is merged,merged at,merged by,mergeable state,mergeable,state
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1,https://github.com/kubernetes/ingress-nginx/pull/1,bprashanth,Basic structure ,@thockin @aledbf @justinsb ,[],1,2016-11-05 00:42:45,2016-11-10 18:27:50,2016-11-10 18:27:50,True,2016-11-10 18:27:50,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/10,https://github.com/kubernetes/ingress-nginx/pull/10,aledbf,Copy Ingress history from kubernetes/contrib,Procedure from http://gbayer.com/development/moving-files-from-one-git-repository-to-another-preserving-history/,['bprashanth'],278,2016-11-10 20:53:51,2016-11-10 21:32:11,2016-11-10 21:42:32,True,2016-11-10 21:32:11,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/11,https://github.com/kubernetes/ingress-nginx/pull/11,aledbf,"Remove nginx-alpha, examples and simplify read files",,[],1,2016-11-10 21:47:13,2016-11-10 21:49:13,2017-08-30 17:39:13,True,2016-11-10 21:49:13,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/12,https://github.com/kubernetes/ingress-nginx/pull/12,aledbf,Split implementations from generic code,"**Edit:** this is the first step
- enable travis-ci
- fix gce code (change name of packages)
- refactoring of nginx controller code
- update godeps


fixes https://github.com/kubernetes/ingress/issues/4",['aledbf'],6,2016-11-10 22:58:02,2016-11-16 16:42:44,2017-11-02 02:05:46,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/14,https://github.com/kubernetes/ingress-nginx/pull/14,aledbf,Update godeps and gce controller,,[],6,2016-11-11 21:26:53,2016-11-11 22:57:23,2016-11-24 00:57:23,True,2016-11-11 22:57:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/15,https://github.com/kubernetes/ingress-nginx/pull/15,aledbf,Split implementations from generic code,,[],5,2016-11-11 21:29:02,2016-11-24 00:39:20,2017-01-10 19:24:17,True,2016-11-24 00:39:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/21,https://github.com/kubernetes/ingress-nginx/pull/21,bprashanth,Refactor default backend handling and add better events,"We were setting up and tearing down the default http backend used in url maps that don't have a user specified default backend in weird places that didn't make sense. This pr also sends better events that include health check information, and sets better timeouts on readiness-probes converted to health checks. ",['freehan'],5,2016-11-24 01:23:20,2016-12-07 19:26:07,2016-12-07 19:26:07,True,2016-12-07 19:26:07,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/22,https://github.com/kubernetes/ingress-nginx/pull/22,aledbf,Enable coveralls,,[],1,2016-11-24 02:20:32,2016-11-24 08:14:18,2016-11-27 00:11:36,True,2016-11-24 08:14:18,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/25,https://github.com/kubernetes/ingress-nginx/pull/25,porridge,Fix a data race in TestFileWatcher (#24).,"Use a channel to report events to the test, rather than a variable without
synchronization.
Fixes issue #24.",[],1,2016-11-25 12:26:30,2016-11-25 13:26:34,2017-02-03 08:22:34,True,2016-11-25 13:26:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/26,https://github.com/kubernetes/ingress-nginx/pull/26,porridge,"Make ""make"" useful rather than produce error.",,[],1,2016-11-25 12:34:38,2016-11-25 13:26:26,2017-02-03 08:23:04,True,2016-11-25 13:26:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/28,https://github.com/kubernetes/ingress-nginx/pull/28,aledbf,Relax lint checks,,['bprashanth'],1,2016-11-25 15:04:31,2016-11-25 22:43:42,2016-11-27 00:11:49,True,2016-11-25 22:43:42,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/31,https://github.com/kubernetes/ingress-nginx/pull/31,aledbf,Add healthz checker,fixes #27 ,[],1,2016-11-27 00:10:16,2016-11-29 17:11:35,2016-11-29 17:14:59,True,2016-11-29 17:11:35,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/32,https://github.com/kubernetes/ingress-nginx/pull/32,aledbf,Restart nginx if master process dies,fixes #29,['aledbf'],1,2016-11-27 04:46:57,2016-11-29 21:21:06,2017-02-02 11:19:39,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/33,https://github.com/kubernetes/ingress-nginx/pull/33,bprashanth,"Improve title README, add examples outline","A tiny step toward consolidated examples and documentation (https://github.com/kubernetes/ingress/issues/2, https://github.com/kubernetes/ingress/issues/9)","['aledbf', 'freehan']",1,2016-11-28 01:43:59,2016-11-29 00:41:17,2016-11-29 01:36:07,True,2016-11-29 00:41:17,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/34,https://github.com/kubernetes/ingress-nginx/pull/34,euank,nginx: also listen on ipv6,"This allows a brave user to run this in host networking mode and support
ipv6.

- [x] - Manual testing

I've been running a very similar patch against the contrib version with no trouble for a while.",['aledbf'],1,2016-11-28 22:30:08,2016-12-21 16:53:50,2016-12-22 02:58:17,True,2016-12-21 16:53:50,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/36,https://github.com/kubernetes/ingress-nginx/pull/36,aledbf,Add nginx metrics to prometheus,"![ngx](https://cloud.githubusercontent.com/assets/161571/20693228/b9bc06ac-b5bb-11e6-81ab-9e7c9e24da17.png)
",['aledbf'],3,2016-11-29 01:41:14,2016-11-30 17:41:51,2016-12-21 00:15:33,True,2016-11-30 17:41:51,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/44,https://github.com/kubernetes/ingress-nginx/pull/44,bprashanth,Bump nginx version to one higher than that in contrib,https://github.com/kubernetes/contrib/pull/2015,"['aledbf', 'porridge']",1,2016-12-06 20:12:24,2016-12-07 18:21:55,2016-12-07 18:25:25,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/46,https://github.com/kubernetes/ingress-nginx/pull/46,bprashanth,Fix unittests,I forgot to run unittests and I guess we stopped doing that in presubmit when we moved from contrib -> ingress,['freehan'],1,2016-12-07 19:55:00,2016-12-07 20:15:21,2016-12-07 20:15:21,True,2016-12-07 20:15:21,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/47,https://github.com/kubernetes/ingress-nginx/pull/47,lichen2013,Fix the hyperlink in CONTRIBUTING.md for issue search,"The issue label for new contributors should be ""help wanted"", not ""help-wanted"".",[],1,2016-12-08 07:16:17,2016-12-12 14:09:16,2016-12-12 14:09:17,True,2016-12-12 14:09:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/52,https://github.com/kubernetes/ingress-nginx/pull/52,gianrubio,fix typo in variable ProxyRealIPCIDR,"I was running the default template for the ingress controller. I realised a typo in configuration, only renaming the var solve the issue.

## Args
```
# ./nginx-ingress-controller 
--default-backend-service=kube-system/default-http-backend 
--tcp-services-configmap=kube-system/tcp-configmap 
--configmap=kube-system/nginx-load-balancer-conf
```

## Error
```
...
W1212 13:18:13.925417      19 controller.go:833] service */* does not have any active endpoints
W1212 13:18:14.006342      19 queue.go:82] requeuing gitlab/kubedash, err template: nginx.tmpl:17:31: executing ""nginx.tmpl"" at <$cfg.ProxyRealIpCidr>: can't evaluate field **ProxyRealIpCidr** 
in type config.Configuration
```",[],1,2016-12-12 13:31:48,2016-12-12 14:07:37,2017-02-22 21:49:24,True,2016-12-12 14:07:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/54,https://github.com/kubernetes/ingress-nginx/pull/54,bprashanth,Expand developer docs,"Following these instructions the nginx controller doesn't run on local-up-cluster, maybe I'm missing something obvious? plan to debug soon (it looks like it just hangs and doesn't start nginx), but I suppose we can iterate, since the doc captures intent. ",['aledbf'],1,2016-12-13 01:52:01,2016-12-13 22:21:17,2016-12-13 22:23:33,True,2016-12-13 22:21:17,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/55,https://github.com/kubernetes/ingress-nginx/pull/55,bprashanth,Bump up glbc version to match release,Matches the tag in https://github.com/kubernetes/ingress/releases,"['freehan', 'MrHohn']",1,2016-12-13 03:17:25,2016-12-13 20:45:42,2016-12-13 20:45:42,True,2016-12-13 20:45:42,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/57,https://github.com/kubernetes/ingress-nginx/pull/57,gianrubio,Fix invalid port in upstream,"If you don't have the ingress port mapped same as the service, you got the error ""invalid port in upstream"" on nginx. To fix this, we should check if the targetPort is valid (>0).
Fix #53 ",[],1,2016-12-14 16:22:31,2016-12-14 16:38:20,2016-12-14 16:55:26,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/58,https://github.com/kubernetes/ingress-nginx/pull/58,gianrubio,"Fix ""invalid port in upstream"" on nginx controller","If you don't have the ingress port mapped same as the service, you got the error ""invalid port in upstream"" on nginx. To fix this, we should check if the targetPort is valid (>0).
Fix #53",['aledbf'],1,2016-12-14 16:44:22,2016-12-21 16:44:53,2017-02-22 21:49:18,True,2016-12-21 16:44:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/61,https://github.com/kubernetes/ingress-nginx/pull/61,porridge,Ignore coverage profile files.,,[],1,2016-12-15 10:01:51,2016-12-15 12:24:09,2017-02-03 08:21:47,True,2016-12-15 12:24:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/62,https://github.com/kubernetes/ingress-nginx/pull/62,aledbf,Fix e2e make targets,,[],1,2016-12-15 12:50:13,2016-12-15 13:42:34,2016-12-21 00:14:52,True,2016-12-15 13:42:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/64,https://github.com/kubernetes/ingress-nginx/pull/64,aledbf,Sort whitelist list to avoid random orders,fixes #63,['aledbf'],1,2016-12-15 14:18:26,2016-12-15 18:19:02,2016-12-21 00:15:48,True,2016-12-15 18:19:02,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/65,https://github.com/kubernetes/ingress-nginx/pull/65,aledbf,Support hostnames in Ingress status,"In AWS a service with `type:Loadbalancer` uses a FQDN instead of IPs

fixes #50",[],2,2016-12-16 17:39:15,2016-12-16 18:16:41,2016-12-21 00:14:31,True,2016-12-16 18:16:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/66,https://github.com/kubernetes/ingress-nginx/pull/66,bprashanth,Start FAQ docs,,"['aledbf', 'freehan', 'MrHohn']",1,2016-12-16 23:26:51,2017-01-02 02:47:34,2017-01-02 02:47:34,True,2017-01-02 02:47:34,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/68,https://github.com/kubernetes/ingress-nginx/pull/68,chentao1596,fix ref to new issue,"fix ref to new issue, thank you!",['aledbf'],1,2016-12-20 03:00:24,2016-12-21 16:45:24,2016-12-22 13:18:01,True,2016-12-21 16:45:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/77,https://github.com/kubernetes/ingress-nginx/pull/77,aledbf,Add support for IPV6 in dns resolvers,"fixes https://github.com/kubernetes/contrib/issues/2188
fixes https://github.com/kubernetes/contrib/issues/2193
fixes https://github.com/kubernetes/ingress/issues/74",['aledbf'],2,2016-12-22 03:00:44,2017-01-02 04:21:53,2017-01-13 11:44:25,True,2017-01-02 04:21:53,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/78,https://github.com/kubernetes/ingress-nginx/pull/78,jgmize,Fix #76: hardcode X-Forwarded-Port due to SSL Passthrough,,[],1,2016-12-22 08:16:06,2016-12-22 13:06:24,2016-12-22 13:06:24,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/81,https://github.com/kubernetes/ingress-nginx/pull/81,porridge,Do not push containers to remote repo as part of test-e2e.,"Since the cluster runs locally, this seems unnecessary.
Fixes #79.",['aledbf'],1,2016-12-22 09:56:25,2016-12-22 17:50:35,2016-12-22 17:50:35,True,2016-12-22 17:50:35,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/82,https://github.com/kubernetes/ingress-nginx/pull/82,aledbf,Fix incorrect X-Forwarded-Port for TLS,"fixes https://github.com/kubernetes/ingress/issues/76
replaces https://github.com/kubernetes/ingress/pull/78",['aledbf'],1,2016-12-22 13:04:50,2016-12-22 17:57:52,2017-01-13 11:43:34,True,2016-12-22 17:57:52,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/84,https://github.com/kubernetes/ingress-nginx/pull/84,ysolt,Detailed NGINX-Ingress-Controller status page config,Add detailed example for NGINX-Ingress-Controller status page configuration,[],1,2016-12-22 19:56:45,2017-09-29 03:52:24,2017-09-29 03:52:24,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/86,https://github.com/kubernetes/ingress-nginx/pull/86,alexw23,Update X-Forwarded-Port,"It appears this package is assuming the port running on the Ingress Controller as the port.

In the current situation, if my LB sends X-Forwarded-Port: 443 and the ingress controller is running on port 80. X-Forwarded-Port: 80 will end up in my app.

Now it's correctly routing.",[],2,2016-12-22 23:17:04,2016-12-26 22:58:02,2016-12-26 22:58:02,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/88,https://github.com/kubernetes/ingress-nginx/pull/88,gianrubio,Fix multiple tls hosts sharing the same secretName,"The new controller changed the way that lookup for a ssl certificate. On the current ingress, on contrib, this tls mapping below works, but when I moved for this repo, some tls aren't generated.   

```
    tls:
    - hosts:
      - aaaa.fake-domain.me
      secretName: auth.fake-domain.me
    - hosts:
      - nnnn.fake-domain.me
      secretName: cauth.fake-domain.me
    - hosts:
      - gggg.fake-domain.me
      secretName: gate.fake-domain.me
    - hosts:
      - my.fake-domain.me
      secretName: my.fake-domain.me
    - hosts:
      - rrrr.fake-domain.me
      - ppp.fake-domain.me
      - jjjj.fake-domain.me
      secretName: eu-fake-domain.me
```",['aledbf'],1,2016-12-25 20:05:19,2016-12-26 17:04:12,2017-02-22 21:49:17,True,2016-12-26 17:04:12,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/89,https://github.com/kubernetes/ingress-nginx/pull/89,chentao1596,fix the wrong links to the examples and developer documentation,"Fix the wrong links to the ""examples"" and ""developer documentation"" in the file ""README.md"", thank you!",['aledbf'],1,2016-12-26 09:10:41,2016-12-26 13:24:52,2017-02-23 01:12:43,True,2016-12-26 13:24:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/90,https://github.com/kubernetes/ingress-nginx/pull/90,chentao1596,fix the wrong link to build/test/release,"Fix the wrong link to build/test/release, thank you",['aledbf'],1,2016-12-26 12:36:44,2016-12-26 13:25:04,2016-12-26 13:30:57,True,2016-12-26 13:25:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/91,https://github.com/kubernetes/ingress-nginx/pull/91,aledbf,Fix x-forwarded-port mapping,"replaces #86

```
$ curl  localhost -H 'Host: foo-98.bar.com'
CLIENT VALUES:
client_address=10.2.9.2
command=GET
real path=/
query=nil
request_version=1.1
request_uri=http://foo-98.bar.com:8080/

SERVER VALUES:
server_version=nginx: 1.9.11 - lua: 10001

HEADERS RECEIVED:
accept=*/*
connection=close
host=foo-98.bar.com
user-agent=curl/7.50.2
x-forwarded-for=::ffff:10.2.9.1
x-forwarded-host=foo-98.bar.com
x-forwarded-port=80
x-forwarded-proto=http
x-real-ip=::ffff:10.2.9.1
BODY:
-no body in request-

$ curl  localhost -H 'Host: foo-98.bar.com' -H 'x-forwarded-port: 81'
CLIENT VALUES:
client_address=10.2.9.2
command=GET
real path=/
query=nil
request_version=1.1
request_uri=http://foo-98.bar.com:8080/

SERVER VALUES:
server_version=nginx: 1.9.11 - lua: 10001

HEADERS RECEIVED:
accept=*/*
connection=close
host=foo-98.bar.com
user-agent=curl/7.50.2
x-forwarded-for=::ffff:10.2.9.1
x-forwarded-host=foo-98.bar.com
x-forwarded-port=81
x-forwarded-proto=http
x-real-ip=::ffff:10.2.9.1
BODY:
-no body in request-

$ curl  localhost -H 'Host: foo-98.bar.com' -H 'x-forwarded-port: 442'
CLIENT VALUES:
client_address=10.2.9.2
command=GET
real path=/
query=nil
request_version=1.1
request_uri=http://foo-98.bar.com:8080/

SERVER VALUES:
server_version=nginx: 1.9.11 - lua: 10001

HEADERS RECEIVED:
accept=*/*
connection=close
host=foo-98.bar.com
user-agent=curl/7.50.2
x-forwarded-for=::ffff:10.2.9.1
x-forwarded-host=foo-98.bar.com
x-forwarded-port=443
x-forwarded-proto=http
x-real-ip=::ffff:10.2.9.1
BODY:
-no body in request-

$ curl  localhost -H 'Host: foo-98.bar.com' -H 'x-forwarded-port: 9000'
CLIENT VALUES:
client_address=10.2.9.2
command=GET
real path=/
query=nil
request_version=1.1
request_uri=http://foo-98.bar.com:8080/

SERVER VALUES:
server_version=nginx: 1.9.11 - lua: 10001

HEADERS RECEIVED:
accept=*/*
connection=close
host=foo-98.bar.com
user-agent=curl/7.50.2
x-forwarded-for=::ffff:10.2.9.1
x-forwarded-host=foo-98.bar.com
x-forwarded-port=9000
x-forwarded-proto=http
x-real-ip=::ffff:10.2.9.1
BODY:
-no body in request-
```",['aledbf'],1,2016-12-26 13:58:35,2016-12-26 22:56:37,2017-01-13 11:48:06,True,2016-12-26 22:56:37,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/92,https://github.com/kubernetes/ingress-nginx/pull/92,aledbf,Refactoring of nginx configuration deserialization,,['aledbf'],1,2016-12-28 13:08:28,2017-01-02 14:35:15,2017-01-13 11:43:54,True,2017-01-02 14:35:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/93,https://github.com/kubernetes/ingress-nginx/pull/93,aledbf,Fix sort for catch all server,fixes #49,['aledbf'],1,2016-12-29 15:29:51,2017-01-02 19:23:06,2017-01-20 21:16:42,True,2017-01-02 19:23:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/94,https://github.com/kubernetes/ingress-nginx/pull/94,aledbf,Add support to disable server_tokens directive,fixes #70,['justinsb'],1,2016-12-29 15:37:54,2017-01-12 15:23:33,2018-05-28 14:33:29,True,2017-01-12 15:23:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/95,https://github.com/kubernetes/ingress-nginx/pull/95,aledbf,Deny location mapping in case of specific errors,"fixes #16
fixes #108",['aledbf'],4,2016-12-29 20:02:25,2017-01-13 00:16:55,2017-01-20 21:17:54,True,2017-01-13 00:16:55,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/96,https://github.com/kubernetes/ingress-nginx/pull/96,justinsb,Fix typo PassthrougBackends -> PassthroughBackends,,['aledbf'],1,2016-12-29 22:58:32,2016-12-29 23:15:13,2016-12-29 23:15:13,True,2016-12-29 23:15:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/97,https://github.com/kubernetes/ingress-nginx/pull/97,justinsb,Fix gofmt,So `make fmt` passes,['aledbf'],1,2016-12-29 23:00:15,2016-12-29 23:01:57,2016-12-29 23:16:23,True,2016-12-29 23:01:57,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/99,https://github.com/kubernetes/ingress-nginx/pull/99,aledbf,Update nginx to 1.11.8,Requires https://github.com/kubernetes/contrib/pull/2225,['aledbf'],1,2016-12-29 23:27:50,2017-01-13 00:17:18,2017-01-13 11:46:50,True,2017-01-13 00:17:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/100,https://github.com/kubernetes/ingress-nginx/pull/100,aledbf,Change default upload limit to unlimited,fixes #98,['aledbf'],1,2016-12-29 23:46:10,2017-01-07 11:08:00,2017-02-02 11:19:19,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/101,https://github.com/kubernetes/ingress-nginx/pull/101,chentao1596,Add unit test for strings.StringInSlice,"Add unit test, thank you!",['aledbf'],1,2017-01-01 16:31:00,2017-01-02 14:57:47,2017-01-03 00:35:53,True,2017-01-02 14:57:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/103,https://github.com/kubernetes/ingress-nginx/pull/103,luxas,Update the nginx controller manifests," - to run in the kube-system namespace
 - to use hostnetwork
 - to use deployments instead of rcs
 - to work with kubeadm
 - to create the service by manifest

...and just a little general cleanup

PTAL @aledbf @bprashanth ",['aledbf'],2,2017-01-03 13:29:43,2017-01-05 12:31:20,2017-01-05 14:54:27,True,2017-01-05 12:31:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/106,https://github.com/kubernetes/ingress-nginx/pull/106,thockin,GCE: dont sync broken lbs,"@bprashanth before tests and stuff like that, PTAL.  This will stop hot-looping on GCE when a service is broken.",['bprashanth'],1,2017-01-05 01:06:01,2017-01-18 05:32:08,2017-01-18 05:32:08,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/107,https://github.com/kubernetes/ingress-nginx/pull/107,chentao1596,fix some wrong links of examples which to be used for nginx,"Fix some wrong links of examples which to be used for nginx, thank you!",[],1,2017-01-05 06:35:45,2017-01-05 12:14:51,2017-01-05 13:36:28,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/108,https://github.com/kubernetes/ingress-nginx/pull/108,euank,annotations: print error and skip if malformed,"Logging annotation errors at v5 effectively means that errors are
silent.

In addition, continuing to setup an ingress rule *after* a malformed
authentication, rate limit, or whitelist annotation was noticed seems
a bit bad.
If a user typoes the value of an annotation, they don't deserve to be
left in a horribly insecure state, merely in a broken one.",[],2,2017-01-05 09:18:59,2017-01-13 00:16:55,2017-01-13 00:16:55,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/111,https://github.com/kubernetes/ingress-nginx/pull/111,chentao1596,fix some go style mistakes about fmt.Errorf,"I think we should follow this request: https://github.com/golang/go/wiki/CodeReviewComments#error-strings, thank you!","['nicksardo', 'bprashanth']",1,2017-01-06 08:50:51,2017-03-17 18:08:03,2017-03-17 22:02:18,True,2017-03-17 18:08:03,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/113,https://github.com/kubernetes/ingress-nginx/pull/113,chentao1596,Add condition of enqueue and unit test cases for task.Queue,"Hi, all the codes are related with task.Queue, so i merge them into one PR with two commits.

For the first commit:
    I think it's necessary to add checking action before enqueue, because:
        1)  no need to execute this codes before ""t.queue.Add(key)"" if queue has been closes
        2) log is needed if failed to enqueue

For the second commit: 
    add unit test cases
thank you!",['aledbf'],2,2017-01-07 15:58:21,2017-01-07 17:01:49,2017-01-08 01:01:18,True,2017-01-07 17:01:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/114,https://github.com/kubernetes/ingress-nginx/pull/114,chentao1596,fix typo,"    Fix word typo, and i think t.Errorf is better, thank you!",['aledbf'],1,2017-01-08 01:34:00,2017-01-08 01:58:32,2017-01-08 13:36:48,True,2017-01-08 01:58:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/115,https://github.com/kubernetes/ingress-nginx/pull/115,markacola,add default_server to listen statement for default backend,This will resolve #85.,['aledbf'],1,2017-01-09 01:06:47,2017-01-13 12:11:26,2017-01-13 12:11:26,True,2017-01-13 12:11:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/117,https://github.com/kubernetes/ingress-nginx/pull/117,thockin,GCE: Don't update URL Map if unchanged,Don't send URLMaps that don't have any changes.,['bprashanth'],1,2017-01-09 19:42:08,2017-01-10 04:25:48,2017-01-10 04:25:48,True,2017-01-10 04:25:48,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/118,https://github.com/kubernetes/ingress-nginx/pull/118,thockin,Cleanups,,['bprashanth'],3,2017-01-09 19:48:40,2017-01-10 04:13:45,2017-01-10 04:13:53,True,2017-01-10 04:13:45,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/119,https://github.com/kubernetes/ingress-nginx/pull/119,chentao1596,add unit test case for annotations.service,"Add unit test case for annotations.service, thank you!",['aledbf'],1,2017-01-10 07:39:16,2017-01-13 12:12:40,2017-01-17 02:20:58,True,2017-01-13 12:12:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/121,https://github.com/kubernetes/ingress-nginx/pull/121,gianrubio,FIX: ingress was not creating the endpoint when target port is string,"When using target port as string, nginx can't generate the right upstream. 

```
$kubectl get svc prometheus-k8s -o yaml
apiVersion: v1
kind: Service
metadata:  
  name: prometheus-k8s
  namespace: kube-system
spec:
  clusterIP:  ***
  ports:
  - name: web
    nodePort: 3900
    port: 9090
    protocol: TCP
    targetPort: web
  selector:
    prometheus: prometheus-k8s
  sessionAffinity: None
  type: NodePort
status:
  loadBalancer: {}
```

Output when using targetPort: web
```
[temp-nginx-ingress-controller-vki2s] W0110 10:40:36.638062       7 controller.go:833] service kube-system/prometheus-k8s does not have any active endpoints
```

diff nginx.conf after patching
```
grubio@localhost:~$ diff nginx.conf-old nginx.conf-new
359c359
<         server 127.0.0.1:8181 max_fails=0 fail_timeout=0;
---
>         server 10.5.2.16:9090 max_fails=0 fail_timeout=0;
```

Fixed",['aledbf'],1,2017-01-10 11:03:04,2017-02-03 00:22:40,2017-02-22 21:49:16,True,2017-02-03 00:22:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/123,https://github.com/kubernetes/ingress-nginx/pull/123,aledbf,Add resolver configuration to nginx,The nginx revolver configuration is needed when the external authentication annotation is used.,['justinsb'],1,2017-01-10 12:54:42,2017-01-12 16:03:46,2017-01-20 21:16:28,True,2017-01-12 16:03:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/124,https://github.com/kubernetes/ingress-nginx/pull/124,bprashanth,Only delete default backend when there are no loadbalancers,"Previously we were deleting the IG(s) when there were no more backend services (i.e the backend pool had no Services to sync). This mirrors how they are created. 

However, in the case where we have an Ingress with 0 nodeports (i.e user sticks type=ClusterIP Services into the Ingress), we would still like the lb to get an IP, and requests sent to this IP to get a 404 from the default backend.  For this we need to keep the default backend around till there are no more lbs, and by extension, we also need to keep the IG around for the default backend. 

Also adds some better events in the case where the default backend has no nodeport. ","['freehan', 'thockin']",2,2017-01-10 13:00:46,2017-01-11 06:55:42,2017-01-11 06:55:42,True,2017-01-11 06:55:42,thockin,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/126,https://github.com/kubernetes/ingress-nginx/pull/126,chentao1596,change the type of imagePullPolicy," I thought ""IfNotPresent"" should be better than ""Always"". 
Reasons: All the images(""gcr.io/google_containers/nginx-ingress-controller"") which exist have a fixed tag(not :latest). The tag will be changed if this image change to a new version. So, IMO, no matter how many times, the download image is the same one, and we don't need download it again when it exists.
thank you!",['aledbf'],1,2017-01-13 08:53:39,2017-01-13 11:45:10,2017-01-17 02:21:08,True,2017-01-13 11:45:10,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/128,https://github.com/kubernetes/ingress-nginx/pull/128,aledbf,Add tests and godebug to compare structs,,[],2,2017-01-13 13:27:02,2017-01-13 15:29:18,2017-02-02 11:18:51,True,2017-01-13 15:29:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/132,https://github.com/kubernetes/ingress-nginx/pull/132,pedrosland,Document nginx controller configuration tweaks,"This PR contains many small tweaks to the nginx controller configuration documentation.

Some of these changes are perhaps personal taste. I am happy to change or to delete entirely.

I have another PR to follow for config map additions but I think this is un-reviewable enough.",['aledbf'],4,2017-01-15 23:44:59,2017-01-19 18:07:40,2017-01-19 18:21:38,True,2017-01-19 18:07:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/133,https://github.com/kubernetes/ingress-nginx/pull/133,aledbf,Add TCP and UDP services removed in migration,,['aledbf'],1,2017-01-16 00:18:17,2017-01-19 12:06:04,2017-01-20 21:17:27,True,2017-01-19 12:06:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/134,https://github.com/kubernetes/ingress-nginx/pull/134,fate-grand-order,fix typo,Signed-off-by: fate-grand-order <chenjg@harmonycloud.cn>,['aledbf'],1,2017-01-16 06:01:34,2017-01-16 13:04:41,2017-01-16 13:04:48,True,2017-01-16 13:04:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/135,https://github.com/kubernetes/ingress-nginx/pull/135,chentao1596,correct improper punctuation,"Line 227: The punctuation ""`"" of the end of this line is redundant, it can be left out.
Line 335: The line has ended, the semicolon is not suitable.
Thank you!",[],1,2017-01-17 03:33:46,2017-01-18 01:58:17,2017-01-19 08:02:59,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/136,https://github.com/kubernetes/ingress-nginx/pull/136,chentao1596,Add content and descriptions about nginx's configuration,"Hi, different things happened, but all the changed contents belong to the same file, so I take them as the same PR. For details, please refer to the commit message, thank you!",['aledbf'],2,2017-01-17 08:52:21,2017-01-19 12:10:21,2017-01-20 03:49:23,True,2017-01-19 12:10:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/138,https://github.com/kubernetes/ingress-nginx/pull/138,caiyixiang,reference to const,it's should be better that reference to const,['aledbf'],1,2017-01-18 03:37:05,2017-01-18 03:54:13,2017-01-18 03:54:13,True,2017-01-18 03:54:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/141,https://github.com/kubernetes/ingress-nginx/pull/141,aledbf,Add reuse port and backlog to port 80 and 443,"https://nginx.org/en/docs/stream/ngx_stream_core_module.html#listen

`reuseport` and `backlog` are already present in the config but only for port 18080",['justinsb'],1,2017-01-19 02:04:12,2017-01-19 03:12:59,2017-01-20 21:17:40,True,2017-01-19 03:12:59,justinsb,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/142,https://github.com/kubernetes/ingress-nginx/pull/142,aledbf,Use system fs.max-files as limits instead of hard-coded value,fixes https://github.com/kubernetes/contrib/issues/1966,['justinsb'],1,2017-01-19 02:31:52,2017-01-19 06:46:50,2017-01-20 21:16:55,True,2017-01-19 06:46:50,justinsb,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/143,https://github.com/kubernetes/ingress-nginx/pull/143,aledbf,Use protobuf instead of rest to connect to apiserver host and add troubleshooting doc,"I hope this will help new users with the most common issue related to service accounts and bad certificates that are used when the communication with api server is stablished.
This PR also adds a troubleshooting document that appears in the log
(idea/code from kubernetes/dashboard)


fixes #129 ",['justinsb'],1,2017-01-19 05:07:43,2017-01-21 16:54:49,2017-02-02 11:14:37,True,2017-01-21 16:54:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/144,https://github.com/kubernetes/ingress-nginx/pull/144,chentao1596,add unit test cases for core.pkg.k8s,"Add unit test cases for core.pkg.k8s.GetNodeIP &core.pkg.k8s.GetPodDetails, 
and change the wrong word 'retuned' to the correct value 'returned' in the previous test cases, thank you!",['aledbf'],1,2017-01-19 07:48:59,2017-01-19 12:05:28,2017-01-20 03:49:19,True,2017-01-19 12:05:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/145,https://github.com/kubernetes/ingress-nginx/pull/145,chentao1596,fix wrong links and punctuations,"First commit:   According to my understanding,  ""upstreams"" should be replaced by ""backends"".

Second commit: 
 1) line 225 and line 271 used the wrong punctuations
 2) i changed other punctuations refer to https://github.com/kubernetes/ingress/pull/132

thank you!
",['aledbf'],2,2017-01-20 03:44:34,2017-01-21 14:12:28,2017-02-10 09:10:30,True,2017-01-21 14:12:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/146,https://github.com/kubernetes/ingress-nginx/pull/146,chrismoos,Add health checking from NGINX to individual endpoints.,"## Overview

This change adds support for the [nginx_upstream_check_module](https://github.com/yaoweibin/nginx_upstream_check_module) and configures upstreams with health checks based on the readinessProbe in the service's pod(s).

It is configurable with ConfigMap (default disabled):

`use-upstream-health-checks`

If the upstream health checking is enabled there is also an additional endpoint at /upstream_status.

## Notes

This was originally proposed in the old NGINX ingress controller @ https://github.com/kubernetes/contrib/pull/2072

This change depends on a new `nginx-slim` image that would target version **0.13**. The PR for that is https://github.com/kubernetes/contrib/pull/2329

A request for this was also raised in #140.","['aledbf', 'bprashanth']",1,2017-01-20 05:26:34,2017-07-16 20:28:55,2017-07-16 20:28:55,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/148,https://github.com/kubernetes/ingress-nginx/pull/148,aledbf,Add annotation to allow custom body sizes,"fixes https://github.com/kubernetes/contrib/issues/2044
fixes https://github.com/kubernetes/ingress/issues/98",[],1,2017-01-20 21:55:05,2017-01-21 15:07:32,2017-02-02 11:16:01,True,2017-01-21 15:07:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/149,https://github.com/kubernetes/ingress-nginx/pull/149,aledbf,Add flag to allow switch off the update of Ingress status,fixes https://github.com/kubernetes/ingress/issues/105,[],1,2017-01-20 22:01:52,2017-01-21 15:43:40,2017-02-02 11:13:23,True,2017-01-21 15:43:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/150,https://github.com/kubernetes/ingress-nginx/pull/150,aledbf,Add support for custom header sizes,fixes https://github.com/kubernetes/ingress/issues/37,[],1,2017-01-20 22:15:50,2017-01-21 16:27:30,2017-02-02 11:15:44,True,2017-01-21 16:27:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/151,https://github.com/kubernetes/ingress-nginx/pull/151,aledbf,Port in redirect,"fixes https://github.com/kubernetes/ingress/issues/127
fixes https://github.com/kubernetes/contrib/issues/2293",[],2,2017-01-20 22:38:37,2017-01-22 02:23:48,2017-02-02 11:14:19,True,2017-01-22 02:23:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/154,https://github.com/kubernetes/ingress-nginx/pull/154,chentao1596,add unit test cases for core.pkg.ingress.annotations.cors,"Add unit test cases for core.pkg.ingress.annotations.cors, thank you!",['aledbf'],1,2017-01-22 01:25:04,2017-01-22 02:25:14,2017-02-10 09:10:27,True,2017-01-22 02:25:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/155,https://github.com/kubernetes/ingress-nginx/pull/155,aledbf,WIP: Release 0.9.0,"**Temporal Image:**  `quay.io/aledbf/nginx-ingress-controller:0.9.0`
",[],0,2017-01-22 03:10:21,2017-01-26 19:51:43,2017-02-02 11:13:48,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/156,https://github.com/kubernetes/ingress-nginx/pull/156,tangle329,Fix issue for ratelimit,"RPS should use limit_req_zone not limit_conn_zone.
Signed-off-by: Tang Le <at28997146@163.com>",['aledbf'],1,2017-01-23 02:07:06,2017-01-23 02:45:34,2017-01-23 02:45:34,True,2017-01-23 02:45:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/157,https://github.com/kubernetes/ingress-nginx/pull/157,chentao1596,add docs for ingress.kubernetes.io/proxy-body-size annotation,fix: https://github.com/kubernetes/ingress/issues/152,[],1,2017-01-23 02:47:22,2017-02-02 10:41:55,2017-02-10 09:12:24,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/158,https://github.com/kubernetes/ingress-nginx/pull/158,chentao1596,prefect unit test cases for annotation.proxy,"  1) prefect unit test cases for annotation.proxy;
  2) for the line 91 & 95, i think ""Fatalf"" will be better than ""Errorf"", because if error occurs, the next process will no need to execute.
  thank you!",['aledbf'],1,2017-01-23 03:48:49,2017-01-23 13:32:19,2017-01-24 03:27:38,True,2017-01-23 13:32:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/161,https://github.com/kubernetes/ingress-nginx/pull/161,pedrosland,Document some missing parameters and their defaults for NGINX controller,This PR documents a couple of ConfigMap parameters and their default values.,['aledbf'],3,2017-01-23 14:22:02,2017-01-23 15:19:28,2017-01-23 15:19:28,True,2017-01-23 15:19:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/165,https://github.com/kubernetes/ingress-nginx/pull/165,tangle329,Fix rate limit issue when more than 2 servers enabled in ingress,"When more than 2 servers enabled in ingress with rate limit enabled, nginx config file check will output error message like this:
[emerg] limit_conn_zone ""default_echomap_conn"" is already bound to key ""$binary_remote_addr""

Signed-off-by: Tang Le <at28997146@163.com>",['aledbf'],1,2017-01-24 08:26:55,2017-01-25 10:35:26,2017-01-25 10:35:26,True,2017-01-25 10:35:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/166,https://github.com/kubernetes/ingress-nginx/pull/166,jcmoraisjr,Fix redirects of backends with port other than 80,"Out deployment has the following use case:

* Ingress references a backend on port `:8080`
* Backend normalize URLs redirecting `/some/folder` to `/some/folder/`

The problem here is that the backend redirect to `:8080` but the ingress controller doesn't change the `Location:` header to `:80`, which is the port the ingress controller is listening.

What I have observed so far is that, when using `proxy_pass` with an upstream, the `$proxy_port` variable on nginx is `80` regardless of the port being used on upstream and backends.

The following change fixes this problem but assume the port of the ingress controller is always 80 over http and 443 over https.",[],1,2017-01-24 11:49:29,2017-02-06 23:31:40,2017-04-15 18:00:14,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/167,https://github.com/kubernetes/ingress-nginx/pull/167,rikatz,Changes the SSL Temp Dir,"This PR makes the following code changes:

When configuring SSL Certificate, instead of creating a new file on the 'OS Temp' directory, creates the temp directory (and files) in the same SSL Certificates directory.

This is necessary when running ingress controller in bare metal. Having a different mount point to '/tmp' causes the ingress controller to hang, when trying to move/rename the file to the parsed one.

This is related to this PR: https://github.com/kubernetes/contrib/pull/2242",[],2,2017-01-24 13:46:32,2017-01-24 14:19:15,2017-01-24 14:28:51,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/168,https://github.com/kubernetes/ingress-nginx/pull/168,rikatz,Changes the SSL Temp file to something inside the same SSL Directory,"This PR makes the following code changes:

When configuring SSL Certificate, instead of creating a new file on the 'OS Temp' directory, creates the file in the same SSL Certificates directory.

This is necessary when running ingress controller in bare metal. Having a different mount point to '/tmp' causes the ingress controller to hang, when trying to move/rename the file to the parsed one.

This is related to this PR: kubernetes/contrib#2242",['aledbf'],1,2017-01-24 14:29:49,2017-01-24 14:48:14,2017-01-24 14:48:14,True,2017-01-24 14:48:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/170,https://github.com/kubernetes/ingress-nginx/pull/170,rikatz,Corrects the behaviour of default-ssl-certificate,"This PR corrects the behaviour of default-ssl-certificate

**WARNING** - There is a breaking change here. Now the directive default-ssl-certificate is mandatory, and also it's existence. If there's no default-ssl-certificate the ingress controller deployment will fail.

When the Ingress Controller starts, it tries to fetch a default SSL Certificate to be used on the default backend service.

Also, when a user configures a ingress controller with the 'tls' directive, but doesn't specify the secret to be used, the default will be used instead.

This PR is related to issue #163 and also is a proposal. ",[],19,2017-01-24 19:13:22,2017-01-26 18:04:00,2017-01-26 18:15:02,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/172,https://github.com/kubernetes/ingress-nginx/pull/172,chentao1596,"add some unit test cases for some packages under folder ""core.pkg.ingress"""," Add some unit test cases, thank you!",['aledbf'],3,2017-01-25 03:21:58,2017-01-25 10:32:58,2017-02-10 09:10:19,True,2017-01-25 10:32:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/173,https://github.com/kubernetes/ingress-nginx/pull/173,jrynyt,Clarify usage of Ingress backend.servicePort,Resolves https://github.com/kubernetes/contrib/issues/2244,['bprashanth'],1,2017-01-25 14:54:04,2017-01-25 21:15:28,2017-01-25 21:15:28,True,2017-01-25 21:15:28,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/174,https://github.com/kubernetes/ingress-nginx/pull/174,aledbf,Update nginx to 1.11.9,,[],1,2017-01-25 18:51:27,2017-01-25 21:58:25,2017-02-02 11:13:10,True,2017-01-25 21:58:25,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/176,https://github.com/kubernetes/ingress-nginx/pull/176,aledbf,Fix TLS does not get updated when changed,fixes #171,[],1,2017-01-26 02:42:24,2017-01-26 13:24:01,2017-02-02 11:15:08,True,2017-01-26 13:24:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/177,https://github.com/kubernetes/ingress-nginx/pull/177,aledbf,Refactoring sysctlFSFileMax helper,,[],1,2017-01-26 03:15:25,2017-01-26 13:30:00,2017-02-02 11:15:21,True,2017-01-26 13:30:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/178,https://github.com/kubernetes/ingress-nginx/pull/178,aledbf,Add initialization of proxy variable,This change is to avoid setting the variable after any operation that can alter the process of the request (like a redirect),[],1,2017-01-26 13:33:50,2017-01-26 19:50:21,2017-02-02 11:14:02,True,2017-01-26 19:50:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/179,https://github.com/kubernetes/ingress-nginx/pull/179,rikatz,Allows the usage of Default SSL Cert,"This PR corrects the behaviour of default-ssl-certificate

When the Ingress Controller starts, it tries to fetch a default SSL Certificate to be used on the default backend service.

Also, when a user configures a ingress controller with the 'tls' directive, but doesn't specify the secret to be used (or specify an incorrect one), the default will be used instead.

This PR is related to issue #163 and replaces the #170 ",['aledbf'],1,2017-01-26 18:54:04,2017-01-26 19:26:18,2017-01-26 19:32:34,True,2017-01-26 19:26:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/181,https://github.com/kubernetes/ingress-nginx/pull/181,aledbf,WIP: Release 0.9.0,Temporal Image: quay.io/aledbf/nginx-ingress-controller:0.9.0,[],1,2017-01-26 20:00:21,2017-01-30 18:56:00,2017-02-02 11:18:39,True,2017-01-30 18:56:00,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/184,https://github.com/kubernetes/ingress-nginx/pull/184,aledbf,Fix template error,error introduced in #179,[],1,2017-01-27 20:53:16,2017-01-27 21:21:25,2017-02-02 11:14:52,True,2017-01-27 21:21:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/185,https://github.com/kubernetes/ingress-nginx/pull/185,bprashanth,Match named port between container and probe,"Fixes some confusion around both the targetPort and the readinessProbe 
port being IntOrString, but the container port having both a numeric value 
and name. More specifically, we were previous matching the target port 
with the readiness probe, and hence dropping the case where the container 
port and the probe had the same name, but the target port did not. 
","['freehan', 'thockin']",1,2017-01-27 22:32:53,2017-01-28 01:25:39,2017-01-28 01:25:39,True,2017-01-28 01:25:39,thockin,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/186,https://github.com/kubernetes/ingress-nginx/pull/186,bprashanth,Add a tls-termination example,,['aledbf'],1,2017-01-28 02:00:05,2017-01-28 15:59:24,2017-01-28 15:59:24,True,2017-01-28 15:59:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/189,https://github.com/kubernetes/ingress-nginx/pull/189,bprashanth,Change nginx controller image to 0.9.0-beta.1,,['aledbf'],1,2017-01-30 20:14:30,2017-01-31 01:26:09,2017-01-31 01:26:09,True,2017-01-31 01:26:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/190,https://github.com/kubernetes/ingress-nginx/pull/190,colemickens,"nginx: annotations: authrequest: support ""signin url""","I finally got around to trying to put together an OAuth2/OIDC reverse proxy using `nginx-ingress-controller` and CoreOS's fork of bitly's `oauth2_proxy`. Initial support for thi scenario was added as a result of this issue: https://github.com/kubernetes/contrib/issues/1492

I had to do a couple things to get it to work:

1. Build `nginx-ingress-controller` myself since it has not been published in quite a long time.

2. Downgrade to a version of `nginx-slim` that is actually published (kind of weird)...

3. Add a new annotation for `auth-signin` that tells nginx where to send 401s to.

4. Add a couple extra `X-*` headers for things being reverse-proxied that expect them.

As a bonus:

1. Parameterize `DOCKER` in the Makefile similar to `PREFIX` and `RELEASE` for those of us building and pushing to non-GCR repositories.

2. Pulled out the URL parsing logic from the authrequest plugin to the parser since it seems to already hold util-type helpers.

cc: @aledbf",[],4,2017-01-30 21:03:04,2017-03-09 14:22:08,2017-03-09 14:22:08,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/192,https://github.com/kubernetes/ingress-nginx/pull/192,bprashanth,Add a custom controller example,,['aledbf'],1,2017-01-31 02:44:47,2017-01-31 18:50:54,2017-01-31 18:50:54,True,2017-01-31 18:50:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/193,https://github.com/kubernetes/ingress-nginx/pull/193,bprashanth,Move custom images out of contrib,,['aledbf'],1,2017-01-31 18:24:43,2017-01-31 18:51:04,2017-01-31 18:51:04,True,2017-01-31 18:51:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/194,https://github.com/kubernetes/ingress-nginx/pull/194,rikatz,Ingress Controller Fake Cert Generation,"This PR solves the problem reported in #191 

It generates a new Fake Cert, instead of using the snake oil.

Once the Fake Cert is generated, it's not created anymore until someone erases it.

",['aledbf'],174,2017-01-31 21:52:47,2017-03-07 12:21:39,2017-03-07 12:31:47,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/198,https://github.com/kubernetes/ingress-nginx/pull/198,bprashanth,Add an example for static-ip and deployment,,['aledbf'],1,2017-02-01 01:24:54,2017-02-02 00:55:48,2017-02-02 00:55:48,True,2017-02-02 00:55:48,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/202,https://github.com/kubernetes/ingress-nginx/pull/202,bprashanth,Clarify that an ingress controller needs to be deployed,,['bprashanth'],1,2017-02-02 01:10:45,2017-02-02 01:34:46,2017-02-02 01:34:46,True,2017-02-02 01:34:45,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/203,https://github.com/kubernetes/ingress-nginx/pull/203,bprashanth,Add a skeleton admin guide,,['aledbf'],1,2017-02-02 02:06:20,2017-02-02 10:38:37,2017-02-02 10:38:37,True,2017-02-02 10:38:37,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/204,https://github.com/kubernetes/ingress-nginx/pull/204,ixdy,Always docker --pull when building to fetch latest base images,"`gcr.io/google_containers/glbc` is based on `ubuntu:14.04`, so it's important that we use the latest version of it each time we build this image.",[],1,2017-02-02 03:06:40,2017-02-02 10:39:23,2017-02-02 10:39:23,True,2017-02-02 10:39:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/208,https://github.com/kubernetes/ingress-nginx/pull/208,aledbf,Fix nil HTTP field,fixes #205,[],1,2017-02-02 11:12:05,2017-02-02 21:15:05,2017-02-02 21:15:05,True,2017-02-02 21:15:05,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/211,https://github.com/kubernetes/ingress-nginx/pull/211,bprashanth,Clarify firewall-rule doc,,['bprashanth'],1,2017-02-02 16:56:25,2017-02-02 18:03:54,2017-02-02 18:03:54,True,2017-02-02 18:03:54,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/212,https://github.com/kubernetes/ingress-nginx/pull/212,aledbf,Simplify code to obtain TCP or UDP services,,['justinsb'],1,2017-02-02 22:41:36,2017-02-04 21:22:16,2017-03-14 21:56:12,True,2017-02-04 21:22:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/214,https://github.com/kubernetes/ingress-nginx/pull/214,jcmoraisjr,Initial version of HAProxy controller,"A very first, but fully functional, initial version of HAProxy controller.","['aledbf', 'bprashanth']",1,2017-02-03 01:00:21,2017-02-03 01:37:33,2017-02-08 23:09:55,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/217,https://github.com/kubernetes/ingress-nginx/pull/217,porridge,Fix an e2e link.,,['aledbf'],1,2017-02-03 09:07:57,2017-02-03 10:52:22,2017-02-24 15:47:05,True,2017-02-03 10:52:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/218,https://github.com/kubernetes/ingress-nginx/pull/218,porridge,Improve links from CONTRIBUTING.,"- point to most recent version of k8s-wide docs, not some frozen version
- actually mention the ingress-specific development guide",['aledbf'],1,2017-02-03 09:28:19,2017-02-03 10:51:02,2017-02-24 15:47:05,True,2017-02-03 10:51:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/219,https://github.com/kubernetes/ingress-nginx/pull/219,porridge,"Fix typo, add a couple of links.","I'm actually not sure whether it would not be better to move the text of the
two e2e-related FAQs into this document, and just link from the FAQ, WDYT?",['aledbf'],1,2017-02-03 09:34:53,2017-02-03 20:50:56,2017-02-24 15:47:04,True,2017-02-03 20:50:56,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/220,https://github.com/kubernetes/ingress-nginx/pull/220,porridge,Fixes for minikube usage instructions.,A baby step towards #5.,['aledbf'],1,2017-02-03 17:48:35,2017-02-03 20:49:16,2017-02-24 15:47:05,True,2017-02-03 20:49:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/221,https://github.com/kubernetes/ingress-nginx/pull/221,tonglil,Typo: unittesting -> unit testing,Just fixing a small typo.,[],1,2017-02-03 19:52:53,2017-02-25 11:12:54,2017-03-07 20:43:47,True,2017-02-25 11:12:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/222,https://github.com/kubernetes/ingress-nginx/pull/222,tonglil,Change arg ordering in log message,"The log message didn't make sense:

Before: `Creating new sslCertificates load-balancer-name for cert-name`
After: `Creating new sslCertificates cert-name for load-balancer-name`",[],1,2017-02-03 20:15:54,2017-02-25 11:12:42,2017-03-07 20:43:39,True,2017-02-25 11:12:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/223,https://github.com/kubernetes/ingress-nginx/pull/223,jcmoraisjr,Fix panic if a tempfile cannot be created,A panic would be thrown if tempPemFile couldn't be created. Using a string variable to fix this.,['aledbf'],1,2017-02-03 20:54:21,2017-02-03 21:14:08,2017-02-06 23:31:37,True,2017-02-03 21:14:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/224,https://github.com/kubernetes/ingress-nginx/pull/224,tonglil,Check for error getting cert,"No comment stating why the error is unchecked, so I checked the error.",[],2,2017-02-03 22:27:38,2017-02-25 11:12:25,2017-03-07 20:43:33,True,2017-02-25 11:12:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/225,https://github.com/kubernetes/ingress-nginx/pull/225,electroma,Support for http header passing from external authentication service,"May be useful in cases when external authentication service returns client information in headers.
This PR allows to specify list of headers to copy from response of authentication service.",['aledbf'],10,2017-02-04 01:02:21,2017-04-01 23:40:29,2017-04-01 23:40:29,True,2017-04-01 23:40:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/226,https://github.com/kubernetes/ingress-nginx/pull/226,justinsb,WIP: Make ssl-passthrough tristate,"We differentiate between not-set, true and false.  We will merge a set
value into an existing server, but ignore an unset one.

Fix #206",[],1,2017-02-04 06:57:13,2017-10-21 02:21:48,2017-10-21 02:21:48,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/227,https://github.com/kubernetes/ingress-nginx/pull/227,justinsb,proxy_protocol on ssl_passthrough listener,"Move proxy_protocol to listener.

Fix #207",['aledbf'],2,2017-02-04 07:38:50,2017-02-05 00:22:48,2017-02-05 00:22:48,True,2017-02-05 00:22:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/228,https://github.com/kubernetes/ingress-nginx/pull/228,tangle329,Fix worker check issue,"
Signed-off-by: Tang Le <at28997146@163.com>",['aledbf'],1,2017-02-04 07:44:44,2017-02-07 12:36:56,2017-02-07 12:36:56,True,2017-02-07 12:36:56,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/231,https://github.com/kubernetes/ingress-nginx/pull/231,aledbf,Add information about proxy_protocol in port 442,Adding a comment in the template to avoid adding this directive in the future in the wrong place.,[],1,2017-02-05 00:30:52,2017-02-05 01:09:46,2017-02-05 22:35:19,True,2017-02-05 01:09:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/232,https://github.com/kubernetes/ingress-nginx/pull/232,aledbf,Change searchs with searches,,[],1,2017-02-05 22:41:41,2017-02-06 14:15:23,2017-02-06 19:35:37,True,2017-02-06 14:15:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/235,https://github.com/kubernetes/ingress-nginx/pull/235,rikatz,Adds correct support for TLS Muthual autentication,"This PR adds support for TLS muthual autenthication by making the following changes:

* Creates a new function in 'ssl.go' for dealing with secrets that contain 'ca.crt' but doesn't contain tls.key or tls.crt
* Creating a conditional call in backend_ssl.go that calls each function described above, depending the in the condition the Secret was created
* Changes the nginx.tmpl to call the correct field (CAFileName), and also adds a default 'huge' ssl_verify_depth to deal with the intermediary CA chains (while this is not solved), and also pass to the backends a Header containing the 'authenticated' certs, so the app itself can authorize or not this.

TODO (on future PR):

* Make the ssl_verify_client configurable
* Create a directive that allows specifying also a CRL file
* Check if this is possible, and create a configurable 'redirect' directive when authentication is not succesful, as the following (an example is the following):
```
 if ($ssl_client_verify != SUCCESS) {
            redirect http://nossl.ingress.com/certerror.html;
        }
```
Hope this helps in this feature.",['aledbf'],1,2017-02-06 18:39:47,2017-02-25 23:34:29,2017-02-25 23:34:34,True,2017-02-25 23:34:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/236,https://github.com/kubernetes/ingress-nginx/pull/236,aledbf,WIP: Change server initialization code to use certificates common names,"fixes #195

do not merge!

",[],3,2017-02-06 21:28:38,2017-02-25 11:13:39,2017-06-19 20:06:01,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/240,https://github.com/kubernetes/ingress-nginx/pull/240,jcmoraisjr,HAProxy Ingress docs,"* Update the catalog of ingress controllers
* deploying doc
* tls termination doc",[],5,2017-02-07 00:32:59,2017-02-08 00:30:55,2017-02-08 23:09:53,True,2017-02-08 00:30:55,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/241,https://github.com/kubernetes/ingress-nginx/pull/241,caiyixiang,correct a spell mistake,"change ""UPDEndpoints"" to ""UDPEndpoints"" in Configuration",['aledbf'],1,2017-02-07 06:50:53,2017-02-07 12:34:43,2017-02-07 12:34:43,True,2017-02-07 12:34:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/244,https://github.com/kubernetes/ingress-nginx/pull/244,aledbf,Add information about cors annotation,fixes #216,[],1,2017-02-07 14:17:52,2017-02-13 20:59:48,2017-02-16 13:35:16,True,2017-02-13 20:59:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/246,https://github.com/kubernetes/ingress-nginx/pull/246,aledbf,Add support for custom proxy headers using a ConfigMap,fixes #180,[],3,2017-02-07 18:13:34,2017-02-16 10:35:58,2017-02-16 13:34:10,True,2017-02-16 10:35:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/247,https://github.com/kubernetes/ingress-nginx/pull/247,lcharkiewicz,Fix wrong URL in nginx ingress configuration,Fixes a wrong URL pointing to Go docs.,['aledbf'],1,2017-02-07 19:27:48,2017-02-07 19:44:32,2017-02-07 19:48:03,True,2017-02-07 19:44:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/248,https://github.com/kubernetes/ingress-nginx/pull/248,jcmoraisjr,Small fixes on HAProxy Ingress docs,,[],2,2017-02-08 09:31:29,2017-02-08 21:56:27,2017-02-08 23:09:48,True,2017-02-08 21:56:27,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/251,https://github.com/kubernetes/ingress-nginx/pull/251,bprashanth,Balancing mode UTILIZATION -> RATE ,"Tested manually

Created ingress with version 0.8.0: 
```
$ kubectl get ing 
NAME      HOSTS     ADDRESS          PORTS     AGE
test      *         35.186.217.102   80, 443   2m
```

Updated to 0.9.1 and created another ingress, backends all end up in UTILIZATION
```
$ kubectl create -f ~/rtmp/ingress/ing.yaml 
ingress ""echomap"" created

$ kubectl get ing 
NAME      HOSTS     ADDRESS          PORTS     AGE
test      *         35.186.217.102   80, 443   12m
echomap   foo       35.186.236.70   80, 443   51s

$ for be in $(gcloud compute backend-services list | awk '{print $1}' | tail -n +2); do gcloud compute backend-services describe $be | grep -i balancingmode; done
- balancingMode: UTILIZATION
- balancingMode: UTILIZATION
- balancingMode: UTILIZATION
```

Then recreted them all, backends end up in RATE
```
$ kubectl delete ing --all
ingress ""echomap"" deleted
ingress ""test"" deleted

$ kubectl create -f test.yaml
ingress ""test"" created

$ kubectl get ing 
NAME      HOSTS     ADDRESS         PORTS     AGE
test      *         35.186.230.43   80, 443   1m

$ for be in $(gcloud compute backend-services list | awk '{print $1}' | tail -n +2); do gcloud compute backend-services describe $be | grep -i balancingm
- balancingMode: RATE
- balancingMode: RATE
```","['freehan', 'thockin']",4,2017-02-08 23:23:38,2017-02-09 18:53:24,2017-02-09 18:53:24,True,2017-02-09 18:53:24,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/252,https://github.com/kubernetes/ingress-nginx/pull/252,tonglil,Add labels.yaml file,"Added a `labels.yaml` file like the one in [kubernetes/kubernetes](https://github.com/kubernetes/kubernetes/blob/master/labels.yaml).

Scanned it using a [tool](https://github.com/tonglil/labeler) that can also manage renames/adds/deletes.

May be useful for the automation.",['aledbf'],1,2017-02-09 05:56:04,2017-10-07 21:31:45,2017-10-07 21:31:45,True,2017-10-07 21:31:45,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/254,https://github.com/kubernetes/ingress-nginx/pull/254,bprashanth,Merge balancing mode changes into 0.9.0,Cherry-pick of https://github.com/kubernetes/ingress/pull/251 into 0.9.0,['freehan'],4,2017-02-09 20:25:26,2017-02-10 01:01:05,2017-02-10 01:01:05,True,2017-02-10 01:01:05,bprashanth,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/255,https://github.com/kubernetes/ingress-nginx/pull/255,rikatz,Adds support for disabling access_log globally,"This PR adds support for disabling the access_log globally, through a directive in ConfigMap.

It's related to issue #234 

",['aledbf'],1,2017-02-09 23:22:16,2017-02-09 23:42:26,2017-02-09 23:42:26,True,2017-02-09 23:42:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/256,https://github.com/kubernetes/ingress-nginx/pull/256,chentao1596,add some unit test cases and fix some errors,"   1, Add some unit test cases
   2, Fix the errors which found when test
thank you!",['aledbf'],4,2017-02-10 08:42:39,2017-02-10 10:43:57,2017-02-16 08:25:02,True,2017-02-10 10:43:57,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/258,https://github.com/kubernetes/ingress-nginx/pull/258,rikatz,Nginx sticky annotations,"This PR adds support for configuring the 'sticky' directive per Ingress, with annotations, instead of enabling or disabling it globally through ConfigMap.

Also it adds support for configuring the name of the cookie that will be used to route the requests, and the hash that will be used to generate the cookie.

In the future, as this is a per-Ingress feature, I think it would be better to disable and remove this configuration from ConfigMap and keep it only per Ingress.","['aledbf', 'bprashanth']",8,2017-02-10 14:34:53,2017-02-16 23:57:19,2017-02-16 23:57:19,True,2017-02-16 23:57:19,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/261,https://github.com/kubernetes/ingress-nginx/pull/261,joshrosso,types.go: fix typo in godoc,in an backend -> in a backend,['aledbf'],1,2017-02-10 17:56:25,2017-02-10 18:08:01,2017-02-10 18:15:53,True,2017-02-10 18:08:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/262,https://github.com/kubernetes/ingress-nginx/pull/262,bprashanth,Add nginx README and configuration docs back,"Dont' have time to re-write it right now, just adding back the old doc",['aledbf'],1,2017-02-10 19:00:28,2017-02-10 19:15:23,2017-02-10 19:19:52,True,2017-02-10 19:15:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/265,https://github.com/kubernetes/ingress-nginx/pull/265,aledbf,Fix rewrite annotation parser,"We need to return a Redirect type and not an error in order to get information about the SSL redirect defined in the backend

fixes #264 
fixes #160 
",['justinsb'],1,2017-02-11 21:39:23,2017-02-14 19:18:15,2017-02-16 13:34:43,True,2017-02-14 19:18:15,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/268,https://github.com/kubernetes/ingress-nginx/pull/268,arnd,minor: Fix typo in nginx README,Fix a funny typo in Dry  -> Try in Readme,[],1,2017-02-14 09:10:05,2017-02-14 12:16:49,2017-02-14 12:16:49,True,2017-02-14 12:16:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/271,https://github.com/kubernetes/ingress-nginx/pull/271,aledbf,WIP: Add support for modsecurity 3,This update to the nginx-slim image adds support for modsecurity,[],2,2017-02-14 12:41:51,2017-07-13 01:09:08,2017-10-21 00:02:51,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/272,https://github.com/kubernetes/ingress-nginx/pull/272,aledbf,Fix error getting class information from Ingress annotations,"fixes #269
fixes #270 
fixes #83",[],1,2017-02-14 14:02:52,2017-02-16 10:35:35,2017-02-16 13:32:48,True,2017-02-16 10:35:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/275,https://github.com/kubernetes/ingress-nginx/pull/275,aledbf,Pass headers to custom error backend,fixes #273,[],1,2017-02-14 17:24:44,2017-02-14 21:05:23,2017-02-16 13:32:36,True,2017-02-14 21:05:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/278,https://github.com/kubernetes/ingress-nginx/pull/278,csbell,Extend ConfigMap to store fwrule names,"GLBC users can store a providerUid which is used in lieu of Uid when constructing l7 firewall rule names. This can be leveraged to resolve issues seen in [Kubernetes #37306](https://github.com/kubernetes/kubernetes/issues/37306).

Backwards compatibility is retained by using Uid for l7 firewall rules unless providerUid is set.","['nicksardo', 'bprashanth']",2,2017-02-15 01:06:21,2017-03-06 18:37:20,2017-03-06 18:37:20,True,2017-03-06 18:37:20,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/279,https://github.com/kubernetes/ingress-nginx/pull/279,chentao1596,fix wrong link in the file of examples/README.md,"    fix wrong link in the file of examples/README.md, thank you!",[],1,2017-02-15 01:16:42,2017-02-15 02:08:42,2017-02-16 08:23:28,True,2017-02-15 02:08:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/281,https://github.com/kubernetes/ingress-nginx/pull/281,andrewstuart,Add chmod up directory tree for world read/execute on directories,Fixes #210,['aledbf'],1,2017-02-15 20:31:49,2017-02-18 12:33:08,2017-02-18 12:33:08,True,2017-02-18 12:33:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/283,https://github.com/kubernetes/ingress-nginx/pull/283,1071496910,fix bug : ingress-class not work .  issue: flag --ingress-class not w,ork #269,[],1,2017-02-16 03:14:06,2017-02-16 10:41:49,2017-02-16 10:59:48,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/284,https://github.com/kubernetes/ingress-nginx/pull/284,epeay,update README.md contents links,fix broken TOC links,[],1,2017-02-16 16:39:49,2017-02-23 02:48:19,2017-02-23 02:48:19,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/285,https://github.com/kubernetes/ingress-nginx/pull/285,bigkraig,Added a Node StoreLister type,"I'm building an ALB ingress controller that will leverage NodePorts, this was needed to be able to access the EC2 IDs of the nodes.
",['aledbf'],1,2017-02-16 16:53:17,2017-02-16 17:14:06,2017-02-16 18:46:27,True,2017-02-16 17:14:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/286,https://github.com/kubernetes/ingress-nginx/pull/286,aledbf,Add logs to help debugging and simplify default upstream configuration,,[],1,2017-02-16 17:27:28,2017-02-18 12:32:27,2017-02-25 01:31:32,True,2017-02-18 12:32:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/288,https://github.com/kubernetes/ingress-nginx/pull/288,aledbf,[ubuntu-slim] Release ubuntu-slim 0.7,"Thanks to @timstclair for cleaning the `Dockerfile.build` file.

This release reduces the size in 14MB.",['bprashanth'],1,2017-02-16 18:06:15,2017-02-17 17:12:56,2017-02-17 17:29:43,True,2017-02-17 17:12:56,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/289,https://github.com/kubernetes/ingress-nginx/pull/289,aledbf,[nginx-slim] Update nginx-slim to 1.11.10,requires #288,['bprashanth'],1,2017-02-16 18:07:49,2017-02-17 17:13:11,2017-02-17 17:29:57,True,2017-02-17 17:13:10,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/290,https://github.com/kubernetes/ingress-nginx/pull/290,aledbf,Update nginx version in ingress controller to 1.11.10,requires #289,[],1,2017-02-16 18:10:32,2017-02-17 18:46:53,2017-02-17 23:58:52,True,2017-02-17 18:46:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/291,https://github.com/kubernetes/ingress-nginx/pull/291,tonglil,"GCE/GKE ""pre-shared"" TLS cert","**What this PR does / why we need it**:
- Ingress can reference to an external TLS cert
- ~~Ingress does not use TLS secret if a reference exists~~ (pending validation code)
- unit test to create an Ingress with the annotation

**Which issue this PR fixes**:
Closes #45.
Related to https://github.com/kubernetes/kubernetes/pull/41593.

**Special notes for your reviewer**:
- [x] there is a `TODO` item on naming of this annotation key.

**Release note**:
<!--  Steps to write your release note:
1. Use the release-note-* labels to set the release note state (if you have access) 
2. Enter your extended release note in the below block; leaving it blank means using the PR title as the release note. If no release note is required, just write `NONE`. 
-->
```release-note
```
","['nicksardo', 'bprashanth']",12,2017-02-16 20:05:21,2017-03-07 21:42:42,2017-03-07 22:18:16,True,2017-03-07 21:42:42,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/293,https://github.com/kubernetes/ingress-nginx/pull/293,tonglil,Update makefile gcloud docker command,"Add `--` between gcloud and docker args:

```
WARNING: The '--' argument must be specified between gcloud specific args on the left and DOCKER_ARGS on the right. IMPORTANT: previously, commands allowed the omission of the --, and unparsed arguments were treated as implementation args. This usage is being deprecated and will be removed in March 2017.
This will be strictly enforced in March 2017. Use 'gcloud beta docker' to see new behavior.
```",[],3,2017-02-17 01:11:17,2017-02-17 01:37:26,2017-03-07 20:43:28,True,2017-02-17 01:37:26,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/295,https://github.com/kubernetes/ingress-nginx/pull/295,tangle329,"We need check content, when cmd failed.",Signed-off-by: Tang Le <at28997146@163.com>,['aledbf'],2,2017-02-17 11:14:38,2017-02-23 03:28:14,2017-02-23 03:28:14,True,2017-02-23 03:28:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/296,https://github.com/kubernetes/ingress-nginx/pull/296,aledbf,Fix rewrite regex to match the start of the URL and not a substring,fixes #294,[],1,2017-02-17 13:39:20,2017-02-17 18:12:18,2017-02-17 23:59:24,True,2017-02-17 18:12:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/297,https://github.com/kubernetes/ingress-nginx/pull/297,bprashanth,Add PUSH_TOOL to ubuntu Makefile,So people can just do `make push`  and push to gcr without errors. ,['aledbf'],1,2017-02-17 18:21:40,2017-02-17 18:46:15,2017-02-17 18:46:15,True,2017-02-17 18:46:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/298,https://github.com/kubernetes/ingress-nginx/pull/298,bprashanth,Add more GCE FAQ,@nicksardo fyi,['freehan'],1,2017-02-17 18:44:21,2017-02-17 22:47:13,2017-02-17 22:47:13,True,2017-02-17 22:47:13,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/299,https://github.com/kubernetes/ingress-nginx/pull/299,bprashanth,Add more assignees and approvers,@nicksardo @csbell,['freehan'],1,2017-02-17 18:49:01,2017-02-17 22:47:40,2017-02-17 22:47:40,True,2017-02-17 22:47:40,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/300,https://github.com/kubernetes/ingress-nginx/pull/300,aledbf,Change nginx variable to use in filter of access_log,"Before: https://regex101.com/r/XIO5SD/2
After: https://regex101.com/r/Fm98SO/1",[],1,2017-02-17 21:22:08,2017-02-17 22:46:23,2017-02-17 23:59:07,True,2017-02-17 22:46:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/302,https://github.com/kubernetes/ingress-nginx/pull/302,bprashanth,Add a GCE health checks example,,['freehan'],1,2017-02-17 23:29:30,2017-02-18 00:21:49,2017-02-18 00:21:49,True,2017-02-18 00:21:49,bprashanth,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/303,https://github.com/kubernetes/ingress-nginx/pull/303,aledbf,Release 0.9.0-beta.2,,['bprashanth'],2,2017-02-19 17:12:21,2017-02-22 18:02:16,2017-02-22 18:07:18,True,2017-02-22 18:02:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/304,https://github.com/kubernetes/ingress-nginx/pull/304,caiyixiang,change 'buildSSPassthrouthUpstreams' to 'buildSSLPassthroughUpstreams',change 'buildSSPassthrouthUpstreams' to 'buildSSLPassthroughUpstreams',['aledbf'],1,2017-02-20 02:32:34,2017-02-20 11:00:16,2017-02-20 11:00:16,True,2017-02-20 11:00:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/306,https://github.com/kubernetes/ingress-nginx/pull/306,caiyixiang,modify nginx readme,modify nginx readme,['aledbf'],1,2017-02-20 08:01:45,2017-02-20 11:01:32,2017-02-20 11:01:32,True,2017-02-20 11:01:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/307,https://github.com/kubernetes/ingress-nginx/pull/307,chentao1596,Add docs for body-size annotation,fix: https://github.com/kubernetes/ingress/issues/152,['aledbf'],1,2017-02-20 10:20:31,2017-02-20 10:58:38,2017-02-21 00:28:51,True,2017-02-20 10:58:38,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/311,https://github.com/kubernetes/ingress-nginx/pull/311,williamsandrew,Sort stream service ports to avoid extra reloads,This fixes a bug where an Ingress controller would continuously reload its configuration if multiple TCP/UDP stream services were specified. This is caused by the list of ports not being sorted.,[],1,2017-02-20 22:11:55,2017-02-24 23:49:45,2017-02-24 23:49:45,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/312,https://github.com/kubernetes/ingress-nginx/pull/312,bviolier,[ingress/controllers/nginx] Add whitelistSourceRange of global config to location block in template,"The current nginx.tmpl only takes into account `ingress.kubernetes.io/whitelist-source-range` set on an Ingress but doesn't seem to take into account `whitelist-source-range` set in the Configmap of Nginx.

According to the docs at https://github.com/kubernetes/ingress/blob/master/controllers/nginx/configuration.md it should take that into account though:
> To configure this setting globally for all Ingress rules, the whitelist-source-range value may be set in the NGINX ConfigMap.
> Note: Adding an annotation to an Ingress rule overrides any global restriction.

This pull request add's the `whitelist-source-range` information to nginx.tmpl, only if for the location no specific one is set.",['aledbf'],1,2017-02-21 12:24:47,2017-03-29 12:33:44,2017-03-29 12:33:44,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/315,https://github.com/kubernetes/ingress-nginx/pull/315,tonglil,Update releases doc,"- Update e2e testing instructions to use `go run hack/e2e.go`
- Changed ` ```console` to ` ```shell`",[],2,2017-02-21 16:13:23,2017-09-19 15:25:10,2017-09-19 15:25:14,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/317,https://github.com/kubernetes/ingress-nginx/pull/317,aledbf,Add missing method in custom-controller,,[],1,2017-02-21 18:27:47,2017-02-23 02:51:21,2017-02-25 01:31:12,True,2017-02-23 02:51:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/320,https://github.com/kubernetes/ingress-nginx/pull/320,chentao1596,update some descriptions about of 'Test HTTP Service',"    According to my test:
       1) the name of pod has been changed to http-svc-**
       2) the name of service has been changed to http-svc
       3) the port has been changed to 30301
   so i changed it, thank you!",['aledbf'],1,2017-02-22 06:34:40,2017-02-24 23:59:56,2017-02-25 11:45:12,True,2017-02-24 23:59:56,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/324,https://github.com/kubernetes/ingress-nginx/pull/324,aanm,[DO NOT MERGE] WIP: Moving client from kubernetes to client-go,"Partially fixes #318 
Signed-off-by: Andr Martins <aanm90@gmail.com>",[],1,2017-02-22 17:37:58,2017-02-24 05:03:22,2017-02-24 05:03:27,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/325,https://github.com/kubernetes/ingress-nginx/pull/325,gianrubio,WIP: Scrape json metrics from nginx vts,"This PR add the ability to ingress scrape [nginx-vts](https://github.com/vozlt/nginx-module-vts) and convert json format to prometheus.  I'm still working on this, it's one of my firsts golang codes so reviews are welcome.

## Screenshot 
<img width=""1073"" alt=""screen shot 2017-02-22 at 22 55 26"" src=""https://cloud.githubusercontent.com/assets/5694860/23234486/879af7d4-f952-11e6-8c13-39fa2d6af181.png"">

## TODO

- [ ] review ingress docs
- [ ] write tests

Fixes #72, #305, #239 ",[],1,2017-02-22 22:11:28,2017-03-12 19:56:39,2017-03-12 19:56:39,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/326,https://github.com/kubernetes/ingress-nginx/pull/326,chentao1596,add nginx daemonset example,"Add daemonset example, thank you!",['aledbf'],1,2017-02-23 02:12:29,2017-02-23 02:56:25,2017-02-23 06:39:48,True,2017-02-23 02:56:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/328,https://github.com/kubernetes/ingress-nginx/pull/328,fate-grand-order,"fix misspell ""affinity"" in main.go",,['aledbf'],1,2017-02-23 13:59:30,2017-02-23 14:20:17,2017-02-23 14:20:17,True,2017-02-23 14:20:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/331,https://github.com/kubernetes/ingress-nginx/pull/331,jgeraerts,Correct spelling mistake,"speaks for itself i assume. 

Kr,

Jo",['aledbf'],1,2017-02-23 15:52:41,2017-02-23 19:05:19,2017-02-23 19:05:19,True,2017-02-23 19:05:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/332,https://github.com/kubernetes/ingress-nginx/pull/332,aledbf,Add annotation to customize nginx configuration,fixes #313,[],1,2017-02-23 18:11:01,2017-02-24 21:39:46,2017-02-25 01:30:44,True,2017-02-24 21:39:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/336,https://github.com/kubernetes/ingress-nginx/pull/336,porridge,Fix for vet complaints: #335.,,['aledbf'],1,2017-02-24 10:58:14,2017-02-24 12:17:58,2017-02-24 15:47:05,True,2017-02-24 12:17:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/337,https://github.com/kubernetes/ingress-nginx/pull/337,porridge,Fix for formatting error introduced in #304.,Why don't we fail the travis build when go fmt is unhappy?,['aledbf'],1,2017-02-24 11:06:53,2017-02-24 13:04:11,2017-02-24 15:47:05,True,2017-02-24 13:04:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/340,https://github.com/kubernetes/ingress-nginx/pull/340,gianrubio,Add support for specify proxy cookie path/domain,,['aledbf'],1,2017-02-24 15:04:38,2017-02-24 16:02:41,2017-02-24 16:02:41,True,2017-02-24 16:02:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/341,https://github.com/kubernetes/ingress-nginx/pull/341,porridge,Do not run coverage check in the default target.,"Reasons:
- this takes a lot longer than the other steps
- its results are harder to interpret at a single glance, compared to other
  steps
- it requires special privileges to succeed, and should probably not be ran
  from a random developer's checkout, since it pushes results to a shared
  service",['aledbf'],1,2017-02-24 15:53:51,2017-02-24 16:09:54,2017-02-24 16:14:14,True,2017-02-24 16:09:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/343,https://github.com/kubernetes/ingress-nginx/pull/343,aledbf,Fix node lister when --watch-namespace is used,fixes #342,[],1,2017-02-24 17:18:41,2017-02-24 18:12:02,2017-02-25 01:30:56,True,2017-02-24 18:12:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/344,https://github.com/kubernetes/ingress-nginx/pull/344,aledbf,Refactoring of TCP and UDP services,fixes #339,[],1,2017-02-24 21:58:35,2017-02-24 23:48:14,2017-02-25 01:30:29,True,2017-02-24 23:48:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/345,https://github.com/kubernetes/ingress-nginx/pull/345,aledbf,Fix lint error,,[],1,2017-02-25 00:54:57,2017-02-25 01:16:14,2017-02-25 01:30:07,True,2017-02-25 01:16:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/346,https://github.com/kubernetes/ingress-nginx/pull/346,piosz,Expose Prometheus metrics in glbc controller,"Some metrics are already collected but not exposed.

ref https://github.com/kubernetes/kubernetes/issues/40736",['aledbf'],1,2017-02-25 17:38:06,2017-02-25 20:07:44,2017-02-25 20:08:02,True,2017-02-25 20:07:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/347,https://github.com/kubernetes/ingress-nginx/pull/347,aledbf,Fix client source IP address,"The issue persists if there is at least one Ingress rule with passthrough annotation

fixes #188
fixes #334
fixes #233 ",[],1,2017-02-26 22:02:29,2017-02-26 22:24:47,2017-03-10 12:23:47,True,2017-02-26 22:24:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/351,https://github.com/kubernetes/ingress-nginx/pull/351,danielqsj,Enable custom election id for status sync.,"**What this PR does / why we need it:**
- Multiple deployment/repliaset/daemonset of same ingress controller class can not work correctly in a same namespace.

**Which issue this PR fixes:**
Closes #350

",['aledbf'],1,2017-02-27 08:15:32,2017-02-27 12:19:16,2017-02-27 12:19:16,True,2017-02-27 12:19:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/352,https://github.com/kubernetes/ingress-nginx/pull/352,gianrubio,Add ability to customize upstream and stream log format,,['aledbf'],1,2017-02-27 10:02:07,2017-03-01 18:54:15,2017-06-13 14:23:35,True,2017-03-01 18:54:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/354,https://github.com/kubernetes/ingress-nginx/pull/354,caiyixiang,add judgment,add judgment for error,['aledbf'],1,2017-02-28 06:52:28,2017-03-03 04:03:59,2017-03-03 04:03:59,True,2017-03-03 04:03:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/356,https://github.com/kubernetes/ingress-nginx/pull/356,gianrubio,Disable listen only on ipv6 and fix proxy_protocol ,"- Always listen on ipv4 address for port 443
- Rollback previous PR #227 that broke the proxy_protocol when passthroughBackends is disabled",['aledbf'],1,2017-03-01 13:16:45,2017-03-03 12:50:44,2017-03-03 12:50:44,True,2017-03-03 12:50:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/358,https://github.com/kubernetes/ingress-nginx/pull/358,rikatz,Checks if the TLS secret contains a valid keypair structure,"This change checks if the concatenated file with keypair contains the expected keypair structure, with Certificate first and then the Private Key.

This is necessary to avoid errors as reported in issue #242 

",['aledbf'],1,2017-03-01 18:47:32,2017-03-02 02:56:23,2017-03-27 23:50:50,True,2017-03-02 02:56:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/360,https://github.com/kubernetes/ingress-nginx/pull/360,chentao1596,add example of 'run multiple nginx ingress controllers as a deployment',"  Add example of 'run multiple controllers as a deployment', thank you!",['aledbf'],1,2017-03-02 01:58:28,2017-03-02 02:55:49,2017-03-24 01:43:32,True,2017-03-02 02:55:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/361,https://github.com/kubernetes/ingress-nginx/pull/361,caiyixiang,haproxy Daemonset,add Daemonset example for haproxy ,['aledbf'],1,2017-03-02 08:53:47,2017-03-02 12:05:04,2017-03-02 12:05:04,True,2017-03-02 12:05:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/362,https://github.com/kubernetes/ingress-nginx/pull/362,gianrubio,Fix ingress class,"## Description

When args ingress-class is empty, the default class is nginx so all the ingress without the annotation ""kubernetes.io/ingress.class"" must be builded. The current controller build all the ingress including ingress with anotation.

## Ex. empty arg 

Controller
```
containers:
      - args:
        - /nginx-ingress-controller    
....
```
## Empty class annotation (controller must build this)
```
kind: Ingress
metadata:
  annotations:    
    kubernetes.io/tls-acme: ""true""
....
```


## Fixed class annotation (controller must NOT build this)
```
kind: Ingress

metadata:
  annotations:    
    kubernetes.io/tls-acme: ""true""
    kubernetes.io/ingress.class: ""my-fake-class""
....
```

On the other side when args ingress-class is configured, just the ingress with the same class must be builded.

## Ex. with ingress args

Controller
```
containers:
      - args:
        - /nginx-ingress-controller    
        - --ingress-class=internal-nginx
....
```
## Empty class annotation (controller must NOT build this)
```
kind: Ingress
metadata:
  annotations:    
    kubernetes.io/tls-acme: ""true""
....
```

## Fixed class annotation (controller must build this)
```
kind: Ingress

metadata:
  annotations:    
    kubernetes.io/tls-acme: ""true""
    kubernetes.io/ingress.class: ""internal-nginx
....
```

Fix #282 
 ",['aledbf'],1,2017-03-02 16:06:06,2017-03-03 12:50:00,2017-03-03 12:50:00,True,2017-03-03 12:50:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/364,https://github.com/kubernetes/ingress-nginx/pull/364,whereisaaron,Fix error caused by increasing proxy_buffer_size (#363),"This fixes the bug raised in #363, by increasing the size of the proxy_buffers (memory allocation) to match the size of the proxy buffer. This leaves the default values (with no ingress configmap setting) unchanged:
```
proxy_buffer_size     4k
proxy_buffers         4 4k
```
If 'proxy-buffer-size' is set then, with this patch, both the buffer size and the memory allocation size is increased:
```
proxy_buffer_size     ""{{ $location.Proxy.BufferSize }}"";
proxy_buffers         4 ""{{ $location.Proxy.BufferSize }}"";
```
I have been using this patch from some time with both 0.8.3 and 0.9.0-beta.2.",['aledbf'],1,2017-03-02 21:15:05,2017-03-02 21:48:20,2017-05-09 16:16:59,True,2017-03-02 21:48:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/365,https://github.com/kubernetes/ingress-nginx/pull/365,pwillie,add ForceSSLRedirect ingress annotation,"This PR addresses the HTTPS redirect referenced in #314.  Approach is to use an ingress annotation `ingress.kubernetes.io/force-ssl-redirect` to enable this feature.

fixes #314",['aledbf'],1,2017-03-03 05:46:54,2017-03-03 12:05:03,2017-03-03 22:00:21,True,2017-03-03 12:05:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/366,https://github.com/kubernetes/ingress-nginx/pull/366,caiyixiang,add_judgment,add two judgments for error,['aledbf'],1,2017-03-03 08:06:56,2017-03-03 12:02:32,2017-03-03 12:02:32,True,2017-03-03 12:02:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/367,https://github.com/kubernetes/ingress-nginx/pull/367,gianrubio,BuildLogFormatUpstream was always using the default log-format,"In my last PR #352 I add the ability to customize the log-format using a configmap. 
When I change this configmap, the template doesn't apply the new value, because the function was always using the default values.",['aledbf'],1,2017-03-03 12:07:47,2017-03-03 12:43:49,2017-03-03 12:43:49,True,2017-03-03 12:43:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/369,https://github.com/kubernetes/ingress-nginx/pull/369,xialonglee,"Minor text fix for ""ApiServer""","It looks a little weird to apply camel case style for the noun ""apiserver"", i didn't see somewhere else spelling it in that way.",['aledbf'],1,2017-03-03 16:40:40,2017-03-08 10:09:33,2017-03-08 10:09:33,True,2017-03-08 10:09:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/370,https://github.com/kubernetes/ingress-nginx/pull/370,foxylion,Add documentation for ingress.kubernetes.io/force-ssl-redirect,refs #314 #365,['aledbf'],1,2017-03-03 19:31:31,2017-03-06 01:11:06,2017-03-06 15:38:46,True,2017-03-06 01:11:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/371,https://github.com/kubernetes/ingress-nginx/pull/371,gianrubio,add configuration to disable listening on ipv6,Fix #368 ,['aledbf'],1,2017-03-03 21:32:40,2017-03-08 12:56:34,2017-03-09 08:00:03,True,2017-03-08 12:56:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/373,https://github.com/kubernetes/ingress-nginx/pull/373,aledbf,Cleanup,,[],4,2017-03-04 20:35:49,2017-03-04 22:04:46,2017-03-07 17:46:49,True,2017-03-04 22:04:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/375,https://github.com/kubernetes/ingress-nginx/pull/375,jcmoraisjr,HAProxy Auth Basic sample,Basic authentication sample for HAProxy Ingress,['aledbf'],1,2017-03-06 00:45:04,2017-03-06 01:10:31,2017-03-26 02:22:14,True,2017-03-06 01:10:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/380,https://github.com/kubernetes/ingress-nginx/pull/380,aledbf,Fix custom log format,fixes #379,[],1,2017-03-06 15:10:53,2017-03-06 15:57:54,2017-03-07 17:46:32,True,2017-03-06 15:57:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/382,https://github.com/kubernetes/ingress-nginx/pull/382,rikatz,Ingress Fake Certificate generation,"This PR solves the problem reported in #191

It generates a new Fake Cert, instead of using the snake oil.

Once the Fake Cert is generated, it's not created anymore until someone erases it.

Also it improves the secrets enqueing by removing some wrong code that wasn't downloading the other TLS Secrets.

A final change in this PR is inserting a 'os.Remove' in the Temporary Pem File generation, so when an error occurs the files does not fill the filesystem

This PR substitutes the #194.

cc @aledbf ",['aledbf'],3,2017-03-06 19:35:41,2017-03-07 12:21:23,2017-03-23 18:27:41,True,2017-03-07 12:21:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/383,https://github.com/kubernetes/ingress-nginx/pull/383,csbell,Bump version to 0.9.2,https://github.com/kubernetes/ingress/issues/381,['nicksardo'],1,2017-03-06 19:58:04,2017-03-08 01:19:37,2017-03-08 01:19:37,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/384,https://github.com/kubernetes/ingress-nginx/pull/384,timstclair,Rebase GLBC on alpine:3.5,"For https://github.com/kubernetes/kubernetes/issues/40248

Rebasing on busybox greatly reduces the size of the image. More importantly, it greatly reduces the management burden of keeping the image up-to-date in as all the packages within are updated.

@csbell @nicksardo ",['nicksardo'],1,2017-03-06 23:13:29,2017-03-08 01:19:17,2017-03-08 17:59:44,True,2017-03-08 01:19:17,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/385,https://github.com/kubernetes/ingress-nginx/pull/385,chentao1596,add Copyright,"  I think the ""Copyright"" should be exist for this file, thank you!",['aledbf'],1,2017-03-07 07:54:40,2017-03-07 12:20:33,2017-03-24 01:43:29,True,2017-03-07 12:20:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/386,https://github.com/kubernetes/ingress-nginx/pull/386,itamaro,Fix glbc usage string,"1. Typo in `glbc` binary name
2. Typo in `running-in-cluster` flag
3. Remove non-existing flag `--default-backend-node-port`",['nicksardo'],1,2017-03-07 10:09:37,2017-03-07 23:08:17,2017-03-07 23:08:18,True,2017-03-07 23:08:17,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/390,https://github.com/kubernetes/ingress-nginx/pull/390,aledbf,Fix RateLimit comment,fixes #389,['aledbf'],1,2017-03-07 14:41:21,2017-03-07 15:33:14,2017-03-07 17:46:16,True,2017-03-07 15:33:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/391,https://github.com/kubernetes/ingress-nginx/pull/391,victoru,remove tmp nginx-diff files,I noticed the disk usage of the nginx container had grown to about 5GB caused by +30k nginx-diff-xxxx files in /tmp. This PR removes those files once they're no longer needed.,['aledbf'],1,2017-03-07 16:28:39,2017-03-07 16:52:26,2017-03-07 17:36:13,True,2017-03-07 16:52:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/392,https://github.com/kubernetes/ingress-nginx/pull/392,aledbf,Fix http2 header size,fixes #376,[],1,2017-03-07 17:43:19,2017-03-07 18:05:47,2017-03-07 21:38:32,True,2017-03-07 18:05:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/393,https://github.com/kubernetes/ingress-nginx/pull/393,itamaro,Implement support for GCE health check with HTTP Host Header in GLBC,"Fixes issue #388 (for me, at least :-) )",['nicksardo'],1,2017-03-07 18:18:08,2017-06-20 23:36:48,2017-06-20 23:36:48,True,2017-06-20 23:36:48,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/394,https://github.com/kubernetes/ingress-nginx/pull/394,craigmonson,Update README.md,fix broken link to config maps in nginx ingress readme,['aledbf'],1,2017-03-07 20:11:56,2017-03-07 21:04:08,2017-03-07 21:04:08,True,2017-03-07 21:04:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/395,https://github.com/kubernetes/ingress-nginx/pull/395,tonglil,GCE pre-shared cert fixes,"Follow up to #291 @nicksardo (I had them in my local git, forgot to push, sorry).",['nicksardo'],2,2017-03-07 22:24:06,2017-03-07 23:05:22,2017-03-08 17:59:14,True,2017-03-07 23:05:22,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/397,https://github.com/kubernetes/ingress-nginx/pull/397,aledbf,Fix external auth,fixes #359,[],3,2017-03-07 23:12:20,2017-03-08 00:36:54,2017-03-10 12:24:28,True,2017-03-08 00:36:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/399,https://github.com/kubernetes/ingress-nginx/pull/399,chentao1596,add unit test cases for controllers/gce/utils/utils,"  Add unit test cases for controllers/gce/utils/utils, thank you!",['nicksardo'],2,2017-03-08 08:22:45,2017-10-21 01:39:54,2017-10-21 01:39:54,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/401,https://github.com/kubernetes/ingress-nginx/pull/401,chentao1596,add unit test cases for controllers/gce/healthchecks,  add unit test cases for controllers/gce/healthchecks thank you!,['nicksardo'],1,2017-03-08 09:08:02,2017-03-09 17:39:56,2017-03-14 03:12:19,True,2017-03-09 17:39:56,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/402,https://github.com/kubernetes/ingress-nginx/pull/402,glerchundi,allow specifying custom dh param,fixes #162,['aledbf'],1,2017-03-08 13:44:10,2017-03-08 15:13:23,2017-03-08 15:13:30,True,2017-03-08 15:13:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/406,https://github.com/kubernetes/ingress-nginx/pull/406,tonglil,Add debug info and fix spelling,,['nicksardo'],1,2017-03-08 18:01:01,2017-03-09 17:41:49,2018-12-06 21:25:21,True,2017-03-09 17:41:49,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/408,https://github.com/kubernetes/ingress-nginx/pull/408,gianrubio,Review docs,"- Fix broken links
- Upgrade all nginx examples to latest version
- Moved some examples from contrib to this repo",['aledbf'],1,2017-03-08 21:19:01,2017-03-10 10:26:25,2017-03-10 10:26:34,True,2017-03-10 10:26:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/409,https://github.com/kubernetes/ingress-nginx/pull/409,aledbf,Allow custom http2 header sizes,fixes #404,[],1,2017-03-08 23:00:28,2017-03-08 23:25:26,2017-03-10 12:23:05,True,2017-03-08 23:25:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/410,https://github.com/kubernetes/ingress-nginx/pull/410,aledbf,"Add support for ""signin url""",replaces #190,[],2,2017-03-09 00:01:48,2017-03-09 14:21:43,2017-03-09 20:11:10,True,2017-03-09 14:21:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/413,https://github.com/kubernetes/ingress-nginx/pull/413,aledbf,Improve external authentication docs,,[],1,2017-03-09 14:59:58,2017-03-09 15:00:09,2017-03-09 15:00:09,True,2017-03-09 15:00:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/414,https://github.com/kubernetes/ingress-nginx/pull/414,aledbf,Fix example images,,[],1,2017-03-09 15:06:48,2017-03-09 15:06:53,2017-03-10 12:23:31,True,2017-03-09 15:06:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/415,https://github.com/kubernetes/ingress-nginx/pull/415,aledbf,Improve external authentication docs,,[],1,2017-03-09 15:16:40,2017-03-09 15:16:45,2017-03-10 12:23:18,True,2017-03-09 15:16:45,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/418,https://github.com/kubernetes/ingress-nginx/pull/418,aledbf,Only update Ingress status for the configured class,fixes #412,[],1,2017-03-09 22:08:51,2017-03-10 10:25:56,2017-03-15 17:09:52,True,2017-03-10 10:25:56,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/423,https://github.com/kubernetes/ingress-nginx/pull/423,aledbf,Scrap json metrics from nginx vts module when enabled,"fixes #72
fixes #305
fixes #239
fixes #125

replaces #325",[],3,2017-03-10 19:48:15,2017-03-12 21:53:24,2017-03-15 17:10:06,True,2017-03-12 21:53:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/424,https://github.com/kubernetes/ingress-nginx/pull/424,aledbf,Manually sync secrets from certificate authentication annotations,,[],1,2017-03-10 19:52:33,2017-03-13 22:17:01,2017-03-15 17:09:37,True,2017-03-13 22:17:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/427,https://github.com/kubernetes/ingress-nginx/pull/427,rikatz,Adds support for root context redirection,"This PR adds support for Root Context Redirection.

This is necessary for some Apps (as Java Apps) that aren't created containing a root context, but instead answers only its context.

An example, a Java App that exposes itself as '/app1'. When you create an Ingress, you need to redirect the call to 'app1.ingress.com/' to 'app1.ingress.com/app1'.

TODO:

* [x] Make some real test in my production environment to check the behaviour
* [x] Improve the rewrite module documentation.

After I finish documentating this, the PR is ready.

@jcmoraisjr Please take a look to see if this is applicable to our case.",['aledbf'],5,2017-03-12 22:09:41,2017-03-16 10:32:31,2017-04-04 14:15:30,True,2017-03-16 10:32:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/430,https://github.com/kubernetes/ingress-nginx/pull/430,ohmystack,Fix add-base-url,"Fix issue #67 

HTML ""base"" tag is written for browser.

### Correct way
""base"" tag should be: `hostname/location/basename/`.
Then, a browser sends the request, something like this`<base>/filename`, to Nginx.
Then, this URI is translated into `service/target/basename/filename` by Nginx.

### Problem
However, in current code, it misses the `basename` part, and confuses the 'location' and 'target'.

### Solution
When the request comes to Nginx, the ""basename"" should be parsed at the entrance, in `buildLocation` method.

### Bug
There are 2 bugs in current ""AddBaseURL"":
1. When the rule's `host` field is an empty string, the ""base"" will be generated as `_`, which is wrong. The base-uri hostname should be the one in the HTTP request, `$http_host`.
2. Described in #67. Miss the basename part in base-uri, so that Nginx cannot find the resources. Even the unit-test cases, the `subs_filter` parts, are wrongly designed.

### Example
For the most complex case:

If we define a redirect rule like this,

| From  | To  |
|:-:|:-:|
| hostname/FROM  | service/TO  |

Then, we fetch a web page, `hostname/FROM/dist/index.html`
Inside this page's header, the `<base>` tag is generated:

|  wrong ""base"" tag |  correct ""base"" tag |
|:-:|:-:|
| hostname/TO/  | hostname/FROM/dist/  |

And, when this web page requests for a JS resource with a link `js/main.js`,

|  wrong page sends |  correct page sends |
|:-:|:-:|
| hostname/TO/js/main.js  | hostname/FROM/dist/js/main.js |

Of course, the wrong based request will get a 404.",['aledbf'],1,2017-03-13 17:58:36,2017-03-15 22:37:45,2017-03-15 22:37:45,True,2017-03-15 22:37:45,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/432,https://github.com/kubernetes/ingress-nginx/pull/432,gianrubio,Validations,"- Validate if configmap exist and is in the namespace/name format
- Verifiy if watch-namespace option exist
",['aledbf'],1,2017-03-13 20:56:31,2017-03-14 12:22:03,2017-03-14 12:22:03,True,2017-03-14 12:22:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/433,https://github.com/kubernetes/ingress-nginx/pull/433,ibawt,close over the ingress variable or the last assignment will be used,"When you have more than one ingress per namespace and they are ""mixed"", the scoping on the ing variable will end up pointing to the last one assigned inside the go function.  

This will cause the ingress to keep trying to update the ip and fight the GCE load balancer. 

Without fix:
```
I0313 23:32:21.765558       7 launch.go:94] &{NGINX 0.9.0-beta.2 git-7013a52 git@github.com:ixdy/kubernetes-ingress.git}
I0313 23:32:21.765693       7 launch.go:97] Watching for ingress class: nginx
I0313 23:32:21.765635       7 nginx.go:112] starting NGINX process...
I0313 23:32:21.766427       7 launch.go:223] Creating API server client for https://....
I0313 23:32:21.799352       7 launch.go:113] validated kube-system/default-http-backend as the default backend
I0313 23:32:21.807605       7 controller.go:1032] starting Ingress controller
I0313 23:32:21.811920       7 leaderelection.go:247] lock is held by nginxinc-ingress-1580632739-cjsh1 and has not yet expired
I0313 23:32:21.812374       7 controller.go:169] ignoring add for ingress glbc based on annotation kubernetes.io/ingress.class
I0313 23:32:21.812547       7 event.go:217] Event(api.ObjectReference{Kind:""Ingress"", Namespace:""tweety-production"", Name:""nginx"", UID:""9bde60b4-083a-11e7-af15-42010af000e0"", APIVersion:""extensions"", ResourceVersion:""3812359"", FieldPath:""""}): type: 'Normal' reason: 'CREATE' Ingress tweety-production/nginx
I0313 23:32:21.812620       7 event.go:217] Event(api.ObjectReference{Kind:""Ingress"", Namespace:""kube-shell-production"", Name:""web"", UID:""227bcdbf-ff18-11e6-a328-42010af000e0"", APIVersion:""extensions"", ResourceVersion:""3812357"", FieldPath:""""}): type: 'Normal' reason: 'CREATE' Ingress kube-shell-production/web
I0313 23:32:21.812644       7 event.go:217] Event(api.ObjectReference{Kind:""Ingress"", Namespace:""groundcontrol-production"", Name:""web"", UID:""03524766-ff14-11e6-a328-42010af000e0"", APIVersion:""extensions"", ResourceVersion:""3812358"", FieldPath:""""}): type: 'Normal' reason: 'CREATE' Ingress groundcontrol-production/web
W0313 23:32:22.812750       7 queue.go:87] requeuing groundcontrol-production/web, err deferring sync till endpoints controller has synced
I0313 23:32:31.862011       7 controller.go:423] ingress backend successfully reloaded...
I0313 23:32:34.757502       7 leaderelection.go:247] lock is held by nginxinc-ingress-1580632739-cjsh1 and has not yet expired
I0313 23:32:43.669990       7 leaderelection.go:247] lock is held by nginxinc-ingress-1580632739-cjsh1 and has not yet expired
I0313 23:32:52.046489       7 leaderelection.go:247] lock is held by nginxinc-ingress-1580632739-cjsh1 and has not yet expired
I0313 23:33:02.258168       7 leaderelection.go:247] lock is held by nginxinc-ingress-1580632739-cjsh1 and has not yet expired
I0313 23:33:14.399864       7 leaderelection.go:247] lock is held by nginxinc-ingress-1580632739-cjsh1 and has not yet expired
I0313 23:33:29.226732       7 leaderelection.go:247] lock is held by nginxinc-ingress-1580632739-cjsh1 and has not yet expired
I0313 23:33:38.658590       7 leaderelection.go:247] lock is held by nginxinc-ingress-1580632739-cjsh1 and has not yet expired
I0313 23:33:49.587678       7 leaderelection.go:247] lock is held by nginxinc-ingress-1580632739-cjsh1 and has not yet expired
I0313 23:33:59.958809       7 leaderelection.go:188] sucessfully acquired lease default/ingress-controller-leader
I0313 23:34:21.821281       7 status.go:261] updating Ingress tweety-production/nginx status to [{104.196.12.96 }]
I0313 23:34:21.822229       7 status.go:261] updating Ingress tweety-production/glbc status to [{104.196.12.96 }]
I0313 23:34:21.822803       7 status.go:261] updating Ingress kube-shell-production/web status to [{104.196.12.96 }]
I0313 23:34:21.823072       7 status.go:261] updating Ingress groundcontrol-production/web status to [{104.196.12.96 }]
I0313 23:34:21.837162       7 event.go:217] Event(api.ObjectReference{Kind:""Ingress"", Namespace:""tweety-production"", Name:""nginx"", UID:""9bde60b4-083a-11e7-af15-42010af000e0"", APIVersion:""extensions"", ResourceVersion:""3812538"", FieldPath:""""}): type: 'Normal' reason: 'UPDATE' Ingress tweety-production/nginx
I0313 23:34:21.842893       7 event.go:217] Event(api.ObjectReference{Kind:""Ingress"", Namespace:""groundcontrol-production"", Name:""web"", UID:""03524766-ff14-11e6-a328-42010af000e0"", APIVersion:""extensions"", ResourceVersion:""3812539"", FieldPath:""""}): type: 'Normal' reason: 'UPDATE' Ingress groundcontrol-production/web
I0313 23:34:21.846625       7 event.go:217] Event(api.ObjectReference{Kind:""Ingress"", Namespace:""kube-shell-production"", Name:""web"", UID:""227bcdbf-ff18-11e6-a328-42010af000e0"", APIVersion:""extensions"", ResourceVersion:""3812540"", FieldPath:""""}): type: 'Normal' reason: 'UPDATE' Ingress kube-shell-production/web
I0313 23:34:51.819860       7 status.go:261] updating Ingress tweety-production/glbc status to [{XXX.XXX.XXX.XXX }]
I0313 23:35:21.818149       7 status.go:261] updating Ingress tweety-production/glbc status to [{XXX.XXX.XXX.XXX}]
```

with the fix
```
I0313 23:26:48.496510       8 launch.go:96] &{NGINX 0.9.0-beta.2 git-0fa2a32 git@github.com:ibawt/ingress}
I0313 23:26:48.496538       8 launch.go:99] Watching for ingress class: nginx
I0313 23:26:48.496756       8 launch.go:230] Creating API server client for https://...
I0313 23:26:48.524251       8 launch.go:115] validated kube-system/default-http-backend as the default backend
I0313 23:26:48.531273       8 controller.go:1071] starting Ingress controller
I0313 23:26:48.533452       8 leaderelection.go:247] lock is held by nginxinc-ingress-1394641404-vd9cc and has not yet expired
I0313 23:26:48.537702       8 controller.go:168] ignoring add for ingress glbc based on annotation kubernetes.io/ingress.class
I0313 23:26:48.537873       8 event.go:217] Event(api.ObjectReference{Kind:""Ingress"", Namespace:""tweety-production"", Name:""nginx"", UID:""9bde60b4-083a-11e7-af15-42010af000e0"", APIVersion:""extensions"", ResourceVersion:""3811844"", FieldPath:""""}): type: 'Normal' reason: 'CREATE' Ingress tweety-production/nginx
I0313 23:26:48.537974       8 event.go:217] Event(api.ObjectReference{Kind:""Ingress"", Namespace:""kube-shell-production"", Name:""web"", UID:""227bcdbf-ff18-11e6-a328-42010af000e0"", APIVersion:""extensions"", ResourceVersion:""3811845"", FieldPath:""""}): type: 'Normal' reason: 'CREATE' Ingress kube-shell-production/web
I0313 23:26:48.538005       8 event.go:217] Event(api.ObjectReference{Kind:""Ingress"", Namespace:""groundcontrol-production"", Name:""web"", UID:""03524766-ff14-11e6-a328-42010af000e0"", APIVersion:""extensions"", ResourceVersion:""3811846"", FieldPath:""""}): type: 'Normal' reason: 'CREATE' Ingress groundcontrol-production/web
W0313 23:26:49.537187       8 queue.go:87] requeuing default/fluentd-agg-1, err deferring sync till endpoints controller has synced
I0313 23:26:58.792818       8 metrics.go:34] changing prometheus collector from  to default
I0313 23:26:58.849618       8 controller.go:439] ingress backend successfully reloaded...
I0313 23:27:01.479030       8 leaderelection.go:247] lock is held by nginxinc-ingress-1394641404-vd9cc and has not yet expired
I0313 23:27:10.390731       8 leaderelection.go:247] lock is held by nginxinc-ingress-1394641404-vd9cc and has not yet expired
I0313 23:27:18.770166       8 leaderelection.go:188] sucessfully acquired lease default/ingress-controller-leader
I0313 23:27:48.541974       8 status.go:271] updating Ingress tweety-production/nginx status to [{35.185.66.209 }]
I0313 23:27:48.542135       8 status.go:271] updating Ingress groundcontrol-production/web status to [{35.185.66.209 }]
I0313 23:27:48.542243       8 status.go:271] updating Ingress kube-shell-production/web status to [{35.185.66.209 }]
I0313 23:27:48.545968       8 event.go:217] Event(api.ObjectReference{Kind:""Ingress"", Namespace:""groundcontrol-production"", Name:""web"", UID:""03524766-ff14-11e6-a328-42010af000e0"", APIVersion:""extensions"", ResourceVersion:""3811944"", FieldPath:""""}): type: 'Normal' reason: 'UPDATE' Ingress groundcontrol-production/web
I0313 23:27:48.552779       8 event.go:217] Event(api.ObjectReference{Kind:""Ingress"", Namespace:""kube-shell-production"", Name:""web"", UID:""227bcdbf-ff18-11e6-a328-42010af000e0"", APIVersion:""extensions"", ResourceVersion:""3811946"", FieldPath:""""}): type: 'Normal' reason: 'UPDATE' Ingress kube-shell-production/web
I0313 23:27:48.552813       8 event.go:217] Event(api.ObjectReference{Kind:""Ingress"", Namespace:""tweety-production"", Name:""nginx"", UID:""9bde60b4-083a-11e7-af15-42010af000e0"", APIVersion:""extensions"", ResourceVersion:""3811945"", FieldPath:""""}): type: 'Normal' reason: 'UPDATE' Ingress tweety-production/nginx
```

You can see it starting to fight the GCE one fairly quickly on the unpatched, and the delightful lack of ip updating in the patched one.",['aledbf'],1,2017-03-14 00:53:16,2017-03-14 01:16:33,2017-03-14 01:17:26,True,2017-03-14 01:16:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/434,https://github.com/kubernetes/ingress-nginx/pull/434,aledbf,Release 0.9-beta.3,,[],1,2017-03-14 01:39:46,2017-03-14 17:54:45,2017-03-15 17:10:24,True,2017-03-14 17:54:45,thockin,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/435,https://github.com/kubernetes/ingress-nginx/pull/435,leecalcote,Update README.md,Missing 'e' in achieve,['aledbf'],1,2017-03-14 03:10:34,2017-03-14 03:43:51,2017-03-14 03:43:51,True,2017-03-14 03:43:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/436,https://github.com/kubernetes/ingress-nginx/pull/436,leecalcote,Update README.md,"Changed ""Ingerss"" to ""Ingress""",['aledbf'],1,2017-03-14 03:20:47,2017-03-14 03:44:48,2017-03-14 03:44:48,True,2017-03-14 03:44:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/437,https://github.com/kubernetes/ingress-nginx/pull/437,caiyixiang,Reference constant,reference to constant is better,['aledbf'],1,2017-03-14 12:08:22,2017-03-14 12:36:29,2017-03-14 12:36:59,True,2017-03-14 12:36:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/438,https://github.com/kubernetes/ingress-nginx/pull/438,ankon,Improve English in error messages,,['aledbf'],2,2017-03-14 12:57:24,2017-03-14 13:28:45,2017-03-14 14:03:22,True,2017-03-14 13:28:45,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/439,https://github.com/kubernetes/ingress-nginx/pull/439,ankon,Avoid a nil-reference when the temporary file cannot be created,"I hit this one when trying to run the controller outside of kubernetes as per the development documentation. Eventually I gave up on that, but this fix is still valid :)",['aledbf'],1,2017-03-14 12:58:44,2017-03-14 13:29:08,2017-03-14 14:03:09,True,2017-03-14 13:29:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/440,https://github.com/kubernetes/ingress-nginx/pull/440,ankon,Export DEBIAN_FRONTEND to silence warnings from the snakeoil certificate generation,,[],1,2017-03-14 12:59:35,2017-03-15 11:25:12,2017-03-16 15:40:26,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/441,https://github.com/kubernetes/ingress-nginx/pull/441,gianrubio,skip validation when configmap is empty,My bad on #432 ,['aledbf'],1,2017-03-14 13:54:09,2017-03-14 14:25:24,2017-03-14 14:25:24,True,2017-03-14 14:25:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/442,https://github.com/kubernetes/ingress-nginx/pull/442,ixdy,Fix a few bugs in the nginx-ingress-controller Makefile,"* make 'clean' use the new path to the built binary
* make 'container' depend on 'build'

@aledbf ",['aledbf'],1,2017-03-14 21:51:16,2017-03-14 21:55:18,2017-03-14 22:11:24,True,2017-03-14 21:55:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/444,https://github.com/kubernetes/ingress-nginx/pull/444,im-vincent,add hostNetwork,"```
hostPort 
integer	Number of port to expose on the host. If specified, this must be a valid port number, 0 < x < 65536. If HostNetwork is specified, this must match ContainerPort. Most containers do not need this.
```
If HostNetwork is not specifiedNode not listen",[],1,2017-03-15 08:22:07,2017-03-16 01:09:32,2017-03-16 01:09:40,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/445,https://github.com/kubernetes/ingress-nginx/pull/445,aledbf,Remove snakeoil certificate generation,,[],1,2017-03-15 11:24:21,2017-03-15 12:54:14,2017-03-15 17:10:39,True,2017-03-15 12:54:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/446,https://github.com/kubernetes/ingress-nginx/pull/446,gianrubio,remove configmap validations .,"rollback #441 
fix #443
@chancez @aledbf ",['aledbf'],1,2017-03-15 11:40:40,2017-03-15 12:10:24,2017-03-15 12:10:24,True,2017-03-15 12:10:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/447,https://github.com/kubernetes/ingress-nginx/pull/447,lkirill,nginx-ingress-controller udp and tcp on same port,"In nginx-ingress-controller if using 
```
        - --udp-services-configmap=$(POD_NAMESPACE)/nginx-ingress-udp
        - --tcp-services-configmap=$(POD_NAMESPACE)/nginx-ingress-tcp
```
configs with same port, 53 for kube-dns as example:
```
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-ingress-udp
data:
  53: ""kube-system/kube-dns:53""
```
and 
```
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-ingress-tcp
data:
  53: ""kube-system/kube-dns:53""
```

in nginx.conf will be created two upstreams with same name:
```
upstream kube-system-kube-dns-53 {...}
```
and nginx failing to start",['aledbf'],17,2017-03-15 15:42:38,2017-03-15 17:48:47,2017-03-15 17:58:06,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/450,https://github.com/kubernetes/ingress-nginx/pull/450,lkirill,fix nginx-tcp-and-udp on same port,"In nginx-ingress-controller if using 
```
        - --udp-services-configmap=$(POD_NAMESPACE)/nginx-ingress-udp
        - --tcp-services-configmap=$(POD_NAMESPACE)/nginx-ingress-tcp
```
configs with same port, 53 for kube-dns as example:
```
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-ingress-udp
data:
  53: ""kube-system/kube-dns:53""
```
and 
```
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-ingress-tcp
data:
  53: ""kube-system/kube-dns:53""
```

in nginx.conf will be created two upstreams with same name:
```
upstream kube-system-kube-dns-53 {...}
```
and nginx failing to start",['aledbf'],1,2017-03-15 17:46:42,2017-03-15 18:12:51,2017-03-15 18:17:34,True,2017-03-15 18:12:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/454,https://github.com/kubernetes/ingress-nginx/pull/454,danielqsj,Pass request port to real server,"What this PR does / why we need it:

If nginx ingress controller is behind some loadbalancer like haproxy, which redirect other port (not 80 or 443) to nginx ingress controller.
So request may looks like http://host:port. But nginx set Host and X-Forwarded-Host as $host, which without port like host. Therefore when real server send redirects to client requests, the url looks like http://host/redirect_url instead of correct url http://host:port/redirect_url.
If using $http_host instead of $host, the correct port will be passed to real server.

Which issue this PR fixes:

Closes #453 ",['aledbf'],1,2017-03-16 09:10:11,2017-03-26 11:01:12,2017-03-26 11:01:12,True,2017-03-26 11:01:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/456,https://github.com/kubernetes/ingress-nginx/pull/456,aledbf,Avoid upstreams with multiple servers with the same port,"fixes #455 
fixes #448 ",[],1,2017-03-16 11:21:06,2017-03-16 15:31:11,2017-03-16 15:55:26,True,2017-03-16 15:31:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/459,https://github.com/kubernetes/ingress-nginx/pull/459,aledbf,Add information about SSL certificates in the default log level.,,[],1,2017-03-16 15:09:40,2017-03-17 02:56:03,2017-03-29 00:27:02,True,2017-03-17 02:56:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/460,https://github.com/kubernetes/ingress-nginx/pull/460,caiyixiang,add example of 'run multiple haproxy ingress controllers as a deployment',add example of 'run multiple haproxy ingress controllers as a deployment',['aledbf'],1,2017-03-17 09:19:50,2017-03-17 11:58:23,2017-03-17 11:58:23,True,2017-03-17 11:58:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/463,https://github.com/kubernetes/ingress-nginx/pull/463,aledbf,Migrate to client-go,,[],8,2017-03-17 21:15:02,2017-04-01 14:53:12,2017-06-13 12:59:05,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/467,https://github.com/kubernetes/ingress-nginx/pull/467,mrmm,Merge pull request #1 from kubernetes/master,rebase on the original,[],1,2017-03-20 16:25:27,2017-03-20 16:25:50,2017-03-20 16:51:42,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/471,https://github.com/kubernetes/ingress-nginx/pull/471,dannyk81,[Nginx] prometheus scrape annotations,"This PR adds to the nginx `DaemonSet` and `Deployment` examples annotations that are required for Prometheus automatic discovery and scraping of the nginx ingress controller `/metrics` endpoint.

This fixed https://github.com/kubernetes/ingress/issues/464",['aledbf'],1,2017-03-20 22:29:32,2017-03-21 00:48:10,2017-03-21 14:27:36,True,2017-03-21 00:48:10,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/472,https://github.com/kubernetes/ingress-nginx/pull/472,nicksardo,[gce] Add .gitignore ,,['bowei'],1,2017-03-20 23:39:44,2017-03-21 19:43:20,2017-03-21 19:43:22,True,2017-03-21 19:43:20,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/474,https://github.com/kubernetes/ingress-nginx/pull/474,zouyee,add custom vts metrics example,"I think it is necessary to add vts metrics example
@aledbf ",['aledbf'],3,2017-03-21 15:37:24,2017-03-22 02:10:52,2017-03-22 02:10:58,True,2017-03-22 02:10:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/477,https://github.com/kubernetes/ingress-nginx/pull/477,nicksardo,[GLBC] Sync ingress when default backend service is modified.,"Given an ingress with a default backend. 

Example:
```yaml
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: my-echo-ingress
spec:
  backend:
    serviceName: my-echo-svc
    servicePort: 80
```

**Expectation**
If I were to modify the service `my-echo-svc`, I would expect the GLBC to sync all associated ingresses.

**Actual**
The sync is not triggered.

**Reason**
The function that searches through all ingresses for references to this service was not looking at the default backend.
",['bowei'],1,2017-03-22 00:11:55,2017-03-22 20:08:31,2017-03-22 20:08:34,True,2017-03-22 20:08:31,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/479,https://github.com/kubernetes/ingress-nginx/pull/479,matthewg,Add 35.191.0.0/16 range to GCE firewalls,"Fixes #478.
",[],1,2017-03-22 07:20:48,2017-03-22 17:22:47,2017-03-22 17:23:12,True,2017-03-22 17:22:47,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/481,https://github.com/kubernetes/ingress-nginx/pull/481,tsupertramp,Remove unnecessary quote in nginx log format,Solving - https://github.com/kubernetes/ingress/issues/482,['aledbf'],1,2017-03-22 14:49:17,2017-03-22 16:18:36,2017-03-22 16:18:36,True,2017-03-22 16:18:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/483,https://github.com/kubernetes/ingress-nginx/pull/483,mrmm,Fix typos custom vts metrics,Fix typo in configmap ofr custom vts metrics ,[],4,2017-03-22 14:49:48,2017-03-22 15:08:26,2017-03-22 15:08:26,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/484,https://github.com/kubernetes/ingress-nginx/pull/484,zouyee,change buildDS param,"vts metrics result snippet
```
# HELP nginx_nginx_all_bytes_total Nginx bytes count
# TYPE nginx_nginx_all_bytes_total counter
nginx_nginx_all_bytes_total{direction=""in"",server_zone=""*""} 158448
nginx_nginx_all_bytes_total{direction=""in"",server_zone=""_""} 158448
nginx_nginx_all_bytes_total{direction=""out"",server_zone=""*""} 227061
nginx_nginx_all_bytes_total{direction=""out"",server_zone=""_""} 227061
```
`nginx_nginx`will make somebody  uncomfortable and confuse, which generated by buildDS function.
@aledbf ",[],2,2017-03-22 15:04:40,2017-10-21 01:40:19,2017-10-21 01:40:19,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/485,https://github.com/kubernetes/ingress-nginx/pull/485,mrmm,Fix typo nginx configMap vts metrics customization,,['aledbf'],1,2017-03-22 15:13:24,2017-03-22 16:17:39,2017-03-22 16:17:39,True,2017-03-22 16:17:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/488,https://github.com/kubernetes/ingress-nginx/pull/488,canhnt,Adds support for CORS on error responses and Authorization header,"1) This PR supports for CORS error responses, e.g., 4xx or 5xx.

When CORS responses return with error codes, CORS headers are not added properly because 'add_header' directives by default do not add to the response header [1]

[1] http://nginx.org/en/docs/http/ngx_http_headers_module.html#add_header

2) This PR also supports CORS with 'Authorization' header, which is often used to store JWT token.",['aledbf'],2,2017-03-23 15:15:13,2017-03-26 11:00:35,2017-03-26 11:00:35,True,2017-03-26 11:00:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/490,https://github.com/kubernetes/ingress-nginx/pull/490,chentao1596,Add unit test case for named_port,"    Just what like the descriptions of two commits, thank you!",['aledbf'],2,2017-03-24 06:19:56,2017-03-24 10:25:53,2017-03-27 01:05:41,True,2017-03-24 10:25:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/493,https://github.com/kubernetes/ingress-nginx/pull/493,aledbf,Update nginx and vts module,,['ixdy'],1,2017-03-24 20:10:18,2017-04-03 22:33:06,2017-04-06 01:41:23,True,2017-04-03 22:33:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/498,https://github.com/kubernetes/ingress-nginx/pull/498,jcmoraisjr,Proper enqueue a secret on the secret queue,FIxes #497 ,['aledbf'],1,2017-03-26 00:12:11,2017-03-26 10:57:25,2017-03-26 16:20:55,True,2017-03-26 10:57:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/500,https://github.com/kubernetes/ingress-nginx/pull/500,jcmoraisjr,Improve TLS secret configuration,"This PR implements the following behavior on `ingress.spec.tls[]`

---

`foo.bar` uses `existentSecret` and `bar.baz` uses default TLS secret:

```
  rules:
  - host: foo.bar
    ...
  - host: bar.baz
    ...
  tls:
  - hosts:
    - foo.bar
    secretName: existentSecret
  - hosts:
    - bar.baz
```

---

`foo.bar` uses default TLS secret and `bar.baz` doesn't configure TLS/https:

```
  rules:
  - host: foo.bar
    ...
  - host: bar.baz
    ...
  tls:
  - hosts:
    - foo.bar
```

---

`foo.bar` uses default TLS secret, `bar.baz` doesn't configure TLS/https and log warn about secret not found:

```
  rules:
  - host: foo.bar
    ...
  - host: bar.baz
    ...
  tls:
  - hosts:
    - foo.bar
  - hosts:
    - bar.baz
    secretName: nonexistentSecret
```
",['aledbf'],1,2017-03-26 12:43:59,2017-03-26 20:54:24,2017-03-26 20:58:50,True,2017-03-26 20:54:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/502,https://github.com/kubernetes/ingress-nginx/pull/502,aledbf,Add information about SSL Passthrough annotation,fixes #492,[],1,2017-03-26 20:25:33,2017-03-26 20:26:11,2017-03-27 12:43:09,True,2017-03-26 20:26:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/503,https://github.com/kubernetes/ingress-nginx/pull/503,aledbf,Add example for nginx in aws,,[],1,2017-03-26 20:47:55,2017-03-26 20:48:05,2017-03-27 12:43:21,True,2017-03-26 20:48:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/504,https://github.com/kubernetes/ingress-nginx/pull/504,jcmoraisjr,HAProxy Ingress - client cert auth docs,,['aledbf'],1,2017-03-26 21:32:17,2017-03-26 22:07:15,2017-03-26 22:57:46,True,2017-03-26 22:07:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/505,https://github.com/kubernetes/ingress-nginx/pull/505,chentao1596,add unit test cases for core/pkg/ingress/controller/annotations,"   Just what like the descriptions of two commits, thank you!",['aledbf'],2,2017-03-27 02:31:31,2017-03-27 02:56:22,2017-03-28 03:35:12,True,2017-03-27 02:56:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/510,https://github.com/kubernetes/ingress-nginx/pull/510,FengyunPan,Remove the code which get same resources twice,"There is no need to get the same ingress resources from
ingressclient twice.",['nicksardo'],1,2017-03-27 13:18:47,2017-04-19 03:07:41,2017-04-19 21:58:28,True,2017-04-19 03:07:41,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/511,https://github.com/kubernetes/ingress-nginx/pull/511,FengyunPan,Ignore err when delete a NotFound backends,"1. add() should return nil at last
2. do not return err when delete a notFound backend",['nicksardo'],1,2017-03-27 15:11:46,2017-04-19 05:17:08,2017-04-19 05:17:08,True,2017-04-19 05:17:08,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/512,https://github.com/kubernetes/ingress-nginx/pull/512,ankon,Fix typos regarding the ssl-passthrough annotation documentation,,['aledbf'],1,2017-03-27 19:01:36,2017-03-27 19:09:18,2017-03-27 19:25:45,True,2017-03-27 19:09:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/514,https://github.com/kubernetes/ingress-nginx/pull/514,caiyixiang,add example for haproxy multi tsl,add example for haproxy multi tsl,['aledbf'],1,2017-03-28 08:17:53,2017-03-28 11:33:19,2017-03-28 11:33:19,True,2017-03-28 11:33:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/516,https://github.com/kubernetes/ingress-nginx/pull/516,aledbf,Convert WorkerProcesses setting to string to allow the value auto,fixes #508,[],1,2017-03-28 16:41:22,2017-03-28 22:59:23,2017-03-28 23:17:09,True,2017-03-28 22:59:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/517,https://github.com/kubernetes/ingress-nginx/pull/517,ashb,Use whitelist-source-range from configmap when no annotation on ingress.,"Even though we were returning a SourceRange it was being ignored because we were also returning an error. Detect the case (and add tests) when the annotation is not present and use the BackendConfig in that case.

fixes #473
fixes #312",['aledbf'],1,2017-03-28 18:24:05,2017-03-29 12:33:44,2017-04-06 15:21:26,True,2017-03-29 12:33:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/519,https://github.com/kubernetes/ingress-nginx/pull/519,nicksardo,[GLBC] Support backside re-encryption,"Enables proxying traffic to HTTPS k8s services.

Fixes #494 - Support HTTPS backend
Fixes #475 - RPS per instance instead of instance group

### Requires:
 - [x] https://github.com/kubernetes/kubernetes/pull/43644 
 - [x] update godeps in ingress repo (compute & k8s)

#### Surfacing Service Annotation
Ideally, the service annotation parsing function is moved here: https://github.com/kubernetes/kubernetes/blob/master/pkg/api/service/annotations.go . However, the `ingress` repo consumes the `client-go` api and k8s still consumes the local api. @.caesarxuchao mentions that all types will be moved out of k8s and client-go (https://github.com/kubernetes/kubernetes/issues/44065) in a few weeks. He suggests we place the annotation function locally until things change. 

#### Overview of Changes
- Added ability for controller to create `compute.HttpsHealthCheck`s
- Abstract HTTP/HTTPSHealthCheck with a struct called `HealthCheck`
- Modified `healthchecks` package and interface to separate the instantiation of a health check (`New...`) from creating it in the cloud (`Add...).
- Moved the `GCETranslator` presence from `healthchecks` to `backends`
- Addition/cleanup of fakes and tests for `healthchecks`
- Plumbing of tuple (nodeport int64, encrypted bool) instead of nodeport int64 
- Modified `backends` to create HTTPS `compute.BackendServices` if encrypted=true 

#### Test Cases
- [x] ""Perfect setup"": Create ingress with default backend pointing to a service (port 443), service has port https=443, service annotation has [""https""]
- [x] ""Update ingress port"": Create ingress pointing to service's port 80. Service already has port https=443 and annotation. Update ingress to point to 443
- [x] ""Update service annotation"":Create ingress pointing to service's port 443. Service already has port https=443 but NO annotation.  Set annotation to [""https""]



",['bowei'],7,2017-03-29 18:40:09,2017-04-18 19:44:18,2017-06-14 21:08:07,True,2017-04-18 19:44:17,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/523,https://github.com/kubernetes/ingress-nginx/pull/523,ankon,Fix a typo in an error message,,['aledbf'],1,2017-03-30 11:00:37,2017-03-30 11:54:00,2017-03-31 11:44:31,True,2017-03-30 11:54:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/521,https://github.com/kubernetes/ingress-nginx/pull/521,porridge,nginx-ingress-controller is built twice by docker-build target,"```
porridge@kielonek:~/projects/go/src/k8s.io/ingress$ make test-e2e 
go get github.com/onsi/ginkgo/ginkgo
2017/03/30 12:38:12 e2e.go:276: Running: build-release
make[1]: Entering directory `/usr/local/google/home/porridge/projects/go/src/k8s.io/ingress'
make -C controllers/nginx build
make[2]: Entering directory `/usr/local/google/home/porridge/projects/go/src/k8s.io/ingress/controllers/nginx'
rm -f rootfs/nginx-ingress-controller
CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo \
                -ldflags ""-s -w -X k8s.io/ingress/controllers/nginx/pkg/version.RELEASE=0.9.0-beta.3 -X k8s.io/ingress/controllers/nginx/pkg/version.COMMIT=git-e385c05 -X k8s.io/ingress/controllers/nginx/pkg/ve
rsion.REPO=git@github.com:porridge/ingress.git"" \
                -o rootfs/nginx-ingress-controller k8s.io/ingress/controllers/nginx/pkg/cmd/controller
make[2]: Leaving directory `/usr/local/google/home/porridge/projects/go/src/k8s.io/ingress/controllers/nginx'
make -C controllers/nginx container
make[2]: Entering directory `/usr/local/google/home/porridge/projects/go/src/k8s.io/ingress/controllers/nginx'
rm -f rootfs/nginx-ingress-controller
CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo \
                -ldflags ""-s -w -X k8s.io/ingress/controllers/nginx/pkg/version.RELEASE=0.9.0-beta.3 -X k8s.io/ingress/controllers/nginx/pkg/version.COMMIT=git-e385c05 -X k8s.io/ingress/controllers/nginx/pkg/ve
rsion.REPO=git@github.com:porridge/ingress.git"" \
                -o rootfs/nginx-ingress-controller k8s.io/ingress/controllers/nginx/pkg/cmd/controller
gcloud docker -- build --pull -t gcr.io/google_containers/nginx-ingress-controller:0.9.0-beta.3 rootfs
[...]
```

Seems to be a waste of time...",['aledbf'],1,2017-03-30 11:16:25,2017-03-30 13:29:03,2017-03-30 13:29:03,True,2017-03-30 13:29:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/525,https://github.com/kubernetes/ingress-nginx/pull/525,aledbf,Avoid negative values configuring the max number of open files,fixes #524,[],1,2017-03-30 13:11:02,2017-03-30 13:40:52,2017-03-30 13:42:05,True,2017-03-30 13:40:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/526,https://github.com/kubernetes/ingress-nginx/pull/526,ixdy,Release ubuntu-slim:0.8,"This has no code changes, but it uses updated upstream dependencies with
fixes for the following:
* CVE-2016-1234
* CVE-2016-3706
* CVE-2016-4429
* CVE-2016-5417
* CVE-2016-6323
* CVE-2017-6507

I've already pushed `gcr.io/google-containers/ubuntu-slim:0.8`.

cc @nicksardo @aledbf ",['aledbf'],1,2017-03-30 23:13:18,2017-03-30 23:43:55,2017-03-30 23:43:55,True,2017-03-30 23:43:55,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/527,https://github.com/kubernetes/ingress-nginx/pull/527,jcmoraisjr,Add annotations to location of default backend (root context),Fixes reading of `ingress.kubernetes.io/app-root` annotation from root context (default backend),['aledbf'],1,2017-03-31 01:33:25,2017-04-01 14:21:07,2017-04-01 18:00:15,True,2017-04-01 14:21:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/528,https://github.com/kubernetes/ingress-nginx/pull/528,aledbf,Add reference to apiserver-host flag,fixes #487,[],1,2017-03-31 01:35:05,2017-03-31 14:52:27,2017-04-01 14:54:16,True,2017-03-31 14:52:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/530,https://github.com/kubernetes/ingress-nginx/pull/530,aledbf,Fix link to custom nginx configuration,fixes #449,[],1,2017-03-31 02:02:12,2017-03-31 02:04:16,2017-03-31 02:27:22,True,2017-03-31 02:04:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/531,https://github.com/kubernetes/ingress-nginx/pull/531,aledbf,Fix link to examples,,[],1,2017-03-31 02:12:12,2017-03-31 02:14:26,2017-03-31 02:35:17,True,2017-03-31 02:14:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/532,https://github.com/kubernetes/ingress-nginx/pull/532,aledbf,Add setting to configure ecdh curve,fixes #417,[],1,2017-03-31 02:23:26,2017-03-31 14:55:44,2017-04-01 14:54:03,True,2017-03-31 14:55:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/535,https://github.com/kubernetes/ingress-nginx/pull/535,aledbf,Add test for ingress status update,,[],1,2017-03-31 12:47:06,2017-04-01 14:20:26,2017-04-01 14:53:51,True,2017-04-01 14:20:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/536,https://github.com/kubernetes/ingress-nginx/pull/536,chentao1596,add unit test cases for core/pkg/ingress/controller/backend_ssl,"    hi, please refer to the description of commits, thank you!",['aledbf'],2,2017-04-01 03:16:03,2017-04-11 12:17:16,2017-04-20 06:17:11,True,2017-04-11 12:17:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/537,https://github.com/kubernetes/ingress-nginx/pull/537,philips,catalog: add traefik,,['aledbf'],1,2017-04-01 09:14:34,2017-04-01 13:19:27,2017-04-01 13:19:27,True,2017-04-01 13:19:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/539,https://github.com/kubernetes/ingress-nginx/pull/539,aledbf,Migrate to client-go,replaces #463,['nicksardo'],4,2017-04-01 14:52:52,2017-04-05 20:50:22,2017-04-06 01:40:55,True,2017-04-05 20:50:22,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/540,https://github.com/kubernetes/ingress-nginx/pull/540,jcmoraisjr,Add Backends.SSLPassthrough attribute,Add and configure `Backends[].SSLPassthrough` attribute based on `server.SSLPassthrough` attr and `ingress.kubernetes.io/ssl-passthrough` annotation.,['aledbf'],1,2017-04-02 02:34:41,2017-04-05 20:53:29,2017-04-05 21:18:05,True,2017-04-05 20:53:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/541,https://github.com/kubernetes/ingress-nginx/pull/541,jcmoraisjr,Remove pre-release messages from HAProxy Ingress docs,,['aledbf'],1,2017-04-02 12:53:13,2017-04-02 13:46:44,2017-04-02 13:52:10,True,2017-04-02 13:46:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/542,https://github.com/kubernetes/ingress-nginx/pull/542,aledbf,Fix lint errors,,[],1,2017-04-02 14:08:00,2017-04-02 14:32:56,2017-04-06 01:39:15,True,2017-04-02 14:32:56,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/543,https://github.com/kubernetes/ingress-nginx/pull/543,philips,docs: use generic instead of OSS controller,"This term was really confusing me because all of these controllers in
this repo are OSS. So, instead use the term generic and define it upon
first use.",['aledbf'],1,2017-04-02 15:03:49,2017-04-05 16:35:22,2017-04-05 16:35:22,True,2017-04-05 16:35:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/544,https://github.com/kubernetes/ingress-nginx/pull/544,philips,faq: gce: fixup some spelling errors,,['aledbf'],1,2017-04-02 15:04:08,2017-04-02 15:37:41,2017-04-02 15:37:41,True,2017-04-02 15:37:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/546,https://github.com/kubernetes/ingress-nginx/pull/546,ankon,Fix a couple of 'does not contains' typos,,['aledbf'],1,2017-04-03 10:23:07,2017-04-03 12:28:15,2017-04-04 09:12:07,True,2017-04-03 12:28:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/550,https://github.com/kubernetes/ingress-nginx/pull/550,gianrubio,Fix args,"OverrideFlags was called before parsing arguments (arguments was always empty)

Correct order for newStatsCollector args",['aledbf'],1,2017-04-04 11:18:41,2017-04-04 12:16:44,2017-04-04 12:16:44,True,2017-04-04 12:16:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/551,https://github.com/kubernetes/ingress-nginx/pull/551,gianrubio,Build namespace and ingress class as label,"@aledbf  I made a mistake when I built the nginx nomenclature. The right way to fill namespace and ingress class is using labels, so it'll easy to filter and reuse.  

# Old format
![screen shot 2017-04-04 at 14 43 26](https://cloud.githubusercontent.com/assets/5694860/24658987/ae890926-194b-11e7-9410-da9ef002dfd5.png)

# New format
![screen shot 2017-04-04 at 14 44 04](https://cloud.githubusercontent.com/assets/5694860/24658988/aeb86158-194b-11e7-9c7c-6bea67640006.png)

# Alarm example

```
    ALERT NginxTooMany5XX
      IF sum by (ingress_class, status_code, server_zone) (rate(nginx_responses_total{status_code=~""[5]xx""}[5m]) ) > ( 1.1 * sum by (ingress_class, status_code, server_zone) (rate(nginx_responses_total{status_code=~""[5]xx""}[15m]) ) )
      LABELS {
        service = ""nginx"",
        severity = ""critical""
      }
      ANNOTATIONS {
        summary = ""Too many http 5XX errors,
        description = "" Status code {{ $status_code }} increased 10% in the last 5 minutes. Ingress class {{ $labels.ingress_class }} on server zone {{ $labels.server_zone }}"",
      }
```",['aledbf'],1,2017-04-04 13:57:38,2017-04-04 14:55:24,2017-04-04 14:55:24,True,2017-04-04 14:55:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/556,https://github.com/kubernetes/ingress-nginx/pull/556,aledbf,Update nginx version and remove dumb-init,,[],1,2017-04-04 21:00:32,2017-04-06 01:54:43,2017-04-09 18:32:33,True,2017-04-06 01:54:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/559,https://github.com/kubernetes/ingress-nginx/pull/559,nicksardo,[GLBC] Add balance mode updater,Simple utility for updating the backend-services for existing K8s clusters that are running GCP HTTP(S) Load Balancers with backend services with balancing mode = UTILIZATION.  ,['nicksardo'],1,2017-04-05 19:56:22,2017-10-06 17:10:05,2017-10-06 17:23:57,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/560,https://github.com/kubernetes/ingress-nginx/pull/560,jcmoraisjr,Fix intermittent misconfiguration of backend.secure and SessionAffinity,This PR fixes an intermittent configuration of `Backend.Secure` and `Backend.SessionAffinity` if different Ingress configure Secure and SessionAffinity of the same backend with different values. Secure `true` and AffinityType <> empty-string will always be used if declared.,['aledbf'],1,2017-04-06 01:29:05,2017-04-06 02:03:05,2017-04-06 22:15:28,True,2017-04-06 02:03:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/561,https://github.com/kubernetes/ingress-nginx/pull/561,caiyixiang,add a example for haproxy_custom_configuration,add a example for haproxy_custom_configuration,['aledbf'],1,2017-04-06 01:32:59,2017-05-03 10:58:56,2017-05-03 10:58:56,True,2017-05-03 10:58:55,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/562,https://github.com/kubernetes/ingress-nginx/pull/562,jcmoraisjr,Use SSLPassthrough if is Backend.Secure,"Use SSLPassthrough configuration also if a backend is tagged as Secure (uses TLS).

So the actual behaviour is: if some server tags a backend as plain HTTP (missing SSLPassthrough and Secure annotations), a misconfiguration is detected, the backend will be configured as plain HTTP and a warning is issued.",[],1,2017-04-06 01:38:44,2017-04-15 18:00:32,2017-04-15 18:00:32,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/563,https://github.com/kubernetes/ingress-nginx/pull/563,aledbf,Add option to disable hsts preload,fixes #466,[],1,2017-04-06 01:49:54,2017-04-06 02:20:35,2017-04-09 18:32:22,True,2017-04-06 02:20:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/565,https://github.com/kubernetes/ingress-nginx/pull/565,ankon,Remove the use of regular expressions for rewrite-target,"This fixes https://github.com/kubernetes/ingress/issues/495, and likely also https://github.com/kubernetes/contrib/issues/2350.

I'm not 100% sure what the baseuri part wants to achieve, so any insight here would be very much appreciated.",[],2,2017-04-06 08:32:31,2017-04-18 08:48:38,2017-04-18 08:48:38,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/568,https://github.com/kubernetes/ingress-nginx/pull/568,jcmoraisjr,Revert merge annotations to the implicit root context,"This PR fixes #558 reverting #527. A proper fix I propose is to move `approot` from Location to Server struct. I can take care of this in the next few days. @aledbf what about the proposal?

@gianrubio FYI
",['aledbf'],1,2017-04-07 01:26:08,2017-04-07 01:52:45,2017-04-07 07:31:20,True,2017-04-07 01:52:45,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/570,https://github.com/kubernetes/ingress-nginx/pull/570,nicksardo,Renaming few remaining packages,@aledbf Did you not rename these on purpose? ,['aledbf'],1,2017-04-07 05:30:22,2017-04-07 14:21:15,2017-04-07 16:20:55,True,2017-04-07 14:21:15,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/574,https://github.com/kubernetes/ingress-nginx/pull/574,nicksardo,[GLBC] Update firewall source ranges if outdated,"Addresses the second half of #197 
Final task for that issue would be to consume the firewall rules from the GCE cloudprovider. Currently waiting on a PR over there...
",['bowei'],3,2017-04-07 20:27:16,2017-04-11 16:01:43,2017-04-11 16:01:59,True,2017-04-11 16:01:43,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/576,https://github.com/kubernetes/ingress-nginx/pull/576,aledbf,Replace secret workqueue,fixes #518,[],1,2017-04-09 16:54:17,2017-04-09 18:29:36,2017-04-09 18:32:10,True,2017-04-09 18:29:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/577,https://github.com/kubernetes/ingress-nginx/pull/577,aledbf,Avoid zombie child processes,fixes #429,[],1,2017-04-09 16:59:02,2017-04-09 18:29:05,2017-04-09 18:31:59,True,2017-04-09 18:29:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/578,https://github.com/kubernetes/ingress-nginx/pull/578,aledbf,Set different listeners per protocol version,fixes #469,[],1,2017-04-09 18:04:30,2017-04-09 18:28:37,2017-04-09 18:28:37,True,2017-04-09 18:28:37,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/579,https://github.com/kubernetes/ingress-nginx/pull/579,aledbf,Detect if the ingress controller is running with multiple replicas,fixes #533,[],1,2017-04-09 19:15:18,2017-04-09 19:42:59,2017-05-20 22:36:29,True,2017-04-09 19:42:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/580,https://github.com/kubernetes/ingress-nginx/pull/580,gyliu513,Updated faq for running multiple ingress controller.,,['aledbf'],1,2017-04-10 05:42:12,2017-04-12 21:04:32,2017-04-12 21:04:32,True,2017-04-12 21:04:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/583,https://github.com/kubernetes/ingress-nginx/pull/583,stibi,fixed lua_package_path in nginx.tmpl,"I did my own build of the nginx-ingress-controller and its docker image, but I had troubles with the `error_page.lua` module, which couldn't be loaded, there was an error in the log, module was not found.

I think the lua package path is wrong, here is a fix.",['aledbf'],1,2017-04-11 07:44:24,2017-04-12 20:04:05,2017-04-12 20:12:12,True,2017-04-12 20:04:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/585,https://github.com/kubernetes/ingress-nginx/pull/585,lihan,Updated instructions to create an nginx ingress controller build,,[],1,2017-04-11 12:39:34,2017-04-11 12:48:47,2017-04-11 13:03:45,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/586,https://github.com/kubernetes/ingress-nginx/pull/586,lihan,Updated instructions to create an ingress controller build,,['aledbf'],1,2017-04-11 12:50:04,2017-04-12 19:13:25,2017-04-12 19:13:31,True,2017-04-12 19:13:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/587,https://github.com/kubernetes/ingress-nginx/pull/587,mkumatag,Multi arch nginx-slim docker image,"Signed-off-by: Manjunath A Kumatagi <mkumatag@in.ibm.com>

This PR will help to generate this docker image on multi architecture like amd64 and ppc64le, can be extended to other architecture as well.","['aledbf', 'nicksardo', 'ixdy']",2,2017-04-11 13:50:55,2017-05-03 15:00:53,2017-05-22 12:16:42,True,2017-05-03 15:00:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/588,https://github.com/kubernetes/ingress-nginx/pull/588,aledbf,Read resolv.conf file just once,,[],2,2017-04-11 14:48:21,2017-04-11 18:35:38,2017-04-16 20:51:00,True,2017-04-11 18:35:38,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/590,https://github.com/kubernetes/ingress-nginx/pull/590,from-nibly,fix nginx ingress template keepalive,"There is a bug in nginx ingress controller where if keep-alive is set to 0 it actually results in ""\<no value\>""",[],1,2017-04-11 18:18:09,2017-04-19 18:39:58,2017-04-19 18:39:58,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/595,https://github.com/kubernetes/ingress-nginx/pull/595,aledbf,Remove Host header from auth_request proxy configuration,fixes #567,[],1,2017-04-12 12:37:52,2017-04-12 13:03:31,2017-04-16 20:50:51,True,2017-04-12 13:03:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/599,https://github.com/kubernetes/ingress-nginx/pull/599,aledbf,Add flag to force namespace isolation,fixes #597,[],1,2017-04-13 01:52:03,2017-04-15 14:42:46,2017-04-16 20:50:25,True,2017-04-15 14:42:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/600,https://github.com/kubernetes/ingress-nginx/pull/600,aledbf,Replace custom child reap code with go-reap,fixes #596 replacing custom code with https://github.com/hashicorp/go-reap,[],1,2017-04-13 01:56:08,2017-04-14 00:26:22,2017-04-16 20:50:35,True,2017-04-14 00:26:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/601,https://github.com/kubernetes/ingress-nginx/pull/601,caiyixiang,add a judgment,add a judgment,['aledbf'],1,2017-04-13 09:21:24,2017-04-13 11:44:40,2017-04-13 11:44:48,True,2017-04-13 11:44:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/603,https://github.com/kubernetes/ingress-nginx/pull/603,gianrubio,Move certificate auth from location to server,"I did this PR because nginx just accept one ssl_client_certificate per host (related to #571)

I moved certificate auth from location to server, but I'm not sure how we can deal with this if a user specify 2 ingress to the same host. 

Ex: 
```
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: xxxx
  annotations:
    ingress.kubernetes.io/auth-tls-secret: ""default/caingress"" 
spec:
  rules:
  - host: monitoring.domain.tld
    http:
      paths:
      - path: /bla
        backend:
          serviceName:default-backend
          servicePort: 80
---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: xxxx
  annotations:
    ingress.kubernetes.io/auth-tls-secret: ""custom/anothertls"" 
spec:
  rules:
  - host: monitoring.domain.tld
    http:
      paths:
      - path: /
        backend:
          serviceName:default-backend
          servicePort: 80
```

@aledbf, @durrheimer, @rikatz wdyt guys? Validate if ingress has 2 auth-tls-secret: for the same domain or just go ahed?",[],1,2017-04-13 14:04:39,2017-07-13 08:40:13,2017-08-23 15:15:01,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/604,https://github.com/kubernetes/ingress-nginx/pull/604,jonaskint,Fixing wildcard in hostname for the upstream map,Our team came across the issue that wildcard hostnames would go to the default backend and ignore our ingress rule for that wildcard. After some searching it became clear that the upstream map where the ssl_preread_server_name did not map on our *.test.com domain. In the nginx documentation (http://nginx.org/en/docs/http/ngx_http_map_module.html) they refer to the ```hostnames;``` rule where you allow source values with pre and suffixes.,['aledbf'],1,2017-04-13 15:37:51,2017-04-15 00:07:42,2017-04-15 00:07:42,True,2017-04-15 00:07:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/606,https://github.com/kubernetes/ingress-nginx/pull/606,nicksardo,[GCE] Adding note on how to create an ILB without blocking ingress controller,,['thockin'],1,2017-04-14 23:28:37,2017-04-14 23:51:44,2017-04-14 23:54:29,True,2017-04-14 23:51:44,thockin,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/607,https://github.com/kubernetes/ingress-nginx/pull/607,aledbf,Allow custom server_names_hash_max_size & server_names_hash_bucket_size,fixes #564,[],1,2017-04-15 00:00:26,2017-04-15 01:20:39,2017-04-15 01:20:39,True,2017-04-15 01:20:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/611,https://github.com/kubernetes/ingress-nginx/pull/611,jcmoraisjr,Track default SSL cert if TLS.SecretName is empty,This PR fixes `secret not found` warning and correctly track default SSL cert if Ingress' `TLS.SecretName` is empty.,[],1,2017-04-15 17:59:34,2017-04-19 18:38:41,2017-05-05 15:31:14,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/612,https://github.com/kubernetes/ingress-nginx/pull/612,jcmoraisjr,HAProxy Ingress rewrite options,,['aledbf'],1,2017-04-15 20:08:08,2017-04-16 18:49:33,2017-04-17 00:36:34,True,2017-04-16 18:49:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/613,https://github.com/kubernetes/ingress-nginx/pull/613,aledbf,Status leader election must consired the ingress class,"Without this PR we could have multiple ingress controllers with different class annotations and only 1 leader when we should have multiple (one per class)

fixes #534",[],1,2017-04-16 18:48:56,2017-04-16 20:10:55,2017-05-20 22:36:09,True,2017-04-16 20:10:55,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/614,https://github.com/kubernetes/ingress-nginx/pull/614,aledbf,Refactor nginx ssl passthrough,"This takes ideas from https://github.com/kubermatic/k8sniff/

Why? Using nginx for passthrough implies we loose the source IP address

**TODO:**
- [x] test proxy protocol
- [x] verify source IP address in logs
",[],2,2017-04-16 22:36:04,2017-04-20 19:43:45,2017-06-13 12:58:22,True,2017-04-20 19:43:45,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/615,https://github.com/kubernetes/ingress-nginx/pull/615,aledbf,Process exited cleanly before we hit wait4,,[],1,2017-04-16 23:05:11,2017-04-17 00:40:38,2017-05-20 22:36:16,True,2017-04-17 00:40:38,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/617,https://github.com/kubernetes/ingress-nginx/pull/617,manpirez,Access VTS when using proxy_protocol,"When I activate proxy_protocol in version 0.8.3 I can not see the vts-status page, add a server to create a proxy to the original, so I can activate the proxy_protocol and see the VTS statistics; Maybe it's not the best solution but it works.
Do not add the proxy_protocol conditional on server 18080 because if enabled the / healthz path does not work for K8S.

Thanks in advance",[],2,2017-04-17 15:56:23,2017-04-19 18:41:43,2017-04-19 18:41:43,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/622,https://github.com/kubernetes/ingress-nginx/pull/622,nicksardo,[GLBC] Minor FAQ fixes,,[],1,2017-04-18 23:40:44,2017-04-18 23:41:32,2017-04-18 23:41:48,True,2017-04-18 23:41:32,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/624,https://github.com/kubernetes/ingress-nginx/pull/624,justinsb,Compute server_names_hash_bucket_size correctly,"There were some edge cases where we did not calculate hash_bucket_size
correctly.

Fix #623",['aledbf'],1,2017-04-19 02:30:43,2017-04-19 03:04:29,2017-04-19 03:04:29,True,2017-04-19 03:04:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/626,https://github.com/kubernetes/ingress-nginx/pull/626,wmorgan,include Linkerd in the ingress controller catalog,,['aledbf'],1,2017-04-19 21:22:37,2017-04-19 22:26:38,2017-04-20 00:05:22,True,2017-04-19 22:26:38,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/627,https://github.com/kubernetes/ingress-nginx/pull/627,nicksardo,"Revert ""Remove the code which get same resources twice""",Reverts kubernetes/ingress#510,[],1,2017-04-19 22:00:57,2017-04-19 22:01:22,2017-04-19 22:02:06,True,2017-04-19 22:01:22,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/628,https://github.com/kubernetes/ingress-nginx/pull/628,jcmoraisjr,Fix HAProxy rewrite doc,,['aledbf'],1,2017-04-19 22:27:54,2017-04-20 17:49:36,2017-04-21 15:57:47,True,2017-04-20 17:49:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/629,https://github.com/kubernetes/ingress-nginx/pull/629,aledbf,Add support for services of type ExternalName,"fixes #621

```yaml
kind: Service
apiVersion: v1
metadata:
  name: proxy-google-cl
spec:
  ports:
  - protocol: TCP
    port: 80
    targetPort: 80
  type: ExternalName
  externalName: www.google.cl

---

apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: proxy-to-google
  annotations:
    ingress.kubernetes.io/configuration-snippet: |
      # we cannot pass Host header
      set $best_http_host """";
      proxy_set_header Host                   $best_http_host;

spec:
  rules:
  - host: foo.bar
    http:
      paths:
      - path: /
        backend:
          serviceName: proxy-google-cl
          servicePort: 80
```

```console
$ kubectl exec -n kube-system nginx-ingress-controller-605381865-1zqg3 -- curl http://localhost -H 'Host: foo.bar' -v
* Rebuilt URL to: http://localhost/
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 127.0.0.1...
* Connected to localhost (127.0.0.1) port 80 (#0)
> GET / HTTP/1.1
> Host: foo.bar
> User-Agent: curl/7.47.0
> Accept: */*
>
<HTML><HEAD><meta http-equiv=""content-type"" content=""text/html;charset=utf-8"">
<TITLE>302 Moved</TITLE></HEAD><BODY>
<H1>302 Moved</H1>
The document has moved
<A HREF=""http://www.google.cl/?gfe_rd=cr&amp;ei=9hz4WJB_haHGBIqjj-AM"">here</A>.
</BODY></HTML>
< HTTP/1.1 302 Found
< Server: nginx/1.11.12
< Date: Thu, 20 Apr 2017 02:29:10 GMT
< Content-Type: text/html; charset=UTF-8
< Content-Length: 256
< Connection: keep-alive
< Cache-Control: private
< Referrer-Policy: no-referrer
< Location: http://www.google.cl/?gfe_rd=cr&ei=9hz4WJB_haHGBIqjj-AM
<
{ [256 bytes data]
100   256  100   256    0     0   4241      0 --:--:-- --:--:-- --:--:--  4266
* Connection #0 to host localhost left intact
```",[],1,2017-04-20 02:31:46,2017-04-20 19:44:04,2017-05-20 22:36:37,True,2017-04-20 19:44:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/630,https://github.com/kubernetes/ingress-nginx/pull/630,chentao1596,Add example of TCP loadbalancing,"   Add example of TCP loadbalancing, thank you!",['aledbf'],1,2017-04-20 08:58:57,2017-04-20 10:42:48,2017-05-05 00:58:27,True,2017-04-20 10:42:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/633,https://github.com/kubernetes/ingress-nginx/pull/633,aledbf,Fix lint errors,,[],1,2017-04-20 19:48:44,2017-04-20 20:15:19,2017-05-01 22:22:42,True,2017-04-20 20:15:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/634,https://github.com/kubernetes/ingress-nginx/pull/634,philips,catalog: add alb-ingress-controller,,['aledbf'],1,2017-04-20 21:02:12,2017-04-20 21:13:32,2017-04-20 21:27:16,True,2017-04-20 21:13:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/635,https://github.com/kubernetes/ingress-nginx/pull/635,aledbf,Allow configuration of features underscores_in_headers and ignore_invalid_headers,fixes #632,[],1,2017-04-20 21:12:54,2017-04-20 21:38:05,2017-06-13 12:58:09,True,2017-04-20 21:38:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/637,https://github.com/kubernetes/ingress-nginx/pull/637,aledbf,[nginx] 0.9.0 beta.4,,['ixdy'],1,2017-04-21 01:58:36,2017-04-25 21:10:17,2017-05-01 22:21:37,True,2017-04-25 21:10:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/638,https://github.com/kubernetes/ingress-nginx/pull/638,arjanschaaf,Nginx sticky annotations #258 made the global enable-sticky-sessions obsolete,Global ConfigMap setting enable-sticky-sessions is no longer in use.,['aledbf'],1,2017-04-21 13:02:52,2017-04-21 16:16:11,2017-04-21 16:16:26,True,2017-04-21 16:16:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/639,https://github.com/kubernetes/ingress-nginx/pull/639,nicksardo,[GLBC] Better certificate handling,"Fixes #609 
**Current Behavior**: 
On first sync after start, the controller asserts a certificate with the primary name, and possibly orphans a certificate with the secondary name. On next certificate update, a collision occurs.

**New Behavior**:
Due to the orphaned certificate, some users have two certificates (one with `-1` and one without). Most likely the primary-named certificate is being used, but we can't make that assumption. Therefore, if the controller doesn't know what certificate is being used (on first sync), the code will now inspect the Target HTTPS Proxy for the existing ssl certificate. It'll continue using that certificate until it finds a change in the secret.  If users have two certificates, the controller will attempt deletion of any certificate using the desired name.

The PR also fixes a bug when transitioning from a pre-shared certificate to a secret-based certificate. The controller deletes the pre-shared certificate when it really should ignore it. ",[],6,2017-04-21 18:57:23,2017-04-26 18:15:20,2017-04-28 17:11:58,True,2017-04-26 18:15:20,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/642,https://github.com/kubernetes/ingress-nginx/pull/642,arjanschaaf,Configuration snippets documentation improvements,Configuration snippets annotation was missing from the Configuration documentation. Also the Configuration snippet example confused me a bit because it referenced a ConfigMap that included the `proxy-set-headers` property that allows for globally defined custom headers instead of custom headers specific to just one Ingress.,['aledbf'],3,2017-04-24 14:38:35,2017-04-24 15:00:48,2017-04-24 15:05:11,True,2017-04-24 15:00:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/644,https://github.com/kubernetes/ingress-nginx/pull/644,aledbf,Add support for https in proxy request for external authentication,,[],1,2017-04-25 01:15:00,2017-04-25 01:50:59,2017-05-20 22:35:50,True,2017-04-25 01:50:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/650,https://github.com/kubernetes/ingress-nginx/pull/650,eduardobaitello,Fix default value information,"proxy-read-timeout and proxy-send-timeout default value is 60 seconds, not 30.",['aledbf'],1,2017-04-25 19:27:51,2017-04-25 19:54:44,2017-04-25 20:08:06,True,2017-04-25 19:54:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/651,https://github.com/kubernetes/ingress-nginx/pull/651,thakkaryash94,Update README.md,"fixed tcp services example link.

note: udp services link is also broken, I don't know correct link path.",['aledbf'],1,2017-04-25 20:12:11,2017-04-25 20:44:23,2017-05-10 03:07:09,True,2017-04-25 20:44:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/652,https://github.com/kubernetes/ingress-nginx/pull/652,nicksardo,[GLBC] Specify balancing mode for backends being added to existing backend service,"Related to https://github.com/kubernetes/ingress/pull/251 This was a noticeable issue for federated ingress, but could happen for any cluster which adds a new zone of nodes with an existing ingress. Since the backend service already exists in these cases, the controller will attempt to add backends to the existing backend service resource. However, the balancing mode was not being specified and defaulting to UTILIZATION.  If there are existing backend services of type RATE pointing to the same instance groups, the backend-service update will fail. 

New Behavior:
 - Creation of backend-service does NOT include a list of backends. It's only responsible for setting protocol, name, and health check correctly.
 - `edgeHop` now is responsible for adding sets of backends to the backend-service. It has the same RATE-then-UTILIZATION fallback logic as the backend-service creation func had.

The controller has always and will continue to assume that all instance-groups (zones) in a region use the same balancing mode. If this convention isn't followed, it cannot update the set of backends for that cluster.",[],4,2017-04-25 22:49:22,2017-04-26 23:02:18,2017-04-26 23:02:22,True,2017-04-26 23:02:18,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/654,https://github.com/kubernetes/ingress-nginx/pull/654,aledbf,Update go version to 1.8,,[],1,2017-04-26 03:40:48,2017-04-26 11:13:39,2017-05-01 22:21:22,True,2017-04-26 11:13:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/658,https://github.com/kubernetes/ingress-nginx/pull/658,nicksardo,[GLBC] Fix problem surfacing error,"Fixes #645 

All of that code could use refactoring, but priority is making a working release.",['madhusudancs'],2,2017-04-26 21:50:56,2017-04-26 22:30:34,2017-04-26 22:53:03,True,2017-04-26 22:30:34,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/660,https://github.com/kubernetes/ingress-nginx/pull/660,aledbf,Rollback queue refactoring,the defer is inside a loop that avoids the call to Done(),[],1,2017-04-27 01:52:33,2017-04-27 02:33:30,2017-04-27 02:33:38,True,2017-04-27 02:33:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/661,https://github.com/kubernetes/ingress-nginx/pull/661,aledbf,Avoid running nginx if the configuration file is empty,,[],1,2017-04-27 02:35:29,2017-04-27 02:58:16,2017-05-01 22:19:31,True,2017-04-27 02:58:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/662,https://github.com/kubernetes/ingress-nginx/pull/662,aledbf,Add debug information about ingress class,fixes #647,[],1,2017-04-27 02:44:19,2017-04-27 03:08:05,2017-05-01 22:19:39,True,2017-04-27 03:08:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/663,https://github.com/kubernetes/ingress-nginx/pull/663,aledbf,Remove helper required in go < 1.8,,[],1,2017-04-27 02:52:25,2017-04-27 03:14:29,2017-05-01 22:19:46,True,2017-04-27 03:14:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/664,https://github.com/kubernetes/ingress-nginx/pull/664,aledbf,Release nginx 0.9-beta.5,,['ixdy'],1,2017-04-27 03:27:43,2017-04-28 01:18:53,2017-05-01 22:20:53,True,2017-04-28 01:18:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/666,https://github.com/kubernetes/ingress-nginx/pull/666,aledbf,Allow more frequent reload events,This improves de sync loop from 10 seconds to 4,[],1,2017-04-27 17:37:43,2017-04-27 18:05:35,2017-05-01 22:21:02,True,2017-04-27 18:05:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/667,https://github.com/kubernetes/ingress-nginx/pull/667,nicksardo,[GLBC] Doc changes for version bump,0.9.2 -> 0.9.3,[],1,2017-04-28 00:16:56,2017-04-28 00:19:35,2017-04-28 00:39:53,True,2017-04-28 00:19:35,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/670,https://github.com/kubernetes/ingress-nginx/pull/670,Luit,Fix error check in examples/custom-controller,Fixes #669,['aledbf'],1,2017-04-28 12:02:51,2017-04-28 12:54:36,2017-04-28 12:54:36,True,2017-04-28 12:54:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/671,https://github.com/kubernetes/ingress-nginx/pull/671,jeffpearce,Allow load balance alg to be overridden by config map,,[],1,2017-04-28 20:14:05,2017-04-28 20:14:48,2017-04-28 20:14:48,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/673,https://github.com/kubernetes/ingress-nginx/pull/673,jeffpearce,Override load balancer alg view config map,#656 ,['aledbf'],1,2017-04-28 20:45:19,2017-04-29 16:13:09,2017-04-29 17:15:53,True,2017-04-29 16:13:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/675,https://github.com/kubernetes/ingress-nginx/pull/675,dpratt,Use proxy-protocol to pass through source IP to nginx,This is a PR that helps address #672.,['aledbf'],1,2017-04-28 22:34:32,2017-05-10 22:30:14,2017-05-11 01:31:40,True,2017-05-10 22:30:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/678,https://github.com/kubernetes/ingress-nginx/pull/678,aledbf,Convert CN SSL Certificate to lowercase before comparison,fixes #657,[],1,2017-05-01 22:29:03,2017-05-01 23:24:21,2017-05-18 21:56:20,True,2017-05-01 23:24:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/679,https://github.com/kubernetes/ingress-nginx/pull/679,ckeyer,add getenv,add template function getenv ,['aledbf'],1,2017-05-02 03:02:49,2017-05-10 11:50:11,2017-05-11 01:59:59,True,2017-05-10 11:50:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/680,https://github.com/kubernetes/ingress-nginx/pull/680,caiyixiang,nginx/pkg/config: delete unuseful variable,nginx/pkg/config: delete unuseful variable,['aledbf'],1,2017-05-02 09:25:27,2017-05-04 09:35:51,2017-05-04 09:35:51,True,2017-05-04 09:35:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/681,https://github.com/kubernetes/ingress-nginx/pull/681,nicksardo,[GLBC] Set Description field for backend services,"Setting the backend service description field with the service's namespace, name, port, and protocol. 

![GCP Console](http://i.imgur.com/vorFa6a.png)",[],2,2017-05-03 00:37:42,2017-05-05 18:34:41,2017-05-05 18:34:44,True,2017-05-05 18:34:41,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/682,https://github.com/kubernetes/ingress-nginx/pull/682,caiyixiang,add a example for customize the haproxy_ssh-dh-param,add a example for customize the haproxy_ssh-dh-param,[],1,2017-05-03 08:38:20,2017-10-07 21:19:29,2017-10-07 21:19:29,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/685,https://github.com/kubernetes/ingress-nginx/pull/685,matjazp,Fix error in generated nginx.conf for optional hsts-preload,"With PR #563 a trailing space is rendered in nginx.conf for optional HSTS preload option (false by default):

    more_set_headers                        ""Strict-Transport-Security: max-age=15724800; includeSubDomains; "";

## Error

This brakes some clients, e.g. very popular HTTP2 [Python hyper-h2](https://github.com/python-hyper/hyper-h2) with:

    h2.exceptions.ProtocolError: Received header value surrounded by whitespace b'max-age=15724800; includeSubDomains; '

## Fix

This PR fixes the trailing space and moves it before the optional value as "" preload"".
",['aledbf'],1,2017-05-04 09:58:28,2017-05-04 12:03:58,2017-06-16 10:50:49,True,2017-05-04 12:03:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/688,https://github.com/kubernetes/ingress-nginx/pull/688,chentao1596,Add example of UDP loadbalancing,"    Add example of UDP loadbalancing, thank you!",['aledbf'],1,2017-05-05 09:26:11,2017-05-05 14:07:05,2017-06-05 10:45:06,True,2017-05-05 14:07:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/689,https://github.com/kubernetes/ingress-nginx/pull/689,julianvmodesto,Fix affinity doc,"Should be string `cookie`, not boolean.

See [kubernetes/ingress/examples/affinity/cookie/nginx](https://github.com/kubernetes/ingress/tree/master/examples/affinity/cookie/nginx).",['aledbf'],1,2017-05-05 14:24:04,2017-05-05 17:18:24,2017-05-05 17:18:42,True,2017-05-05 17:18:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/690,https://github.com/kubernetes/ingress-nginx/pull/690,aledbf,Fix IP in logs for https traffic,,['aledbf'],3,2017-05-05 15:28:49,2017-05-12 13:44:21,2017-05-18 21:56:03,True,2017-05-12 13:44:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/696,https://github.com/kubernetes/ingress-nginx/pull/696,donaldguy,"[nginx] pass non-SNI TLS hello to default backend, Fixes #693","tested with image pushed to quay.io/donaldguy/nginx-ingress-controller:no-sni

Just verified that sites still load and that `openssl s_client` now works
w/ AND w/o a servername.

Fixes #693 ",['aledbf'],1,2017-05-08 21:45:40,2017-05-09 17:07:02,2017-05-09 17:07:02,True,2017-05-09 17:07:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/697,https://github.com/kubernetes/ingress-nginx/pull/697,lead4good,Adding support for externalIP Services,"Since hostPort is broken on CNI (https://github.com/kubernetes/kubernetes/issues/31307) and I don't want to expose the nginx controller to my host network, I created a service with an external IP configuration. I tried to run it like the AWS LoadBalancer Example (https://github.com/kubernetes/ingress/tree/master/examples/aws/nginx), but it failed since the service's status didn't advertise any ingress IPs. I fixed that to check for external IPs in the service to and tracked down the usage of the services ingress IP (core/pkg/ingress/status/status.go) and added the external IPs there to.

My configuration now looks like this:
```
kind: Service
apiVersion: v1
metadata:
  name: nginx-default-backend
  namespace: kube-system
  labels:
    k8s-addon: ingress-nginx.addons.k8s.io
spec:
  ports:
  - port: 80
    targetPort: http
  selector:
    app: nginx-default-backend

---

kind: Deployment
apiVersion: extensions/v1beta1
metadata:
  name: nginx-default-backend
  namespace: kube-system
  labels:
    k8s-addon: ingress-nginx.addons.k8s.io
spec:
  replicas: 1
  template:
    metadata:
      labels:
        k8s-addon: ingress-nginx.addons.k8s.io
        app: nginx-default-backend
    spec:
      terminationGracePeriodSeconds: 60
      containers:
      - name: default-http-backend
        image: gcr.io/google_containers/defaultbackend:1.0
        livenessProbe:
          httpGet:
            path: /healthz
            port: 8080
            scheme: HTTP
          initialDelaySeconds: 30
          timeoutSeconds: 5
        resources:
          limits:
            cpu: 10m
            memory: 20Mi
          requests:
            cpu: 10m
            memory: 20Mi
        ports:
        - name: http
          containerPort: 8080
          protocol: TCP

---

kind: Service
apiVersion: v1
metadata:
  name: nginx-ingress-controller
  namespace: kube-system
spec:
  selector:
    k8s-app: nginx-ingress-controller
  ports:
    - name: http
      port: 80
      targetPort: 80
    - name: https
      port: 443
      targetPort: 443
  externalIPs:
    - yourIPComesHere

---

apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: nginx-ingress-controller
  labels:
    k8s-app: nginx-ingress-controller
  namespace: kube-system
spec:
  replicas: 1
  template:
    metadata:
      labels:
        k8s-app: nginx-ingress-controller
    spec:
      terminationGracePeriodSeconds: 60
      containers:
      - image: lead4good/nginx-ingress-controller
        name: nginx-ingress-controller
        imagePullPolicy: Always
        readinessProbe:
          httpGet:
            path: /healthz
            port: 10254
            scheme: HTTP
        livenessProbe:
          httpGet:
            path: /healthz
            port: 10254
            scheme: HTTP
          initialDelaySeconds: 10
          timeoutSeconds: 1
        ports:
        - containerPort: 80
        - containerPort: 443
        env:
          - name: POD_NAME
            valueFrom:
              fieldRef:
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                fieldPath: metadata.namespace
        args:
        - /nginx-ingress-controller
        - --default-backend-service=$(POD_NAMESPACE)/default-http-backend
        - --publish-service=$(POD_NAMESPACE)/nginx-ingress-controller
```

Once this pull request is accepted, I will add an usage example, too.",['aledbf'],1,2017-05-09 14:38:32,2017-08-25 16:09:46,2017-08-25 16:09:47,True,2017-08-25 16:09:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/702,https://github.com/kubernetes/ingress-nginx/pull/702,tobilarscheid,Document passing of ssl_client_cert to backend,this fixes #700 ,['aledbf'],2,2017-05-10 21:29:46,2017-05-11 13:50:05,2017-05-11 13:50:25,True,2017-05-11 13:50:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/703,https://github.com/kubernetes/ingress-nginx/pull/703,jcmoraisjr,HAProxy deployment doc improvements,"* Web app is an optional step used for testings
* Deploy HAProxy Ingress with a configmap",['aledbf'],2,2017-05-11 01:13:51,2017-05-11 13:51:36,2017-05-13 14:22:30,True,2017-05-11 13:51:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/704,https://github.com/kubernetes/ingress-nginx/pull/704,ckeyer,fix nginx reload flags '-c',"add nginx reload flags -c ,  
then , will allow yourself to compile the nginx version

go fmt this file
",['aledbf'],1,2017-05-11 05:06:57,2017-05-17 11:44:54,2017-05-21 18:49:47,True,2017-05-17 11:44:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/705,https://github.com/kubernetes/ingress-nginx/pull/705,mintzhao,add ipport annotations to support ip:port service expose to outside o,f kubernetes cluster as well as host,[],1,2017-05-11 12:37:44,2017-05-11 12:38:09,2017-05-11 12:38:09,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/707,https://github.com/kubernetes/ingress-nginx/pull/707,DanCech,use nginx vts module version 0.1.14,"This patch updates the version of https://github.com/vozlt/nginx-module-vts used by `nginx-slim` to 0.1.14 and updates `nginx-ingress-controller` to use `nginx-slim` 0.16.

```release-note
Update to VTS module version 0.1.14
```",['aledbf'],1,2017-05-11 15:56:09,2017-05-11 18:20:32,2017-05-11 18:20:44,True,2017-05-11 18:20:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/709,https://github.com/kubernetes/ingress-nginx/pull/709,phekmat,Add config for X-Forwarded-For trust,"Use the same config option for `set_real_ip_from` when not using proxy protocol. The default remains `0.0.0.0/0`, which is insecure if the ingress is publicly accessible (or its upstream doesn't strip the X-Forwarded-For header). This at least provides a workaround for #200",['aledbf'],1,2017-05-12 02:56:22,2017-05-17 11:45:50,2017-05-17 11:45:50,True,2017-05-17 11:45:50,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/712,https://github.com/kubernetes/ingress-nginx/pull/712,cheungpat,Set $proxy_upstream_name before location directive,"When nginx performs ssl redirect, $proxy_upstream_name used in log
is not initialized because it is set after nginx matched a location directive,
which is not the case when performing a ssl redirect.

refs #711",['aledbf'],1,2017-05-14 01:03:13,2017-05-14 12:32:04,2017-05-14 12:32:04,True,2017-05-14 12:32:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/715,https://github.com/kubernetes/ingress-nginx/pull/715,olvesh,Corrected annotation ex `signin-url` to `auth-url`,"Example was wrong, had to dig through code to find the correct annotation.

",['aledbf'],1,2017-05-14 19:01:04,2017-05-14 20:03:59,2017-05-14 20:03:59,True,2017-05-14 20:03:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/716,https://github.com/kubernetes/ingress-nginx/pull/716,jcmoraisjr,Add secure-verify-ca-secret annotation,Add `ingress.kubernetes.io/secure-verify-ca-secret` annotation and a new `types.Backend.SecureCACert` field without changing previous behaviour.,['aledbf'],1,2017-05-14 22:20:18,2017-05-17 11:41:14,2017-11-22 18:49:49,True,2017-05-17 11:41:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/717,https://github.com/kubernetes/ingress-nginx/pull/717,caiyixiang,delete unuseful variable,\core\pkg\ingress\errors:delete unuseful variable,['aledbf'],1,2017-05-15 02:25:39,2017-05-16 02:19:19,2017-05-16 02:19:19,True,2017-05-16 02:19:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/718,https://github.com/kubernetes/ingress-nginx/pull/718,zouyee,nodeController sync,,['aledbf'],1,2017-05-15 06:34:54,2017-05-15 13:07:10,2017-05-15 13:07:11,True,2017-05-15 13:07:10,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/719,https://github.com/kubernetes/ingress-nginx/pull/719,mtanski,POC: Setting upstream vhost for nginx.,"In the current k8 ingress there's no way to control ""Host"" header sent to upstream server; it's always the configured vhost.

It's desirable to support custom Host header when proxying for a number of cases. One such case is forwarding to an Service that points to an external host that expect a host paramater (like AWS S3 buckets). There's a number of others.

By default nginx set Host to the upstreams domain name (and not the one passed in) like K8 always forces. This provided an escape hatch to this behavior.

This is a proof of concept PR for review, feedback. I can incorporate all of that; I just need to make sure I'm going down the right path.",['aledbf'],1,2017-05-15 19:24:42,2017-09-10 19:47:59,2017-10-01 22:30:16,True,2017-09-10 19:47:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/721,https://github.com/kubernetes/ingress-nginx/pull/721,kylegato,Adding Content-Range to allowed CORS headers,Added Content-Range to the allowed CORS headers to allow chunked uploading of files.,[],1,2017-05-16 01:42:17,2017-05-16 02:14:46,2017-05-16 02:14:53,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/722,https://github.com/kubernetes/ingress-nginx/pull/722,aledbf,Remove go-reap and use tini as process reaper,Remove go-reap and use tini as process reaper,[],1,2017-05-16 20:07:21,2017-05-17 11:37:23,2017-05-18 21:55:49,True,2017-05-17 11:37:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/723,https://github.com/kubernetes/ingress-nginx/pull/723,zouyee,update readme about vts metrics,,['aledbf'],1,2017-05-17 03:05:46,2017-05-17 11:29:13,2017-05-17 11:29:13,True,2017-05-17 11:29:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/724,https://github.com/kubernetes/ingress-nginx/pull/724,davidstack,change the directory of default-backend.yaml,"there is no default-backend.yaml in examples directory,so we should change the doc. ",['aledbf'],1,2017-05-17 03:14:43,2017-05-17 11:36:49,2017-05-17 11:36:49,True,2017-05-17 11:36:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/725,https://github.com/kubernetes/ingress-nginx/pull/725,bai,Add keepalive_requests and client_body_buffer_size options,This PR adds two extra nginx config options: `keepalive_requests` and `client_body_buffer_size`.,['aledbf'],1,2017-05-17 06:26:30,2017-05-17 11:31:51,2017-05-17 11:36:39,True,2017-05-17 11:31:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/726,https://github.com/kubernetes/ingress-nginx/pull/726,aledbf,Release ubuntu-slim 0.10,"This fixes 4 issues in the image. Please check  https://quay.io/repository/aledbf/ubuntu-slim?tab=tags
",['nicksardo'],1,2017-05-17 14:16:05,2017-05-18 03:14:32,2017-05-18 21:55:26,True,2017-05-18 03:14:32,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/728,https://github.com/kubernetes/ingress-nginx/pull/728,aledbf,Update nginx image,,[],1,2017-05-17 18:55:06,2017-05-18 21:46:43,2017-05-18 21:51:44,True,2017-05-18 21:46:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/729,https://github.com/kubernetes/ingress-nginx/pull/729,aledbf,Release nginx-slim 0.17,,['nicksardo'],1,2017-05-17 18:57:16,2017-05-18 20:24:35,2017-05-18 21:55:43,True,2017-05-18 20:24:35,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/730,https://github.com/kubernetes/ingress-nginx/pull/730,n1koo,Add support for add_headers,"Add support for [add_headers](http://nginx.org/en/docs/http/ngx_http_headers_module.html#add_header) globally. Uses similar pattern as custom proxy headers in https://github.com/kubernetes/ingress/pull/246 . 

Could be taken further by adding support for annotations and adding this per location, but global is what our usecase needs right now ",['aledbf'],1,2017-05-18 11:06:51,2017-07-10 12:48:19,2017-07-10 12:48:19,True,2017-07-10 12:48:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/731,https://github.com/kubernetes/ingress-nginx/pull/731,szuecs,add zalando-incubator project kube-ingress-aws-controller to catalog,Add https://github.com/zalando-incubator/kube-ingress-aws-controller to the ingress catalog,['aledbf'],1,2017-05-18 13:09:01,2017-05-18 15:49:05,2017-05-18 15:49:05,True,2017-05-18 15:49:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/734,https://github.com/kubernetes/ingress-nginx/pull/734,aledbf,Specify nginx image arch,,[],1,2017-05-18 21:58:02,2017-05-18 22:00:46,2017-05-20 22:36:00,True,2017-05-18 22:00:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/735,https://github.com/kubernetes/ingress-nginx/pull/735,zouyee,explicitly pick a version,"According to the comment for [Core and Extensions](https://github.com/kubernetes/client-go/blob/master/kubernetes/clientset.go#L71-L73), it is deprecated, we should explicitly choose a versioned one. gentle ping @aledbf ",[],2,2017-05-19 01:41:03,2017-10-21 01:40:14,2017-10-21 01:40:14,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/738,https://github.com/kubernetes/ingress-nginx/pull/738,yuvipanda,Use DaemonSet for nginx kubeadm deployment example,"This is a much better default fit than a default deployment, since
you get to hit any node for it to work (rather than a deployment,
which could end up anywhere)",[],1,2017-05-19 17:44:34,2017-05-19 18:12:44,2017-05-19 22:59:02,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/740,https://github.com/kubernetes/ingress-nginx/pull/740,aledbf,Refactoring whitelist source IP verification,fixes #727,[],1,2017-05-20 23:32:45,2017-05-21 03:39:01,2017-05-25 00:18:54,True,2017-05-21 03:39:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/741,https://github.com/kubernetes/ingress-nginx/pull/741,aledbf,Update golang dependencies,,['nicksardo'],2,2017-05-21 00:13:13,2017-05-22 22:23:09,2017-05-25 00:19:07,True,2017-05-22 22:23:09,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/742,https://github.com/kubernetes/ingress-nginx/pull/742,literalice,adds a regexp location path option on configmap,"I would like to use regexp in Ingress path rules. like this:

```yaml
    http:
      paths:
      - path: ""/$""
        backend:
          serviceName: www
          servicePort: 80
      - path: ""/index.html""
        backend:
          serviceName: www
          servicePort: 80
      - path: ""/static_html""
        backend:
          serviceName: www
          servicePort: 80
      - path: ""/.+""
        backend:
          serviceName: api
          servicePort: 80
```

This PR achieves the case using regex path for nginx location directive.",[],1,2017-05-21 21:44:47,2018-03-11 23:10:33,2018-03-11 23:10:33,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/743,https://github.com/kubernetes/ingress-nginx/pull/743,mkumatag,Makefile target for cross building all the supported archs,,[],1,2017-05-22 12:15:05,2017-05-23 06:16:15,2017-06-20 09:45:44,True,2017-05-23 06:16:15,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/744,https://github.com/kubernetes/ingress-nginx/pull/744,aledbf,WIP: Refactor leader election to use a Configmap instead of Endpoints [do not merge],,[],1,2017-05-22 14:10:57,2017-05-24 04:36:30,2017-05-25 00:19:52,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/746,https://github.com/kubernetes/ingress-nginx/pull/746,huangjiasingle,add the rbac support,add the k8s's rbac support,[],1,2017-05-22 18:45:20,2017-05-23 05:21:14,2017-05-23 10:33:15,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/747,https://github.com/kubernetes/ingress-nginx/pull/747,nevetS,added rbac example discussed in kubernetes/ingress issue #266,"After struggling a bit myself with implementing an ingress controller, I ran into issue #266.  Following the advice in that thread, I was able to move forward with my own implementation.

The discussion mentions creating an example a couple of times, but no example exists and no pull request exists that I can see, so I put one together.

I'm happy to revise this as necessary to have it included in the project.  ",['aledbf'],1,2017-05-22 21:17:20,2017-05-23 17:31:31,2017-05-24 10:40:15,True,2017-05-23 17:31:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/748,https://github.com/kubernetes/ingress-nginx/pull/748,nicksardo,[GLBC] Automatically update description for backend service,Continuation of #681 ,[],1,2017-05-22 23:12:39,2017-05-23 00:20:25,2017-05-23 00:20:28,True,2017-05-23 00:20:25,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/749,https://github.com/kubernetes/ingress-nginx/pull/749,aledbf,Remove service annotation for namedPorts,,[],1,2017-05-23 02:57:12,2017-05-23 03:34:42,2017-05-25 00:20:23,True,2017-05-23 03:34:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/753,https://github.com/kubernetes/ingress-nginx/pull/753,jcmoraisjr,Move secretTracker updating to GetAuthCertificate(),"This proposal fixes the updating of `ic.secretTracker` if the secret name came from `ingress.kubernetes.io/secure-verify-ca-secret`. Another approach could be add another annotation reading on `extractSecretNames()`, but current and new annotations will always call `GetAuthCertificate()`.",['aledbf'],1,2017-05-23 17:29:39,2017-05-29 21:01:40,2017-05-29 21:22:21,True,2017-05-29 21:01:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/755,https://github.com/kubernetes/ingress-nginx/pull/755,aledbf,Fix server name hash maxSize default value,,[],1,2017-05-24 00:14:17,2017-05-24 01:10:46,2017-05-25 00:17:48,True,2017-05-24 01:10:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/756,https://github.com/kubernetes/ingress-nginx/pull/756,aledbf,Fix bad variable assignment in template nginx,fixes #752,[],1,2017-05-24 04:26:06,2017-05-24 04:53:22,2017-05-25 00:18:02,True,2017-05-24 04:53:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/757,https://github.com/kubernetes/ingress-nginx/pull/757,aledbf,Replace use of endpoints as locks with configmap,,[],1,2017-05-24 05:56:13,2017-05-24 12:04:14,2017-05-24 12:04:15,True,2017-05-24 12:04:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/760,https://github.com/kubernetes/ingress-nginx/pull/760,aledbf,Change recorder event scheme,fixes #758 ,[],1,2017-05-24 18:03:53,2017-05-24 18:35:14,2017-05-25 00:19:59,True,2017-05-24 18:35:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/762,https://github.com/kubernetes/ingress-nginx/pull/762,jcmoraisjr,Add ConfigureFlags() on controller interface,`ConfigureFlags()` allow to include more command line options on an Ingress controller.,['aledbf'],1,2017-05-25 00:13:03,2017-05-25 00:42:34,2017-05-25 00:45:28,True,2017-05-25 00:42:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/763,https://github.com/kubernetes/ingress-nginx/pull/763,aledbf,Release nginx ingress controller 0.9-beta.6,,['nicksardo'],1,2017-05-25 00:15:44,2017-05-25 01:02:30,2017-05-28 19:53:04,True,2017-05-25 01:02:30,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/764,https://github.com/kubernetes/ingress-nginx/pull/764,chentao1596,Correct the format of 'copyright',"Hi, two things have been included: 
    1, correct the format of 'copyright' for some files;
     2, add copyright for server.go
thank you!",['aledbf'],1,2017-05-25 07:36:30,2017-05-25 11:45:52,2017-06-05 10:45:03,True,2017-05-25 11:45:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/767,https://github.com/kubernetes/ingress-nginx/pull/767,julianvmodesto,"Add Voyager, a HAProxy Ingress Controller, to the catalog",,['aledbf'],1,2017-05-25 18:53:29,2017-05-25 22:36:48,2017-05-25 22:36:48,True,2017-05-25 22:36:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/769,https://github.com/kubernetes/ingress-nginx/pull/769,ohaiwalt,Typo fix ingres -> ingress,,['aledbf'],1,2017-05-26 03:13:48,2017-05-26 12:21:20,2017-05-26 12:21:20,True,2017-05-26 12:21:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/773,https://github.com/kubernetes/ingress-nginx/pull/773,aknuds1,Fix README WRT. building nginx-ingress-controller,The nginx ingress controller README has erroneous instructions for building the controller binary and for how to run it. This PR rectifies the issues I've found.,['aledbf'],1,2017-05-26 14:23:30,2017-05-27 12:06:34,2017-05-27 12:06:34,True,2017-05-27 12:06:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/774,https://github.com/kubernetes/ingress-nginx/pull/774,aledbf,Add IPv6 support in TCP and UDP stream section,fixes #761,[],1,2017-05-26 16:21:01,2017-05-28 17:11:05,2017-06-13 12:57:48,True,2017-05-28 17:11:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/776,https://github.com/kubernetes/ingress-nginx/pull/776,unixwitch,docs/annotations.md: add list of known annotations,"Per discussion in #770 and on Slack, create a list of known annotations across
various Ingress controller implementations.  This will (hopefully) increase
compatibility across implementations and reduce the need for users to change
all their annotations when changing Ingress controllers.",['aledbf'],2,2017-05-26 17:53:37,2017-05-28 18:54:57,2017-05-28 19:10:52,True,2017-05-28 18:54:57,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/777,https://github.com/kubernetes/ingress-nginx/pull/777,aledbf,Update sniff parser to fix index out of bound error,,[],1,2017-05-26 18:25:44,2017-05-26 18:59:33,2017-05-28 19:53:33,True,2017-05-26 18:59:33,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/778,https://github.com/kubernetes/ingress-nginx/pull/778,aledbf,Release nginx ingress controller 0.9-beta.7,,['nicksardo'],1,2017-05-26 19:10:35,2017-05-26 19:58:28,2017-05-28 19:53:46,True,2017-05-26 19:58:28,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/779,https://github.com/kubernetes/ingress-nginx/pull/779,nicksardo,Change recorder event scheme for GCE,Same as #760 but for GCE,[],1,2017-05-26 21:44:43,2017-05-26 22:39:07,2017-05-26 22:39:10,True,2017-05-26 22:39:07,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/780,https://github.com/kubernetes/ingress-nginx/pull/780,xeor,Correcting image version link,,['aledbf'],1,2017-05-27 19:05:15,2017-05-27 19:29:16,2017-05-27 19:29:16,True,2017-05-27 19:29:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/783,https://github.com/kubernetes/ingress-nginx/pull/783,unixwitch,nginx/README.md: clarify app-root and fix example hyperlink,"The description was not very clear, and the referenced rewrite example has moved.",['aledbf'],1,2017-05-28 19:41:45,2017-05-28 19:43:52,2017-05-28 20:07:03,True,2017-05-28 19:43:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/784,https://github.com/kubernetes/ingress-nginx/pull/784,aledbf,Allow customization of variables hash tables,fixes #765,[],1,2017-05-28 20:06:24,2017-05-28 21:25:06,2017-06-13 12:57:01,True,2017-05-28 21:25:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/785,https://github.com/kubernetes/ingress-nginx/pull/785,aledbf,Publish echoheader image,"

This PR updates the echoheaders image to 1.5 adding information about the POD (if the env section is configured) and improves the output

```console
$ kubectl exec echoheaders-cgrxv curl localhost:8080

Hostname: echoheaders-cgrxv

Pod Information:
	node name:	 minikube
	pod name:	 echoheaders-cgrxv
	pod namespace:	 default
	pod IP:  	 172.17.0.8

Server values:
	server_version=nginx: 1.13.0 - lua: 10008

Request Information:
	client_address=127.0.0.1
	method=GET
	real path=/
	query=
	request_version=1.1
	request_uri=http://localhost:8080/

Request Headers:
	accept=*/*
	host=localhost:8080
	user-agent=curl/7.47.0

Request Body:
	-no body in request-
```",['nicksardo'],1,2017-05-28 21:10:10,2017-05-30 18:01:44,2017-06-13 12:56:45,True,2017-05-30 18:01:44,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/786,https://github.com/kubernetes/ingress-nginx/pull/786,aledbf,Update echoserver image version in examples,,['nicksardo'],1,2017-05-28 21:24:29,2017-06-06 23:38:49,2017-06-13 12:57:36,True,2017-06-06 23:38:49,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/787,https://github.com/kubernetes/ingress-nginx/pull/787,aledbf,Add setting to allow returning the Server header from the backend,"fixes #782

```console
curl -v http://192.168.99.100 -k
* Rebuilt URL to: http://192.168.99.100/
*   Trying 192.168.99.100...
* TCP_NODELAY set
> GET / HTTP/1.1
> Host: 192.168.99.100
> User-Agent: curl/7.52.1
> Accept: */*
> 
< HTTP/1.1 200 OK
< Date: Sun, 28 May 2017 21:46:50 GMT
< Content-Type: text/plain
< Transfer-Encoding: chunked
< Connection: keep-alive
**< Server: echoserver** 
< Strict-Transport-Security: max-age=15724800; includeSubDomains;
< 


Hostname: echoheaders-vt1vr

Pod Information:
	node name:	 minikube
	pod name:	 echoheaders-vt1vr
	pod namespace:	 default
	pod IP:  	 172.17.0.8

Server values:
	server_version=nginx: 1.13.0 - lua: 10008

Request Information:
	client_address=172.17.0.4
	method=GET
	real path=/
	query=
	request_version=1.1
	request_uri=http://192.168.99.100:8080/

Request Headers:
	accept=*/*
	connection=close
	host=192.168.99.100
	user-agent=curl/7.52.1
	x-forwarded-for=192.168.99.1
	x-forwarded-host=192.168.99.100
	x-forwarded-port=443
	x-forwarded-proto=https
	x-original-uri=/
	x-real-ip=192.168.99.1192.168.99.1
	x-scheme=https

Request Body:
	-no body in request-

* Curl_http_done: called premature == 0
* Connection #0 to host 192.168.99.100 left intact
```",[],1,2017-05-28 21:48:52,2017-05-28 23:16:59,2017-06-13 12:57:21,True,2017-05-28 23:16:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/788,https://github.com/kubernetes/ingress-nginx/pull/788,aledbf,WIP: Add flags to allow listen in custom ports,"do not merge

fixes #620",[],1,2017-05-29 00:04:06,2017-06-25 20:01:47,2018-01-16 20:17:08,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/790,https://github.com/kubernetes/ingress-nginx/pull/790,arjanschaaf,#789 removing duplicate X-Real-IP header ,"Commit 4bd4bf3be65eb13166771d375991ccccc3fff664 added setting the X-Real-IP header, which was already added a few lines above. Removing the original `proxy_set_header X-Real-IP` because the newer one is better grouped with related `proxy_set_header` commands",['aledbf'],1,2017-05-29 09:47:59,2017-05-29 12:06:22,2017-05-29 12:06:22,True,2017-05-29 12:06:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/791,https://github.com/kubernetes/ingress-nginx/pull/791,mingyang91,typo,,['aledbf'],1,2017-05-29 14:33:06,2017-05-29 14:56:49,2017-05-29 14:56:49,True,2017-05-29 14:56:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/792,https://github.com/kubernetes/ingress-nginx/pull/792,aledbf,Avoid checking if the controllers are synced,Each time we process an item in the workque,[],1,2017-05-29 16:25:01,2017-05-30 00:38:31,2017-06-06 20:29:57,True,2017-05-30 00:38:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/801,https://github.com/kubernetes/ingress-nginx/pull/801,aledbf,WIP: Refactor nginx e2e to use minikube,,[],2,2017-05-31 13:07:12,2017-09-09 22:23:22,2017-09-09 22:23:23,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/804,https://github.com/kubernetes/ingress-nginx/pull/804,weitzj,Fix #798 - RBAC for leader election,"Fixes: https://github.com/kubernetes/ingress/issues/798

Using gcr.io/google_containers/nginx-ingress-controller:0.9.0-beta.7
the nginx-controller needs to handle leader-election via configmaps.

To perform the leader-election the nginx-controller needs to have the
appropiate RBAC permissions.

Previously to this fix, the following errors occured:

-  `cannot get configmaps in the namespace ""NAMESPACE_PLACEHOLDER"". (get configmaps ingress-controller-leader-nginx)`
- `initially creating leader election record: User ""system:serviceaccount:NAMESPACE_PLACEHOLDER"" cannot create configmaps in the namespace ""NAMESPACE_PLACEHOLDER"". (post configmaps)`

And another error message concerning `update` (I do not have the logs any more)

Related to:

- https://github.com/kubernetes/ingress/issues/266
- https://github.com/kubernetes/ingress/pull/747",['aledbf'],1,2017-06-01 12:01:48,2017-06-02 00:18:37,2017-06-02 03:57:01,True,2017-06-02 00:18:37,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/806,https://github.com/kubernetes/ingress-nginx/pull/806,puja108,fix ingress rbac roles,"There was 2 things that the current IC (0.9 beta7) needs. (Note that in the pasted api server logs my SA is called `nginx-ingress-controller` and the IC is running in `kube-system`) 

The ClusterRole was missing `get nodes`:

```
RBAC DENY: user ""system:serviceaccount:kube-system:nginx-ingress-controller"" groups [system:serviceaccounts system:serviceaccounts:kube-system system:authenticated] cannot ""get"" resource ""nodes"" named ""xxx"" cluster-wide
```

The Role was missing `update configmaps`:

```RBAC DENY: user ""system:serviceaccount:kube-system:nginx-ingress-controller"" groups [system:serviceaccounts system:serviceaccounts:kube-system system:authenticated] cannot ""update"" resource ""configmaps"" named ""ingress-controller-leader-nginx"" in namespace ""kube-system""```",[],1,2017-06-01 15:05:27,2017-06-02 16:02:14,2017-06-02 16:19:17,True,2017-06-02 16:02:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/807,https://github.com/kubernetes/ingress-nginx/pull/807,SleepyBrett,randomize-upstreams added to the configuration,when set to true causes the upstream lists to be randomized. This helps w/ sticky session distribution,['aledbf'],1,2017-06-01 16:50:03,2017-06-15 04:10:18,2017-06-15 04:10:18,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/809,https://github.com/kubernetes/ingress-nginx/pull/809,aledbf,Fix dynamic variable name,This change is required to avoid long nginx variables names and avoid issues with the vairable bucket size setting.,[],1,2017-06-02 03:30:49,2017-06-02 15:59:33,2017-06-06 20:29:44,True,2017-06-02 15:59:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/813,https://github.com/kubernetes/ingress-nginx/pull/813,olvesh,Added client_max_body_size to authPath location,"Seems like nginx denies the request because it would be over the max body size,
even if `proxy_pass_request_body` is `off`.

This fixes #811

Not sure if it is straight forward to build tests for this. Hope this is ok as it is. For me this fixed my issues at least. Built a docker image and swapped the official one for one with this fix and it works.
",['aledbf'],1,2017-06-02 20:49:41,2017-06-06 15:11:47,2017-06-06 15:20:24,True,2017-06-06 15:11:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/814,https://github.com/kubernetes/ingress-nginx/pull/814,arno01,rbac-nginx: resourceNames cannot filter create verb,"Without this PR applied, one will get:

> with the current master of today

```
E0603 08:57:35.530371       5 leaderelection.go:257] error initially creating leader election record: User ""system:serviceaccount:nginx-ingress:default"" cannot create configmaps in the namespace ""nginx-ingress"". (post configmaps)
```

As per https://kubernetes.io/docs/admin/authorization/rbac/
> Notably, resourceNames can NOT be used to limit requests using the create verb because authorizers only have access to information that can be obtained from the request URL, method, and headers (resource names in a create request are part of the request body).",['aledbf'],1,2017-06-03 09:27:03,2017-06-04 16:41:32,2017-06-04 16:42:56,True,2017-06-04 16:41:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/815,https://github.com/kubernetes/ingress-nginx/pull/815,jsulinski,Add service update to nginx-ingress-controller RBAC,I believe this was missed from https://github.com/kubernetes/ingress/issues/266. @ankon points it out here: https://github.com/kubernetes/ingress/issues/266#issuecomment-286497191. ,[],3,2017-06-04 23:11:32,2017-06-13 04:12:46,2017-06-13 04:12:46,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/817,https://github.com/kubernetes/ingress-nginx/pull/817,nicksardo,[GCLB] Fix mapsEqual out of bounds error,,[],1,2017-06-06 19:49:48,2017-06-06 19:50:47,2017-06-06 19:50:47,True,2017-06-06 19:50:47,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/818,https://github.com/kubernetes/ingress-nginx/pull/818,nicksardo,[GLBC] Fix backend status out of bounds error,,[],1,2017-06-06 20:03:38,2017-06-06 20:06:26,2017-06-06 20:27:03,True,2017-06-06 20:06:26,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/822,https://github.com/kubernetes/ingress-nginx/pull/822,aledbf,Release ubuntu-slim 0.11,,['nicksardo'],1,2017-06-07 14:42:02,2017-06-12 19:48:00,2017-06-12 22:08:03,True,2017-06-12 19:48:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/823,https://github.com/kubernetes/ingress-nginx/pull/823,aledbf,Release nginx-slim 0.18,,['nicksardo'],1,2017-06-07 15:09:16,2017-06-12 22:08:49,2017-06-13 12:53:43,True,2017-06-12 22:08:49,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/824,https://github.com/kubernetes/ingress-nginx/pull/824,aledbf,Update nginx-slim to 0.18,,[],1,2017-06-07 15:34:29,2017-06-12 22:39:16,2017-06-13 12:53:53,True,2017-06-12 22:39:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/825,https://github.com/kubernetes/ingress-nginx/pull/825,jcmoraisjr,Create or delete ingress based on class annotation,This PR fixes the removing or reincluding ingress resource when the ingress class annotation changes.,['aledbf'],1,2017-06-07 16:19:35,2017-06-07 21:43:35,2017-06-07 21:48:19,True,2017-06-07 21:43:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/827,https://github.com/kubernetes/ingress-nginx/pull/827,stp-ip,Introduce working example of nginx controller with rbac,,['aledbf'],1,2017-06-08 06:35:45,2017-06-09 18:36:42,2017-06-10 12:46:35,True,2017-06-09 18:36:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/829,https://github.com/kubernetes/ingress-nginx/pull/829,rlguarino,feat(template): wrap IPv6 addresses in [],"Add formatIP helper function which will wrap IPv6 addresses
in [] and print IPv4 addresses as is.

Closes #828",['aledbf'],1,2017-06-09 03:13:15,2017-06-09 17:21:31,2017-06-09 19:32:04,True,2017-06-09 17:21:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/832,https://github.com/kubernetes/ingress-nginx/pull/832,ghost,doc change to allow for generic ca.crt file secret,This clarifies to the user that they can use a cert chain or cert with any file name yet will still resolve as ca.crt once in the container.,[],1,2017-06-09 16:27:37,2017-10-07 21:32:31,2017-10-07 21:32:31,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/833,https://github.com/kubernetes/ingress-nginx/pull/833,aledbf,WIP: Avoid reloads implementing Equals in structs,,[],3,2017-06-09 18:35:48,2017-06-14 21:31:43,2017-06-19 20:05:34,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/834,https://github.com/kubernetes/ingress-nginx/pull/834,nicksardo,[GCLB] Add websocket example,,[],1,2017-06-09 19:31:57,2017-06-09 19:47:49,2017-06-09 20:05:24,True,2017-06-09 19:47:49,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/835,https://github.com/kubernetes/ingress-nginx/pull/835,coryfklein,Make log format json escaping configurable,"This will allow json logging in nginx ingress controllers which greatly
improves ease of log indexing and searching via elasticsearch.

After this change is made, users could set the following property in the
ingress configmap to enable json logging:

```
log-format-upstream: '{""proxy_protocol_addr"": ""$proxy_protocol_addr"", ""proxy_add_x_forwarded_for"": ""$proxy_add_x_forwarded_for"", ""remote_user"": ""$remote_user"", ""time_iso8601"": ""$time_iso8601"", ""request"": ""$request"", ""status"": ""$status"", ""body_bytes_sent"": ""$body_bytes_sent"", ""http_referer"": ""$http_referer"", ""http_user_agent"": ""$http_user_agent"", ""request_length"": ""$request_length"", ""request_time"": ""$request_time"", ""proxy_upstream_name"": ""$proxy_upstream_name"", ""upstream_addr"": ""$upstream_addr"", ""upstream_response_length"": ""$upstream_response_length"", ""upstream_response_time"": ""$upstream_response_time"", ""upstream_status"": ""$upstream_status""}'
```",[],1,2017-06-09 21:30:29,2017-06-09 21:31:11,2017-06-09 21:52:54,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/836,https://github.com/kubernetes/ingress-nginx/pull/836,coryfklein,Make log format json escaping configurable,"This will allow json logging in nginx ingress controllers which greatly
improves ease of log indexing and searching via elasticsearch.

After this change is made, users could set the following properties in the
ingress configmap to enable json logging:

```
log-format-escape-json: ""true""
log-format-upstream: '{""proxy_protocol_addr"": ""$proxy_protocol_addr"", ""proxy_add_x_forwarded_for"": ""$proxy_add_x_forwarded_for"", ""remote_user"": ""$remote_user"", ""time_iso8601"": ""$time_iso8601"", ""request"": ""$request"", ""status"": ""$status"", ""body_bytes_sent"": ""$body_bytes_sent"", ""http_referer"": ""$http_referer"", ""http_user_agent"": ""$http_user_agent"", ""request_length"": ""$request_length"", ""request_time"": ""$request_time"", ""proxy_upstream_name"": ""$proxy_upstream_name"", ""upstream_addr"": ""$upstream_addr"", ""upstream_response_length"": ""$upstream_response_length"", ""upstream_response_time"": ""$upstream_response_time"", ""upstream_status"": ""$upstream_status""}'
```",['aledbf'],1,2017-06-09 21:33:49,2017-06-11 18:12:01,2017-06-11 18:12:01,True,2017-06-11 18:12:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/837,https://github.com/kubernetes/ingress-nginx/pull/837,aledbf,Cleanup interface,Removing `Reload` to not assume the implementations are running a process,[],3,2017-06-11 20:01:21,2017-06-12 19:41:46,2017-08-04 01:25:49,True,2017-06-12 19:41:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/843,https://github.com/kubernetes/ingress-nginx/pull/843,aledbf,Avoid setting maximum number of open file descriptors lower than 1024,,[],1,2017-06-12 20:21:42,2017-06-12 20:42:36,2017-06-13 04:13:57,True,2017-06-12 20:42:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/845,https://github.com/kubernetes/ingress-nginx/pull/845,aledbf,Fix no endpoints issue when named ports are used,fixes #839,[],1,2017-06-13 00:27:53,2017-06-13 03:07:54,2017-06-13 04:13:50,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/846,https://github.com/kubernetes/ingress-nginx/pull/846,justinsb,Match ServicePort to Endpoints by Name,We can never match on the EndpointPort.Port; that is the container port.,['aledbf'],1,2017-06-13 03:04:53,2017-06-13 03:58:50,2017-06-13 03:58:50,True,2017-06-13 03:58:50,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/847,https://github.com/kubernetes/ingress-nginx/pull/847,gianrubio,fix semicolon,"Fix error:
```
[nginx-ingress-controller-3857993355-t195f] 2017/06/13 11:01:58 [emerg]
 66#66: the invalid ""proxy_pass"" parameter in /tmp/nginx-cfg577765274:756
```",['aledbf'],1,2017-06-13 11:07:50,2017-06-13 12:14:35,2017-06-13 12:14:35,True,2017-06-13 12:14:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/848,https://github.com/kubernetes/ingress-nginx/pull/848,gianrubio,"Add metric ""ssl certificate expiration""","* Instrument nginx to expose metric ""ssl certficate expiration time ""
* Add a console warning message 10 days before the certificate expire.

Alert example:
```
ALERT NginxSSLCertExpire
  IF ingress_controller_ssl_expire_time_seconds < (time() + (10 * 24 * 3600))
  LABELS {service=""nginx"", severity=""critical""}
  ANNOTATIONS {description=""SSL certificate for host {{ $labels.host }} 
will expire in 10 days. Please renew!"", summary=""SSL Certificate is about to expire!!""}
```
",['aledbf'],1,2017-06-13 11:42:39,2017-06-13 12:16:08,2017-07-12 13:09:42,True,2017-06-13 12:16:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/849,https://github.com/kubernetes/ingress-nginx/pull/849,aledbf,Fix IPV6 udp stream section,,[],1,2017-06-13 12:42:53,2017-06-13 12:44:26,2017-06-13 12:44:26,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/850,https://github.com/kubernetes/ingress-nginx/pull/850,aledbf,Fix IPv6 UDP stream section,,[],1,2017-06-13 12:46:27,2017-06-13 12:46:46,2017-06-13 12:53:10,True,2017-06-13 12:46:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/851,https://github.com/kubernetes/ingress-nginx/pull/851,databus23,ensure private key and certificate match,"Adding an ingress tls secret with a non matching certificate and private key break at least the nginx-controller permanently until the offending secret is deleted.

In that case nginx refuses to start/reload with an error like this:
```
Error: exit status 1
2017/06/13 12:16:53 [emerg] 51#51: SSL_CTX_use_PrivateKey_file(""/ingress-controller/ssl/tls-baremetal-3-example-com.pem"") failed (SSL: error:0B080074:x509 certificate routines:X509_check_private_key:key values mismatch)
nginx: [emerg] SSL_CTX_use_PrivateKey_file(""/ingress-controller/ssl/tls-baremetal-3-example-com.pem"") failed (SSL: error:0B080074:x509 certificate routines:X509_check_private_key:key values mismatch)
nginx: configuration file /tmp/nginx-cfg728491545 test failed
```",['aledbf'],1,2017-06-13 13:11:56,2017-06-13 14:00:24,2017-06-13 14:00:24,True,2017-06-13 14:00:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/852,https://github.com/kubernetes/ingress-nginx/pull/852,gianrubio,Don't expose certificate metrics for default server,"The default server has a self signed certificate so it's not important to monitor
Related to #848 
",['aledbf'],1,2017-06-13 14:01:37,2017-06-13 14:28:23,2017-06-13 14:28:24,True,2017-06-13 14:28:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/853,https://github.com/kubernetes/ingress-nginx/pull/853,yanc0,Set body-size instead of proxy-body-size,`proxy-body-size` is based on `body-size`. You have to set `body-size` because `proxy-body-size` does not make any changes on ingress behaviour.,[],1,2017-06-13 14:12:30,2017-06-13 14:16:17,2017-06-13 14:37:48,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/854,https://github.com/kubernetes/ingress-nginx/pull/854,gianrubio,Document log-format-stream and log-format-upstream,,['aledbf'],1,2017-06-13 14:22:40,2017-06-13 14:29:21,2017-06-13 14:43:35,True,2017-06-13 14:29:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/855,https://github.com/kubernetes/ingress-nginx/pull/855,aledbf,Lint code,,[],1,2017-06-13 14:33:50,2017-06-13 15:31:33,2017-06-14 21:17:34,True,2017-06-13 15:31:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/857,https://github.com/kubernetes/ingress-nginx/pull/857,ixdy,Rebase glbc on alpine:3.6,"The new alpine base image should have fixes for CVE-2016-9841 and CVE-2016-9843.
We should probably tag and build a new release (0.9.4?) too.

@nicksardo 

x-ref https://github.com/kubernetes/kubernetes/issues/47386",[],1,2017-06-13 18:48:57,2017-06-13 18:59:43,2017-06-13 19:15:48,True,2017-06-13 18:59:43,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/858,https://github.com/kubernetes/ingress-nginx/pull/858,nicksardo,[GLBC] Version bump GLBC to 0.9.4,,[],1,2017-06-13 22:06:40,2017-06-13 22:35:43,2017-06-13 22:35:47,True,2017-06-13 22:35:43,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/860,https://github.com/kubernetes/ingress-nginx/pull/860,aledbf,Release nginx ingress controller 0.9-beta.8,,['nicksardo'],1,2017-06-14 02:14:16,2017-06-14 05:00:46,2017-06-14 21:17:16,True,2017-06-14 05:00:46,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/862,https://github.com/kubernetes/ingress-nginx/pull/862,aledbf,Avoid reloads implementing Equaler interface,"This change introduce two fixes:
- reduces the reloads by half
- the backend servers (endpoints) are not sorted

The last change address the issue https://github.com/kubernetes/contrib/issues/1827
that was explained in a kubecon session https://www.youtube.com/watch?v=iShh33WaoHw

Basically if an ingress controller is scaled to more than 1 the previous behavior was to use the same order of the upstream servers in all the instances. With this PR we randomize the order.

fixes https://github.com/kubernetes/contrib/issues/1827",[],2,2017-06-14 21:34:21,2017-06-16 22:02:41,2017-06-24 14:52:40,True,2017-06-16 22:02:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/863,https://github.com/kubernetes/ingress-nginx/pull/863,nicksardo,[GCLB] Migrate existing health check settings,Fixes #842,['MrHohn'],2,2017-06-14 23:16:12,2017-06-15 01:22:53,2017-06-15 01:22:57,True,2017-06-15 01:22:53,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/864,https://github.com/kubernetes/ingress-nginx/pull/864,aledbf,Remove dead code,,[],2,2017-06-14 23:42:39,2017-06-15 00:22:49,2017-06-15 18:02:04,True,2017-06-15 00:22:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/865,https://github.com/kubernetes/ingress-nginx/pull/865,rmmh,Rewrite echoheaders to use openresty's templating.,"This automatically escapes things, and makes the code easier to read.

template.lua was slightly modifed to not escape /, so it is vendored.

@aledbf @bprashanth ","['aledbf', 'nicksardo']",1,2017-06-15 00:26:25,2017-06-16 22:33:08,2017-06-16 22:58:57,True,2017-06-16 22:33:08,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/866,https://github.com/kubernetes/ingress-nginx/pull/866,nicksardo,[GLBC] Bump GLBC version to 0.9.5,Will merge after #863,[],1,2017-06-15 01:08:14,2017-06-15 01:24:01,2017-06-15 01:29:47,True,2017-06-15 01:24:01,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/868,https://github.com/kubernetes/ingress-nginx/pull/868,aledbf,Lint nginx code,,[],1,2017-06-15 03:05:43,2017-06-15 04:16:06,2017-06-15 18:01:47,True,2017-06-15 04:16:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/870,https://github.com/kubernetes/ingress-nginx/pull/870,pmahoney-raise,Don't use $proxy_protocol var which may be undefined.,See https://github.com/kubernetes/ingress/issues/800#issuecomment-305203830,[],1,2017-06-15 21:40:46,2017-06-15 21:41:01,2017-06-15 22:01:03,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/871,https://github.com/kubernetes/ingress-nginx/pull/871,aledbf,Add feature to allow sticky sessions per location,"This PR enables sticky session per location inside a server
Also avoids reusing the same upstream block when sticky sessions is not configured

```
kubectl create -f https://raw.githubusercontent.com/kubernetes/ingress/master/examples/http-svc.yaml
```

```
echo ""
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  annotations:
    ingress.kubernetes.io/affinity: cookie
    ingress.kubernetes.io/session-cookie-hash: sha1
    ingress.kubernetes.io/session-cookie-name: route
  name: nginx-test
  namespace: default
spec:
  rules:
  - host: sticky-ingress.example.com
    http:
      paths:
      - backend:
          serviceName: http-svc
          servicePort: 80
        path: /

---

apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: nginx-test-ns
  namespace: default
spec:
  rules:
  - host: no-sticky-ingress.example.com
    http:
      paths:
      - backend:
          serviceName: http-svc
          servicePort: 80
        path: /

---

apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: nginx-test-ns-path
  namespace: default
spec:
  rules:
  - host: sticky-ingress.example.com
    http:
      paths:
      - backend:
          serviceName: http-svc
          servicePort: 80
        # Add a custom path that use the same service without sticky sessions
        path: /no-sticky-session
"" | kubectl create -f -
```

**Check sticky sessions is working:**
```
$ kubectl exec -n kube-system <ingress pod> -- curl -v localhost  -H'Host: sticky-ingress.example.com'
```

It must appear something like
```
< Set-Cookie: route=dc89ae303c62a8bfce8bf32f06d27c31f0980ef7; Path=/; HttpOnly
```

**Check a different host with no sticky sessions that uses the same service:**
```
$ kubectl exec -n kube-system <ingress pod> -- curl -v localhost  -H'Host: no-sticky-ingress.example.com'
```

**Now check a different path in the host with sticky sessions where the feature is not enabled:**
```
$ kubectl exec -n kube-system nginx-ingress-controller-3401347994-vjvhv  -it -- curl -v localhost/no-sticky-session  -H'Host: stickyingress.example.com'
```

fixes #844
fixes #771",[],1,2017-06-16 00:54:18,2017-06-23 17:22:13,2017-08-17 14:44:26,True,2017-06-23 17:22:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/873,https://github.com/kubernetes/ingress-nginx/pull/873,thecodeassassin,Update README.md,Small typo fix,['aledbf'],1,2017-06-16 14:42:19,2017-06-16 15:09:07,2017-06-16 15:09:07,True,2017-06-16 15:09:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/876,https://github.com/kubernetes/ingress-nginx/pull/876,aledbf,Add information about nginx controller flags,fixes #159,[],1,2017-06-16 20:12:50,2017-06-16 20:16:00,2017-06-19 20:04:13,True,2017-06-16 20:16:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/877,https://github.com/kubernetes/ingress-nginx/pull/877,jonpulsifer,WIP: nginx-slim and nginx-ingress-controller: dropping privileges from root,"## What's all this security stuff then?  

I can't identify a reason why nginx ingress controller pods should be running as root so I dropped privileges to support a strict [container level security context](https://kubernetes.io/docs/concepts/policy/security-context/#container-level-security-context).

In strictly secured kubernetes clusters this pod just ends up on a whitelist of those that run as root and I don't want to do this anymore. Neither should anyone else imo  

### some questions:

1. In order to support `readOnlyRootFilesystem` I've mounted a number of [`emptyDir`](https://kubernetes.io/docs/concepts/storage/volumes/#emptydir) volumes in the example replication contoller. I don't think this is the best place to keep the pid file but I'm unsure of another solution other than moving it into a non-standard directory like `/etc/nginx/nginx.pid` or something. Help?

1. This should be considered a **major** (read: breaking) change. Does a minor version increment support this change? I expect anyone flipping a minor version without reading the change log would incur downtime on their services while they deal with security controls.

1. Other nits addressed in review comments 
",[],6,2017-06-18 02:49:39,2017-07-07 14:11:02,2017-07-07 14:11:15,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/878,https://github.com/kubernetes/ingress-nginx/pull/878,aledbf,Update go to 1.8.3,,[],1,2017-06-18 03:15:15,2017-06-18 14:32:11,2017-06-19 20:04:46,True,2017-06-18 14:32:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/880,https://github.com/kubernetes/ingress-nginx/pull/880,ixdy,Release ubuntu-slim:0.12,"Main reason to do this is to pick up the fix for CVE-2017-1000366.

I can't seem to build the non-amd64 images, though, as noted in https://github.com/kubernetes/ingress/pull/743#issuecomment-30959171.","['aledbf', 'nicksardo']",1,2017-06-19 22:41:39,2017-06-20 23:49:44,2017-06-21 02:08:40,True,2017-06-20 23:49:44,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/882,https://github.com/kubernetes/ingress-nginx/pull/882,aledbf,Add flag to skip the update of Ingress status on shutdown,fixes #881,['justinsb'],1,2017-06-20 01:22:34,2017-06-20 14:22:14,2017-06-20 14:26:52,True,2017-06-20 14:22:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/885,https://github.com/kubernetes/ingress-nginx/pull/885,pmahoney-raise,Don't use $proxy_protocol var which may be undefined.,"I'm on AWS with an nginx-ingress-controller behind an ELB (created by a kubernetes Service of type LoadBalancer). I set the following annotations:

```
      annotations:
        service.beta.kubernetes.io/aws-load-balancer-backend-protocol: ""http""
        service.beta.kubernetes.io/aws-load-balancer-proxy-protocol: """"
```

which disable proxy protocol and enable http backend protocol, which cause the ELB to set X-Forwarded-For and X-Forwarded-Proto headers when communicating with the backend (nginx in this case).

And I have this annotation on the nginx-ingress-controller:

```
      use-proxy-protocol: ""false""
```

However, the X-Forwarded-For header is not being passed along by nginx to its upstream services. This is because when the X-Forwarded-Proto is set to ""https"", the nginx config on line 128 sets $pass_access_scheme to ""https"", which in turn results in $the_x_forwarded_for being set to $proxy_protocol_addr on line 140.

Because I'm not using proxy protocol, $proxy_protocol_addr is unset. However, when using either proxy protocol or X-Forwarded-For, $remote_addr is set correctly by the `real_ip_header` directives on lines 24 and 27.

This pull request solves my problem, though I can't say it doesn't break other configurations. My goal with this PR is to document the issue.

See https://github.com/kubernetes/ingress/issues/800#issuecomment-305203830",[],1,2017-06-20 15:58:08,2017-06-21 14:49:44,2017-06-21 14:49:44,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/886,https://github.com/kubernetes/ingress-nginx/pull/886,aledbf,Add support for SubjectAltName in SSL certificates,"Create a SSL certificate with subjectAltName
```console
$ openssl req \
    -newkey rsa:2048 \
    -x509 \
    -nodes \
    -keyout server.key \
    -new \
    -out server.crt \
    -subj /CN=dev.mycompany.com \
    -reqexts SAN \
    -extensions SAN \
    -config <(cat /etc/ssl/openssl.cnf \
        <(printf '[SAN]\nsubjectAltName=DNS:dev.mycompany.com')) \
    -sha256 \
    -days 3650
```

Create a secret with the generated certificate 

$ kubectl create secret tls mycompany --cert=server.cert --key=server.key

Create an ingress that reference the create SSL certificate

```console
$ echo ""
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: mycompany
  namespace: default
spec:
  tls:
    - secretName: mycompany
      hosts:
        - dev.mycompany.com
  rules:
  - host: dev.mycompany.com
    http:
      paths:
      - backend:
          serviceName: http-svc
          servicePort: 80
        path: /
"" | kubectl create -f -
```

**Test:**

```console
$ minikube ssh
$ curl https://localhost -v -H 'Host: dev.mycompany.com' -k
* TLSv1.2 (OUT), TLS header, Certificate Status (22):
* TLSv1.2 (OUT), TLS handshake, Client hello (1):
* TLSv1.2 (IN), TLS handshake, Server hello (2):
* TLSv1.2 (IN), TLS handshake, Certificate (11):
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
* TLSv1.2 (IN), TLS handshake, Server finished (14):
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
* TLSv1.2 (OUT), TLS change cipher, Client hello (1):
* TLSv1.2 (OUT), TLS handshake, Finished (20):
* TLSv1.2 (IN), TLS change cipher, Client hello (1):
* TLSv1.2 (IN), TLS handshake, Finished (20):
> GET / HTTP/1.1
> Host: dev.mycompany.com
> User-Agent: curl/7.50.1
> Accept: */*
> 
< HTTP/1.1 200 OK
< Server: nginx/1.13.1
< Date: Fri, 23 Jun 2017 00:47:53 GMT
< Content-Type: text/plain
< Transfer-Encoding: chunked
< Connection: keep-alive
< Set-Cookie: route=4c076d0ba212d6bf28bbdac6368e32a1a2fd32a6; Path=/; HttpOnly
< Strict-Transport-Security: max-age=15724800; includeSubDomains;
< 


Hostname: http-svc-82h3l

Pod Information:
	node name:	 minikube
	pod name:	 http-svc-82h3l
	pod namespace:	 default
	pod IP:  	 172.17.0.2

Server values:
	server_version=nginx: 1.13.0 - lua: 10008

Request Information:
	client_address=172.17.0.8
	method=GET
	real path=/
	query=
	request_version=1.1
	request_uri=http://dev.mycompany.com:8080/

Request Headers:
	accept=*/*
	connection=close
	host=dev.mycompany.com
	user-agent=curl/7.50.1
	x-forwarded-for=172.17.0.1
	x-forwarded-host=dev.mycompany.com
	x-forwarded-port=443
	x-forwarded-proto=https
	x-original-uri=/
	x-real-ip=172.17.0.1
	x-scheme=https

Request Body:
	-no body in request-

```



fixes #548",[],1,2017-06-20 23:47:59,2017-06-23 00:50:02,2017-06-23 02:49:38,True,2017-06-23 00:50:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/887,https://github.com/kubernetes/ingress-nginx/pull/887,aledbf,Release nginx-slim 0.19,,['nicksardo'],1,2017-06-20 23:57:44,2017-06-21 00:21:14,2017-06-21 04:26:44,True,2017-06-21 00:21:14,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/888,https://github.com/kubernetes/ingress-nginx/pull/888,aledbf,Update nginx-slim to 0.19,,[],1,2017-06-21 02:23:39,2017-06-21 02:23:52,2017-06-21 04:26:37,True,2017-06-21 02:23:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/889,https://github.com/kubernetes/ingress-nginx/pull/889,ananas-hebo,Add PHOST to backend,"the road of request : nginx-> nginx-ingress-> tomcat. If use https, the first nginx use 443 port . the next nginx-ingress and tomcat use 80
port.

so nginx-ingress use ""PHOST"" to show the real host for backends. Removes
https support from nginx-ingress.",[],1,2017-06-21 03:41:31,2017-06-21 04:43:17,2017-06-21 04:43:17,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/890,https://github.com/kubernetes/ingress-nginx/pull/890,aledbf,Improve variable configuration for source IP address,,[],1,2017-06-21 04:39:17,2017-06-21 14:40:31,2018-08-14 06:50:28,True,2017-06-21 14:40:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/892,https://github.com/kubernetes/ingress-nginx/pull/892,aledbf,Add upstream keepalive connections cache,fixes #838,[],1,2017-06-22 03:39:33,2017-06-22 13:11:28,2018-07-17 09:19:11,True,2017-06-22 13:11:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/897,https://github.com/kubernetes/ingress-nginx/pull/897,MrHohn,Update outdated ingress resource link,https://github.com/kubernetes/kubernetes/blob/master/docs/user-guide/ingress.md doesn't seem to work anymore. Update link to https://kubernetes.io/docs/concepts/services-networking/ingress/.,['aledbf'],1,2017-06-23 00:34:26,2017-06-23 00:37:42,2017-06-23 00:55:53,True,2017-06-23 00:37:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/899,https://github.com/kubernetes/ingress-nginx/pull/899,aledbf,Fix nginx error check,fixes #898,[],1,2017-06-23 13:56:09,2017-06-23 13:57:15,2017-06-23 17:24:33,True,2017-06-23 13:57:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/901,https://github.com/kubernetes/ingress-nginx/pull/901,elafarge,[doc] Update NGinX status port to 18080,"The docs still states to reach the /nginx_status page on port 8080.
However, it seems that this has been changed :)",['aledbf'],1,2017-06-25 08:42:23,2017-06-25 20:01:27,2017-06-25 21:56:35,True,2017-06-25 20:01:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/902,https://github.com/kubernetes/ingress-nginx/pull/902,aledbf,Always reload after a change in the configuration,fixes #900,[],1,2017-06-25 22:12:28,2017-06-25 22:42:25,2017-06-28 18:26:14,True,2017-06-25 22:42:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/903,https://github.com/kubernetes/ingress-nginx/pull/903,aledbf,WIP: Release nginx ingress controller 0.9-beta.9,Temporal image `quay.io/aledbf/nginx-ingress-controller:0.152` ,[],2,2017-06-25 23:02:14,2017-06-26 02:02:43,2017-06-26 02:21:46,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/904,https://github.com/kubernetes/ingress-nginx/pull/904,aledbf,Fix nginx sticky sessions,,[],1,2017-06-26 01:30:55,2017-06-26 01:55:35,2017-06-28 18:26:25,True,2017-06-26 01:55:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/905,https://github.com/kubernetes/ingress-nginx/pull/905,aledbf,WIP: Release nginx ingress controller 0.9-beta.9,"Temporal images: 
```console
quay.io/aledbf/nginx-ingress-controller-ppc64le:0.156                               
quay.io/aledbf/nginx-ingress-controller-arm:0.156
quay.io/aledbf/nginx-ingress-controller-amd64:0.156
quay.io/aledbf/nginx-ingress-controller:0.156
```",[],3,2017-06-26 02:02:35,2017-06-29 16:33:38,2017-06-30 02:19:26,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/906,https://github.com/kubernetes/ingress-nginx/pull/906,aledbf,Fix race condition with closed channels,,[],1,2017-06-26 16:20:15,2017-06-28 18:47:57,2017-06-29 00:08:09,True,2017-06-28 18:47:57,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/907,https://github.com/kubernetes/ingress-nginx/pull/907,glerchundi,nginx/proxy: allow specifying next upstream behaviour,"The motivation is that in our use case 504 http response is a valid user facing status code and nginx is retrying to all upstreams because it's inside the list of retryable errors (`proxy_next_upstream`):

https://github.com/kubernetes/ingress/blob/master/controllers/nginx/rootfs/etc/nginx/template/nginx.tmpl#L220

I didn't tested it yet because docker is retrying some image layers all the time but in case we can accelerate the acceptance-denying/review process here it is.

Should replace `RetryNonIdempotent` configuration.

WDYT?",['aledbf'],1,2017-06-26 20:36:40,2017-06-27 23:24:17,2017-06-28 04:44:35,True,2017-06-27 23:24:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/911,https://github.com/kubernetes/ingress-nginx/pull/911,aledbf,Improve X-Forwarded-Host support,fixes #910,[],1,2017-06-27 14:08:37,2017-06-27 16:43:59,2017-06-28 18:26:39,True,2017-06-27 16:43:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/912,https://github.com/kubernetes/ingress-nginx/pull/912,tyranron,Add mention about achieving zero-downtime rolling updates,"This PR adds mention achieving zero-downtime rolling updates to Nginx Ingress Controller docs.

Based on [investigation](https://github.com/kubernetes/ingress/issues/322#issuecomment-298016539) made in #322.",[],1,2017-06-27 16:20:20,2018-04-16 00:25:50,2018-09-09 17:21:28,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/915,https://github.com/kubernetes/ingress-nginx/pull/915,aledbf,Release nginx-slim 0.20,,['nicksardo'],1,2017-06-27 23:36:25,2017-06-28 23:26:26,2017-06-29 00:01:18,True,2017-06-28 23:26:26,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/916,https://github.com/kubernetes/ingress-nginx/pull/916,aledbf,Add arm and ppc64le support,fixes #872,[],1,2017-06-28 00:18:42,2017-06-29 15:53:14,2017-06-30 02:19:43,True,2017-06-29 15:53:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/917,https://github.com/kubernetes/ingress-nginx/pull/917,philipbjorge,WIP -- Feedback Requested: HSTS for SSL Terminated Environments,"We were hoping to turn on HSTS for our SSL terminated cluster.

What are your thoughts on keying off of `ingress.kubernetes.io/force-ssl-redirect` to support that? Or do you think we should have an alternate annotation like `ingress.kubernetes.io/force-hsts`?",[],1,2017-06-28 00:49:21,2017-09-15 06:33:05,2017-09-15 06:33:05,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/919,https://github.com/kubernetes/ingress-nginx/pull/919,ankon,Apply the 'ssl-redirect' annotation per-location,"This is needed to avoid ingress definitions with different settings for SSL
redirection conflicting with each other.

NB: This was discussed in the review of #427, but ultimately not addressed.

---
In my test setup I have regular ingress definitions with enabled SSL-redirect, and kube-lego is adding '/.well-known/acme-challenge/...' ingress definitions that at least for a while need to _not_ use ssl-redirection. In kube-lego's log files one can see the problem:
~~~~
time=""2017-06-27T10:29:01Z"" level=debug msg=""testing reachability of http://DOMAIN.TLD/.well-known/acme-challenge/_selftest"" context=acme domain=DOMAIN.TLD
time=""2017-06-27T10:29:01Z"" level=debug msg=""error while authorizing: reachability test failed: Get https://DOMAIN.TLD/.well-known/acme-challenge/_selftest: x509: certificate signed by unknown authority"" context=acme domain=DOMAIN.TLD
~~~~

Note that the reachability test wants to use 'http' (see https://github.com/jetstack/kube-lego/blob/master/pkg/acme/cert_request.go#L47 for the request, and https://github.com/jetstack/kube-lego/blob/master/pkg/provider/nginx/nginx.go#L119 for the ingress configuration using ssl-redirect=false), but then follows the redirect to 'https' -- which uses the ""Kubernetes Ingress Controller Fake Certificate"".",['aledbf'],1,2017-06-28 09:27:00,2017-06-28 17:43:44,2017-06-28 17:43:44,True,2017-06-28 17:43:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/921,https://github.com/kubernetes/ingress-nginx/pull/921,RemingtonReackhof,Make proxy-real-ip-cidr a comma separated list,"Allows config maps to accept proxy-real-ip-cidr as a comma separated list like whitelist-source-range, e.g.

`proxy-real-ip-cidr: ""1.1.1.1/8,2.2.2.2/24""`

This resolves #692",['aledbf'],1,2017-06-28 15:38:14,2017-07-06 16:19:05,2017-07-07 14:31:33,True,2017-07-06 16:19:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/922,https://github.com/kubernetes/ingress-nginx/pull/922,aledbf,Add example of TLS termination using a classic ELB,"fixes #643
fixes #918",[],1,2017-06-28 20:23:50,2017-06-28 21:37:31,2017-06-29 00:00:21,True,2017-06-28 21:37:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/925,https://github.com/kubernetes/ingress-nginx/pull/925,aledbf,Release nginx ingress controller 0.9-beta.9,"Replaces PR #905

Temporal images: 
```console
quay.io/aledbf/nginx-ingress-controller-ppc64le:0.156                               
quay.io/aledbf/nginx-ingress-controller-arm:0.156
quay.io/aledbf/nginx-ingress-controller-amd64:0.156
quay.io/aledbf/nginx-ingress-controller:0.156
```",['nicksardo'],1,2017-06-29 16:33:04,2017-06-30 00:26:59,2017-06-30 02:26:53,True,2017-06-30 00:26:59,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/926,https://github.com/kubernetes/ingress-nginx/pull/926,aledbf,Fix docker-push task to publish arm and ppc64le,,['nicksardo'],1,2017-06-30 02:26:34,2017-06-30 04:59:22,2017-06-30 13:53:23,True,2017-06-30 04:59:22,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/928,https://github.com/kubernetes/ingress-nginx/pull/928,aledbf,Fix nginx ingress controller release 0.9-beta.9,fixes #927,['nicksardo'],1,2017-06-30 14:17:34,2017-06-30 18:07:28,2017-06-30 20:26:10,True,2017-06-30 18:07:28,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/929,https://github.com/kubernetes/ingress-nginx/pull/929,aledbf,Add release task in Makefiles and avoid multiple builds,This PR add the `release` task so simplify the release process. Just run `make release`,[],1,2017-06-30 20:21:42,2017-06-30 20:22:03,2017-06-30 20:23:23,True,2017-06-30 20:22:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/930,https://github.com/kubernetes/ingress-nginx/pull/930,aledbf,Add support for proxy protocol in TCP services,"fixes #659 

Example:
```yaml
apiVersion: v1
data:
  ""9000"": default/http-svc:80:PROXY
kind: ConfigMap
metadata:
  name: ingress-controller-tcp
  namespace: kube-system
```

```console
     # TCP services
+    upstream tcp-default-http-svc-80 {
+        server                  172.17.0.3:8080;
+        server                  172.17.0.4:8080;
+    }
+
+    server {
+        listen                  9000 proxy_protocol;
+        listen                  [::]:9000 proxy_protocol;
+        proxy_pass              tcp-default-http-svc-80;
+    }
```",[],1,2017-07-02 20:46:47,2017-07-02 23:51:34,2017-07-06 20:15:21,True,2017-07-02 23:51:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/931,https://github.com/kubernetes/ingress-nginx/pull/931,aledbf,WIP: Detect port collision and allow custom configuration,fixes #56,[],1,2017-07-02 21:55:29,2017-08-24 13:51:47,2017-08-27 19:17:38,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/933,https://github.com/kubernetes/ingress-nginx/pull/933,aledbf,Lint code,,[],1,2017-07-04 02:11:10,2017-07-04 02:40:40,2017-07-06 20:16:04,True,2017-07-04 02:40:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/937,https://github.com/kubernetes/ingress-nginx/pull/937,aledbf,Fix lint code errors,,[],1,2017-07-06 20:18:34,2017-07-06 20:42:25,2017-07-06 20:42:25,True,2017-07-06 20:42:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/939,https://github.com/kubernetes/ingress-nginx/pull/939,aledbf,WIP: Move certificate authentication from location to server,"Replaces #603

@gianrubio I tried to rebase from your PR without success.
",[],1,2017-07-06 21:53:50,2017-08-22 20:27:24,2017-09-27 01:12:23,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/940,https://github.com/kubernetes/ingress-nginx/pull/940,suquant,Sets parameters for a shared memory zone of limit_conn_zone,Sets parameters for a shared memory zone that will keep states for various keys of [limit_conn_zone](http://nginx.org/en/docs/http/ngx_http_limit_conn_module.html#limit_conn_zone),['aledbf'],1,2017-07-06 23:17:06,2017-07-09 14:52:44,2017-07-09 14:52:44,True,2017-07-09 14:52:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/946,https://github.com/kubernetes/ingress-nginx/pull/946,nicksardo,"GLBC: Remove event message saying ""Quota""",Fixes #944,[],1,2017-07-11 01:22:36,2017-07-11 01:23:04,2017-07-11 01:23:04,True,2017-07-11 01:23:04,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/949,https://github.com/kubernetes/ingress-nginx/pull/949,RemingtonReackhof,fix nginx version to 1.13.3 to fix integer overflow,"Due to http://nginx.org/en/security_advisories.html

This increases the version of nginx to 1.13.3",['aledbf'],1,2017-07-11 16:13:42,2017-07-12 19:50:51,2017-07-13 14:26:41,True,2017-07-12 19:50:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/953,https://github.com/kubernetes/ingress-nginx/pull/953,shenyu1997,add rbac rule to fix system:serviceaccount:kube-system:default can no,add rbac rule.,[],1,2017-07-12 10:20:23,2017-09-17 13:25:42,2017-09-17 13:25:42,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/956,https://github.com/kubernetes/ingress-nginx/pull/956,aledbf,Simplify handling of ssl certificates,,[],1,2017-07-12 17:32:02,2017-07-13 12:54:05,2017-07-18 23:54:22,True,2017-07-13 12:54:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/957,https://github.com/kubernetes/ingress-nginx/pull/957,nicksardo,[GLBC] Minor cleanup for logging & future changes,"Changes
* Copies over description from legacy health check
* Log loadbalancer name instead of memory address
* Remove superfluous log messages about non-K8s backend services. ",['nikhiljindal'],1,2017-07-12 19:57:58,2017-07-18 01:06:58,2017-07-18 01:06:58,True,2017-07-18 01:06:58,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/958,https://github.com/kubernetes/ingress-nginx/pull/958,aledbf,Release ubuntu-slim:0.13,,['nicksardo'],1,2017-07-13 00:13:10,2017-07-14 18:52:34,2017-07-15 18:03:52,True,2017-07-14 18:52:34,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/959,https://github.com/kubernetes/ingress-nginx/pull/959,aledbf,Release nginx-slim 0.21,"This releases is required to address CVE-2017-7529 - http://nginx.org/en/security_advisories.html

Requires #958 ",['nicksardo'],1,2017-07-13 00:14:08,2017-07-14 20:03:38,2017-07-15 18:03:44,True,2017-07-14 20:03:38,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/960,https://github.com/kubernetes/ingress-nginx/pull/960,aledbf,Update nginx in ingress controller,Requires #959 ,['aledbf'],1,2017-07-13 00:16:06,2017-07-14 22:16:10,2017-07-15 18:03:35,True,2017-07-14 22:16:10,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/961,https://github.com/kubernetes/ingress-nginx/pull/961,jcmoraisjr,Add sort-backends command line option,This option allows to create a predictable config file in order to compare before/after when developing and debugging. If not specified will use the current approach.,['aledbf'],1,2017-07-13 00:42:13,2017-07-16 14:04:24,2017-07-16 14:05:20,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/962,https://github.com/kubernetes/ingress-nginx/pull/962,ensonic,Update the docs.,"Remove sentence impying that HTTP is not supported. Add missing markdown to ensure
code-blocks are highlighted.",['nicksardo'],1,2017-07-13 07:30:33,2017-07-18 22:10:14,2017-07-18 22:10:15,True,2017-07-18 22:10:14,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/964,https://github.com/kubernetes/ingress-nginx/pull/964,bashofmann,Support for proxy_headers_hash_bucket_size and proxy_headers_hash_max_size,"This makes proxy_headers_hash_bucket_size and proxy_headers_hash_max_size configurable in the nginx controller.

See https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_headers_hash_bucket_size and https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_headers_hash_max_size",['aledbf'],1,2017-07-13 11:46:38,2017-07-13 12:41:44,2017-07-13 12:41:44,True,2017-07-13 12:41:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/966,https://github.com/kubernetes/ingress-nginx/pull/966,claytono,Fix error checking for pod name & NS,"Previously it would just check if POD_NAME *or* POD_NAMESPACE was set, which
could lead to very bizarre failure modes.",['aledbf'],1,2017-07-14 13:29:54,2017-07-14 14:53:47,2017-07-14 14:53:47,True,2017-07-14 14:53:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/967,https://github.com/kubernetes/ingress-nginx/pull/967,claytono,Fix runningAddresses typo,,['aledbf'],1,2017-07-14 13:33:01,2017-07-14 15:01:30,2017-07-14 15:01:30,True,2017-07-14 15:01:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/968,https://github.com/kubernetes/ingress-nginx/pull/968,claytono,Fix missing hyphen in yaml for nginx RBAC example,,['aledbf'],1,2017-07-14 14:55:02,2017-07-14 14:57:46,2017-07-14 14:57:46,True,2017-07-14 14:57:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/970,https://github.com/kubernetes/ingress-nginx/pull/970,rowleyaj,Modify how locations are built,"Opening this PR for discussion rather than a merge right away - it was just easier to write code to illustrate the points I need to discuss. There are a few issues that this relates to which I've tried to include inline.

This is an attempt to resolve #619 and bring the nginx ingress controller more inline with the HTTPIngressPath type as defined in https://github.com/kubernetes/kubernetes/blob/master/pkg/apis/extensions/types.go#L704

> Path is an extended POSIX regex as defined by IEEE Std 1003.1, (i.e this follows the egrep/unix syntax, not the perl syntax) matched against the path of an incoming request. Currently it can contain characters disallowed from the conventional ""path"" part of a URL as defined by RFC 3986. Paths must begin with a '/'. If unspecified, the path defaults to a catch all sending traffic to the backend.

#646 raises a valid objection to this method of fixing the controller
>Also, if #619 would be fixed by unconditionally enabling regular expressions, even the currently working cases (without rewrite) will break.

Having looked at https://github.com/kubernetes/ingress/pull/565#issuecomment-293486981 I believe that the use case where rewrite-target is not used (the use case raised as a potential issue in #646), is being treated as an edge case. It is an edge case I'm hitting though - our apps are aware of their routes, which is why I'm looking to fix the controller so we can use regex routes without enabling the rewrite. 

I'm aware that although enabling this would bring the ingress controller closer to the documented spec, it will also be an unexpected change for existing users of the controller. I'm not sure how this should be handled, but perhaps this change could be wrapped in some kind of annotation to preserve the current behaviour for a limited time, and then the default swapped and the annotation deprecated.

This will also increase the range of location blocks affected by the ordering issues in #495. I'm not sure of a solution there but understand the problem raised.

Politely pinging @ankon @ohmystack @aledbf @himikof and @jurgenweber as interested parties from other PRs/issues related to this. I'd appreciate your feedback so that I can try and craft a solution that can be merged upstream rather than just suiting my own needs.

--

The HTTPIngressPath defines the path as an extended POSIX regex.
https://github.com/kubernetes/kubernetes/blob/master/pkg/apis/extensions/types.go#L704

This treats any path passed from the ingress as a regex based location block.
The only exception to this is the / path, which is set as a prefix location
block, this should work as a catchall without affecting other locations defined
using regex location blocks.

It should be noted that there may be some incompatibilities between the spec
and the regex implementation within nginx.",[],1,2017-07-14 20:38:25,2017-10-13 10:18:02,2017-11-22 12:08:44,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/971,https://github.com/kubernetes/ingress-nginx/pull/971,aledbf,WIP Release nginx 0.9.0-beta.11,Temporal image: `quay.io/aledbf/nginx-ingress-controller:0.164`,[],1,2017-07-14 22:28:45,2017-07-15 18:02:54,2017-07-15 18:02:54,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/973,https://github.com/kubernetes/ingress-nginx/pull/973,stibi,check number of servers in configuration comparator,"Resolves #945 

Fix for the problem when Nginx is not synced & reloaded when you update an ingress with more than one host rule. The condition to check if the old and new configuration is unchanged returned `true` always, as the check for `len(servers)` was not there.",['aledbf'],1,2017-07-15 17:31:04,2017-07-15 17:43:59,2017-07-15 17:47:00,True,2017-07-15 17:43:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/974,https://github.com/kubernetes/ingress-nginx/pull/974,aledbf,Release nginx 0.9.0-beta.11,"Temporal image: `quay.io/aledbf/nginx-ingress-controller:0.165`
",['nicksardo'],1,2017-07-15 17:56:59,2017-07-15 23:31:47,2017-07-16 18:25:48,True,2017-07-15 23:31:47,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/976,https://github.com/kubernetes/ingress-nginx/pull/976,jcmoraisjr,Update annotations doc,Update annotations doc with HAProxy related features,['aledbf'],1,2017-07-16 12:29:28,2017-07-16 13:56:00,2017-07-16 13:57:30,True,2017-07-16 13:56:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/977,https://github.com/kubernetes/ingress-nginx/pull/977,jcmoraisjr,Add sort-backends command line option,This option allows to create a predictable config file in order to compare before/after when developing and debugging. If not specified will use the current approach. Copy from #961 whose Travis CI failure was unreproducible on my local copy.,['aledbf'],1,2017-07-16 14:03:58,2017-07-16 14:27:35,2017-07-16 14:28:22,True,2017-07-16 14:27:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/978,https://github.com/kubernetes/ingress-nginx/pull/978,aledbf,WIP: Update go dependencies,Required to use leaderelectrion from client-go,[],5,2017-07-16 19:32:08,2017-07-27 00:45:39,2017-07-27 02:44:41,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/980,https://github.com/kubernetes/ingress-nginx/pull/980,aledbf,Add nginx basic auth example,fixes #979,[],1,2017-07-16 20:22:29,2017-07-16 20:23:02,2017-07-27 02:44:30,True,2017-07-16 20:23:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/981,https://github.com/kubernetes/ingress-nginx/pull/981,chrismoos,Add annotation to allow use of service ClusterIP for NGINX upstream.,"This change adds a new annotation `ingress.kubernetes.io/service-upstream` that when set to true, uses a service's Cluster IP and port as the single upstream server, rather than the full list of service endpoints. This may address #257. 

There are now no NGINX configuration reloads necessary when a service's pods come and go. 

This helps with things like zero-downtime deployments and other issues arising from NGINX configuration reloads for upstream server changes.",['aledbf'],1,2017-07-16 20:25:40,2017-07-19 16:20:30,2019-03-08 15:54:11,True,2017-07-19 16:20:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/985,https://github.com/kubernetes/ingress-nginx/pull/985,aledbf,WIP: Add function to allow custom values in Ingress status,ping @bigkraig ,[],1,2017-07-17 17:27:58,2017-07-28 23:05:37,2017-07-30 16:24:48,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/987,https://github.com/kubernetes/ingress-nginx/pull/987,jonpulsifer,echoheaders: nginx-slim:0.21 and release echoserver:1.7,"echoserver fell a few versions behind

Bumping to pick up the the new nginx-slim and releasing `echoserver:1.7`",['nicksardo'],2,2017-07-17 18:57:34,2017-07-18 19:20:31,2017-07-18 19:56:56,True,2017-07-18 19:20:31,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/991,https://github.com/kubernetes/ingress-nginx/pull/991,aledbf,Remove secret sync loop,,[],1,2017-07-18 18:21:58,2017-07-19 16:19:36,2017-07-27 21:53:52,True,2017-07-19 16:19:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/992,https://github.com/kubernetes/ingress-nginx/pull/992,aledbf,Check errors generating pem files,,[],1,2017-07-18 20:27:03,2017-07-18 20:53:20,2017-07-27 02:44:18,True,2017-07-18 20:53:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/993,https://github.com/kubernetes/ingress-nginx/pull/993,johnbelamaric,Fix the sed command to work on macOS,"The `sed -i` doesn't work on macOS, it requires a zero-length extension. So use `sed -i ''` on macOS.",['aledbf'],1,2017-07-18 20:42:08,2017-07-18 21:22:26,2017-07-18 21:22:26,True,2017-07-18 21:22:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/994,https://github.com/kubernetes/ingress-nginx/pull/994,freehan,Revendor godep,"Revendor Godep and fix gce controller

This includes a lot of changes. Need careful review.

@nicksardo @nikhiljindal @bowei @madhusudancs ","['nicksardo', 'bowei']",6,2017-07-19 00:00:24,2017-07-27 00:32:18,2017-07-27 00:32:18,True,2017-07-27 00:32:18,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/996,https://github.com/kubernetes/ingress-nginx/pull/996,jerryjxj,Enable adding secret to trigger backend reloaded.,#995 ,[],1,2017-07-19 14:42:45,2017-07-19 15:28:27,2017-07-19 15:50:58,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/997,https://github.com/kubernetes/ingress-nginx/pull/997,jerryjxj,Enable adding secret to trigger backend reloaded.,#995 ,[],1,2017-07-19 15:28:58,2017-07-19 15:41:26,2017-07-19 15:50:27,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/998,https://github.com/kubernetes/ingress-nginx/pull/998,jerryjxj,Enable adding secret to trigger backend reloaded.,#995 ,[],1,2017-07-19 15:42:05,2017-07-20 05:32:00,2017-07-20 05:32:00,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1001,https://github.com/kubernetes/ingress-nginx/pull/1001,chancez,examples/nginx/rbac: Give access to own namespace,"Even with `--force-namespace-isolation`, nginx-ingress-controller still queries for it's own namespace, so give it access to querying namespaces within it's namespace in the nginx-ingress-role.",['aledbf'],1,2017-07-20 23:10:54,2017-07-21 02:36:20,2018-05-23 15:27:50,True,2017-07-21 02:36:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1002,https://github.com/kubernetes/ingress-nginx/pull/1002,farcaller,Fixed the ambiguous error message,,['aledbf'],2,2017-07-21 16:45:32,2017-08-05 19:36:48,2017-08-05 19:36:59,True,2017-08-05 19:36:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1005,https://github.com/kubernetes/ingress-nginx/pull/1005,egeland,Update configuration.md,Remove duplicate line,['aledbf'],1,2017-07-24 07:01:46,2017-07-24 11:32:09,2017-07-25 00:59:47,True,2017-07-24 11:32:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1006,https://github.com/kubernetes/ingress-nginx/pull/1006,chentao1596,Change the version of echoserver for creating app,"  I think the yaml file should be changed because of the change of echoserver's version, thank you!",['aledbf'],1,2017-07-24 07:50:26,2017-07-24 11:30:51,2017-07-24 11:30:51,True,2017-07-24 11:30:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1007,https://github.com/kubernetes/ingress-nginx/pull/1007,mkumatag,Multi arch echoserver image,,"['nicksardo', 'mkumatag']",1,2017-07-24 09:15:50,2017-07-27 18:44:22,2017-08-16 12:37:47,True,2017-07-27 18:44:22,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1013,https://github.com/kubernetes/ingress-nginx/pull/1013,caiyixiang,The fields of vtsDate are unified in the form of plural,"Since some of the fields in the vstDate are in the plural format, but some are singular, I think it's better to unify them into the plural",['aledbf'],1,2017-07-25 06:43:40,2017-07-27 02:39:09,2017-07-27 02:39:09,True,2017-07-27 02:39:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1018,https://github.com/kubernetes/ingress-nginx/pull/1018,sethpollack,add docs for `proxy-set-headers` and `add-headers`,,['aledbf'],1,2017-07-26 12:32:58,2017-07-26 12:34:58,2017-07-26 12:54:30,True,2017-07-26 12:34:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1020,https://github.com/kubernetes/ingress-nginx/pull/1020,hardymansen,first version of external nginx controller,"Hello, 

Not sure if you want this one since it is kinda a different beast. I created a separate backend, called it ext_nginx and stripped out the things that are specific for running the nginx controller in a pod. 
See #1015 for information on my user case. 
Running the controller to only control nginx.conf as a system service, instead of using serviceType: LoadBalancer.",[],2,2017-07-26 17:18:01,2017-07-27 03:16:58,2017-07-27 03:16:58,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1023,https://github.com/kubernetes/ingress-nginx/pull/1023,nicksardo,GCE: Fix retry of cloudprovider client generation,"Original code read an io.Reader from within a loop. If the first iteration errored (possibly due to an intermittent network issue), the second iteration would read an empty reader. Therefore, no config values would be passed in after the first iteration.","['bowei', 'nikhiljindal']",1,2017-07-27 01:05:48,2017-07-28 22:29:02,2017-07-28 22:29:02,True,2017-07-28 22:29:02,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1024,https://github.com/kubernetes/ingress-nginx/pull/1024,aledbf,GCE: Revert node handlers removal,fixes #1012 ,"['nicksardo', 'nikhiljindal']",1,2017-07-27 01:47:26,2017-07-27 18:37:30,2017-07-27 21:53:28,True,2017-07-27 18:37:30,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1025,https://github.com/kubernetes/ingress-nginx/pull/1025,aledbf,Fix file watch,fixes #1021,['nikhiljindal'],1,2017-07-27 02:30:40,2017-07-27 14:37:57,2017-07-27 21:53:15,True,2017-07-27 14:37:56,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1027,https://github.com/kubernetes/ingress-nginx/pull/1027,aledbf,Lint code,,[],1,2017-07-27 03:08:29,2017-07-27 14:39:42,2017-07-27 21:53:42,True,2017-07-27 14:39:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1028,https://github.com/kubernetes/ingress-nginx/pull/1028,hardymansen,External Nginx Ingress Controller,A nginx ingress controller for use outside a kubernetes cluster.,[],1,2017-07-27 07:17:16,2017-09-30 21:04:47,2017-09-30 21:04:47,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1030,https://github.com/kubernetes/ingress-nginx/pull/1030,jcmoraisjr,[WIP] Change syncSecret approach,"`backend_ssl/secrReferenced` is being used to check if a secret is used by `auth-tls-secret` annotation and `spec.TLS attribute`. This list goes beyond these two attributes, eg: `auth-secret`, `secure-verify-ca-secret` and some configmap options should also be checked. This list should grow. This was implemented on #991 .

IOW the current (without this PR) behavior is try to guess when a secret should be added, which is not working if the secret is used eg on `auth-secret` annotation.

The PR implementation is half of the way to create a facade to find secrets. I added the only missing `ic.syncSecret()` I found on my tests. This might be evolved to a single func that do this job (try/sync/try again). This PR works on my local env.

Another approach is add every single secret without trying to guess if it is used or not.

What about these strategies?",[],2,2017-07-27 16:53:43,2017-07-28 10:53:46,2017-07-28 10:53:46,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1031,https://github.com/kubernetes/ingress-nginx/pull/1031,jcmoraisjr,Change missing secret name log level to V(3),This is a proposal of changing a log entry from warning to V(3).Info. The motivation of this change is that a missing secret name on Spec.TLS is a valid configuration.,['aledbf'],1,2017-07-27 17:02:00,2017-07-27 17:22:40,2017-07-28 10:53:37,True,2017-07-27 17:22:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1032,https://github.com/kubernetes/ingress-nginx/pull/1032,aledbf,Alternative syncSecret approach #1030,,[],1,2017-07-27 17:47:18,2017-07-28 12:22:20,2017-08-03 23:03:20,True,2017-07-28 12:22:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1033,https://github.com/kubernetes/ingress-nginx/pull/1033,nikhiljindal,Adding logic to GCE ingress controller to handle multi cluster ingresses,"Ingress controller should manage instance groups and ports for multi cluster ingresses.

Things to do:
- [x] Add tests
- [x] Verify manually that this works
- [x] Ensure that resources are GC'd as expected.

Sending it out now to get early feedback.

Update:
Verified that the code works as expected with the following scenarios:

Creating an ingress with gce-multi class, creates expected instance group and deleting the ingress, deletes the ig.
If there is an existing ingress, then creating gce-multi ingress, reuses the existing instance group rather than creating a new one.
There is an existing issue that deleting the ingress does not delete the corresponding named ports which is being tracked in #695.

Will add e2e tests in main repo to automate these tests.

cc @nicksardo ",['nicksardo'],3,2017-07-27 19:58:16,2017-09-14 00:34:29,2017-09-14 00:34:29,True,2017-09-14 00:34:29,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1035,https://github.com/kubernetes/ingress-nginx/pull/1035,antoineco,Update dependency github.com/paultag/sniff,"The revision in Godeps.json doesn't exist (anymore?), so `godep restore` fails, which happened to me while importing this project as a dependency.",['aledbf'],1,2017-07-27 22:16:05,2017-08-04 00:45:47,2017-08-31 11:43:57,True,2017-08-04 00:45:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1037,https://github.com/kubernetes/ingress-nginx/pull/1037,ghost,spelling,,[],1,2017-07-28 02:26:02,2017-07-28 02:30:40,2017-07-28 02:47:02,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1038,https://github.com/kubernetes/ingress-nginx/pull/1038,ghost,typo / spelling in README.md,,['aledbf'],1,2017-07-28 02:32:26,2017-07-28 02:36:49,2017-07-28 02:54:42,True,2017-07-28 02:36:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1039,https://github.com/kubernetes/ingress-nginx/pull/1039,ghost,typo in examples/tcp/nginx/README.md,,['aledbf'],1,2017-07-28 02:34:34,2017-07-28 02:37:20,2017-07-28 02:57:19,True,2017-07-28 02:37:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1040,https://github.com/kubernetes/ingress-nginx/pull/1040,nicksardo,GCE: Update cloud calls for API changes,"**Do not merge**

These changes are in response to https://github.com/kubernetes/kubernetes/pull/48989. When the ingress repo's vendored version of kubernetes core is updated again, the changes in this PR can be used.",[],1,2017-07-28 05:05:58,2017-07-31 21:08:07,2017-07-31 21:08:07,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1042,https://github.com/kubernetes/ingress-nginx/pull/1042,aledbf,Add function to allow custom values in Ingress status,Replaces #985,[],2,2017-07-28 23:05:29,2017-07-29 00:47:25,2017-07-31 19:27:56,True,2017-07-29 00:47:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1043,https://github.com/kubernetes/ingress-nginx/pull/1043,antoineco,Return reference to object providing Endpoint,"#### Summary

This adds a new field `Target` to the `ingress.Endpoint` type, which references the object providing that Endpoint.

#### Use case

I am writing a controller for Apache 2 and want to provide the ability to enable stickiness in front of Tomcat backends. The standard way to achieve this is to set the `route=` parameter for every *BalancerMember* (equivalent of *upstream.server* in nginx). This parameter must match the value of `jvmRoute=` on the backend.

Without a reference to the Pod providing the endpoint I can't reliably set a route Apache 2 and Tomcat can agree on, like the Pod's name.

ref: https://httpd.apache.org/docs/2.4/mod/mod_proxy_balancer.html#stickyness_implementation",['aledbf'],1,2017-07-29 13:39:29,2017-08-02 23:56:22,2017-08-31 11:43:55,True,2017-08-02 23:56:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1046,https://github.com/kubernetes/ingress-nginx/pull/1046,aledbf,Add field FileSHA in BasicDigest struct,,[],1,2017-07-31 18:23:34,2017-08-01 02:09:16,2017-08-01 03:12:32,True,2017-08-01 02:09:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1047,https://github.com/kubernetes/ingress-nginx/pull/1047,nicksardo,Revendor godep dependencies,,"['aledbf', 'freehan', 'nikhiljindal']",2,2017-07-31 20:42:50,2017-07-31 22:56:36,2017-07-31 22:56:36,True,2017-07-31 22:56:36,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1049,https://github.com/kubernetes/ingress-nginx/pull/1049,vood,Fix config name in the example.,Replace `proxy-headers` with `custom-headers` to match [nginx-load-balancer-conf.yaml](https://github.com/kubernetes/ingress/blob/master/examples/customization/custom-headers/nginx/nginx-load-balancer-conf.yaml#L3),['aledbf'],1,2017-07-31 22:16:27,2017-07-31 23:05:02,2017-07-31 23:08:10,True,2017-07-31 23:05:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1050,https://github.com/kubernetes/ingress-nginx/pull/1050,aledbf,Release ubuntu-slim 0.14,,['nicksardo'],1,2017-08-01 02:16:53,2017-08-07 20:28:45,2017-08-08 00:10:19,True,2017-08-07 20:28:45,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1053,https://github.com/kubernetes/ingress-nginx/pull/1053,pieterlange,Allow TEMP_DIR to be set externally,"This makes it easier to plug the repo into other build systems.

Ex:
i'm using different build stages, and want to keep using `make controllers`, but have my own specific requirements for building the docker image itself. This way i can pick up the Go binary from a predictable temp dir.",['aledbf'],1,2017-08-01 14:20:51,2017-08-01 14:38:04,2017-08-01 15:15:12,True,2017-08-01 14:38:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1054,https://github.com/kubernetes/ingress-nginx/pull/1054,cgurnik,Fix link to UDP example,,['aledbf'],1,2017-08-01 19:29:48,2017-08-01 21:30:53,2017-08-01 21:30:58,True,2017-08-01 21:30:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1055,https://github.com/kubernetes/ingress-nginx/pull/1055,nikhiljindal,Renaming gce/controller/util_test.go to align with utils.go,"Renaming _controllers/gce/controller/util\_test.go_ to _controllers/gce/controller/util**s**\_test.go_ to align with _controllers/gce/controller/util**s**.go_

The existing code breaks ""Jump to test"" scripts that append _test to file name.

cc @nicksardo ",['nicksardo'],1,2017-08-01 19:31:06,2017-08-01 19:56:08,2017-08-02 20:09:53,True,2017-08-01 19:56:08,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1056,https://github.com/kubernetes/ingress-nginx/pull/1056,nicksardo,Log correct list of nodes,/assign @nikhiljindal ,['nikhiljindal'],1,2017-08-01 20:12:24,2017-08-02 20:11:32,2017-08-02 20:11:32,True,2017-08-02 20:11:32,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1058,https://github.com/kubernetes/ingress-nginx/pull/1058,sethpollack,add per minute rate limiting,,['aledbf'],1,2017-08-02 16:23:04,2017-08-04 00:44:49,2017-08-04 00:47:48,True,2017-08-04 00:44:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1060,https://github.com/kubernetes/ingress-nginx/pull/1060,aledbf,Update fsnotify dependency to fix arm64 issue,fixes #1051,[],1,2017-08-02 18:17:53,2017-08-03 15:14:36,2017-08-03 22:21:09,True,2017-08-03 15:14:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1061,https://github.com/kubernetes/ingress-nginx/pull/1061,nicksardo,More logging on instance group creation and continue if exists,"- Added more error logging
- Ignore StatusConflict (IG already exists) to gracefully handle race between ingress and service controller)

/assign @nikhiljindal ",['nikhiljindal'],2,2017-08-02 19:38:56,2017-08-02 20:19:57,2017-08-02 20:20:02,True,2017-08-02 20:19:57,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1062,https://github.com/kubernetes/ingress-nginx/pull/1062,nicksardo,Fix fake of instance group mgmt,Have fake GetInstanceGroup return correct error type.,[],1,2017-08-02 21:37:13,2017-08-02 22:11:07,2017-08-02 23:00:20,True,2017-08-02 22:11:07,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1063,https://github.com/kubernetes/ingress-nginx/pull/1063,nicksardo,Ignore instance group deletion error when in-use,"When the last ingress is deleted, the controller needs to gracefully fail when the instance groups are being used by ILBs.",[],1,2017-08-02 22:43:04,2017-08-02 23:41:25,2017-08-02 23:41:25,True,2017-08-02 23:41:25,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1064,https://github.com/kubernetes/ingress-nginx/pull/1064,nicksardo,[GLBC] Bump GLBC version to 0.9.6,"**Major Changes**
 - https://github.com/kubernetes/ingress/pull/994 Bug fix: Re-vendor latest GCE cloudprovider package
   - Allows unknown values in gce.conf
 - https://github.com/kubernetes/ingress/pull/1063 Bug fix: Ignore error when deleting instance groups that are used by ILBs
 - https://github.com/kubernetes/ingress/pull/1023 Bug fix: Retry creation of cloudprovider client with configuration
 - https://github.com/kubernetes/ingress/pull/393: Set health check HTTP Host header via readiness probe header


Closes #1059",['nikhiljindal'],1,2017-08-03 03:57:40,2017-08-03 15:13:25,2017-08-03 15:13:32,True,2017-08-03 15:13:25,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1065,https://github.com/kubernetes/ingress-nginx/pull/1065,diazjf,Add more descriptive steps in Dev Documentation,"Adds more descriptive steps in the Development Documentation,
like more information on obtaining dependencies, building, and
deploying an image of the ingress controller. Also adds more
descriptive information on deploying as well as some fixes
on grammar and spelling, and some file renames.",['aledbf'],3,2017-08-03 04:07:14,2017-08-04 00:43:42,2017-08-04 00:43:42,True,2017-08-04 00:43:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1068,https://github.com/kubernetes/ingress-nginx/pull/1068,chenpengdev,fix makefile,fix nginx makefile tmp directory,[],1,2017-08-03 11:17:01,2017-08-03 15:12:31,2017-08-04 03:14:14,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1069,https://github.com/kubernetes/ingress-nginx/pull/1069,aledbf,Export TEMP_DIR variable in Makefile,,[],1,2017-08-03 15:11:07,2017-08-03 15:11:47,2017-08-03 15:11:47,True,2017-08-03 15:11:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1070,https://github.com/kubernetes/ingress-nginx/pull/1070,nicksardo,GCE: Remove expectation of promoting ingress to GA,Closes #1041 ,[],1,2017-08-03 16:52:37,2017-08-03 16:54:38,2017-08-03 17:14:11,True,2017-08-03 16:54:38,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1073,https://github.com/kubernetes/ingress-nginx/pull/1073,aledbf,Release nginx-slim 0.22,This releases removes lua from the image,['nicksardo'],1,2017-08-04 03:10:37,2017-08-07 23:58:59,2017-08-08 00:15:34,True,2017-08-07 23:58:59,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1074,https://github.com/kubernetes/ingress-nginx/pull/1074,aledbf,Remove lua and use fastcgi to render errors,This change removes lua as dependency of the ingress controller and also allows adding arm64 platform,[],2,2017-08-04 04:53:09,2017-08-08 02:15:32,2017-08-08 15:38:55,True,2017-08-08 02:15:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1075,https://github.com/kubernetes/ingress-nginx/pull/1075,zjj2wry,(feat/ #374) support proxy timeout,"#374
add ingress.kubernetes.io/proxyTimeout annotation in L4-configmap. default alse 600s.
```
apiVersion: v1
data:
  ""99"": caicloud-io/serving-manager:8080
kind: ConfigMap
metadata:
  annotations:
    ingress.kubernetes.io/proxyTimeout: 1h
  name: proxy-nginx-tcp
  namespace: kube-system
```",['aledbf'],1,2017-08-05 10:14:46,2017-08-07 18:33:13,2017-08-07 18:33:21,True,2017-08-07 18:33:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1076,https://github.com/kubernetes/ingress-nginx/pull/1076,aledbf,Add more ssl test cases,,[],2,2017-08-05 21:59:28,2017-08-05 23:37:02,2017-08-06 23:18:07,True,2017-08-05 23:37:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1077,https://github.com/kubernetes/ingress-nginx/pull/1077,aledbf,Update echoheaders images,,[],1,2017-08-06 23:22:36,2017-08-06 23:22:50,2017-08-06 23:23:34,True,2017-08-06 23:22:50,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1078,https://github.com/kubernetes/ingress-nginx/pull/1078,chenpengdev,"fix the same udp port and tcp port, update nginx.conf error","becase there is no check protocol, when service use same port,  nginx.conf only exist tcp port information
```
...
  ports:
  - name: ""80""
    port: 80
    protocol: TCP
    targetPort: 80
  - name: 80udp
    port: 80
    protocol: UDP
    targetPort: 80
...
```
",['aledbf'],1,2017-08-07 03:37:26,2017-08-07 12:29:02,2017-08-07 16:25:42,True,2017-08-07 12:29:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1080,https://github.com/kubernetes/ingress-nginx/pull/1080,aledbf,Disable platform s390x,,['nicksardo'],1,2017-08-07 23:45:50,2017-08-07 23:48:07,2017-08-08 00:07:01,True,2017-08-07 23:48:07,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1081,https://github.com/kubernetes/ingress-nginx/pull/1081,asifdxtreme,Spit Static check and Coverage in diff Stages of Travis CI,,['aledbf'],2,2017-08-08 02:27:53,2017-08-08 03:07:00,2017-08-08 03:07:00,True,2017-08-08 03:07:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1082,https://github.com/kubernetes/ingress-nginx/pull/1082,aledbf,Fix build tasks,,[],1,2017-08-08 03:08:32,2017-08-08 03:09:47,2017-08-08 03:12:53,True,2017-08-08 03:09:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1084,https://github.com/kubernetes/ingress-nginx/pull/1084,zjj2wry,(issue #310)Fix some broken link,#310 ,['aledbf'],1,2017-08-08 09:54:03,2017-08-08 18:18:52,2017-08-08 18:18:52,True,2017-08-08 18:18:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1085,https://github.com/kubernetes/ingress-nginx/pull/1085,loicfrering,Fix ConfigMap's namespace in custom configuration example for nginx,The configmap option `--configmap=$(POD_NAMESPACE)/nginx-custom-configuration` in the `nginx-custom-configuration.yaml` deployment expects the ConfigMap to be in the `kube-system` namespace but it was not set in the ConfigMap definition.,['aledbf'],1,2017-08-08 14:07:43,2017-08-08 14:53:51,2017-08-08 15:20:22,True,2017-08-08 14:53:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1087,https://github.com/kubernetes/ingress-nginx/pull/1087,aledbf,Release nginx-slim 0.23,1.13.4 was released today http://nginx.org/en/download.html,['nicksardo'],1,2017-08-08 18:07:48,2017-08-08 18:35:02,2017-08-08 18:47:26,True,2017-08-08 18:35:02,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1088,https://github.com/kubernetes/ingress-nginx/pull/1088,aledbf,Configure nginx worker timeout,,[],1,2017-08-08 18:18:14,2017-08-08 18:41:34,2018-03-09 13:14:53,True,2017-08-08 18:41:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1089,https://github.com/kubernetes/ingress-nginx/pull/1089,aledbf,Update nginx to 1.13.4,,[],1,2017-08-08 18:40:56,2017-08-08 18:42:02,2017-08-08 18:46:54,True,2017-08-08 18:42:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1090,https://github.com/kubernetes/ingress-nginx/pull/1090,aledbf,Add support for temporal and permanent redirects,fixes https://github.com/kubernetes/contrib/issues/1884,[],2,2017-08-08 22:28:04,2017-08-20 02:31:22,2017-08-20 19:47:22,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1092,https://github.com/kubernetes/ingress-nginx/pull/1092,winfield-chen-hs,server-sent events support through new annotation,fixes #1091 and also addresses #986 (although does a bit more than just clearing connection header),[],1,2017-08-09 00:11:56,2017-08-09 23:44:57,2017-08-10 21:43:31,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1095,https://github.com/kubernetes/ingress-nginx/pull/1095,zjj2wry,Fix(#1096) ingress annotation can not set ip in whitelist,closes #1096 ,['aledbf'],1,2017-08-09 13:30:40,2017-08-21 22:46:16,2017-08-21 22:46:16,True,2017-08-21 22:46:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1098,https://github.com/kubernetes/ingress-nginx/pull/1098,bigkraig,Exposing the event recorder to allow other controllers to create events,Solves #1097 for the ALB controller use case,['aledbf'],1,2017-08-09 17:43:32,2017-08-10 00:38:53,2017-08-10 00:38:53,True,2017-08-10 00:38:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1099,https://github.com/kubernetes/ingress-nginx/pull/1099,yvespp,Add flag always-enable-tls to enable TLS even if no tls section is defined for the ingress,"I added a new flag to the controller always-enable-tls, default false. With this flag set to true ingress rules will use the default cert even if the ingress doesn't contain a TLS section.
I moved the TLS setup code for the servers to a separate function so it's easier to test.

I want this so we at our company don't have to specify the TLS section in every ingress and don't risk that someone forgets to set it and disables TLS by accident. We use a wildcard certificate as default cert in our ingress.

I will add doc for the new flag as well. -> Done
I haven't manually tested it yet. -> Done, works.",[],3,2017-08-09 20:18:11,2017-08-24 08:06:13,2017-08-24 08:06:13,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1102,https://github.com/kubernetes/ingress-nginx/pull/1102,zjj2wry,Fix lose SSL Passthrough,fix configuration.md lose SSL Passthrough menu,['aledbf'],1,2017-08-10 03:13:47,2017-08-10 03:19:10,2017-08-10 03:19:10,True,2017-08-10 03:19:10,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1103,https://github.com/kubernetes/ingress-nginx/pull/1103,asifdxtreme,Add GoDoc Widget,,['aledbf'],1,2017-08-10 03:19:15,2017-08-10 03:22:29,2017-08-10 03:22:30,True,2017-08-10 03:22:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1104,https://github.com/kubernetes/ingress-nginx/pull/1104,aledbf,Simplify verification of hostname in ssl certificates,,[],1,2017-08-10 03:28:19,2017-08-10 06:12:14,2017-08-19 18:34:02,True,2017-08-10 06:12:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1105,https://github.com/kubernetes/ingress-nginx/pull/1105,asifdxtreme,Make Readme file more readable,,['aledbf'],1,2017-08-10 03:48:40,2017-08-10 03:58:09,2017-08-10 04:11:03,True,2017-08-10 03:58:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1106,https://github.com/kubernetes/ingress-nginx/pull/1106,asifdxtreme,Update annotations.md,,['aledbf'],1,2017-08-10 06:03:43,2017-08-10 06:10:31,2017-08-10 06:27:18,True,2017-08-10 06:10:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1107,https://github.com/kubernetes/ingress-nginx/pull/1107,asifdxtreme,Fix Broken Link,,['aledbf'],1,2017-08-10 07:40:24,2017-08-10 12:28:13,2017-08-10 12:28:13,True,2017-08-10 12:28:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1109,https://github.com/kubernetes/ingress-nginx/pull/1109,aledbf,Cleanup remote address in nginx template,,[],1,2017-08-10 16:14:43,2017-08-10 16:45:07,2017-08-19 18:33:43,True,2017-08-10 16:45:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1110,https://github.com/kubernetes/ingress-nginx/pull/1110,aledbf,Fix Endpoint comparison,,[],1,2017-08-11 02:52:07,2017-08-11 19:37:53,2017-08-11 19:37:53,True,2017-08-11 19:37:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1114,https://github.com/kubernetes/ingress-nginx/pull/1114,tonglil,Add gce annotations,Related to creating HTTPS load balancers.,[],3,2017-08-12 01:36:23,2017-08-12 07:17:36,2017-08-12 07:36:56,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1115,https://github.com/kubernetes/ingress-nginx/pull/1115,zjj2wry,fix issue(#969)Reducing log output,"closes #969 
i add log level in controller.the events log info set to L2,and nginx sync log set to L4",[],1,2017-08-12 05:08:06,2017-08-12 20:38:34,2017-08-13 06:42:28,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1116,https://github.com/kubernetes/ingress-nginx/pull/1116,tonglil,Update annotations list,"Add gce annotations related to creating HTTPS load balancers.

Formatted tables to show a column for defaults and a column for applicable controllers.",['aledbf'],9,2017-08-12 07:17:24,2017-08-12 13:14:51,2017-12-27 22:32:37,True,2017-08-12 13:14:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1117,https://github.com/kubernetes/ingress-nginx/pull/1117,tonglil,Cleanup controllers readme,Minor formatting changes.,['aledbf'],1,2017-08-12 07:28:15,2017-08-12 13:15:40,2017-12-27 22:32:39,True,2017-08-12 13:15:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1118,https://github.com/kubernetes/ingress-nginx/pull/1118,zjj2wry,feat(#733)Support nginx bandwidth control,closes #733 @rikatz I has finish this feature. Can you help me review this. thanks ,['aledbf'],1,2017-08-12 07:53:48,2017-08-13 14:30:58,2017-08-14 13:02:31,True,2017-08-13 14:30:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1119,https://github.com/kubernetes/ingress-nginx/pull/1119,seeekr,fix typos in controllers/nginx/README.md,,['aledbf'],1,2017-08-12 11:52:29,2017-08-12 13:12:44,2017-08-12 14:00:58,True,2017-08-12 13:12:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1121,https://github.com/kubernetes/ingress-nginx/pull/1121,nicksardo,GCE: Handle a nil configuration file,"Fixes #1112 

",['nikhiljindal'],1,2017-08-12 23:33:54,2017-08-16 00:00:04,2017-08-16 00:20:07,True,2017-08-16 00:00:04,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1122,https://github.com/kubernetes/ingress-nginx/pull/1122,asifdxtreme,Fix broken link,,['aledbf'],1,2017-08-13 02:21:35,2017-08-13 02:44:10,2017-08-13 02:44:10,True,2017-08-13 02:44:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1123,https://github.com/kubernetes/ingress-nginx/pull/1123,diazjf,Add support for Server Alias in Nginx,Adds support for server alias in the nginx controller. Adds a new annotation which allows for a server alias to be appended to a given host. Fixes #891 ,['aledbf'],4,2017-08-14 03:58:36,2017-08-19 18:47:23,2017-08-20 01:12:54,True,2017-08-19 18:47:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1124,https://github.com/kubernetes/ingress-nginx/pull/1124,chenpengdev,check fields len in dns.go,Avoid index out of range error,['aledbf'],1,2017-08-14 03:58:55,2017-08-14 15:36:43,2017-08-14 15:36:43,True,2017-08-14 15:36:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1128,https://github.com/kubernetes/ingress-nginx/pull/1128,jonpulsifer,Add 404 server,"Fixes https://github.com/kubernetes/ingress/issues/1072 and absorbs 404-server.

This is in the spirit of https://github.com/kubernetes/contrib/issues/762

Removal in contrib: https://github.com/kubernetes/contrib/pull/2719",['aledbf'],2,2017-08-14 23:04:01,2017-08-15 14:08:18,2017-08-15 14:09:01,True,2017-08-15 14:08:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1130,https://github.com/kubernetes/ingress-nginx/pull/1130,hzxuzhonghu,Update nginx.go,update reference,['aledbf'],2,2017-08-15 06:26:32,2017-08-15 14:08:52,2017-08-16 01:12:48,True,2017-08-15 14:08:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1131,https://github.com/kubernetes/ingress-nginx/pull/1131,zjj2wry,Add short help doc in configuration for nginx limit rate,Add short help doc in configuration for nginx limit rate,['aledbf'],1,2017-08-15 08:29:52,2017-08-15 14:07:34,2017-08-15 14:07:35,True,2017-08-15 14:07:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1134,https://github.com/kubernetes/ingress-nginx/pull/1134,hzxuzhonghu,replace deprecated interface with versioned ones,update clientset interface use versioned ones,['aledbf'],1,2017-08-15 12:36:36,2017-08-15 14:11:00,2017-08-15 14:11:00,True,2017-08-15 14:11:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1136,https://github.com/kubernetes/ingress-nginx/pull/1136,aledbf,Fix status update - changed in #1074,,[],1,2017-08-15 21:34:52,2017-08-15 22:00:02,2017-08-16 12:01:10,True,2017-08-15 22:00:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1138,https://github.com/kubernetes/ingress-nginx/pull/1138,hzxuzhonghu,update nginx.go: preformance improve,move hash calc code together and improve printDiff function ,['aledbf'],1,2017-08-16 07:19:45,2017-08-16 11:59:43,2017-08-16 11:59:43,True,2017-08-16 11:59:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1139,https://github.com/kubernetes/ingress-nginx/pull/1139,zjj2wry,Fix Todo:convert sequence to table,fix // TODO: convert test cases to tables,['aledbf'],1,2017-08-16 08:47:09,2017-08-16 11:57:25,2017-08-16 11:57:25,True,2017-08-16 11:57:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1140,https://github.com/kubernetes/ingress-nginx/pull/1140,aledbf,Update go dependencies,,[],1,2017-08-16 12:09:41,2017-08-16 13:21:48,2017-08-19 18:33:30,True,2017-08-16 13:21:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1142,https://github.com/kubernetes/ingress-nginx/pull/1142,asifdxtreme,Fix typo in multiple docs,,['aledbf'],1,2017-08-16 14:35:15,2017-08-16 16:11:52,2017-08-16 16:11:52,True,2017-08-16 16:11:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1143,https://github.com/kubernetes/ingress-nginx/pull/1143,asifdxtreme,Minor Typo Fix,,['aledbf'],1,2017-08-16 15:11:44,2017-08-16 15:13:44,2017-08-16 15:13:44,True,2017-08-16 15:13:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1144,https://github.com/kubernetes/ingress-nginx/pull/1144,asifdxtreme,Minor Typo fix,,['aledbf'],1,2017-08-16 15:41:26,2017-08-16 16:12:44,2017-08-16 16:12:44,True,2017-08-16 16:12:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1145,https://github.com/kubernetes/ingress-nginx/pull/1145,asifdxtreme,Minor Typo fix,,['aledbf'],1,2017-08-16 15:44:51,2017-08-16 16:11:04,2017-08-16 16:11:04,True,2017-08-16 16:11:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1146,https://github.com/kubernetes/ingress-nginx/pull/1146,asifdxtreme,Fix Minor Typo in Readme,,['aledbf'],1,2017-08-16 15:52:17,2017-08-16 16:13:07,2017-08-16 16:16:51,True,2017-08-16 16:13:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1147,https://github.com/kubernetes/ingress-nginx/pull/1147,asifdxtreme,Minor Typo Fix,,['aledbf'],1,2017-08-16 16:30:51,2017-08-16 17:28:54,2017-08-16 17:28:54,True,2017-08-16 17:28:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1148,https://github.com/kubernetes/ingress-nginx/pull/1148,asifdxtreme,Minor Typo Fix in Getting-Started.md,,['aledbf'],1,2017-08-16 16:33:01,2017-08-16 17:05:28,2017-08-16 17:09:54,True,2017-08-16 17:05:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1149,https://github.com/kubernetes/ingress-nginx/pull/1149,mbssaiakhil,Fix Minor Typo in TLS authentication,,['aledbf'],1,2017-08-16 21:22:59,2017-08-16 21:23:53,2017-08-16 21:23:53,True,2017-08-16 21:23:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1150,https://github.com/kubernetes/ingress-nginx/pull/1150,mbssaiakhil,Fix Minor Typo in Customize the HAProxy configuration,,['aledbf'],1,2017-08-16 21:30:49,2017-08-16 21:34:34,2017-08-16 21:54:16,True,2017-08-16 21:34:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1151,https://github.com/kubernetes/ingress-nginx/pull/1151,mbssaiakhil,Fix Minor Typo in customization custom-template,,['aledbf'],1,2017-08-16 21:34:56,2017-08-16 21:35:28,2017-08-16 21:35:28,True,2017-08-16 21:35:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1152,https://github.com/kubernetes/ingress-nginx/pull/1152,mbssaiakhil,Fix minor typo in HAProxy Multi TLS certificate termination,,['aledbf'],1,2017-08-16 21:41:44,2017-08-16 21:49:01,2017-08-16 22:06:14,True,2017-08-16 21:49:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1153,https://github.com/kubernetes/ingress-nginx/pull/1153,mbssaiakhil,Fix minor typo in Multi TLS certificate termination,,['aledbf'],1,2017-08-16 21:43:31,2017-08-16 21:49:44,2017-08-16 21:49:44,True,2017-08-16 21:49:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1154,https://github.com/kubernetes/ingress-nginx/pull/1154,mbssaiakhil,Fix minor typo in Role Based Access Control,,['aledbf'],1,2017-08-16 21:46:56,2017-08-16 21:48:18,2017-08-16 21:48:18,True,2017-08-16 21:48:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1155,https://github.com/kubernetes/ingress-nginx/pull/1155,mbssaiakhil,Fix minor typo in TCP loadbalancing,,['aledbf'],1,2017-08-16 21:53:47,2017-08-16 21:59:34,2017-08-16 21:59:35,True,2017-08-16 21:59:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1156,https://github.com/kubernetes/ingress-nginx/pull/1156,mbssaiakhil,Fix minor typo in UDP loadbalancing,,['aledbf'],1,2017-08-16 21:56:55,2017-08-16 22:00:05,2017-08-16 22:00:05,True,2017-08-16 22:00:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1157,https://github.com/kubernetes/ingress-nginx/pull/1157,mbssaiakhil,Fix minor typos in Prerequisites,,['aledbf'],1,2017-08-16 21:59:33,2017-08-16 22:00:40,2017-08-16 22:04:33,True,2017-08-16 22:00:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1158,https://github.com/kubernetes/ingress-nginx/pull/1158,mbssaiakhil,Fix minor typo in Ingress examples,,['aledbf'],1,2017-08-16 22:01:34,2017-08-16 22:02:34,2017-08-16 22:02:35,True,2017-08-16 22:02:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1159,https://github.com/kubernetes/ingress-nginx/pull/1159,mbssaiakhil,Fix minor typos in Ingress admin guide,,['aledbf'],1,2017-08-16 22:13:48,2017-08-16 22:14:47,2017-08-16 22:14:51,True,2017-08-16 22:14:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1160,https://github.com/kubernetes/ingress-nginx/pull/1160,mbssaiakhil,Fix a broken href and typo in Ingress FAQ,,['aledbf'],1,2017-08-16 22:25:04,2017-08-16 22:35:11,2017-08-16 22:35:11,True,2017-08-16 22:35:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1161,https://github.com/kubernetes/ingress-nginx/pull/1161,mbssaiakhil,Fix minor typo in GCE Ingress controller FAQ,,['aledbf'],1,2017-08-16 22:29:18,2017-08-19 18:20:06,2017-08-19 18:20:06,True,2017-08-19 18:20:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1162,https://github.com/kubernetes/ingress-nginx/pull/1162,asifdxtreme,Optimize CI build time,,['aledbf'],1,2017-08-17 01:15:57,2017-08-17 14:54:17,2017-08-17 14:54:17,True,2017-08-17 14:54:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1164,https://github.com/kubernetes/ingress-nginx/pull/1164,aledbf,Use variable request_uri as redirect after auth,,[],1,2017-08-17 02:38:59,2017-08-17 22:03:22,2018-05-14 11:00:46,True,2017-08-17 22:03:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1165,https://github.com/kubernetes/ingress-nginx/pull/1165,Lion-Wei,Update CONTRIBUTING.md,,['aledbf'],1,2017-08-17 02:39:21,2017-08-17 02:40:49,2017-08-17 02:40:49,True,2017-08-17 02:40:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1166,https://github.com/kubernetes/ingress-nginx/pull/1166,Lion-Wei,Update README.md,,[],1,2017-08-17 03:15:59,2017-08-17 03:36:02,2017-08-17 03:40:20,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1168,https://github.com/kubernetes/ingress-nginx/pull/1168,Lion-Wei,finx link to running-locally.md,,['aledbf'],1,2017-08-17 06:46:31,2017-08-17 14:53:08,2017-08-17 14:53:08,True,2017-08-17 14:53:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1170,https://github.com/kubernetes/ingress-nginx/pull/1170,DanielMSchmidt,Update dead link in nginx/HTTPS section,"Hi there,

First of all thanks for maintaining this awesome project  
I found a dead link in the readme, I hope I fixed.",['aledbf'],1,2017-08-17 12:18:11,2017-08-17 14:52:18,2017-08-17 14:52:18,True,2017-08-17 14:52:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1172,https://github.com/kubernetes/ingress-nginx/pull/1172,Lion-Wei,Update README.md,,['aledbf'],1,2017-08-18 02:15:45,2017-08-18 02:42:15,2017-08-18 02:42:15,True,2017-08-18 02:42:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1173,https://github.com/kubernetes/ingress-nginx/pull/1173,Lion-Wei,Update admin.md,,['aledbf'],1,2017-08-18 02:27:48,2017-08-18 02:43:07,2017-08-18 02:51:08,True,2017-08-18 02:43:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1174,https://github.com/kubernetes/ingress-nginx/pull/1174,Lion-Wei,fix several titles,,['aledbf'],1,2017-08-18 02:42:49,2017-08-19 12:56:30,2017-08-19 12:56:30,True,2017-08-19 12:56:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1176,https://github.com/kubernetes/ingress-nginx/pull/1176,danielqsj,Fix sticky upstream not used when enable rewrite,Fix #1093 ,[],1,2017-08-18 09:45:13,2017-08-18 09:49:44,2017-08-18 10:08:12,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1177,https://github.com/kubernetes/ingress-nginx/pull/1177,hzxuzhonghu,fix typos,,['aledbf'],1,2017-08-18 09:48:01,2017-08-18 11:53:53,2017-08-18 11:53:53,True,2017-08-18 11:53:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1179,https://github.com/kubernetes/ingress-nginx/pull/1179,danielqsj,Fix sticky upstream not used when enable rewrite,Fix #1093 ,['aledbf'],1,2017-08-18 09:56:50,2017-08-18 11:58:23,2017-08-18 11:58:23,True,2017-08-18 11:58:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1181,https://github.com/kubernetes/ingress-nginx/pull/1181,freehan,switch to use shared informer,"No behavior change. Mainly refactor. The goal is to allow gce cloud client and informer can be shared among different controllers.

1. switch to use shared informer for watching resources.
2. initialize cloud provider in main.


","['nicksardo', 'caesarxuchao']",3,2017-08-18 23:26:33,2017-08-28 23:50:06,2017-08-28 23:50:06,True,2017-08-28 23:50:06,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1183,https://github.com/kubernetes/ingress-nginx/pull/1183,aledbf,WIP: Add support for temporal and permanent redirects,,[],1,2017-08-19 19:21:20,2017-08-19 19:35:39,2017-08-20 19:47:16,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1184,https://github.com/kubernetes/ingress-nginx/pull/1184,aledbf,Add support for temporal and permanent redirects,fixes kubernetes/contrib#1884,[],1,2017-08-20 02:31:06,2017-08-20 18:49:17,2017-08-20 19:47:10,True,2017-08-20 18:49:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1185,https://github.com/kubernetes/ingress-nginx/pull/1185,diazjf,Add more info about Server-Alias usage,"Adds more information on the effects of using the server-alias
annotation. It also cleans up spelling and formatting of the
configuration documentation.",['aledbf'],1,2017-08-20 06:20:59,2017-08-20 13:47:59,2017-08-20 13:47:59,True,2017-08-20 13:47:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1186,https://github.com/kubernetes/ingress-nginx/pull/1186,diazjf,Add annotation for client-body-buffer-size per location,"Adds an annotation which allows for client-body-buffer-size to
be configured per specific locations specified in the ingress
resource yaml. Fixes #826 ",['aledbf'],1,2017-08-20 07:03:01,2017-08-22 12:02:36,2017-08-22 12:02:36,True,2017-08-22 12:02:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1188,https://github.com/kubernetes/ingress-nginx/pull/1188,Rajadeepan,Fix minor typo,Fixed a minor typo,['aledbf'],1,2017-08-20 21:11:46,2017-08-20 23:44:26,2017-08-20 23:44:26,True,2017-08-20 23:44:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1189,https://github.com/kubernetes/ingress-nginx/pull/1189,aledbf,Fix sign in URL redirect parameter,,[],1,2017-08-20 23:40:14,2017-08-21 00:04:38,2017-08-21 00:11:38,True,2017-08-21 00:04:38,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1190,https://github.com/kubernetes/ingress-nginx/pull/1190,aledbf,Add flag to disable SSL passthrough,"Also sets the default to false.

fixes #1017",[],1,2017-08-21 01:34:55,2017-08-21 02:25:06,2017-08-21 15:47:56,True,2017-08-21 02:25:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1192,https://github.com/kubernetes/ingress-nginx/pull/1192,Lion-Wei,Update README.md,,['aledbf'],1,2017-08-21 02:51:31,2017-08-21 11:46:19,2017-08-21 11:46:19,True,2017-08-21 11:46:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1193,https://github.com/kubernetes/ingress-nginx/pull/1193,Lion-Wei,fix broken link,,['aledbf'],1,2017-08-21 03:05:51,2017-08-21 11:45:46,2017-08-21 11:45:46,True,2017-08-21 11:45:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1194,https://github.com/kubernetes/ingress-nginx/pull/1194,Lion-Wei,fix broken link,,['aledbf'],1,2017-08-21 03:13:33,2017-09-13 23:42:37,2017-09-13 23:42:37,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1195,https://github.com/kubernetes/ingress-nginx/pull/1195,Lion-Wei,Update troubleshooting.md,,['aledbf'],1,2017-08-21 03:55:08,2017-08-21 11:44:28,2017-08-21 11:44:28,True,2017-08-21 11:44:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1196,https://github.com/kubernetes/ingress-nginx/pull/1196,Lion-Wei,Update README.md,,['aledbf'],1,2017-08-21 04:00:12,2017-08-21 11:43:49,2017-08-21 11:43:49,True,2017-08-21 11:43:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1198,https://github.com/kubernetes/ingress-nginx/pull/1198,danielqsj,Add option for specific scheme for base url,Fix #1197 ,['aledbf'],3,2017-08-21 07:14:06,2017-08-21 15:44:15,2017-08-21 15:44:15,True,2017-08-21 15:44:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1199,https://github.com/kubernetes/ingress-nginx/pull/1199,itamar-resonai,Specify type for default backend service,"Without an explicit `type: NodePort` on the default backend service, I got an error when trying to apply it:

    The Service ""default-http-backend"" is invalid: spec.ports[0].nodePort: Invalid value: 31950: may not be used when `type` is 'ClusterIP'",[],1,2017-08-21 11:40:29,2017-08-21 11:42:29,2017-08-21 12:04:24,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1201,https://github.com/kubernetes/ingress-nginx/pull/1201,ibawt,sync the secret if the certificate isn't present,"## Problem
When the controller is being started, there's a period where various ingress resources will have their TLS certificate not present.  This is shown by showing the ""default certificate"", for awhile until the controller syncs that secret.

If you have many ingresses ( think like >200 ), it can take minutes for the entire thing to converge.  You can see the error message in the logs:
```""ssl certificate \""some-cert\"" does not exist in local store""```

## Reproduce
0. nginx ingress controller with 1 replica
1. create many ingresses and many updates, the idea is to get the the syncQueue as full as possible.
2. Wait for steady state
3. do ```while true ; do curl https://someplace.with.valid.cer.com/ -m 1s ; done```
4. delete the ingress controller
5. observe many invalid cert errors

## Fix
Since the queue is rate limited, and the only time that certificate syncing is done when the specific ingress of the event is processed.  This leaves a big window of invalid certs as NGINX needs to know the entire state of the system (and indeed it makes sites for them, just no certificates).

When the cert isn't found, I added a syncSecret call so that they can be loaded.  The result is how I would expect now, instead of invalid cert errors we get timeouts until the site is loaded.  This is much more preferable than serving the invalid cert.  And it also converges in about 20s instead of minutes.

## Other ways to fix
I believe this is this way because for the GCE controller, one ingress == one load balancer, but NGINX is many ingress -> one load balancer instance.

1. We could sync all the certificates on start.
",[],1,2017-08-21 14:25:17,2017-08-21 21:03:18,2017-08-21 21:03:53,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1204,https://github.com/kubernetes/ingress-nginx/pull/1204,aledbf,Fix template error,,[],1,2017-08-21 19:06:53,2017-08-21 19:38:29,2017-08-21 19:38:29,True,2017-08-21 19:38:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1205,https://github.com/kubernetes/ingress-nginx/pull/1205,aledbf,Add initial sync of secrets,"fixes #1203
fixes #1201",[],1,2017-08-21 20:27:20,2017-08-21 21:03:18,2017-08-21 22:07:29,True,2017-08-21 21:03:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1206,https://github.com/kubernetes/ingress-nginx/pull/1206,aledbf,Update ssl-passthrough docs,"fixes #1178
fixes #1191",[],1,2017-08-21 22:38:46,2017-08-21 22:39:10,2017-08-21 22:47:25,True,2017-08-21 22:39:10,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1207,https://github.com/kubernetes/ingress-nginx/pull/1207,Lion-Wei,delete broken link,,['aledbf'],1,2017-08-22 01:58:40,2017-08-22 12:05:52,2017-08-22 12:05:52,True,2017-08-22 12:05:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1208,https://github.com/kubernetes/ingress-nginx/pull/1208,Lion-Wei,fix some typo,"> L248: ""will given you"" -> ""will give you""
> L303 ""alltogether"" -> ""altogether""
> L316 ""a one time cost"" -> ""a onetime cost""",['aledbf'],1,2017-08-22 02:20:46,2017-08-22 12:05:18,2017-08-22 12:05:18,True,2017-08-22 12:05:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1209,https://github.com/kubernetes/ingress-nginx/pull/1209,Lion-Wei,Update README.md,,['aledbf'],1,2017-08-22 02:56:08,2017-08-22 12:04:30,2017-08-22 12:04:30,True,2017-08-22 12:04:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1210,https://github.com/kubernetes/ingress-nginx/pull/1210,sethpollack,add rate limit whitelist,,['aledbf'],1,2017-08-22 04:33:19,2017-08-22 12:23:46,2017-08-22 12:26:43,True,2017-08-22 12:23:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1212,https://github.com/kubernetes/ingress-nginx/pull/1212,danielqsj,Add option to specify addresses on which the server will accept,"Add a new option `bind-address` in configmap  to specify addresses on which the server will accept. 

Fix #1211 ",['aledbf'],1,2017-08-22 09:06:25,2017-08-25 16:05:53,2017-08-25 16:05:53,True,2017-08-25 16:05:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1214,https://github.com/kubernetes/ingress-nginx/pull/1214,manigandham,Use unmodified `PeriodSeconds` setting,"Use actual interval setting from readiness probe instead of modifying.

Fix #1213 ",[],1,2017-08-22 12:18:43,2017-08-22 19:26:54,2017-08-22 19:26:54,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1215,https://github.com/kubernetes/ingress-nginx/pull/1215,aledbf,Replace base64 encoding with random uuid,,[],1,2017-08-22 12:34:12,2017-08-22 14:22:06,2017-08-22 14:33:30,True,2017-08-22 14:22:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1217,https://github.com/kubernetes/ingress-nginx/pull/1217,diazjf,Disallow client_body_buffer_size annotation from location /,Currently when the client_body_buffer_size is set it configures all locations in the rules as well as location /. This will disallow client_body_buffer_size from being configured in / when it is not present in the rule.,[],1,2017-08-22 16:54:00,2017-08-23 18:12:25,2017-08-23 18:12:25,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1218,https://github.com/kubernetes/ingress-nginx/pull/1218,anfernee,Trivial fixes in core/pkg/net,"Naive PR. 

- I feel string comparison is hacky to judge an IP is IPv6 or not. Simplify util method IsIPV6.
- Fixes parsing of /etc/resolv.conf",['aledbf'],1,2017-08-22 17:55:00,2017-08-22 20:01:44,2017-08-22 20:01:50,True,2017-08-22 20:01:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1219,https://github.com/kubernetes/ingress-nginx/pull/1219,sethpollack,keep zones unique per ingress resource,,['aledbf'],1,2017-08-22 18:55:38,2017-08-22 19:26:23,2017-08-22 19:27:21,True,2017-08-22 19:26:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1220,https://github.com/kubernetes/ingress-nginx/pull/1220,aledbf,Fix zone duplication,Image `quay.io/aledbf/nginx-ingress-controller:0.189`,[],1,2017-08-22 19:20:44,2017-08-22 19:26:33,2017-08-22 19:46:39,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1221,https://github.com/kubernetes/ingress-nginx/pull/1221,aledbf,Move certificate authentication from location to server,Replaces #939,[],3,2017-08-22 20:26:50,2017-08-23 17:00:58,2017-08-23 17:18:29,True,2017-08-23 17:00:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1222,https://github.com/kubernetes/ingress-nginx/pull/1222,rikatz,Correct nginx tmpl,"This is an improvement to NGINX template security, with the following logic:

* Is the 'UseProxyProtocol' true? Then accept headers sent by Proxy to NGINX, real_ip_header and others
* Is the 'UseProxyProtocol' false (default)? Then use the default variables as real_ip_header

Additionally, I've made a correction in template in line [262](https://github.com/kubernetes/ingress/compare/master...estaleiro:correct-nginx-tmpl?expand=1#diff-b7803798d356c6c17a90d93cc58bdbaaL262) putting this comment as inside template comment, instead of a repeat comment for each upstream.

This solves #1000 

",[],2,2017-08-22 20:36:19,2017-09-28 21:38:20,2017-09-28 21:38:20,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1223,https://github.com/kubernetes/ingress-nginx/pull/1223,aledbf,Add doc for non-www to www annotation,,[],1,2017-08-22 21:34:14,2017-08-22 21:34:22,2017-08-23 01:22:39,True,2017-08-22 21:34:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1224,https://github.com/kubernetes/ingress-nginx/pull/1224,sethpollack,refactor rate limit whitelist,,['aledbf'],1,2017-08-23 00:50:22,2017-08-23 01:21:51,2017-08-23 01:21:51,True,2017-08-23 01:21:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1226,https://github.com/kubernetes/ingress-nginx/pull/1226,danielqsj,Remove useless variable in nginx.tmpl,Remove useless variable `backlogSize` in nginx.tmpl,['aledbf'],1,2017-08-23 07:07:47,2017-08-23 17:01:35,2017-08-23 17:01:41,True,2017-08-23 17:01:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1227,https://github.com/kubernetes/ingress-nginx/pull/1227,danielqsj,Update annotations doc with base-url-scheme,Update annotations doc with base-url-scheme,['aledbf'],1,2017-08-23 14:11:14,2017-08-23 17:02:04,2017-08-23 17:02:04,True,2017-08-23 17:02:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1228,https://github.com/kubernetes/ingress-nginx/pull/1228,danielqsj,Update release doc in getting-started.md,,['aledbf'],1,2017-08-23 14:49:15,2017-08-23 17:02:28,2017-08-23 17:02:28,True,2017-08-23 17:02:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1229,https://github.com/kubernetes/ingress-nginx/pull/1229,tombooth,"Aggregate metrics for ingress, service and service namespace","We want to collect metrics about individual services so we can alert on a particular services or ingresses 4xx/5xx rates raising.

This will cause issues for anyone who are relying on how the country filter is currently keyed in the prometheus metrics.",[],5,2017-08-23 14:53:51,2017-10-07 21:32:49,2017-10-07 21:32:49,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1230,https://github.com/kubernetes/ingress-nginx/pull/1230,danielqsj,Update godep guide link,,['aledbf'],1,2017-08-23 14:56:18,2017-08-23 17:02:51,2017-08-23 17:02:51,True,2017-08-23 17:02:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1231,https://github.com/kubernetes/ingress-nginx/pull/1231,canhnt,Add tests to cover sticky cookie and rewrite-target annotations,"When an ingress rule enables sticky cookie (`ingress.kubernetes.io/affinity: cookie` combining with the `ingress.kubernetes.io/rewrite-target`,  the sticky cookie feature does not work anymore.

Affect versions: from nginx-ingress-controller:0.9.0-beta.11

Reproduction:

- Deploy http-svc:
```
kubectl create -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/master/docs/examples/http-svc.yaml
```
- Scale http-svc to 2 pods:
```
kubectl scale deploy http-svc --replicas=2
```
- Create an ingress rule
```
echo ""
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  annotations:
    ingress.kubernetes.io/affinity: cookie
    ingress.kubernetes.io/session-cookie-hash: sha1
    ingress.kubernetes.io/session-cookie-name: SERVERID
    ingress.kubernetes.io/rewrite-target: /foo
    kubernetes.io/ingress.class: ""nginx""
  name: example.com
spec:
  rules:
  - host: example.com
    http:
      paths:
      - backend:
          serviceName: http-svc
          servicePort: 80
        path: /
"" | kubectl create -f - 
```
- Create a request
```
curl -v http://<ingress-svc-address> -H 'Host: example.com'
```
Verify that the response header does not container a sticky cookie like
```
Set-Cookie: SERVERID=cbe88003c2aefcf43d9103dc5ce614ed733d0891; Path=/; HttpOnly
```
Remove ingress.kubernetes.io/rewrite-target annotation from the example.com ingress rule, the response header contains the sticky cookie.

Update: this bug has been fixed in NGINX: 0.9.0-beta.17.",['aledbf'],2,2017-08-23 16:24:51,2017-11-23 23:08:05,2017-11-24 12:19:57,True,2017-11-23 23:08:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1233,https://github.com/kubernetes/ingress-nginx/pull/1233,aledbf,Fix ClientBodyBufferSize annotation,replaces https://github.com/kubernetes/ingress/pull/1217,[],1,2017-08-23 18:06:42,2017-08-23 18:30:39,2017-08-23 20:25:28,True,2017-08-23 18:30:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1234,https://github.com/kubernetes/ingress-nginx/pull/1234,aledbf,Lint code,,[],1,2017-08-23 18:42:30,2017-08-23 19:08:35,2017-08-23 20:25:23,True,2017-08-23 19:08:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1235,https://github.com/kubernetes/ingress-nginx/pull/1235,aledbf,Fix Equal comparison,,[],1,2017-08-23 20:52:54,2017-08-23 21:00:05,2017-08-24 12:06:54,True,2017-08-23 21:00:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1236,https://github.com/kubernetes/ingress-nginx/pull/1236,diazjf,Add Validation for Client Body Buffer Size,Adds validation so that if a bad value is input into the client body buffer size annotation then client_body_buffer_size is not set. That way a log error is thrown and it fails gracefully rather than killing the ingress controller.,['aledbf'],1,2017-08-24 00:59:36,2017-08-24 10:37:55,2017-08-24 10:37:55,True,2017-08-24 10:37:55,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1238,https://github.com/kubernetes/ingress-nginx/pull/1238,danielfm,Add support for 'client_body_timeout' and 'client_header_timeout',Closes #1237.,['aledbf'],1,2017-08-24 12:37:21,2017-08-24 13:52:32,2017-08-24 20:32:21,True,2017-08-24 13:52:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1239,https://github.com/kubernetes/ingress-nginx/pull/1239,aledbf,Add flags to customize listen ports and detect port collisions,"replaces #931
fixes #56
fixes #620",[],1,2017-08-24 13:33:50,2017-08-24 14:24:00,2017-11-04 18:36:00,True,2017-08-24 14:24:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1243,https://github.com/kubernetes/ingress-nginx/pull/1243,maxlaverse,Add support for access-log-path and error-log-path,"By default, the access logs of the Nginx Ingress go to `/var/log/nginx/access.log` which is a synlink to `/dev/stdout`. We are using a syslog server to store all our access logs which leaves us with two options:
* parsing the access logs out of the container stdout
* modifying the template to specify a different destination (our syslog server)

For performance reason and simplicity we choose to directly send our logs from Nginx to a syslog service. This is working fine by modifying the template. 

However, since it might interest other people to have the log destination customizable, a cleaner solution would be to make it  configurable in the ConfigMap and that's what this PR is about.

This pull-requests adds support for a `access-log-path` field in the Nginx ConfigMap to set a different path than the default one (`/var/log/nginx/access.log`). The value is put as is in the Nginx template, therefore also allowing to configure a syslog server as log destination.
 ",['aledbf'],1,2017-08-25 08:11:01,2017-08-25 12:29:06,2017-08-25 12:29:55,True,2017-08-25 12:29:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1244,https://github.com/kubernetes/ingress-nginx/pull/1244,aledbf,Add custom default backend annotation,,[],1,2017-08-25 15:58:11,2017-08-25 19:15:18,2017-08-25 20:06:02,True,2017-08-25 19:15:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1245,https://github.com/kubernetes/ingress-nginx/pull/1245,aledbf,WIP: Release nginx ingress controller 0.9.0-beta.12,Temporal image:  `quay.io/aledbf/nginx-ingress-controller:0.192`,[],1,2017-08-25 20:27:09,2017-08-26 14:18:53,2017-08-26 14:18:53,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1246,https://github.com/kubernetes/ingress-nginx/pull/1246,aledbf,Add additional headers when custom default backend is used,"Additional available variables: 
- $namespace 
- $ingress_name 
- $service_name 

fixes #1010",[],1,2017-08-25 23:50:39,2017-08-26 00:45:10,2017-08-26 14:15:32,True,2017-08-26 00:45:10,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1247,https://github.com/kubernetes/ingress-nginx/pull/1247,aledbf,Make Ingress annotations available in template,,[],1,2017-08-26 01:40:03,2017-08-26 12:55:38,2017-08-26 14:15:24,True,2017-08-26 12:55:38,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1248,https://github.com/kubernetes/ingress-nginx/pull/1248,aledbf,Improve nginx controller performance,"Profile from the first 60 seconds

*from*
![screenshot from 2017-08-26 00 46 51](https://user-images.githubusercontent.com/161571/29738422-9db73ef6-89f8-11e7-9014-8dd60195fee9.png)

*to*
![screenshot from 2017-08-26 00 46 34](https://user-images.githubusercontent.com/161571/29738423-9fe53a66-89f8-11e7-8f68-f8181fa13157.png)
",[],1,2017-08-26 03:50:23,2017-08-26 12:56:07,2017-08-26 12:56:07,True,2017-08-26 12:56:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1249,https://github.com/kubernetes/ingress-nginx/pull/1249,aledbf,Release nginx ingress controller 0.9.0-beta.12,Temporal image: ` quay.io/aledbf/nginx-ingress-controller:0.195`,[],1,2017-08-26 14:20:30,2017-08-28 18:05:15,2017-08-28 18:06:31,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1250,https://github.com/kubernetes/ingress-nginx/pull/1250,aledbf,Add server information to controller startup,,[],1,2017-08-27 21:40:12,2017-08-28 17:59:38,2017-08-28 18:06:28,True,2017-08-28 17:59:38,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1251,https://github.com/kubernetes/ingress-nginx/pull/1251,jcmoraisjr,Add ingress.class support to HAProxy Ingress,Updating docs regarding `ingress.class` usage.,['aledbf'],1,2017-08-28 00:50:17,2017-08-28 00:57:15,2017-08-28 01:14:31,True,2017-08-28 00:57:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1252,https://github.com/kubernetes/ingress-nginx/pull/1252,kweisamx,fix the nginx ingress controller yaml file,"fix the nginx ingress controller yaml file,
that no set hostNetwork, it cause that no nginx listen for frontend",[],1,2017-08-28 01:56:47,2017-08-28 02:27:09,2017-08-28 02:27:09,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1254,https://github.com/kubernetes/ingress-nginx/pull/1254,hzxuzhonghu,fix Type transform panic,fix runtime panic [issue#1187](https://github.com/kubernetes/ingress/issues/1187),['aledbf'],1,2017-08-28 06:51:58,2017-08-28 11:28:40,2017-08-28 11:28:40,True,2017-08-28 11:28:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1255,https://github.com/kubernetes/ingress-nginx/pull/1255,trenton42,Fixed broken link to the custom error server,- README.md had a broken link. I dug around in the project until I found the correct link.,['aledbf'],1,2017-08-28 16:05:18,2017-09-29 03:54:26,2017-09-29 03:54:26,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1256,https://github.com/kubernetes/ingress-nginx/pull/1256,aledbf,Release nginx ingress controller 0.9.0-beta.12,Temporal image: ` quay.io/aledbf/nginx-ingress-controller:0.199`,[],1,2017-08-28 18:05:02,2017-08-29 20:19:50,2017-08-29 21:14:20,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1257,https://github.com/kubernetes/ingress-nginx/pull/1257,maxlaverse,Graceful shutdown for Nginx,"## Issue
Nginx is not being gracefully shut down when a Nginx Ingress Controller container is stopped, leading to broken connections. It looks like the `SIGTERM` sent to the controller to stop it is simply forwarded to the Nginx server. 

The problem is that `SIGTERM` means ""Exit as quick as you can"" for Nginx ([Nginx doc](http://nginx.org/en/docs/control.html). For a graceful shutdown we should rather send a `SIGQUIT`.

A solution to this issue is to prevent the Nginx Ingress Controller to forward all the signals it gets to Nginx, allowing us to control what's sent to the Nginx process. When shutting down, the controller would then send a `SIGQUIT` to Nginx. Nginx itself will wait 10secondes (`worker_shutdown_timeout`) for the worker to shutdown.

## Testing
You need a backend exposed on the Ingress that responds slowly. I used one with a 10 secondes response time. Trigger an Ingress deployment and call this slow URL. If your slow URL get an answer before the Nginx is tear down, re-execute it.

We expected this request to be answered to. You should see in the Ingress logs that it's not immediately exiting but waiting for the request to finish. 
Additionally, you can `strace` the Nginx master process to make sure `SIGQUIT` is not being sent instead of `SIGTERM`.
",[],1,2017-08-28 18:17:51,2017-08-29 19:29:51,2017-08-29 19:29:59,True,2017-08-29 19:29:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1258,https://github.com/kubernetes/ingress-nginx/pull/1258,aledbf,Send signal SIGQUIT instead of SIGTERM to nginx,,[],1,2017-08-28 21:42:32,2017-08-29 12:24:46,2017-08-29 19:42:12,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1259,https://github.com/kubernetes/ingress-nginx/pull/1259,jcmoraisjr,Add namespace var to HAProxy deployments,Another few improvements to HAProxy docs and resources,['aledbf'],1,2017-08-28 23:07:34,2017-08-29 01:14:21,2017-08-29 21:34:43,True,2017-08-29 01:14:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1261,https://github.com/kubernetes/ingress-nginx/pull/1261,maxlaverse,Add support for 'worker-shutdown-timeout',"When reloading the configuration or gracefully shutting down, Nginx waits [10secondes](https://github.com/kubernetes/ingress/blob/80ff5e6ce8fb369ce19d873a14158963be90e9f7/controllers/nginx/rootfs/etc/nginx/template/nginx.tmpl#L19) for the workers to exit. 

It would be great if we could configure this value through the `ConfigMap` as it implicitely determines how long we are waiting for open connections to close. ",['aledbf'],1,2017-08-29 10:58:38,2017-08-29 12:20:09,2017-08-29 12:22:33,True,2017-08-29 12:20:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1264,https://github.com/kubernetes/ingress-nginx/pull/1264,aledbf,Fix dependencies issues,fixes #1257,[],1,2017-08-29 19:35:07,2017-08-29 19:35:57,2017-08-29 19:36:33,True,2017-08-29 19:35:57,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1265,https://github.com/kubernetes/ingress-nginx/pull/1265,aledbf,Improve logs,,[],1,2017-08-29 19:40:25,2017-08-29 20:14:32,2017-08-29 21:28:17,True,2017-08-29 20:14:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1266,https://github.com/kubernetes/ingress-nginx/pull/1266,aledbf,Release nginx ingress controller 0.9.0-beta.12,"Temporal image: `quay.io/aledbf/nginx-ingress-controller:0.201`
",['nicksardo'],1,2017-08-29 20:20:17,2017-08-30 19:56:13,2017-08-31 16:38:21,True,2017-08-30 19:56:13,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1268,https://github.com/kubernetes/ingress-nginx/pull/1268,caiyixiang,fix a bug of reference,fix a bug of reference,[],1,2017-08-30 02:20:35,2017-09-16 01:30:40,2017-09-16 01:30:40,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1270,https://github.com/kubernetes/ingress-nginx/pull/1270,harryge00,add missing yamls in controllers/nginx,"`examples/ingress.yaml` and `examples/default/rc-default.yaml` are missing. And I did not find the latter...

Add default-backend.yaml because it is used.",['aledbf'],1,2017-08-30 07:20:34,2017-08-30 11:11:34,2017-08-30 11:11:34,True,2017-08-30 11:11:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1271,https://github.com/kubernetes/ingress-nginx/pull/1271,danielqsj,WIP: Add sticky path,"Currently, sticky cookie's path is always `/`. But if we have multiple apps in same host, we should set cookie's path as actual location path to provide fine-grained sticky.",[],2,2017-08-30 07:59:20,2017-11-29 09:09:30,2017-11-29 09:09:30,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1272,https://github.com/kubernetes/ingress-nginx/pull/1272,danielqsj,Delete useless statement,"`!strings.HasSuffix(path, slash)` is sufficient here.",['aledbf'],1,2017-08-30 09:06:51,2017-08-30 22:04:36,2017-08-30 22:04:36,True,2017-08-30 22:04:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1275,https://github.com/kubernetes/ingress-nginx/pull/1275,jcmoraisjr,HAProxy Ingress RBAC sample,,['aledbf'],1,2017-08-31 00:26:04,2017-08-31 00:51:28,2017-08-31 00:57:27,True,2017-08-31 00:51:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1276,https://github.com/kubernetes/ingress-nginx/pull/1276,jcmoraisjr,Link rbac sample from deployment docs,,['aledbf'],1,2017-08-31 01:08:25,2017-08-31 11:39:05,2017-08-31 11:40:27,True,2017-08-31 11:39:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1277,https://github.com/kubernetes/ingress-nginx/pull/1277,danielqsj,Add indent for nginx.conf,"Currently, the generated nginx.conf looks like:

```
        location ~* ^/session-demo\/?(?<baseuri>.*) {
        set $proxy_upstream_name ""sticky-org1-session-demo-80"";

        set $namespace      ""org1"";
        set $ingress_name   ""session-demo-test"";
        set $service_name   """";

        port_in_redirect off;

        client_max_body_size                    ""1m"";

        proxy_set_header Host                   $best_http_host;

        # Pass the extracted client certificate to the backend

        # Allow websocket connections
        proxy_set_header                        Upgrade           $http_upgrade;
        proxy_set_header                        Connection        $connection_upgrade;

        proxy_set_header X-Real-IP              $the_real_ip;
        proxy_set_header X-Forwarded-For        $the_real_ip;
        proxy_set_header X-Forwarded-Host       $best_http_host;
        proxy_set_header X-Forwarded-Port       $pass_port;
        proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
        proxy_set_header X-Original-URI         $request_uri;
        proxy_set_header X-Scheme               $pass_access_scheme;

        # mitigate HTTPoxy Vulnerability
        # https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
        proxy_set_header Proxy                  """";

        # Custom headers to proxied server

        proxy_connect_timeout                   5s;
        proxy_send_timeout                      60s;
        proxy_read_timeout                      60s;

        proxy_redirect                          off;
        proxy_buffering                         off;
        proxy_buffer_size                       ""4k"";
        proxy_buffers                           4 ""4k"";

        proxy_http_version                      1.1;

        proxy_cookie_domain                     off;
        proxy_cookie_path                       off;

        # In case of errors try the next upstream server before returning an error
        proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;

        proxy_set_header                        Accept-Encoding     """";

        rewrite /session-demo/(.*) /$1 break;
        rewrite /session-demo / break;
        proxy_pass http://sticky-org1-session-demo-80;
        subs_filter '<head(.*)>' '<head$1><base href=""https://$http_host/session-demo/$baseuri"">' r;
        subs_filter '<HEAD(.*)>' '<HEAD$1><base href=""https://$http_host/session-demo/$baseuri"">' r;

        }
```
The indent is missing, the following looks good.
```
        location ~* ^/session-demo\/?(?<baseuri>.*) {
            set $proxy_upstream_name ""sticky-org1-session-demo-80"";

            set $namespace      ""org1"";
            set $ingress_name   ""session-demo-test"";
            set $service_name   """";

            port_in_redirect off;

            client_max_body_size                    ""1m"";

            proxy_set_header Host                   $best_http_host;

            # Pass the extracted client certificate to the backend

            # Allow websocket connections
            proxy_set_header                        Upgrade           $http_upgrade;
            proxy_set_header                        Connection        $connection_upgrade;

            proxy_set_header X-Real-IP              $the_real_ip;
            proxy_set_header X-Forwarded-For        $the_real_ip;
            proxy_set_header X-Forwarded-Host       $best_http_host;
            proxy_set_header X-Forwarded-Port       $pass_port;
            proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
            proxy_set_header X-Original-URI         $request_uri;
            proxy_set_header X-Scheme               $pass_access_scheme;

            # mitigate HTTPoxy Vulnerability
            # https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
            proxy_set_header Proxy                  """";

            # Custom headers to proxied server

            proxy_connect_timeout                   5s;
            proxy_send_timeout                      60s;
            proxy_read_timeout                      60s;

            proxy_redirect                          off;
            proxy_buffering                         off;
            proxy_buffer_size                       ""4k"";
            proxy_buffers                           4 ""4k"";

            proxy_http_version                      1.1;

            proxy_cookie_domain                     off;
            proxy_cookie_path                       off;

            # In case of errors try the next upstream server before returning an error
            proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;

            proxy_set_header                        Accept-Encoding     """";

            rewrite /session-demo/(.*) /$1 break;
            rewrite /session-demo / break;
            proxy_pass http://sticky-org1-session-demo-80;
            subs_filter '<head(.*)>' '<head$1><base href=""https://$http_host/session-demo/$baseuri"">' r;
            subs_filter '<HEAD(.*)>' '<HEAD$1><base href=""https://$http_host/session-demo/$baseuri"">' r;

        }
```",['aledbf'],1,2017-08-31 07:45:48,2017-08-31 11:39:51,2017-08-31 11:39:51,True,2017-08-31 11:39:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1278,https://github.com/kubernetes/ingress-nginx/pull/1278,antoineco,Add proxy-pass-params annotation and Backend field,Some backends like Apache httpd accept [parameters after proxy-pass directives](https://httpd.apache.org/docs/2.4/mod/mod_proxy.html#proxypass). This annotation and global setting provide a place to set these.,['aledbf'],1,2017-08-31 13:15:14,2017-09-02 20:43:43,2017-09-02 20:43:43,True,2017-09-02 20:43:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1280,https://github.com/kubernetes/ingress-nginx/pull/1280,danielfm,Pass correct port to the stats collector,Closes #1279.,[],2,2017-08-31 14:39:39,2017-08-31 18:33:07,2017-08-31 18:35:17,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1282,https://github.com/kubernetes/ingress-nginx/pull/1282,aledbf,Fix nginx stats,"fixes #1279 
fixes #1280",['nicksardo'],2,2017-08-31 17:20:09,2017-08-31 18:33:07,2017-09-05 13:23:53,True,2017-08-31 18:33:07,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1285,https://github.com/kubernetes/ingress-nginx/pull/1285,cmaloney,WIP/DEMO: lyft/envoy ingress controller for kubernetes,"# High Level

This is a custom ingress controller I wrote which controls [lyft/envoy](https://github.com/lyft/envoy) a programmable C++ L7 proxy. The goal being to get very good http2 support which includes gRPC forwarding. Envoy can also do basic tcp loadbalancing (not implemented in this controller currently) and HTTP/1.1 load balancing.

I'm curious if this sort of contribution (new ingress controller) is being looked for, and if so what sorts of things would be needed to get there. Happy to keep this as my own side project as well, just want to get more of an audience for it and see if it's useful for anyone else. More description about it below. The controller itself is < 1000 lines, most the PR is vendored libraries + some wrapper build scripts.

# Overview
There are three pieces to this ingress. The root is the controller (controller.go) which receives kubernetes ingress controller updates and turns them into the structure needed for envoy. That is then passed to the `DiscoveryService` (discovery.go) which presents the information in the lyft/envoy discovery endpoints
(LDS, RDS, SDS, CDS). The third and final pieces is a process manager for envoy itself which manages configuring and running the lyft/envoy instance.

Every piece is setup so that it'll only start serving / listening once basic routes are setup and in place (so in theory if you add another instance to a cluster you don't hit an ""empty"" envoy and get a bunch of 404 errors)

The need for `DiscoveryService` http service should be going away, as the envoy v2 api gets implemented (https://github.com/lyft/envoy-api#apis). In specific, the ingress controller would implement an ""Aggregated Discovery Service (ADS)"". That would mean the ingress controller could push updates directly to lyft/envoy using gRPC, minimizing update time.

This works for my basic cases. There are definitely many more of the cases that could be implemented (And many more config options which should be controllable via the ingresses themselves). Things like TCP services can also be implemented, just not a feature I'd needed.",[],1,2017-09-01 05:25:55,2017-09-06 23:42:18,2017-09-06 23:42:18,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1288,https://github.com/kubernetes/ingress-nginx/pull/1288,dwelch2344,Allow PATCH in enable-cors,"While using `ingress.kubernetes.io/enable-cors` is awesome and super easy to get started with, PATCH was left out. Not sure if this was intentional or not, but would love to see it available. 

Thoughts? ",['aledbf'],1,2017-09-01 16:56:27,2017-09-02 20:42:34,2017-09-07 16:25:19,True,2017-09-02 20:42:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1290,https://github.com/kubernetes/ingress-nginx/pull/1290,chancez,Add flag to disabling node listing,"I want to run nginx ingress isolated in it's own namespace, without having to setup a ClusterRole/ClusterRoleBinding, this makes it possible by disabling the node informer. 

Note that this will mean the ingress controller is unable to get the list of IP address/fqdns where the ingress controller is currently running, and will be unable to update  ingress status with that information. Since this isn't critical to to ingress functioning in all cases, this should be fine, and this configuration is disabled by default, and should only be used when trying to run isolate the ingress controller to it's namespace.

I wasn't sure about the flag naming, but it can be updated. Also, I considered defaulting this to true if force-isolate-namespace is true, but decided to hold off on that.",['aledbf'],3,2017-09-01 22:29:57,2017-09-02 20:41:43,2017-09-05 16:30:29,True,2017-09-02 20:41:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1291,https://github.com/kubernetes/ingress-nginx/pull/1291,khrisrichardson,fix link to conformance suite,#1193 updated one of two references to a stale conformance suite link,['aledbf'],1,2017-09-01 22:55:52,2017-09-02 20:40:40,2017-09-02 20:40:40,True,2017-09-02 20:40:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1293,https://github.com/kubernetes/ingress-nginx/pull/1293,rikatz,Adds support for error page in Client Certificate Authentication,"This PR adds support for error handling in Client Certificate Authentication.

When user doesn't presents a valid certificate, he can be redirected to another page/URL instead of receiving a 400 error.

This must be a different location than the authenticated page, as an example:

- Host www.mysite.com redirects to HTTPs
- Host https://www.mysite.com requests a user certificate

If the used doesn't present a certificate, the redirect must be done to something like nocert.mysite.com, with a valid error page/location.



",['aledbf'],1,2017-09-03 20:16:42,2017-09-03 22:31:30,2017-09-04 12:00:42,True,2017-09-03 22:31:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1295,https://github.com/kubernetes/ingress-nginx/pull/1295,dunjut,fix README of nginx-ingress-controller,"I see `examples/default-backend.yaml` contains both a `Deployment` and a `Service`, then the next line

`kubectl expose rc ...`

seems to be needless. So fix it smoothly.",['aledbf'],1,2017-09-04 09:09:02,2017-09-04 13:28:16,2017-09-04 13:28:17,True,2017-09-04 13:28:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1299,https://github.com/kubernetes/ingress-nginx/pull/1299,dunjut,fix two doc issues in nginx/README,"As discussed with @aledbf , these two doc issues are confirmed, and I'm fixing them smoothly.

Link to issue #1296 

Plus, there's another doc issue as described in [issue1296](https://github.com/kubernetes/ingress/issues/1296) (the 3rd one), we can't really tell differences with or without `default-ssl-certificate` according to those two `curl` output examples. They are the almost the same, should be fixed at spare time.",['aledbf'],2,2017-09-05 06:34:07,2017-09-05 10:47:03,2017-09-05 10:47:03,True,2017-09-05 10:47:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1306,https://github.com/kubernetes/ingress-nginx/pull/1306,tscolari,Fix kubeconfig example for nginx deployment,"Missing the `volumeMounts`, without it the pod will not start",['aledbf'],1,2017-09-07 06:34:40,2017-09-07 16:28:32,2017-09-07 16:28:32,True,2017-09-07 16:28:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1307,https://github.com/kubernetes/ingress-nginx/pull/1307,dunjut,use conditional directive for TEMP_DIR in Makefile and fix README,"Hi, this PR fix a little bit doc issues (with Makefile modified harmlessly), please see files diff for details.",[],3,2017-09-07 10:46:18,2017-09-14 06:41:58,2017-09-14 06:41:58,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1308,https://github.com/kubernetes/ingress-nginx/pull/1308,mindw,A trivial typo in config,,['aledbf'],1,2017-09-07 15:04:39,2017-09-07 18:58:18,2017-09-07 18:58:18,True,2017-09-07 18:58:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1310,https://github.com/kubernetes/ingress-nginx/pull/1310,aledbf,Refactoring nginx configuration configmap,,[],1,2017-09-07 16:16:02,2017-09-07 16:45:32,2017-09-07 16:53:22,True,2017-09-07 16:45:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1311,https://github.com/kubernetes/ingress-nginx/pull/1311,aledbf,Enable nginx async writes,,[],1,2017-09-07 16:44:46,2017-09-07 16:45:14,2017-09-07 16:50:20,True,2017-09-07 16:45:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1312,https://github.com/kubernetes/ingress-nginx/pull/1312,aledbf,Allow custom forwarded for header,,[],1,2017-09-07 21:12:39,2017-09-07 21:27:16,2017-09-07 22:19:17,True,2017-09-07 21:27:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1313,https://github.com/kubernetes/ingress-nginx/pull/1313,aledbf,Fix eol in nginx template,,[],1,2017-09-07 21:13:04,2017-09-07 21:26:21,2017-09-08 00:17:28,True,2017-09-07 21:26:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1315,https://github.com/kubernetes/ingress-nginx/pull/1315,aledbf,Fix nginx custom error pages,,[],1,2017-09-07 23:41:42,2017-09-08 00:11:36,2017-09-08 00:11:36,True,2017-09-08 00:11:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1318,https://github.com/kubernetes/ingress-nginx/pull/1318,aledbf,Release nginx-slim 0.24,,['nicksardo'],1,2017-09-08 14:32:16,2017-09-08 16:54:55,2017-09-08 19:41:14,True,2017-09-08 16:54:55,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1319,https://github.com/kubernetes/ingress-nginx/pull/1319,aledbf,Release nginx ingress controller 0.9.0-beta.13,Temporal image: ` quay.io/aledbf/nginx-ingress-controller:0.211`,['nicksardo'],1,2017-09-08 14:35:18,2017-09-08 18:00:26,2017-09-08 19:41:05,True,2017-09-08 18:00:26,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1321,https://github.com/kubernetes/ingress-nginx/pull/1321,aledbf,Enable keepalive in upstreams,,[],1,2017-09-08 19:53:46,2017-09-08 20:26:29,2017-09-09 02:39:08,True,2017-09-08 20:26:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1322,https://github.com/kubernetes/ingress-nginx/pull/1322,sethpollack,parse real ip,,['aledbf'],1,2017-09-08 20:54:28,2017-09-12 13:40:39,2017-09-12 15:16:17,True,2017-09-12 13:40:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1323,https://github.com/kubernetes/ingress-nginx/pull/1323,sethpollack,use $the_real_ip for rate limit whitelist,,['aledbf'],1,2017-09-08 21:01:30,2017-09-13 16:51:34,2017-09-13 16:54:45,True,2017-09-13 16:51:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1326,https://github.com/kubernetes/ingress-nginx/pull/1326,aledbf,Pass headers from the custom error backend,,[],1,2017-09-08 23:18:49,2017-09-09 18:45:06,2017-09-09 21:46:16,True,2017-09-09 18:45:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1328,https://github.com/kubernetes/ingress-nginx/pull/1328,hzxuzhonghu,update deprecated interface,,['aledbf'],1,2017-09-09 08:21:14,2017-09-09 13:14:42,2017-09-09 13:14:42,True,2017-09-09 13:14:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1329,https://github.com/kubernetes/ingress-nginx/pull/1329,hzxuzhonghu,add example for nginx-ingress,,['aledbf'],1,2017-09-09 08:45:13,2017-09-11 01:39:49,2017-09-11 01:43:56,True,2017-09-11 01:39:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1330,https://github.com/kubernetes/ingress-nginx/pull/1330,diazjf,Increase coverage in template.go for nginx controller,Adds some of the missing unit tests to template.go for the nginx controller.,['aledbf'],1,2017-09-10 01:16:36,2017-09-10 19:48:53,2017-09-10 19:48:53,True,2017-09-10 19:48:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1331,https://github.com/kubernetes/ingress-nginx/pull/1331,aledbf,WIP: Add e2e tests for nginx,,[],6,2017-09-10 23:02:53,2017-10-19 14:24:13,2017-10-21 00:03:00,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1335,https://github.com/kubernetes/ingress-nginx/pull/1335,auhlig,Configurable proxy_request_buffering per location..,.. fix typo,['aledbf'],1,2017-09-11 20:10:57,2017-09-12 23:03:15,2017-09-14 14:43:24,True,2017-09-12 23:03:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1337,https://github.com/kubernetes/ingress-nginx/pull/1337,aledbf,WIP: Migrate to dep,,[],1,2017-09-11 22:59:23,2017-09-12 14:10:24,2017-09-12 14:10:24,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1338,https://github.com/kubernetes/ingress-nginx/pull/1338,aledbf,Fix multiple leader election,fixes #1297,[],1,2017-09-12 03:39:34,2017-09-12 12:04:09,2017-09-12 13:26:26,True,2017-09-12 12:04:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1339,https://github.com/kubernetes/ingress-nginx/pull/1339,aledbf,Enable status port listening in all interfaces,fixes #1320,[],1,2017-09-12 13:28:30,2017-09-12 13:28:46,2017-09-12 14:10:11,True,2017-09-12 13:28:45,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1340,https://github.com/kubernetes/ingress-nginx/pull/1340,wwwtyro,Update sha256sum of nginx substitutions,"For whatever reason, this sha256sum changed. Double check this before merging, obviously, but it seems legit.",['aledbf'],1,2017-09-12 13:32:44,2017-09-13 04:03:36,2017-09-13 04:03:36,True,2017-09-13 04:03:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1341,https://github.com/kubernetes/ingress-nginx/pull/1341,drigz,Fix typos,,['aledbf'],1,2017-09-12 16:33:55,2017-09-12 16:51:22,2017-09-12 16:57:48,True,2017-09-12 16:51:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1345,https://github.com/kubernetes/ingress-nginx/pull/1345,hzxuzhonghu,refactor controllers.go,"remove duplicate code, and fmt some code",['aledbf'],1,2017-09-13 04:17:33,2017-09-13 13:33:54,2017-09-14 02:39:56,True,2017-09-13 13:33:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1349,https://github.com/kubernetes/ingress-nginx/pull/1349,aledbf,Force reload if a secret is updated,fixes #1342,[],1,2017-09-13 14:18:12,2017-09-13 16:48:39,2017-09-13 16:57:02,True,2017-09-13 16:48:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1350,https://github.com/kubernetes/ingress-nginx/pull/1350,aledbf,"Revert ""refactor controllers.go""",Reverts kubernetes/ingress#1345,[],1,2017-09-13 19:16:04,2017-09-13 19:16:29,2018-03-18 20:04:19,True,2017-09-13 19:16:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1352,https://github.com/kubernetes/ingress-nginx/pull/1352,aledbf,Add example for nginx custom error pages,,[],1,2017-09-13 23:04:39,2017-09-28 17:36:21,2017-09-28 22:33:38,True,2017-09-28 17:36:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1353,https://github.com/kubernetes/ingress-nginx/pull/1353,tonglil,Clarify how to disable the GCE ingress controller,"Closes https://github.com/kubernetes/ingress/issues/1343.

Makes instructions on disabling ingresses more clear.",[],14,2017-09-13 23:29:09,2017-09-29 16:47:57,2017-12-27 22:31:09,True,2017-09-29 16:47:57,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1354,https://github.com/kubernetes/ingress-nginx/pull/1354,tonglil,Fix link,Closes https://github.com/kubernetes/ingress/pull/1194.,['aledbf'],1,2017-09-13 23:40:03,2017-09-13 23:42:37,2017-09-13 23:42:37,True,2017-09-13 23:42:37,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1356,https://github.com/kubernetes/ingress-nginx/pull/1356,hzxuzhonghu,refactor controllers.go,fix panic for previous pr #1345 ,[],1,2017-09-14 03:22:22,2017-10-27 07:39:33,2017-10-27 07:39:33,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1357,https://github.com/kubernetes/ingress-nginx/pull/1357,decker502,Surpport snippet for server section by the annotation of the ingess,"Surpport snippet for server section by the annotation of the ingess
eg:
```
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  annotations:
    ingress.kubernetes.io/server-snippet: |
      set $agentflag 0;
      #~*
      if ($http_user_agent ~* ""(Mobile)""  )
      {
        set $agentflag 1;
      }

      if ( $agentflag = 1 ) {
        return 301 https://m.example.com;
      }
```",[],2,2017-09-14 03:33:25,2017-09-14 03:40:30,2017-09-14 03:40:30,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1358,https://github.com/kubernetes/ingress-nginx/pull/1358,decker502,Surpport snippet for server section by the annotation of the ingess,"Surpport snippet for server section by the annotation of the ingess
eg:
```
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  annotations:
    ingress.kubernetes.io/server-snippet: |
      set $agentflag 0;
      #~*
      if ($http_user_agent ~* ""(Mobile)""  )
      {
        set $agentflag 1;
      }

      if ( $agentflag = 1 ) {
        return 301 https://m.example.com;
      }
```",[],3,2017-09-14 03:45:27,2017-09-17 13:26:45,2017-09-17 13:26:45,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1362,https://github.com/kubernetes/ingress-nginx/pull/1362,gianrubio,Customize VTS/Prometheus metrics  ,"This PR add ability to customize the [vts vhost key](https://github.com/vozlt/nginx-module-vts#vhost_traffic_status_filter_by_set_key). The example below show how to count requests by grouped by server, path

# Changes (breaking changes?) 
The previous `country` var are renamed to `key`

<img width=""1162"" alt=""screen shot 2017-09-14 at 13 30 09"" src=""https://user-images.githubusercontent.com/5694860/30429313-49827cc4-9957-11e7-9bde-bf25a6fc8ead.png"">

# Examples to customize
##  NGINX custom configuration ( http level )

```
  apiVersion: v1
  kind: ConfigMap
  data:
    enable-vts-status: ""true""
    vts-default-filter-key: ""$server_name""
...
```

## Customize ingress, key by path (NGINX $uri)

```
 apiVersion: extensions/v1beta1
  kind: Ingress
  metadata:
    annotations:
      ingress.kubernetes.io/vts-filter-key: $uri $server_name
    name: ingress
```

## Result 

<img width=""1236"" alt=""screen shot 2017-09-14 at 13 30 25"" src=""https://user-images.githubusercontent.com/5694860/30429314-49854242-9957-11e7-92cf-208210dd58b6.png"">

",['aledbf'],2,2017-09-14 12:33:07,2017-09-15 11:19:06,2017-09-15 11:19:07,True,2017-09-15 11:19:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1363,https://github.com/kubernetes/ingress-nginx/pull/1363,aledbf,Fix proxy request buffering default configuration,,[],1,2017-09-14 14:42:48,2017-09-14 15:09:13,2017-09-14 16:45:29,True,2017-09-14 15:09:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1364,https://github.com/kubernetes/ingress-nginx/pull/1364,kerneljack,Adding note about ConfigMap command-line argument,"Just a simple note that in order to get ConfigMaps to work properly with the controller, you need to add the --configmap command-line argument.",[],7,2017-09-14 16:29:27,2017-09-17 13:26:56,2017-09-17 13:26:56,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1365,https://github.com/kubernetes/ingress-nginx/pull/1365,Dirbaio,Fix equals comparsion returing False if both objects have nil Targets or Services.,"# How to reproduce
- Deploy an nginx ingress controller
- Create an ingress with the Kubernetes service:
```yaml
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  annotations:
    ingress.kubernetes.io/secure-backends: ""true""
    kubernetes.io/ingress.allow-http: ""false""
    kubernetes.io/ingress.class: nginx
  name: kubernetes
  namespace: default
spec:
  rules:
  - host: example.com
    http:
      paths:
      - backend:
          serviceName: kubernetes
          servicePort: 443
        path: /
  tls:
  - hosts:
    - example.com
    secretName: tls-example-com
```
- Watch the ingress controller reload nginx over and over again, even if nothing changes

# Why this happens 

The Kubernetes service has `nil` in the address Target, unlike regular services. There's a bug in `Endpoint.Equals()` that returns `false` incorrectly if both endpoints have `nil`. This PR fixes it.

While looking at the other `Equals` functions, I noticed the same bug with `Service`s in two places. I fixed them too, but I haven't checked if there is also a situation that can also cause endless reloads..
",['aledbf'],1,2017-09-14 17:05:54,2017-09-14 23:05:47,2017-09-14 23:05:47,True,2017-09-14 23:05:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1367,https://github.com/kubernetes/ingress-nginx/pull/1367,SaaldjorMike,Fix typos,,['aledbf'],1,2017-09-14 19:36:45,2017-09-14 23:05:16,2017-09-14 23:05:16,True,2017-09-14 23:05:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1376,https://github.com/kubernetes/ingress-nginx/pull/1376,Noah-Huppert,default backend service quota now 5,#1375,[],1,2017-09-15 19:10:21,2017-09-15 19:22:36,2017-09-15 19:23:24,True,2017-09-15 19:22:36,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1379,https://github.com/kubernetes/ingress-nginx/pull/1379,aledbf,Fix catch all  upstream server,fixes #1372,[],1,2017-09-17 14:55:54,2017-09-17 15:29:43,2017-09-17 18:10:57,True,2017-09-17 15:29:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1380,https://github.com/kubernetes/ingress-nginx/pull/1380,aledbf,Cleanup,,[],1,2017-09-17 16:34:49,2017-09-17 17:04:19,2017-09-17 18:11:04,True,2017-09-17 17:04:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1381,https://github.com/kubernetes/ingress-nginx/pull/1381,aledbf,Refactor X-Forwarded-* headers,"Test images: `quay.io/aledbf/nginx-ingress-controller:0.223`

Replaces #1222
Fixes #1000
",[],12,2017-09-17 18:03:44,2017-09-30 20:04:26,2017-09-30 20:08:03,True,2017-09-30 20:04:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1382,https://github.com/kubernetes/ingress-nginx/pull/1382,aledbf,Cleanup,,[],1,2017-09-17 18:44:47,2017-09-17 19:46:41,2017-09-17 19:47:31,True,2017-09-17 19:46:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1383,https://github.com/kubernetes/ingress-nginx/pull/1383,aledbf,Release nginx-slim 0.25,This release adds support for opentracing (zipkin) and HTTP/2 headers compression,['nicksardo'],1,2017-09-17 21:31:41,2017-09-26 16:08:40,2017-09-26 16:39:18,True,2017-09-26 16:08:40,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1384,https://github.com/kubernetes/ingress-nginx/pull/1384,aledbf,Add support for opentracing,"fixes #1366

Test image: `quay.io/aledbf/nginx-ingress-controller:0.224`

Local zipkin:
`docker run -d -p 9411:9411 openzipkin/zipkin`

Configmap configuration:
```
apiVersion: v1
data:
  enable-opentracing: ""true""
  zipkin-collector-host: 192.168.99.1
```

![screenshot from 2017-09-17 21 11 28](https://user-images.githubusercontent.com/161571/30526217-3a040b3a-9bed-11e7-87db-3e3da50d99a1.png)
",[],1,2017-09-17 21:44:41,2017-09-26 16:29:09,2017-09-26 16:39:11,True,2017-09-26 16:29:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1387,https://github.com/kubernetes/ingress-nginx/pull/1387,aledbf,Improve resource usage in nginx controller,,[],1,2017-09-19 00:00:10,2017-09-19 17:34:07,2017-09-19 17:37:18,True,2017-09-19 17:34:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1389,https://github.com/kubernetes/ingress-nginx/pull/1389,decker502,Surpport snippet for server section by the annotation of the ingess,"Surpport snippet for server section by the annotation of the ingess
eg:

apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  annotations:
    ingress.kubernetes.io/server-snippet: |
      set $agentflag 0;
      #~*
      if ($http_user_agent ~* ""(Mobile)""  )
      {
        set $agentflag 1;
      }

      if ( $agentflag = 1 ) {
        return 301 https://m.example.com;
      }",[],4,2017-09-19 02:05:42,2017-09-20 06:01:14,2017-09-20 06:01:14,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1391,https://github.com/kubernetes/ingress-nginx/pull/1391,thedch,Add missing whitespace line between items,Add a whitespace line for improved readability.,['aledbf'],1,2017-09-19 20:26:06,2017-09-20 03:33:37,2017-09-20 03:33:37,True,2017-09-20 03:33:37,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1392,https://github.com/kubernetes/ingress-nginx/pull/1392,aledbf,Avoid issues with goroutines updating fields,,[],1,2017-09-19 20:47:31,2017-09-19 21:14:41,2017-09-19 22:43:58,True,2017-09-19 21:14:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1393,https://github.com/kubernetes/ingress-nginx/pull/1393,aledbf,Limit the number of goroutines used for the update of  ingress status,,[],1,2017-09-19 23:40:00,2017-09-20 03:42:10,2017-09-24 20:20:50,True,2017-09-20 03:42:10,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1394,https://github.com/kubernetes/ingress-nginx/pull/1394,aledbf,Improve equals,,[],1,2017-09-20 01:24:53,2017-09-20 01:49:34,2017-09-20 02:00:07,True,2017-09-20 01:49:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1398,https://github.com/kubernetes/ingress-nginx/pull/1398,decker502,Surpport snippet for server section by the annotation of the ingess,"eg:
```
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
annotations:
ingress.kubernetes.io/server-snippet: |
set $agentflag 0;

if ($http_user_agent ~* ""(Mobile)"" )
{
set $agentflag 1;
}

  if ( $agentflag = 1 ) {
    return 301 https://m.example.com;
  }
```",['aledbf'],3,2017-09-21 02:46:04,2017-09-27 17:44:08,2017-09-27 17:44:08,True,2017-09-27 17:44:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1400,https://github.com/kubernetes/ingress-nginx/pull/1400,maxlaverse,Fix ConfigMap link in doc,"The link to the ConfigMap introduction is broken on the main Nginx README.

I propose to change it to the kubernetes.io task explaining what a ConfigMap is.",['aledbf'],1,2017-09-21 08:25:06,2017-09-24 19:29:35,2017-09-24 19:30:27,True,2017-09-24 19:29:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1402,https://github.com/kubernetes/ingress-nginx/pull/1402,auhlig,fix error when cert or key is nil,"If the key (`""tls.crt""`|`""tls.key""`) in secret.Data map exists, but the value is nil the ingress controller crashes. Check this and return an error if this is the case to prevent:
```
...
backend_ssl.go:64] adding secret <ns>/<sn> to the local store
runtime.go:66] Observed a panic: ""invalid memory address or nil pointer dereference"" (runtime error: invalid memory address or nil pointer dereference)
```",['aledbf'],1,2017-09-21 15:52:15,2017-09-24 19:30:13,2017-09-24 19:30:13,True,2017-09-24 19:30:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1403,https://github.com/kubernetes/ingress-nginx/pull/1403,wombat,Added tls ports to rbac nginx ingress controller and service,"The rbac nginx ingress controller and service were missing tls/https
ports and nodePorts",['aledbf'],1,2017-09-21 17:54:32,2017-09-24 19:31:15,2017-09-24 19:31:15,True,2017-09-24 19:31:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1404,https://github.com/kubernetes/ingress-nginx/pull/1404,bobveznat,Use nginx default value for SSLECDHCurve,"This configuration setting permits nginx to auto discover supported curves based on what openssl was compiled with. With the old default of secp384r1 if you attempted to use a key from a different curve, for example prime256v1, the SSL handshake would fail in an awful way without any helpful errors logged anywhere.

The default setting in nginx has been ""auto"" since 1.11.0",['aledbf'],1,2017-09-21 18:57:10,2017-09-24 19:31:02,2017-09-24 19:31:02,True,2017-09-24 19:31:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1411,https://github.com/kubernetes/ingress-nginx/pull/1411,diazjf,Add more descriptive logging in certificate loading,"Currently a log ""secret %v has no private key"" is provided for cert and ""secret %v has no cert"" is provided for key. They are in the wrong place. This PR corrects the ordering and adds a description as to what is actually missing.",['aledbf'],1,2017-09-22 20:26:11,2017-09-24 19:27:53,2017-09-24 19:27:53,True,2017-09-24 19:27:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1412,https://github.com/kubernetes/ingress-nginx/pull/1412,diazjf,Correct Error Handling to avoid panics and add more logging to template,"When a type error is found we return an empty object of the expected type (Example: return """" for string return type). Also adds logging to all errors caused by type and corrects all related logging for consistency.",['aledbf'],1,2017-09-22 22:28:07,2017-09-24 19:27:21,2017-09-24 19:27:22,True,2017-09-24 19:27:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1413,https://github.com/kubernetes/ingress-nginx/pull/1413,aledbf,Validate external names,fixes #1409,[],1,2017-09-24 20:37:18,2017-09-24 21:54:25,2017-09-26 00:13:13,True,2017-09-24 21:54:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1415,https://github.com/kubernetes/ingress-nginx/pull/1415,abetterway2feel,Add location-modifier annotation to allow simple reg-ex locations,"Pass location modifier in annotation
```
metadata:
  ...
  annotations:
   ...
    ingress.kubernetes.io/location-modifier: ""~""
```

Ingress paths can now have regex:

```
rules:
  - host: ...
    http:
      paths:
      - path: ""/users/.*/documents""
        backend:
          serviceName: myservice1
          servicePort: 8080
  - host: ...
    http:
      paths:
      - path: ""/users/.*/records""
        backend:
          serviceName: myservice2
          servicePort: 8080
```

In nginx a modifier can be passed which decides how locations will be parsed, i.e. regex or no regex.
This change allows a location modifier to be passed as an annotation.
If no location-modifier is passed but 'rewrite-target' is provided, then a default of ""*~"" is assumed.",['aledbf'],1,2017-09-25 16:07:07,2018-10-02 02:26:36,2018-10-02 02:27:06,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1418,https://github.com/kubernetes/ingress-nginx/pull/1418,nikhita,Fix links after design proposals move,The design proposals were organized according to SIGs in https://github.com/kubernetes/community/pull/1010. This led to a couple of broken links.,['aledbf'],1,2017-09-25 18:50:47,2017-09-25 18:57:07,2017-09-25 19:14:22,True,2017-09-25 18:57:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1419,https://github.com/kubernetes/ingress-nginx/pull/1419,aledbf,Remove duplicated ingress check code,,[],1,2017-09-25 19:41:15,2017-09-25 20:31:29,2017-09-26 00:13:05,True,2017-09-25 20:31:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1420,https://github.com/kubernetes/ingress-nginx/pull/1420,aledbf,Process queue items by time window,"This allows us to avoid building and compare a new Configuration (which is expensive) with the running configuration and cases where the sync is not required.


1. when inserting event to queue insert current timestamp with it (I will call it eventTimestamp)
2. just before taking any item from queue store current timestamp to a variable (I will call it takeoutTimestamp)
3. after taking item from queue complete all processing as usual. That will take some time but should leave the system synchronized at worst to the time of takeoutTimestamp
4. after synchronization is finished pop events from the queue as long as their eventTimestamp < takeoutTimestamp. That will get rid of all the events for changes that we are sure are already part of running state.

thanks to @Gregy for the logic ^^

fixes #1386
",[],1,2017-09-26 12:58:00,2017-09-26 13:37:31,2017-09-26 13:44:24,True,2017-09-26 13:37:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1421,https://github.com/kubernetes/ingress-nginx/pull/1421,pipo02mix,Update link 404 server,Update link 404 server,[],1,2017-09-26 13:48:22,2017-09-30 21:03:34,2017-09-30 21:03:34,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1423,https://github.com/kubernetes/ingress-nginx/pull/1423,aledbf,Fix cast error,,[],1,2017-09-26 18:05:42,2017-09-26 18:31:06,2017-09-26 18:53:49,True,2017-09-26 18:31:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1424,https://github.com/kubernetes/ingress-nginx/pull/1424,albertvaka,Allow overriding the tag and registry,The same way it is possible in controllers/nginx/Makefile,['aledbf'],1,2017-09-26 21:11:51,2017-09-26 21:26:09,2017-09-26 21:34:49,True,2017-09-26 21:26:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1426,https://github.com/kubernetes/ingress-nginx/pull/1426,diazjf,Enhance Certificate Logging and Clearup Mutual Auth Docs,"Adds better logging to errors cause when getting a Certificate. Adds notes and updates documentation for Mutual Authentication, as well as removes unused function for Mutual Authentication.",['aledbf'],1,2017-09-27 03:52:12,2017-09-27 17:11:12,2017-09-27 17:11:12,True,2017-09-27 17:11:12,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1430,https://github.com/kubernetes/ingress-nginx/pull/1430,jbguerraz,Add support for proxy protocol decoding and encoding in TCP services,"Examples:

```
apiVersion: v1
data:
  ""9000"": default/http-svc:80:PROXY:PROXY
kind: ConfigMap
metadata:
  name: ingress-controller-tcp
  namespace: kube-system

```

```
# TCP services
+    upstream tcp-default-http-svc-80 {
+        server                  172.17.0.3:8080;
+        server                  172.17.0.4:8080;
+    }
+
+    server {
+        listen                  9000 proxy_protocol;
+        listen                  [::]:9000 proxy_protocol;
+        proxy_pass        tcp-default-http-svc-80;
+        proxy_protocol   on;
+    }
```

```
apiVersion: v1
data:
  ""9000"": default/http-svc:80::PROXY
kind: ConfigMap
metadata:
  name: ingress-controller-tcp
  namespace: kube-system

```

```
 # TCP services
+    upstream tcp-default-http-svc-80 {
+        server                  172.17.0.3:8080;
+        server                  172.17.0.4:8080;
+    }
+
+    server {
+        listen                  9000;
+        listen                  [::]:9000;
+        proxy_pass        tcp-default-http-svc-80;
+        proxy_protocol   on;
+    }
```

```
apiVersion: v1
data:
  ""9000"": default/http-svc:80:PROXY
kind: ConfigMap
metadata:
  name: ingress-controller-tcp
  namespace: kube-system

```

```
# TCP services
+    upstream tcp-default-http-svc-80 {
+        server                  172.17.0.3:8080;
+        server                  172.17.0.4:8080;
+    }
+
+    server {
+        listen                  9000 proxy_protocol;
+        listen                  [::]:9000 proxy_protocol;
+        proxy_pass        tcp-default-http-svc-80;
+    }
```",['aledbf'],1,2017-09-27 17:08:30,2017-09-27 17:38:17,2017-09-27 17:40:38,True,2017-09-27 17:38:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1431,https://github.com/kubernetes/ingress-nginx/pull/1431,bobveznat,Teach L4Backend.Equal about more attributes,We were missing the ServerName and UseProxyProtocol attributes which was causing updates to not trigger in my environment.,['aledbf'],1,2017-09-27 17:10:04,2018-01-19 17:26:08,2018-01-19 17:26:08,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1432,https://github.com/kubernetes/ingress-nginx/pull/1432,bobveznat,SNI routing using the nginx map preread module,"I want to preface this by saying that this is a disgusting pile of a diff here. The purpose of me sharing this commit is to share how I'm using the project and possibly spawn conversation.

I was a little surprised to learn that the current SNI routing system implemented by this project is not actually leveraging nginx at all, but is entirely done in golang. I simply was unwilling to connect the current ingress sni routing feature to the Internet. nginx, however, is tried and true and supports SNI routing.

I modeled this change after the TCP l4 stuff that already exists, there's a fair bit of copy-pasta in here.

I also really wanted to leverage the serviceUpstream change that is reasonably recent to the project. My deployment of Kubernetes relies on having persistent connections last as long as possible because TLS handshakes are expensive. During deployments every time the ""pod topology"" changed (i.e. anytime a pod changed status) nginx would reload it's configuration and recycle, ultimately nuking all open connections. Using serviceUpstream we are ~never reloading our nginx config and therefore aren't artificially terminating connections.

Again, I don't expect this code to ever get merged, at least not as-is. I just wanted the maintainers to be able to see how we're using the project.

Since you might be wondering why I would deploy code that I don't want merged upstream: we're expecting to migrate away from SNI routing ~soon. This is a stopgap (prior to this we were SNI routing with haproxy and code that looks like an ingress controller but that predates ingress controllers).

",[],4,2017-09-27 17:23:52,2017-11-04 01:33:44,2017-11-04 01:33:44,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1433,https://github.com/kubernetes/ingress-nginx/pull/1433,zerda,Make add-base-url compatible with minified html,"Most modern frontend project use webpack to minify resources. The minified html would be a single line, like following.
```
<html><head><title>Example</title></head><body><a href=""somelink"">click here</a></body></html>
``` 

The regexp `<head(.*)>` matched the whole line, and the base tag would append to the end.
```
<html><head><title>Example</title></head><body><a href=""somelink"">click here</a></body></html><base href=""http://example.com/"">
```
",['aledbf'],1,2017-09-27 22:02:01,2017-10-31 11:03:51,2017-10-31 11:03:51,True,2017-10-31 11:03:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1434,https://github.com/kubernetes/ingress-nginx/pull/1434,jcmoraisjr,Fix exec of readSecrets,Fixes the cast of `syncIngress(interface{})` param. Without this PR new secrets aren't added to the local store.,['aledbf'],2,2017-09-27 23:56:49,2017-09-28 00:59:08,2017-09-28 01:00:01,True,2017-09-28 00:59:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1435,https://github.com/kubernetes/ingress-nginx/pull/1435,aledbf,Add header to upstream server for external authentication,fixes #1429,[],1,2017-09-28 02:51:51,2017-09-28 22:46:32,2017-09-28 22:46:32,True,2017-09-28 22:46:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1438,https://github.com/kubernetes/ingress-nginx/pull/1438,aledbf,Do not intercept errors from the custom error service,,[],1,2017-09-28 13:08:19,2017-09-28 13:32:48,2017-09-28 22:33:05,True,2017-09-28 13:32:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1440,https://github.com/kubernetes/ingress-nginx/pull/1440,aledbf,Kill worker processes to allow the restart of nginx,"fixes #1439 

Tests image `quay.io/aledbf/nginx-ingress-controller:0.239`",[],1,2017-09-28 14:52:27,2017-09-28 16:17:13,2017-09-28 22:32:17,True,2017-09-28 16:17:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1441,https://github.com/kubernetes/ingress-nginx/pull/1441,aledbf,Improve custom error pages doc,,[],1,2017-09-28 22:41:26,2017-09-28 22:44:39,2017-09-28 22:47:24,True,2017-09-28 22:44:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1442,https://github.com/kubernetes/ingress-nginx/pull/1442,aledbf,Opentracing docs,fixes #1422,[],1,2017-09-29 00:05:12,2017-09-29 11:07:32,2017-09-29 12:03:24,True,2017-09-29 11:07:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1445,https://github.com/kubernetes/ingress-nginx/pull/1445,nicksardo,Updated godeps,"Point to 1.8.0

@aledbf please double check at your convenience.","['aledbf', 'freehan', 'nikhiljindal']",2,2017-09-29 17:29:16,2017-09-29 20:33:43,2018-01-16 20:16:14,True,2017-09-29 20:33:43,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1446,https://github.com/kubernetes/ingress-nginx/pull/1446,aledbf,Add custom timeout annotations doc,fixes #1444,[],1,2017-09-29 18:23:57,2017-09-29 18:24:25,2017-09-29 19:09:00,True,2017-09-29 18:24:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1447,https://github.com/kubernetes/ingress-nginx/pull/1447,freehan,WIP: NEG,,"['nicksardo', 'bowei', 'thockin']",10,2017-09-29 22:56:24,2017-10-09 17:14:57,2017-10-09 17:14:57,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1450,https://github.com/kubernetes/ingress-nginx/pull/1450,aledbf,Fix links,,[],1,2017-09-30 21:05:43,2017-09-30 21:05:53,2017-09-30 21:05:53,True,2017-09-30 21:05:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1451,https://github.com/kubernetes/ingress-nginx/pull/1451,aledbf,Add example of server-snippet,,[],1,2017-09-30 21:25:29,2017-09-30 21:25:34,2017-09-30 21:28:38,True,2017-09-30 21:25:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1452,https://github.com/kubernetes/ingress-nginx/pull/1452,aledbf,Fix sync of secrets  (kube lego),,[],2,2017-09-30 23:43:17,2017-10-01 13:41:29,2017-10-01 13:42:51,True,2017-10-01 13:41:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1454,https://github.com/kubernetes/ingress-nginx/pull/1454,aledbf,Allow custom global configuration at multiple levels,fixes #1324,[],1,2017-10-01 14:46:04,2017-10-01 15:05:13,2017-10-03 11:58:50,True,2017-10-01 15:05:12,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1455,https://github.com/kubernetes/ingress-nginx/pull/1455,aledbf,Release nginx ingress controller 0.9-beta.14,Temporal image: `quay.io/aledbf/nginx-ingress-controller:0.249`,['nicksardo'],1,2017-10-01 15:17:45,2017-10-03 00:11:18,2017-10-03 11:58:46,True,2017-10-03 00:11:18,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1456,https://github.com/kubernetes/ingress-nginx/pull/1456,kairen,Fix haproxy example broken link,"In the example of HAProxy deployment, we can see `step` reference link already broken, so I redirect it to `Setup cluster` page.",['aledbf'],1,2017-10-02 16:14:18,2017-10-02 16:20:36,2017-10-02 16:33:38,True,2017-10-02 16:20:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1460,https://github.com/kubernetes/ingress-nginx/pull/1460,chotiwat,Expose UDP port in UDP ingress example,The port protocol in the nginx UDP loadbalancing example is not specified so it defaults to TCP.,['aledbf'],1,2017-10-02 20:10:54,2017-10-03 09:47:03,2017-10-03 09:47:03,True,2017-10-03 09:47:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1462,https://github.com/kubernetes/ingress-nginx/pull/1462,nicksardo,[GCLB] Handle case of not having firewall create/update/delete with XPN,"If the controller does not have the ability of managing the firewall rule on XPN, the controller will instead raise an event. The event message prints out the resulting gcloud command.

Since this bug (https://github.com/kubernetes/ingress/issues/950) is still relevant, events raised here will apply to all ingresses that have synced. For example, suppose you have two ingress objects. Ingress-A references nodeport-A and ingress-B references nodeport-B. Assuming a firewall rule exists with only nodeport-A, an event will be raised on both ingresses (after syncing for each ingress).",[],1,2017-10-02 23:23:38,2017-10-06 00:40:02,2017-10-06 00:40:02,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1463,https://github.com/kubernetes/ingress-nginx/pull/1463,nikhiljindal,GCE: Updating instance groups interface to accept all named ports at once,"Follow up from https://github.com/kubernetes/ingress/pull/1033.

Updating the BackendPool (for backend services) and NodePool (for instance groups) interfaces so that all named ports can be added to an instance group at once. This removes unnecessary API calls where for each named port, we were first fetching the instance group and then setting the named port on it. With this change, we should fetch the instance group once and then set all named ports in a single API call.

Have also removed BackendPool.Sync method since Add does the same now.
Sync was also misleading since it only added backend services and didnt delete them. Add is more explicit.

cc @nicksardo @csbell @G-Harmon",[],1,2017-10-03 04:41:35,2017-10-06 01:15:14,2017-10-06 01:15:14,True,2017-10-06 01:15:13,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1465,https://github.com/kubernetes/ingress-nginx/pull/1465,gianrubio,review prometheus docs,,['aledbf'],1,2017-10-03 10:51:40,2017-10-03 11:05:51,2017-10-03 11:08:56,True,2017-10-03 11:05:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1466,https://github.com/kubernetes/ingress-nginx/pull/1466,killfill,Add original $host header on the auth request,"It would be quite useful to send the original $host header information to the internal /auth request nginx does.

For example, when the application sits on a different (sub-)domain than the auth service.
This way it can use it to do its job!

Thanks!


Reference: https://github.com/kubernetes/ingress/commit/8fc6101d3ba11a1117d211bdac6104dab7af8eeb

cc @aledbf

",[],1,2017-10-03 13:18:34,2017-10-03 18:42:48,2017-10-03 18:42:48,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1468,https://github.com/kubernetes/ingress-nginx/pull/1468,killfill,Add the original URL to the auth request,"It would be nice to send the original URL to the auth request.

This would be useful in cases where the /auth request is on a different domain as the service thats behind it.

Thanks!",['aledbf'],1,2017-10-03 18:51:14,2017-10-03 19:10:24,2017-10-03 19:10:24,True,2017-10-03 19:10:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1469,https://github.com/kubernetes/ingress-nginx/pull/1469,killfill,Typo: Add missing {{ }},"Nginx ingress does not seems to be working because of this ;)

reference: https://github.com/kubernetes/ingress/commit/8fc6101d3ba11a1117d211bdac6104dab7af8eeb",['aledbf'],1,2017-10-03 18:58:22,2017-10-03 19:10:56,2017-10-03 19:23:51,True,2017-10-03 19:10:56,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1471,https://github.com/kubernetes/ingress-nginx/pull/1471,aledbf,Fix X-Auth-Request-Redirect value to reflect the request uri,,[],1,2017-10-04 13:53:59,2017-10-04 13:57:21,2017-10-04 14:11:49,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1472,https://github.com/kubernetes/ingress-nginx/pull/1472,aledbf,Fix X-Auth-Request-Redirect value to reflect the request uri,,[],1,2017-10-04 14:00:51,2017-10-04 14:20:16,2018-01-25 03:16:07,True,2017-10-04 14:20:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1473,https://github.com/kubernetes/ingress-nginx/pull/1473,aledbf,Fix proxy protocol check,,[],1,2017-10-04 17:13:18,2017-10-04 17:48:31,2017-10-04 17:48:31,True,2017-10-04 17:48:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1475,https://github.com/kubernetes/ingress-nginx/pull/1475,aledbf,Add OCSP support,"This PR adds support for OCSP transparently. This means the ingress controller will check the configured SSL certificate for missing intermediate certs and generate PEM file with the complete chain (this is required in NGINX to support OCSP)

No change is required in the existing certificates

fixes #416
fixes https://github.com/kubernetes/contrib/issues/1949

Test image: `quay.io/aledbf/nginx-ingress-controller:0.253`",[],1,2017-10-04 20:11:28,2017-10-05 02:03:52,2017-11-16 18:57:18,True,2017-10-05 02:03:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1477,https://github.com/kubernetes/ingress-nginx/pull/1477,aledbf,Fix semicolons in global configuration,fixes #1476,[],1,2017-10-05 01:51:18,2017-10-05 02:11:44,2017-10-05 21:00:59,True,2017-10-05 02:11:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1478,https://github.com/kubernetes/ingress-nginx/pull/1478,aledbf,Pass redirect field in login page to get a proper redirect,fixes #1314,[],1,2017-10-05 04:55:58,2017-10-05 17:58:59,2017-10-05 17:58:59,True,2017-10-05 17:58:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1480,https://github.com/kubernetes/ingress-nginx/pull/1480,auhlig,configurable ssl_verify_client,"Allows configuration of [ssl_verify_client](http://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_verify_client) via annotation. Fixes #1359.
",['aledbf'],1,2017-10-05 11:32:07,2017-10-05 12:02:45,2017-10-05 12:02:45,True,2017-10-05 12:02:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1484,https://github.com/kubernetes/ingress-nginx/pull/1484,nicksardo,[GCLB] Gracefully handle lack of IAM rights for modifying firewall,,[],1,2017-10-06 00:40:46,2017-10-06 16:56:29,2017-10-06 16:56:29,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1485,https://github.com/kubernetes/ingress-nginx/pull/1485,aledbf,Fix source IP address,fixes #1470,[],1,2017-10-06 01:56:16,2017-10-06 02:56:27,2017-10-06 02:57:30,True,2017-10-06 02:56:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1486,https://github.com/kubernetes/ingress-nginx/pull/1486,aledbf,Fix overwrite of custom configuration,fixes #1479,[],1,2017-10-06 03:28:43,2017-10-06 04:29:12,2017-10-06 04:30:45,True,2017-10-06 04:29:12,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1487,https://github.com/kubernetes/ingress-nginx/pull/1487,aledbf,Release nginx ingress controller 0.9-beta.15,Temporal image: `quay.io/aledbf/nginx-ingress-controller:0.256`,['nicksardo'],1,2017-10-06 04:36:57,2017-10-06 17:27:31,2017-10-06 17:32:05,True,2017-10-06 17:27:31,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1489,https://github.com/kubernetes/ingress-nginx/pull/1489,maxlaverse,Compute a real `X-Forwarded-For` header,"Hi !
It's great that the real-ip module has been built in the Ingress. It simplifies the work of a lot of applications by extracting the real client ip automatically for them, avoid the hassle of implementing this is a lot of different languages.

However, the `X-Forwarded-For` header is supposed to contain all the L7 LB or Reverse-proxies that have been crossed, from the client to the application. Of course this information could still be computed by appending `remote_addr` to the `X-Original-Forwarded-For` header on the server side, but it sounds a bit weird.

I would expect the Ingress to behave as any classic reverse-proxy installation, but maybe my ""classic"" picture is wrong. 

On the other hand, if you are only interested in having the real client IP and you extract it from the `x-forwarded-for` header, since you already trust the Ingress it should not be an issue to loose the addresses of other L7 reverse-proxy that have been traversed.",['aledbf'],2,2017-10-06 13:07:23,2017-10-26 23:45:07,2017-10-28 15:38:40,True,2017-10-26 23:45:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1490,https://github.com/kubernetes/ingress-nginx/pull/1490,methodmissing,Introduce an upstream-hash-by annotation to support consistent hashing by nginx variable or text,"This PR consolidates the changesets from 2 distinct fork PRs:

* https://github.com/Shopify/ingress/pull/5
* https://github.com/Shopify/ingress/pull/6

Generates the following:

```
host:test user$ kubectl describe ing -n something-staging
Name:            something-web
Namespace:        something-staging
Address:        X.X.X.X
Default backend:    default-http-backend:80 (Y.Y.Y.Y:8080)
TLS:
  star-something terminates something-staging.something.com
Rules:
  Host                    Path    Backends
  ----                    ----    --------
  something-staging.something.com    
                             something-web:80 (<none>)
Annotations:
  auth-realm:        blah bblah
  auth-secret:        something-basic-auth
  auth-type:        basic
  upstream-hash-by:    $request_uri <<<<<<<<<<<<<<<<<<<<<<<<<<<
```

```
upstream something-staging-something-web-80 {
        # Load balance algorithm; empty for round robin, which is the default
        least_conn;

        hash $request_uri consistent; <<<<<<<<<<<<<<<<<<<<
        server Y.Y.Y.Y:8000 max_fails=0 fail_timeout=0;
}
```",['aledbf'],1,2017-10-06 16:48:02,2017-10-07 19:37:02,2017-10-07 19:37:02,True,2017-10-07 19:37:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1491,https://github.com/kubernetes/ingress-nginx/pull/1491,nicksardo,Note that GCE has moved to a new repo,,['aledbf'],1,2017-10-06 17:25:25,2017-10-06 17:30:18,2017-10-06 17:43:11,True,2017-10-06 17:30:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1492,https://github.com/kubernetes/ingress-nginx/pull/1492,aledbf,Cleanup readme.md,,[],1,2017-10-06 17:36:41,2017-10-06 17:36:59,2017-10-07 00:34:22,True,2017-10-06 17:36:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1494,https://github.com/kubernetes/ingress-nginx/pull/1494,aledbf,Cleanup,,[],8,2017-10-06 20:11:36,2017-10-07 00:09:47,2017-10-07 00:34:14,True,2017-10-07 00:09:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1497,https://github.com/kubernetes/ingress-nginx/pull/1497,aledbf,Cleanup examples directory,,[],1,2017-10-07 21:30:21,2017-10-07 21:53:55,2017-10-08 15:13:43,True,2017-10-07 21:53:55,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1498,https://github.com/kubernetes/ingress-nginx/pull/1498,aledbf,Add modsecurity module,"**What this PR does / why we need it**:

This PR adds the [ModSecurity-nginx](https://github.com/SpiderLabs/ModSecurity-nginx) module to the nginx-slim image.

",['nicksardo'],3,2017-10-08 13:59:19,2017-10-10 21:38:04,2017-10-10 22:33:41,True,2017-10-10 21:38:04,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1500,https://github.com/kubernetes/ingress-nginx/pull/1500,aledbf,Enable modsecurity feature,"Temporal image: `quay.io/aledbf/nginx-ingress-controller:0.262`

fixes #116

",[],1,2017-10-08 14:54:15,2017-10-10 21:39:32,2017-12-15 09:45:39,True,2017-10-10 21:39:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1501,https://github.com/kubernetes/ingress-nginx/pull/1501,aledbf,Request ingress controller version in issue template,,[],1,2017-10-08 15:00:51,2017-10-08 15:00:59,2017-10-08 15:13:26,True,2017-10-08 15:00:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1502,https://github.com/kubernetes/ingress-nginx/pull/1502,aledbf,Force reload on template change,fixes #1499,[],1,2017-10-08 15:07:22,2017-10-08 20:20:26,2017-11-30 11:00:01,True,2017-10-08 20:20:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1503,https://github.com/kubernetes/ingress-nginx/pull/1503,aledbf,Add falg to report node internal IP address in ingress status,"fixes #1414
fixes #1407",[],1,2017-10-08 17:29:51,2017-10-08 18:24:05,2018-02-10 10:02:11,True,2017-10-08 18:24:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1504,https://github.com/kubernetes/ingress-nginx/pull/1504,aledbf,Clean readme,,[],1,2017-10-08 19:53:52,2017-10-08 19:53:58,2017-10-08 19:58:13,True,2017-10-08 19:53:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1505,https://github.com/kubernetes/ingress-nginx/pull/1505,aledbf,Increase size of variable hash bucket,,[],1,2017-10-08 20:38:27,2017-10-08 21:16:40,2017-10-08 21:16:40,True,2017-10-08 21:16:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1506,https://github.com/kubernetes/ingress-nginx/pull/1506,aledbf,Update nginx ssl configuration,"Update default ciphers and TLS to v1.2

https://mozilla.github.io/server-side-tls/ssl-config-generator/",[],1,2017-10-08 22:12:04,2017-10-08 22:12:23,2017-10-08 22:12:23,True,2017-10-08 22:12:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1507,https://github.com/kubernetes/ingress-nginx/pull/1507,aledbf,Add tls session ticket key setting,,[],1,2017-10-08 22:37:45,2017-10-08 22:37:51,2017-10-08 22:49:13,True,2017-10-08 22:37:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1508,https://github.com/kubernetes/ingress-nginx/pull/1508,Globegitter,Fixed link in prometheus example,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2017-10-09 06:06:03,2017-10-09 12:32:17,2017-10-09 12:32:17,True,2017-10-09 12:32:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1510,https://github.com/kubernetes/ingress-nginx/pull/1510,VasekPurchart,Update example URLs after nginx is the only implementation in repo,"I have been going through some examples and found out that some URLs are not working properly, I guess these ale leftovers from #1494 and #1497.

(My CLA is probably not signed yet, ended up in `There are no servers available for serving this page. We are currently aware of the problem and are working to fix it. We apologize for the inconvenience.`)",[],1,2017-10-09 11:17:04,2017-10-21 01:39:33,2017-10-21 01:39:33,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1511,https://github.com/kubernetes/ingress-nginx/pull/1511,auhlig,fix deprecated ssl_client_cert. add ssl_client_verify header,"(1) The `ssl_client_cert` header is deprecated. Use `ssl_client_escaped_cert` instead. [Reference](http://nginx.org/en/docs/http/ngx_http_ssl_module.html#var_ssl_client_cert)
(2) Setting the `ssl-client-verify` header allows client certificate verification. See [docs](http://nginx.org/en/docs/http/ngx_http_ssl_module.html#var_ssl_client_verify) 
",['aledbf'],1,2017-10-09 11:20:19,2017-10-09 14:40:33,2017-11-22 01:54:48,True,2017-10-09 14:40:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1513,https://github.com/kubernetes/ingress-nginx/pull/1513,maxlaverse,Return 503 by default when no endpoint is available,"```release-note
Return 503 by default when no endpoint is available
```

**What this PR does / why we need it**:
This PRs changes the backend of a location to be empty per default instead of ""upstream-default-backend"". During template rendering, if the backend of a location is empty, a `503` is returned to the client.

**Which issue this PR fixes**
Currently, if no endpoint is available for an upstream, the backends of locations using that upstream will be set to the default-backend. 

This means that a client might get a `404`under heavy load when no end-points are available. This sound wrong has clients interpret `404` as a valid response meaning the resource doesn't exist. I think that instead of a `404`, the answer should be a `503 Service Unavailable` (*The server is currently unable to handle the request*).

The definition of the default backend from the documentation says it's **a service [for] handling all url paths and hosts the nginx controller doesn't understand.**

I think that perfectly fine and would like not to use it anymore for upstreams without endpoints, which the Nginx Controller knows about but are simply temporarily unavailable.

**Special notes for your reviewer**
I didn't tested the behavior when using a `custom-default-backend`, but I expect it to be unchanged by this PR.
",['aledbf'],1,2017-10-09 12:48:47,2017-10-09 14:39:24,2018-06-06 23:33:39,True,2017-10-09 14:39:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1515,https://github.com/kubernetes/ingress-nginx/pull/1515,mynameiswhm,Allow usage of non_idempotent option in proxy_next_upstream,"**What this PR does / why we need it**:
Allows usage of `non_idempotent` option in `ingress.kubernetes.io/proxy-next-upstream` annotation, with fallback to global `retry-non-idempotent` option.

**Which issue this PR fixes**: fixes #1512 

**Special notes for your reviewer**:
I've also added `ingress.kubernetes.io/proxy-next-upstream` annotation to annotations table in configuration.md",['aledbf'],2,2017-10-10 10:27:40,2017-10-18 19:25:56,2017-10-18 19:25:56,True,2017-10-18 19:25:55,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1516,https://github.com/kubernetes/ingress-nginx/pull/1516,aledbf,WIP: POC - replace annotations with CRDs,"- [ ] define required types
- [ ] remove annotations
- [ ] build a cli to convert annotations to custom CRD
- [ ] tests

",[],1,2017-10-10 22:02:26,2017-11-08 01:24:43,2017-11-08 01:24:43,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1520,https://github.com/kubernetes/ingress-nginx/pull/1520,Gregy,Change alias behaviour not to create new server section needlessly,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
It simplifies alias configuration in nginx template.

**Special notes for your reviewer**:
I was going through the template code and this section didn't make much sense to me. I would expect it to be defined like in my PR but there could be some reason behind it that I am missing. 
",['aledbf'],1,2017-10-11 13:37:46,2017-10-12 16:39:29,2017-10-12 16:39:29,True,2017-10-12 16:39:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1523,https://github.com/kubernetes/ingress-nginx/pull/1523,ctriv,Include the serversnippet from the config map in server blocks,"aliaes

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

The configmap server-snippet feature currently does not inject any directives into the server block.  

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2017-10-12 18:48:46,2017-10-12 23:12:13,2017-10-12 23:12:13,True,2017-10-12 23:12:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1524,https://github.com/kubernetes/ingress-nginx/pull/1524,tamalsaha,Document Voyager's support for various annotations,"We have added support for various annotations defined under `ingress.kubernetes.io` to Voyager. 

ref: https://github.com/appscode/voyager/issues/491",['aledbf'],1,2017-10-12 20:05:35,2017-10-13 01:00:30,2017-10-13 01:00:30,True,2017-10-13 01:00:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1525,https://github.com/kubernetes/ingress-nginx/pull/1525,rikatz,Add option to disable OCSP stapling,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
This PR adds option to disable OCSP stapling. While OCSP stapling is a desired behaviour in secure environments, some controllers doesn't have direct Internet Access and face some issues while starting, because NGINX tries to fetch the OCSP stapling from each SSL chain used.

The default behaviour here is to maintain OCSP enabled, so user must ensure ssl-enable-ocsp is 'false' when He/She doesn't want to enable this feature.

Thanks!


",[],1,2017-10-12 22:11:39,2017-10-14 18:21:51,2017-10-14 18:21:51,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1527,https://github.com/kubernetes/ingress-nginx/pull/1527,aledbf,Split documentation,"**What this PR does / why we need it**:

Split and cleanup of documentation and examples

fixes #1496",[],4,2017-10-13 13:56:07,2017-10-16 12:04:49,2017-10-16 12:05:34,True,2017-10-16 12:04:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1533,https://github.com/kubernetes/ingress-nginx/pull/1533,aledbf,Remove authentication send body annotation,fixes #1377,[],1,2017-10-15 21:27:14,2017-10-15 21:42:48,2017-10-16 12:05:26,True,2017-10-15 21:42:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1535,https://github.com/kubernetes/ingress-nginx/pull/1535,aledbf,Remove auth-send-body [ci skip],,[],1,2017-10-16 12:06:59,2017-10-16 12:07:05,2017-10-16 12:09:12,True,2017-10-16 12:07:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1536,https://github.com/kubernetes/ingress-nginx/pull/1536,aledbf,Update documentation and examples [ci skip],,[],1,2017-10-16 12:56:37,2017-10-16 12:56:46,2017-10-16 13:04:46,True,2017-10-16 12:56:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1538,https://github.com/kubernetes/ingress-nginx/pull/1538,rothgar,Rename service-nodeport.yml to service-nodeport.yaml,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
Keeping filename consistent and fixes README documentation for deploying on bare metal.

**Which issue this PR fixes** 
Deploy README uses .yaml file name (so do all the other files)
https://github.com/kubernetes/ingress-nginx/tree/master/deploy#baremetal",['aledbf'],1,2017-10-16 18:02:08,2017-10-16 18:05:40,2017-10-16 18:17:51,True,2017-10-16 18:05:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1540,https://github.com/kubernetes/ingress-nginx/pull/1540,damoon,fixed link to traefik documentation,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2017-10-17 08:10:01,2017-11-30 00:01:06,2017-11-30 00:01:06,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1541,https://github.com/kubernetes/ingress-nginx/pull/1541,alfirin,fix(documentation): Fix some typos,"Fix some word typos
",['aledbf'],1,2017-10-17 08:34:34,2017-10-17 12:02:53,2017-10-17 12:02:53,True,2017-10-17 12:02:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1543,https://github.com/kubernetes/ingress-nginx/pull/1543,aledbf,Fix glog initialization error,,[],1,2017-10-17 16:17:47,2017-10-17 16:34:05,2017-10-18 17:10:13,True,2017-10-17 16:34:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1544,https://github.com/kubernetes/ingress-nginx/pull/1544,rnburn,Fix `make container` for OSX.,"Running `make container` won't work on OSX because `cp -r` defaults to not copy symbol links. This changes the `cp` command to use [portable options](https://unix.stackexchange.com/a/18718) so that it will work regardless of platform.

",['aledbf'],1,2017-10-17 19:08:45,2017-10-18 19:25:03,2017-10-18 19:25:03,True,2017-10-18 19:25:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1547,https://github.com/kubernetes/ingress-nginx/pull/1547,unthought,fix broken GCE-GKE service descriptor,fixes #1546 ,['aledbf'],1,2017-10-18 03:11:34,2017-10-18 03:27:49,2017-10-18 03:27:49,True,2017-10-18 03:27:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1548,https://github.com/kubernetes/ingress-nginx/pull/1548,gianrubio,link to prometheus docs,,['aledbf'],1,2017-10-18 07:42:46,2017-10-18 19:24:34,2017-10-18 19:24:34,True,2017-10-18 19:24:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1550,https://github.com/kubernetes/ingress-nginx/pull/1550,aledbf,Add e2e tests - default backend,,[],1,2017-10-19 15:02:02,2017-10-20 23:54:01,2017-10-21 00:02:26,True,2017-10-20 23:54:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1553,https://github.com/kubernetes/ingress-nginx/pull/1553,rikatz,Cors features improvements,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: This PR adds new forms to control CORS in a server, allowing user to specify not only if CORS is enabled, but also what are the allowed METHODS, HEADERS, the ORIGIN and credentials behaviour

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #1171, fixes #676, fixes #625

**Special notes for your reviewer**:

This PR adds 4 new annotations that allow user to control CORS behaviour in his ingress.

This code inserts some regex validations, as it's not desired that user is allowed to insert values as $nginx_version in allowed methods, as this is going to be returned directly to the final user and can cause an internal information leak, and also Ingress misconfiguration.


",['aledbf'],1,2017-10-20 01:06:55,2017-10-22 21:29:53,2017-10-22 22:37:28,True,2017-10-22 21:29:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1554,https://github.com/kubernetes/ingress-nginx/pull/1554,diazjf,Add missing unit test for nextPowerOf2 function,"Adds a unit test for the nextPowerOf2 function in
nginx.go.
",['aledbf'],1,2017-10-20 04:31:24,2017-10-20 11:23:01,2017-10-20 11:23:01,True,2017-10-20 11:23:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1556,https://github.com/kubernetes/ingress-nginx/pull/1556,itaysk,fixed https port forwarding in Azure LB service,"443 was redirected to named port 'http' instead of 'https' (points to https://github.com/kubernetes/ingress-nginx/blob/master/deploy/provider/patch-service-without-rbac.yaml#L35)
In the AWS/GCP examples it was fine ('https') so I fixed it for azure as well.
",['aledbf'],1,2017-10-20 15:24:05,2017-10-20 16:01:08,2017-10-20 16:01:08,True,2017-10-20 16:01:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1562,https://github.com/kubernetes/ingress-nginx/pull/1562,aledbf,Fix development guide link,fixes #1559,[],1,2017-10-21 00:14:52,2017-10-21 00:14:57,2017-10-21 00:18:48,True,2017-10-21 00:14:57,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1563,https://github.com/kubernetes/ingress-nginx/pull/1563,aledbf,Add task to verify markdown links,,[],1,2017-10-21 01:25:28,2017-10-21 01:25:34,2017-10-21 01:51:40,True,2017-10-21 01:25:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1564,https://github.com/kubernetes/ingress-nginx/pull/1564,aledbf,"Auto stash before merge of ""master"" and ""master/master""",,[],1,2017-10-21 01:38:42,2017-10-21 01:38:48,2017-10-21 01:51:33,True,2017-10-21 01:38:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1566,https://github.com/kubernetes/ingress-nginx/pull/1566,aledbf,Release nginx-slim 0.27,This release updates the opentracing module to support https://github.com/jaegertracing/jaeger,['nicksardo'],1,2017-10-21 22:51:38,2017-10-23 15:45:10,2017-10-23 16:54:13,True,2017-10-23 15:45:10,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1568,https://github.com/kubernetes/ingress-nginx/pull/1568,zouyee,update defaultbackend tag,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
update defaultbackend tag
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
fixes #1569 
**Special notes for your reviewer**:
",['aledbf'],1,2017-10-22 10:35:36,2017-10-24 17:59:25,2017-10-24 21:12:29,True,2017-10-24 17:59:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1569,https://github.com/kubernetes/ingress-nginx/pull/1569,aledbf,Update 404 server image,,['nicksardo'],1,2017-10-22 14:45:35,2017-10-24 17:28:31,2017-10-24 23:12:35,True,2017-10-24 17:28:31,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1570,https://github.com/kubernetes/ingress-nginx/pull/1570,aledbf,Update nginx version,Updates nginx image to 0.27,[],1,2017-10-22 14:46:24,2017-10-23 16:48:53,2017-10-23 16:54:06,True,2017-10-23 16:48:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1571,https://github.com/kubernetes/ingress-nginx/pull/1571,aledbf,Fix cors tests,,[],1,2017-10-22 22:09:51,2017-10-22 22:29:36,2017-10-23 13:48:55,True,2017-10-22 22:29:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1572,https://github.com/kubernetes/ingress-nginx/pull/1572,rikatz,Certificate Auth Bugfix,"**What this PR does / why we need it**: Changes the behaviour of Environment Variables when not using Certificate Authentication 

**Special notes for your reviewer**:

@auhlig Can you please make any comments about this, and also about changing the ssl_client_escaped_cert to ssl_client_raw_cert?

Thanks!
",['aledbf'],1,2017-10-22 23:14:33,2017-10-24 18:20:11,2017-10-24 18:41:13,True,2017-10-24 18:20:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1574,https://github.com/kubernetes/ingress-nginx/pull/1574,zouyee,bump rbac and deployment version,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
bump rbac(v1) and deployment(apps/v1beta2) version
/cc @aledbf
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2017-10-23 02:41:44,2018-03-22 13:19:54,2018-03-23 06:45:39,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1576,https://github.com/kubernetes/ingress-nginx/pull/1576,chenpengdev,add pprof debug code,"**What this PR does / why we need it**:
add debug code we can through go pprof tool to debug our program

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2017-10-23 10:22:34,2017-10-23 11:38:30,2017-10-23 11:42:01,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1577,https://github.com/kubernetes/ingress-nginx/pull/1577,aledbf,Do not use relative urls for yaml files,,[],1,2017-10-23 13:59:50,2017-10-23 14:17:00,2017-10-23 16:53:54,True,2017-10-23 14:17:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1579,https://github.com/kubernetes/ingress-nginx/pull/1579,redondos,fix app label in deployment docs,"**What this PR does / why we need it**:
Documentation bug fix.",[],1,2017-10-23 21:35:57,2017-10-25 04:13:28,2017-10-25 04:13:28,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1580,https://github.com/kubernetes/ingress-nginx/pull/1580,rnburn,Upgrade to use the latest version of nginx-opentracing.,"This PR updates to build in the latest version of [opentracing-contrib/nginx-opentracing](https://github.com/opentracing-contrib/nginx-opentracing), which switches to use dynamic-modules. This provides more isolation if opentracing is disabled and furthermore opens the door to supporting additional tracers in the future. (For example, Jaeger can be added in once their [C++ tracer](https://github.com/jaegertracing/jaeger/issues/228) is available).

It also updates the example to demonstrate how traces can join together spans from separate services.

Additionally, it updates the zipkin library so that it can report traces to Jaeger; though propagation won't work out-of-the-box unless Jaeger clients are explicitly [configured](https://github.com/jaegertracing/jaeger-client-go/blob/master/zipkin/README.md#NewZipkinB3HTTPHeaderPropagator) to work with zipkin.",['aledbf'],1,2017-10-24 01:16:04,2017-10-24 21:13:05,2017-10-24 21:13:05,True,2017-10-24 21:13:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1581,https://github.com/kubernetes/ingress-nginx/pull/1581,rnburn,Fix Makefile to work in OSX.,Updates `images/nginx-slim/Makefile` so that it can work on OS X. It follows the convention used [here](https://github.com/kubernetes/ingress-nginx/blob/master/Makefile) to make the `sed -i` command portable.,['aledbf'],1,2017-10-24 01:23:09,2017-10-24 02:01:18,2017-10-24 02:01:18,True,2017-10-24 02:01:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1582,https://github.com/kubernetes/ingress-nginx/pull/1582,aledbf,Add scripts to release from travis-ci,"**What this PR does / why we need it**:

We need this PR to automate the release of images located in this repository using a third party service (travis-ci in this case)

To release an image we just require a personal travis-ci token with access to `kubernetes/ingress-nginx` and the name of the component to be released:
```
export TRAVIS_CI_TOKEN=xxxxxxx
export COMPONENT=nginx-slim

curl -sSL https://raw.githubusercontent.com/kubernetes/ingress-nginx/master/.travis/publish-from-travis.sh | bash
```

Edit: the change of registries can be reverted. This is just to show the release procedure
","['bowei', 'ixdy']",2,2017-10-24 19:20:59,2017-10-26 02:01:01,2017-10-26 02:55:00,True,2017-10-26 02:01:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1583,https://github.com/kubernetes/ingress-nginx/pull/1583,aledbf,Add note for certificate authentication in Cloudflare,fixes #1573,[],1,2017-10-25 01:18:41,2017-10-25 01:19:52,2017-10-25 01:29:06,True,2017-10-25 01:19:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1584,https://github.com/kubernetes/ingress-nginx/pull/1584,aledbf,Add missing probes in deployments,,[],1,2017-10-25 04:07:07,2017-10-25 11:28:12,2017-10-25 11:57:00,True,2017-10-25 11:28:12,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1585,https://github.com/kubernetes/ingress-nginx/pull/1585,aledbf,Add version flag,,[],1,2017-10-25 04:07:23,2017-10-25 11:28:24,2017-10-25 11:57:07,True,2017-10-25 11:28:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1587,https://github.com/kubernetes/ingress-nginx/pull/1587,philipbjorge,Use pass access scheme in signin url,"**What this PR does / why we need it**:
The `rd` parameter is requesting a redirect to an `http` path even though the original request was over `https`",['aledbf'],2,2017-10-25 20:42:11,2017-10-25 21:01:59,2017-10-25 21:01:59,True,2017-10-25 21:01:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1589,https://github.com/kubernetes/ingress-nginx/pull/1589,aledbf,Fix upstream vhost Equal comparison,fixes #1588,[],1,2017-10-25 21:57:45,2017-10-25 22:18:55,2017-10-25 22:18:55,True,2017-10-25 22:18:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1590,https://github.com/kubernetes/ingress-nginx/pull/1590,philipbjorge,Fix Equals Comparison for CORS annotation,"**What this PR does / why we need it**:
Equals comparison for cors was missing the allowmethods comparison.
",['aledbf'],1,2017-10-25 22:42:50,2017-10-25 23:04:29,2017-10-25 23:04:29,True,2017-10-25 23:04:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1591,https://github.com/kubernetes/ingress-nginx/pull/1591,aledbf,Fix travis-ci publish script [ci skip],,[],1,2017-10-26 02:15:06,2017-10-26 02:15:31,2017-10-26 02:54:34,True,2017-10-26 02:15:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1592,https://github.com/kubernetes/ingress-nginx/pull/1592,aledbf,Update opentracing module and release image to  quay.io,,[],1,2017-10-26 02:39:26,2017-10-26 02:49:54,2017-10-26 02:58:30,True,2017-10-26 02:49:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1593,https://github.com/kubernetes/ingress-nginx/pull/1593,aledbf,Fix makefile default task,,[],1,2017-10-26 02:39:35,2017-10-26 15:37:05,2017-10-27 23:49:24,True,2017-10-26 15:37:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1594,https://github.com/kubernetes/ingress-nginx/pull/1594,aledbf,Use travis-ci yaml + request env variables [ci skip],,[],1,2017-10-26 02:48:30,2017-10-26 02:48:58,2017-10-26 02:53:55,True,2017-10-26 02:48:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1595,https://github.com/kubernetes/ingress-nginx/pull/1595,aledbf,Improve error messages [ci skip],,[],1,2017-10-26 03:22:39,2017-10-26 03:22:52,2017-10-26 15:34:56,True,2017-10-26 03:22:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1598,https://github.com/kubernetes/ingress-nginx/pull/1598,acoshift,404-server: graceful shutdown,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
- 404-server: Use .Shutdown from Go 1.8

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixed the TODO inside code

**Special notes for your reviewer**:
",['aledbf'],1,2017-10-26 14:19:26,2017-10-27 16:45:36,2017-10-27 16:45:37,True,2017-10-27 16:45:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1599,https://github.com/kubernetes/ingress-nginx/pull/1599,aledbf,Add temporal travis-ci variables [ci skip],,[],1,2017-10-26 15:35:58,2017-10-26 15:36:05,2017-10-26 15:36:06,True,2017-10-26 15:36:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1601,https://github.com/kubernetes/ingress-nginx/pull/1601,aledbf,Fix error using travis-ci api [ci skip],,[],1,2017-10-26 15:57:50,2017-10-26 15:57:58,2017-10-26 15:57:58,True,2017-10-26 15:57:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1602,https://github.com/kubernetes/ingress-nginx/pull/1602,aledbf,Add travis-ci variables [ci skip],,[],1,2017-10-26 16:39:46,2017-10-26 16:39:53,2017-10-26 16:39:59,True,2017-10-26 16:39:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1603,https://github.com/kubernetes/ingress-nginx/pull/1603,aledbf,Fix docker login command [ci skip],,[],1,2017-10-26 17:41:48,2017-10-26 17:41:53,2017-10-26 17:41:56,True,2017-10-26 17:41:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1604,https://github.com/kubernetes/ingress-nginx/pull/1604,aledbf,Fix merge of travis-ci variables [ci skip],,[],1,2017-10-26 18:16:12,2017-10-26 18:16:21,2017-10-27 16:53:25,True,2017-10-26 18:16:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1605,https://github.com/kubernetes/ingress-nginx/pull/1605,aledbf,Fix ExternalName services,"**What this PR does / why we need it**:
Some services of type ExternalName could be defined without ports.

https://kubernetes.io/docs/concepts/services-networking/service/#services-without-selectors

**Which issue this PR fixes**:
fixes #1600
fixes #1575",[],1,2017-10-26 22:18:39,2017-10-27 16:40:01,2017-10-27 16:53:13,True,2017-10-27 16:40:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1606,https://github.com/kubernetes/ingress-nginx/pull/1606,aledbf,Change order of validations in travis script [ci skip],,[],1,2017-10-26 22:47:22,2017-10-26 22:47:39,2017-10-27 16:53:20,True,2017-10-26 22:47:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1607,https://github.com/kubernetes/ingress-nginx/pull/1607,chrismoos,Add support for named ports with service-upstream. #1459,"**What this PR does / why we need it**:

Adds support for named ports in service-upstream annotated ingress resources.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

Fixes #1459 

**Special notes for your reviewer**:
",['aledbf'],1,2017-10-26 22:53:09,2017-10-26 23:13:18,2017-10-26 23:14:06,True,2017-10-26 23:13:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1608,https://github.com/kubernetes/ingress-nginx/pull/1608,chrismoos,Fix issue with clusterIP detection on service upstream. #1534,"**What this PR does / why we need it**:

Fixes an issue with `clusterIP` detection when service upstream is enabled.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

Fixes #1534 

**Special notes for your reviewer**:
",['aledbf'],1,2017-10-26 23:26:44,2017-10-27 00:12:54,2017-10-27 00:12:54,True,2017-10-27 00:12:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1610,https://github.com/kubernetes/ingress-nginx/pull/1610,rowleyaj,Only set alias if not already set,"If multiple ingress resources are created for the same host, with a server-alias annotation, the most recent ingress is the one that wins - even if this ingress does not have the annotation.

The real world use case that we have hit is using kube-lego. It creates an ingress to authenticate the domain, and this is usually after other ingress resources are deployed. This doesn't have the server-alias annotations that our other ingress resources do - meaning that the server-alias is dropped entirely.

This uses similar logic to the ServerSnippet annotation to resolve the issue, an alternative approach could be to somehow try and merge the alias annotations, but I'm not sure how best to approach that.

I've tested this on our cluster using `rowleyaj/nginx-ingress-controller:0.9.0-beta.15.server-alias`",['aledbf'],1,2017-10-27 13:37:45,2017-10-27 13:59:13,2017-10-27 14:00:49,True,2017-10-27 13:59:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1614,https://github.com/kubernetes/ingress-nginx/pull/1614,jesseshieh,Quick explanation on how to use a ConfigMap,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
Tiny improvement to documentation for configuration.

**Special notes for your reviewer**:
While trying to configure my nginx ingress controller, I understood how to create a ConfigMap, but had a tough time finding how to specify which ConfigMap the ingress controller should actually use. Since this is the page linked to from the homepage, I thought this would be helpful to others like me.
",[],1,2017-10-27 22:50:44,2018-04-08 14:01:52,2018-04-08 14:01:52,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1617,https://github.com/kubernetes/ingress-nginx/pull/1617,seeekr,fix typo in user-guide/annotations.md,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: fix docs

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*:

**Special notes for your reviewer**: docs only
",['aledbf'],1,2017-10-28 14:43:30,2017-10-28 16:30:22,2017-10-29 21:20:16,True,2017-10-28 16:30:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1618,https://github.com/kubernetes/ingress-nginx/pull/1618,maxlaverse,Fix full XFF with PROXY,"**What this PR does / why we need it**:
The PR #1489 added a new ConfigMap option (`compute-full-forwarded-for`) that allows us to compute a full `X-Forwarded-For` header as described in https://tools.ietf.org/html/rfc7239, section 5.2. With this option enabled, the Nginx Ingress adds the remote IP to the list of IPs (empty or not) of the `X-Forwarded-For` header (header name configurable). This is fine for requests proxied using the HTTP protocol.

When using the PROXY protocol to forward the request to the Nginx Ingress (with `use-proxy-protocol=true` in the Ingress Controller ConfigMap), with the current implementation the remote IP is added to the list, which is the L4 proxy IP. As discussed in #1489, this is not the expected behavior as:
* we loose the address of the client that connected to the L4 proxy
* L4 proxies act on the TCP level and are supposed to be transparent, meaning they don't appear in the `X-Forwarded-For` header

This PR will change the behavior of the Ingress when `compute-full-forwarded-for` and `use-proxy-protocol` are set to true, and adds the client IP as sent in the PROXY protocol to the `X-Forwarded-For` header.
 
 **Example with `compute-full-forwarded-for` enabled**
With `use-proxy-protocol=false`, for a client (ip 1.2.3.4) that makes a request to a L7 load-balancer (ip 10.0.0.1) in front of the Ingress, the `X-Forwarded-For` received by the back-end is `1.2.3.4, 10.0.0.1` (unchanged)

With `use-proxy-protocol=true`, for a client (ip 1.2.3.4) that makes a request to a L4 load-balancer (ip 10.0.0.1) in front of the Ingress, the `X-Forwarded-For` received by the back-end would be `1.2.3.4` with this PR. It would have been `10.0.0.1` without.




**Special notes for your reviewer**:
I used HAProxy in front of the Ingress to test the behavior with the PROXY protocol. I can post the configuration and yaml file if needed.",['aledbf'],1,2017-10-28 15:37:27,2017-10-28 19:24:31,2017-10-28 20:33:31,True,2017-10-28 19:24:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1620,https://github.com/kubernetes/ingress-nginx/pull/1620,acoshift,Add gzip_vary,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: Add gzip_vary on;

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: If gzip_vary don't turn on, CDN will cached gzipped response and return gzipped version to request which don't have `Accept-Encoding: gzip` header

**Special notes for your reviewer**:
",['aledbf'],1,2017-10-29 14:01:13,2017-10-29 15:25:06,2017-10-29 15:25:06,True,2017-10-29 15:25:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1621,https://github.com/kubernetes/ingress-nginx/pull/1621,erickt,Fix path to ELB listener image,"**What this PR does / why we need it**:

This corrects the link to ELB level 7 image.",['aledbf'],1,2017-10-29 17:44:01,2017-10-29 19:02:26,2017-10-29 19:02:26,True,2017-10-29 19:02:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1627,https://github.com/kubernetes/ingress-nginx/pull/1627,rikatz,Add brotli support,"**What this PR does / why we need it**: This PR adds support for Brotli compression.

Brotli is an algorithm designed by Google that have up to 25% of efficience when compared to gzip.

There's more info [here](https://github.com/google/ngx_brotli) and [here](https://certsimple.com/blog/nginx-brotli)

The following tasks need to be executed:
* [x] Add Brotli module to NGINX
* [x] Add ConfigMap annotation to enable brotli, and also the selected mime types that are going to be supported

**Special notes for your reviewer**:
",['aledbf'],1,2017-10-30 19:39:03,2017-11-01 20:49:12,2017-11-01 20:49:12,True,2017-11-01 20:49:12,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1628,https://github.com/kubernetes/ingress-nginx/pull/1628,qiujian16,Add enable-websocket annotation,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
This is to introduce a ""enable-websocket"" annotation, user can set it as false if websocket is not enabled. If the websocket is disabled and the keep-alive is enabled, the connection header will be set as """". To be backward compatible, the websocket is enabled by default.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
fixes https://github.com/kubernetes/ingress-nginx/issues/986

**Special notes for your reviewer**:
",[],2,2017-10-31 01:57:54,2018-01-30 05:07:29,2018-01-30 05:07:33,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1629,https://github.com/kubernetes/ingress-nginx/pull/1629,jcmoraisjr,Add ssl-client-dn header,Add `ssl-client-dn` header on client cert authentication.,['aledbf'],1,2017-10-31 16:41:42,2017-10-31 17:03:22,2017-10-31 23:03:42,True,2017-10-31 17:03:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1632,https://github.com/kubernetes/ingress-nginx/pull/1632,spiffxp,Rename OWNERS assignees: to approvers:,"They are effectively the same, assignees is deprecated

ref: kubernetes/test-infra#3851",['aledbf'],1,2017-10-31 23:30:13,2017-11-01 00:48:50,2017-11-01 00:56:44,True,2017-11-01 00:48:50,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1635,https://github.com/kubernetes/ingress-nginx/pull/1635,aledbf,Install dumb-init using apt-get,fixes #1631,[],1,2017-11-01 20:25:37,2017-11-01 20:45:47,2017-11-01 20:59:45,True,2017-11-01 20:45:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1636,https://github.com/kubernetes/ingress-nginx/pull/1636,aledbf,Update go to 1.9.2,,[],1,2017-11-01 21:13:37,2017-11-01 21:38:35,2017-11-01 23:18:09,True,2017-11-01 21:38:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1637,https://github.com/kubernetes/ingress-nginx/pull/1637,aledbf,Split travis jobs to avoid timeouts,"**What this PR does / why we need it**:

This PR splits the travis jobs to avoid timeouts building the docker images (nginx-slim in particular)",[],1,2017-11-01 22:48:01,2017-11-01 23:08:45,2017-11-01 23:18:17,True,2017-11-01 23:08:45,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1638,https://github.com/kubernetes/ingress-nginx/pull/1638,aledbf,Dump ingress controller logs in case of errors [ci skip],,[],1,2017-11-01 23:23:14,2017-11-01 23:23:29,2017-11-01 23:24:27,True,2017-11-01 23:23:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1639,https://github.com/kubernetes/ingress-nginx/pull/1639,aledbf,Disable brotli temporarily [ci skip],We need to disable brotli until we release nginx-slim 0.28,[],1,2017-11-01 23:50:28,2017-11-01 23:50:34,2017-11-02 01:53:38,True,2017-11-01 23:50:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1640,https://github.com/kubernetes/ingress-nginx/pull/1640,aledbf,Update nginx to 0.28 and enable brotli,,[],1,2017-11-02 01:54:37,2017-11-02 03:14:42,2017-11-02 11:38:28,True,2017-11-02 03:14:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1643,https://github.com/kubernetes/ingress-nginx/pull/1643,aledbf,Release nginx ingress controller 0.9-beta.16,Temporal image:  `quay.io/aledbf/nginx-ingress-controller:0.270`,[],1,2017-11-02 15:09:25,2017-11-04 10:24:47,2017-11-04 22:57:13,True,2017-11-04 10:24:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1645,https://github.com/kubernetes/ingress-nginx/pull/1645,aledbf,Do not use localhost in checks,"This fixes the issue in hosts with IPV6 enabled when `hostNetwork: true` is used.

fixes #1464",[],1,2017-11-02 20:04:24,2017-11-02 20:34:30,2017-11-02 20:43:20,True,2017-11-02 20:34:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1646,https://github.com/kubernetes/ingress-nginx/pull/1646,brianredbeard,docs: Fix typos and clarify wording,"This commit fixes a number of typos throughout the document as well as
providing a verbose explanation of the use of multiple NGINX ingress
controllers which was already mentioned in the document.",['aledbf'],1,2017-11-02 20:32:45,2017-11-02 20:40:03,2017-11-02 20:50:17,True,2017-11-02 20:40:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1648,https://github.com/kubernetes/ingress-nginx/pull/1648,aledbf,Remove GenericController and add tests,"**What this PR does / why we need it**:

Cleanup and improve some the tests",[],4,2017-11-05 17:47:56,2017-11-05 23:03:58,2017-11-05 23:08:36,True,2017-11-05 23:03:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1650,https://github.com/kubernetes/ingress-nginx/pull/1650,aledbf,Fix misspell errors,,[],1,2017-11-05 23:11:47,2017-11-05 23:33:35,2017-11-05 23:44:40,True,2017-11-05 23:33:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1651,https://github.com/kubernetes/ingress-nginx/pull/1651,aledbf,Remove node lister,,[],1,2017-11-05 23:19:58,2017-11-05 23:39:31,2017-11-05 23:44:30,True,2017-11-05 23:39:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1652,https://github.com/kubernetes/ingress-nginx/pull/1652,aledbf,Remove node lister,,[],1,2017-11-06 00:01:21,2017-11-06 00:20:46,2017-11-06 00:31:11,True,2017-11-06 00:20:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1653,https://github.com/kubernetes/ingress-nginx/pull/1653,aledbf,Fix diff execution,,[],1,2017-11-06 01:27:51,2017-11-06 03:16:33,2017-11-06 14:02:17,True,2017-11-06 03:16:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1654,https://github.com/kubernetes/ingress-nginx/pull/1654,aledbf,Fix travis script and update kubernetes to 1.8.0,,[],1,2017-11-06 14:18:12,2017-11-06 17:31:02,2017-11-06 19:35:13,True,2017-11-06 17:31:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1657,https://github.com/kubernetes/ingress-nginx/pull/1657,diazjf,Add better documentation for deploying for dev,Adds more information on deploying an nginx-ingress controller for development. Adds info to the minikube section of deployments which is commonly used for local development.,['aledbf'],1,2017-11-06 17:05:06,2017-11-06 17:39:31,2017-11-06 17:39:31,True,2017-11-06 17:39:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1658,https://github.com/kubernetes/ingress-nginx/pull/1658,aledbf,Tests,,[],2,2017-11-06 22:38:58,2017-11-06 23:18:20,2017-11-06 23:18:48,True,2017-11-06 23:18:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1659,https://github.com/kubernetes/ingress-nginx/pull/1659,aledbf,Add nginx helper tests,,[],1,2017-11-06 23:48:48,2017-11-07 00:13:50,2017-11-07 02:17:48,True,2017-11-07 00:13:50,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1662,https://github.com/kubernetes/ingress-nginx/pull/1662,aledbf,Refactor annotations,"**What this PR does / why we need it**:

This PR improves the parsing of ingress annotations and avoid unnecessary parsing if no changes occurred.


fixes #1274
fixes #1436",[],6,2017-11-07 16:42:14,2017-11-11 18:19:47,2017-11-24 19:07:54,True,2017-11-11 18:19:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1665,https://github.com/kubernetes/ingress-nginx/pull/1665,chrisblu,Add the original http request method to the auth request,"**What this PR does / why we need it**:
Added the original http request method to the auth request. This is for example useful for granting access depending on reads/writes.

```release-note
Access the original http request method in auth subrequests
```",['aledbf'],1,2017-11-08 11:37:13,2017-11-08 14:14:33,2017-11-08 14:14:33,True,2017-11-08 14:14:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1666,https://github.com/kubernetes/ingress-nginx/pull/1666,dominikhahn,Fix basic auth secret data,"**What this PR does / why we need it**:
Fix error reading BasicDigestAuth annotation",['aledbf'],1,2017-11-08 12:03:03,2017-11-08 14:00:13,2017-11-08 14:00:13,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1673,https://github.com/kubernetes/ingress-nginx/pull/1673,tomlanyon,Fix merging of ingress-specific annotations.,"```release-note
Fixes application of ingress annotations which were not being applied correctly.
```

Annotations were not overriding the default values for their Location; this was
especially evident on the ""/"" Location for a host, which gains more defaults
than ancillary Locations.

Also adds a test to detect this case.

Fixes #1660.

As far as I can tell this was introduced by https://github.com/kubernetes/ingress-nginx/commit/601fb7dacfad8c897d5d2edb5c81642c96f60e90 which bumps the version of mergo and changes some of the Map merge logic, but I'm not entirely convinced.",[],1,2017-11-09 09:27:10,2017-11-09 21:47:01,2017-11-09 21:47:01,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1677,https://github.com/kubernetes/ingress-nginx/pull/1677,aledbf,Release nginx ingress controller 0.9-beta.17,"**What this PR does / why we need it**:

Fixes regression with annotations in 0.9-beta.16

closes #1673 
closes #1660",[],1,2017-11-09 19:00:54,2017-11-09 21:47:02,2017-11-09 23:17:11,True,2017-11-09 21:47:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1678,https://github.com/kubernetes/ingress-nginx/pull/1678,vdavidoff,Implement loggable map for HTTP status,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: This PR implements selective logging based on request HTTP status. This is implemented the same as `skip-access-log-urls` in that it allows the configuration of HTTPs statuses for which requests should not be logged. This is very useful for high volume ingress where turning access logging completely off is undesirable, but not logging things like 2xx and 3xx responses is desirable.

Unlike `skip-access-log-urls`, the argument comma delimited arguments to `skip-access-log-http-statuses` in the ConfigMap are treated as case-sensitive regular expressions in the nginx map (i.e. they are not simply treated as strings).

**Special notes for your reviewer**:
This was built on top of master/HEAD and there appears to be a bug releated to `ssl-dh-param` there. I had to remove `ssl-dh-param` from my ConfigMap to get this build to not crash on startup.

Also note that an event unit test fails with a race condition, but this happens on master/HEAD without my changes as well.

I believe I have implemented this and the required modifications to the template so that additional `skip-access-log` features, should they be introduced, can be added cleanly.",[],1,2017-11-09 20:27:44,2018-05-10 16:24:42,2018-05-10 16:24:42,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1680,https://github.com/kubernetes/ingress-nginx/pull/1680,aledbf,Add doc for log-format-escape-json [ci skip],,[],1,2017-11-10 10:12:06,2017-11-10 10:12:12,2017-11-10 18:36:02,True,2017-11-10 10:12:12,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1685,https://github.com/kubernetes/ingress-nginx/pull/1685,aledbf,Fix default SSL certificate flag docs [ci skip],,[],1,2017-11-10 18:41:55,2017-11-10 18:42:09,2017-11-10 18:44:33,True,2017-11-10 18:42:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1686,https://github.com/kubernetes/ingress-nginx/pull/1686,aledbf,Fix development doc [ci skip],,[],1,2017-11-11 18:26:52,2017-11-11 18:27:01,2017-11-12 00:35:16,True,2017-11-11 18:27:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1687,https://github.com/kubernetes/ingress-nginx/pull/1687,aledbf,Fix use merge of annotations,"**What this PR does / why we need it**:

The library mergo do not overwrites value by default (breaking change introduced in latest version)",[],1,2017-11-11 18:27:52,2017-11-11 18:58:51,2017-11-12 03:41:38,True,2017-11-11 18:58:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1688,https://github.com/kubernetes/ingress-nginx/pull/1688,aledbf,Release nginx 0.29,"**What this PR does / why we need it**:

Switch to debian base and update nginx modules.",[],1,2017-11-12 03:35:56,2017-11-12 03:40:09,2017-11-12 03:52:23,True,2017-11-12 03:40:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1689,https://github.com/kubernetes/ingress-nginx/pull/1689,aledbf,Enable s390x,,[],1,2017-11-12 03:40:50,2017-11-12 03:41:02,2017-11-12 03:41:33,True,2017-11-12 03:41:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1690,https://github.com/kubernetes/ingress-nginx/pull/1690,aledbf,Deprecate ubuntu-slim,,[],1,2017-11-12 03:49:00,2017-11-12 13:39:35,2017-11-12 13:59:45,True,2017-11-12 13:39:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1691,https://github.com/kubernetes/ingress-nginx/pull/1691,aledbf,Rollback to nginx-slim 0.28 until new nginx-slim release,,[],1,2017-11-12 04:00:46,2017-11-12 04:00:52,2017-11-12 04:00:53,True,2017-11-12 04:00:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1692,https://github.com/kubernetes/ingress-nginx/pull/1692,aledbf,Rollback to nginx-slim 0.28 until new nginx-slim-release,,[],1,2017-11-12 04:26:28,2017-11-12 04:26:32,2017-11-12 04:28:46,True,2017-11-12 04:26:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1693,https://github.com/kubernetes/ingress-nginx/pull/1693,aledbf,Fix docker build,,[],1,2017-11-12 04:47:18,2017-11-12 04:47:24,2017-11-12 04:47:26,True,2017-11-12 04:47:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1694,https://github.com/kubernetes/ingress-nginx/pull/1694,aledbf,Update to nginx 0.29,"**What this PR does / why we need it**:

fixes #1108
",[],1,2017-11-12 04:48:47,2017-11-12 04:49:01,2017-11-12 04:49:01,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1695,https://github.com/kubernetes/ingress-nginx/pull/1695,aledbf,Update nginx to v0.29,"What this PR does / why we need it:

fixes #1108",[],1,2017-11-12 04:53:45,2017-11-12 13:38:22,2017-11-12 13:59:36,True,2017-11-12 13:38:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1696,https://github.com/kubernetes/ingress-nginx/pull/1696,aledbf,Always add cors headers when enabled,"**What this PR does / why we need it**:

fixes #1683
fixes #1679
",[],1,2017-11-12 04:59:49,2017-11-12 13:38:41,2017-11-12 13:59:27,True,2017-11-12 13:38:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1697,https://github.com/kubernetes/ingress-nginx/pull/1697,aledbf,Disable features not availables in some platforms,"**What this PR does / why we need it**:

Some nginx modules are not available in specific platforms.
This PR disable the features to avoid runtime issues",[],1,2017-11-12 13:40:34,2017-11-12 14:34:54,2017-11-12 14:42:38,True,2017-11-12 14:34:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1698,https://github.com/kubernetes/ingress-nginx/pull/1698,aledbf,Auth e2e tests,,[],2,2017-11-12 17:57:17,2017-11-12 23:36:01,2017-11-12 23:46:44,True,2017-11-12 23:36:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1699,https://github.com/kubernetes/ingress-nginx/pull/1699,aledbf,Refactor SSL intermediate CA certificate check,"**What this PR does / why we need it**:

Add a flag to disable SSL certificate chain

fixes #1669",[],1,2017-11-13 02:22:10,2017-11-13 16:55:13,2017-11-13 18:48:13,True,2017-11-13 16:55:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1700,https://github.com/kubernetes/ingress-nginx/pull/1700,aledbf,Add patch command to append publish-service flag,"**What this PR does / why we need it**:

Add patch command in cloud providers
",[],1,2017-11-13 03:08:05,2017-11-13 03:08:19,2017-11-13 16:40:43,True,2017-11-13 03:08:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1701,https://github.com/kubernetes/ingress-nginx/pull/1701,oilbeater,fix: Core() is deprecated use CoreV1() instead.,Replace Core() as it is deprecated.,['aledbf'],1,2017-11-13 15:24:54,2017-11-13 16:17:57,2017-11-13 16:17:57,True,2017-11-13 16:17:57,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1702,https://github.com/kubernetes/ingress-nginx/pull/1702,aledbf,Fix TLS example [ci skip],"**What this PR does / why we need it**:

fixes #1528",[],1,2017-11-13 15:58:43,2017-11-13 15:58:53,2017-11-13 16:40:51,True,2017-11-13 15:58:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1704,https://github.com/kubernetes/ingress-nginx/pull/1704,aledbf,Add e2e tests to verify the correct source IP address,,[],1,2017-11-13 20:26:36,2017-11-13 20:57:34,2017-11-13 22:43:48,True,2017-11-13 20:57:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1705,https://github.com/kubernetes/ingress-nginx/pull/1705,aledbf,Add annotation for setting proxy_redirect,"Test image: `quay.io/aledbf/nginx-ingress-controller:0.281`

fixes #1086 
",[],1,2017-11-13 22:58:34,2017-11-14 10:08:08,2017-11-14 14:14:26,True,2017-11-14 10:08:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1706,https://github.com/kubernetes/ingress-nginx/pull/1706,aledbf,Increase ELB idle timeouts [ci skip],,[],1,2017-11-14 01:34:15,2017-11-14 01:34:22,2017-11-14 14:14:17,True,2017-11-14 01:34:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1708,https://github.com/kubernetes/ingress-nginx/pull/1708,ismailbaskin,Fix traefik link,.,[],1,2017-11-14 18:00:19,2017-11-14 18:52:21,2017-11-14 18:52:21,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1710,https://github.com/kubernetes/ingress-nginx/pull/1710,aledbf,Do not update a secret not referenced by ingress rules,"**What this PR does / why we need it**:

fixes #1709",[],1,2017-11-14 20:50:48,2017-11-14 21:39:42,2017-11-15 02:46:45,True,2017-11-14 21:39:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1713,https://github.com/kubernetes/ingress-nginx/pull/1713,iamgd67,add --report-node-internal-ip-address describe to cli-arguments.md,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: a document fix, add --report-node-internal-ip-address config describe as added in  nginx-0.9.0-beta.16.  Without this describetion, users may got very confused when seeing empty ingress endpoints when node got only internal ip address.


**Special notes for your reviewer**: related to pull request of https://github.com/kubernetes/ingress-nginx/pull/1503
",['aledbf'],1,2017-11-16 06:03:43,2017-11-16 19:53:11,2017-11-17 15:42:21,True,2017-11-16 19:53:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1717,https://github.com/kubernetes/ingress-nginx/pull/1717,kostyrev,Fix command used to detect version,"Without this fix error `Error: unknown flag: --version` occurs.

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
This PR improves docs
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2017-11-17 18:33:53,2017-11-17 22:35:05,2017-11-17 22:35:05,True,2017-11-17 22:35:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1720,https://github.com/kubernetes/ingress-nginx/pull/1720,aledbf,Add docker-registry example [ci skip],"**What this PR does / why we need it**:

fixes #1623
",[],1,2017-11-17 23:34:22,2017-11-17 23:34:49,2017-11-17 23:35:25,True,2017-11-17 23:34:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1721,https://github.com/kubernetes/ingress-nginx/pull/1721,aledbf,Fix headless service issue with SSL passthrough,"**What this PR does / why we need it**:

fixes #1718
",[],1,2017-11-18 00:16:58,2017-11-19 19:44:06,2017-11-23 19:54:04,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1722,https://github.com/kubernetes/ingress-nginx/pull/1722,aledbf,Add annotation to enable passing the certificate to the upstream server,"**What this PR does / why we need it**:

fixes #1714",[],1,2017-11-18 00:29:27,2017-11-19 13:36:23,2017-11-19 14:19:39,True,2017-11-19 13:36:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1723,https://github.com/kubernetes/ingress-nginx/pull/1723,aledbf,Add timeouts to http server and additional pprof routes,,[],1,2017-11-18 10:11:42,2017-11-18 10:33:15,2017-11-19 14:18:54,True,2017-11-18 10:33:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1724,https://github.com/kubernetes/ingress-nginx/pull/1724,aledbf,Cleanup main,,[],1,2017-11-18 10:18:45,2017-11-18 11:09:47,2017-11-19 14:18:44,True,2017-11-18 11:09:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1725,https://github.com/kubernetes/ingress-nginx/pull/1725,aledbf,Enable all e2e tests,,[],1,2017-11-18 10:23:00,2017-11-18 11:10:15,2017-11-19 14:18:36,True,2017-11-18 11:10:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1726,https://github.com/kubernetes/ingress-nginx/pull/1726,oilbeater,fix: replace deprecated methods.,Replace deprecate method client.Extensions(),['aledbf'],1,2017-11-19 10:45:28,2017-11-19 13:37:16,2017-11-19 13:37:16,True,2017-11-19 13:37:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1727,https://github.com/kubernetes/ingress-nginx/pull/1727,oilbeater,fix: fix typos in docs.,"**What this PR does**:
fix typos in docs.",['aledbf'],1,2017-11-19 17:27:41,2017-11-19 17:29:56,2017-11-19 17:29:56,True,2017-11-19 17:29:56,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1728,https://github.com/kubernetes/ingress-nginx/pull/1728,aledbf,"Refacgtoring of cache, informers and store helpers","**What this PR does / why we need it**:

Improves test coverage and removes storage from the controller package",[],2,2017-11-19 18:32:57,2017-11-19 19:37:59,2018-01-15 18:46:19,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1729,https://github.com/kubernetes/ingress-nginx/pull/1729,aledbf,"Refactoring of cache, informers and store helpers","**What this PR does / why we need it**:
",[],5,2017-11-19 19:38:39,2017-11-30 00:00:44,2018-01-15 18:46:29,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1730,https://github.com/kubernetes/ingress-nginx/pull/1730,lvnilesh,correcting the watch command after helm install,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2017-11-20 00:35:44,2018-01-19 17:25:57,2018-01-19 17:25:57,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1734,https://github.com/kubernetes/ingress-nginx/pull/1734,rikatz,Changes ssl-client-cert header,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: Changes ssl-client-cert from $ssl_client_raw_cert to $ssl_client_escaped_cert

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #1714 

**Special notes for your reviewer**:
",['aledbf'],1,2017-11-20 17:17:12,2017-11-20 19:32:18,2017-11-20 19:32:18,True,2017-11-20 19:32:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1736,https://github.com/kubernetes/ingress-nginx/pull/1736,rafik8,Update catalog.md,"

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
update traefik link
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2017-11-21 16:24:33,2017-11-24 01:01:22,2017-11-24 02:48:57,True,2017-11-24 01:01:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1737,https://github.com/kubernetes/ingress-nginx/pull/1737,aledbf,Update nginx v1.13.7,,[],1,2017-11-21 21:57:40,2017-11-22 13:07:41,2017-11-22 17:56:52,True,2017-11-22 13:07:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1738,https://github.com/kubernetes/ingress-nginx/pull/1738,aledbf,Cleanup,,[],2,2017-11-22 13:41:16,2017-11-22 23:25:52,2017-11-22 23:35:11,True,2017-11-22 23:25:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1739,https://github.com/kubernetes/ingress-nginx/pull/1739,aledbf,Improve e2e checks,,[],1,2017-11-22 14:18:35,2017-11-22 17:51:18,2017-11-22 17:57:17,True,2017-11-22 17:51:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1740,https://github.com/kubernetes/ingress-nginx/pull/1740,aledbf,Update nginx,,[],1,2017-11-22 21:39:36,2017-11-22 22:13:31,2017-11-22 22:18:01,True,2017-11-22 22:13:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1744,https://github.com/kubernetes/ingress-nginx/pull/1744,f84anton,Enable keep-alive requests to upstreams,"**What this PR does / why we need it**:
Set upstream proxy header ""Connection: keep-alive"" if upstream-keepalive-connections greater then 0 and we do not have Upgrade header in request. 


**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #986 

**Special notes for your reviewer**:

**Release note**:
```release-note
NONE
```",[],1,2017-11-23 09:55:24,2018-01-30 07:28:14,2018-01-30 07:28:25,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1745,https://github.com/kubernetes/ingress-nginx/pull/1745,aledbf,Simplify annotations,,[],2,2017-11-23 16:46:47,2017-11-23 18:01:54,2017-11-23 19:30:24,True,2017-11-23 18:01:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1746,https://github.com/kubernetes/ingress-nginx/pull/1746,aledbf,Cleanup of e2e helpers,,[],1,2017-11-23 19:53:18,2017-11-23 20:39:52,2017-11-23 20:52:22,True,2017-11-23 20:39:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1747,https://github.com/kubernetes/ingress-nginx/pull/1747,diazjf,Add config-map usage and options to Documentation,Adds information on how to deploy and use a config-map in order to overwrite default nginx-controller configuration options. It cleans-up and adds more to the possible configuration options and their defaults.,['aledbf'],1,2017-11-23 20:07:47,2017-11-23 20:37:38,2017-11-23 20:41:24,True,2017-11-23 20:37:38,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1748,https://github.com/kubernetes/ingress-nginx/pull/1748,aledbf,Release nginx ingress controller 0.9-beta.18,**Temporal image:** `quay.io/aledbf/nginx-ingress-controller:0.291`,[],2,2017-11-24 01:15:04,2017-11-27 17:23:35,2017-11-28 17:19:26,True,2017-11-27 17:23:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1749,https://github.com/kubernetes/ingress-nginx/pull/1749,zouyee,Update nginx-ingress-controller.yaml,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
correct namespace with defaultbackend
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2017-11-24 01:46:19,2018-01-19 17:36:27,2018-01-19 17:36:27,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1752,https://github.com/kubernetes/ingress-nginx/pull/1752,diazjf,Complete Config-Map Documentation Overhaul,Changes the Config-Map documentation to be easier to search and follow a format similar to that in the annotations section. Also adds some missing configuration options. Fixes #1532 ,['aledbf'],1,2017-11-25 22:50:46,2017-11-25 23:17:29,2017-11-25 23:26:31,True,2017-11-25 23:17:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1756,https://github.com/kubernetes/ingress-nginx/pull/1756,ckross01,update link to affinity example,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
Updating the document link so a readme is referenced when looking for the Affinity example.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2017-11-27 16:26:18,2017-11-27 17:19:53,2017-11-27 17:32:59,True,2017-11-27 17:19:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1758,https://github.com/kubernetes/ingress-nginx/pull/1758,aledbf,Fix reference to removed lister,,[],1,2017-11-27 22:23:22,2017-11-27 22:26:03,2017-11-28 17:11:17,True,2017-11-27 22:26:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1762,https://github.com/kubernetes/ingress-nginx/pull/1762,aledbf,Add note about ingress class annotation,,[],1,2017-11-28 17:15:09,2017-11-28 17:15:41,2017-11-28 17:15:41,True,2017-11-28 17:15:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1763,https://github.com/kubernetes/ingress-nginx/pull/1763,samanthakem,Adding new controller (heptio contour) to the catalog.,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
Just adding a new k8s ingress controller that has been released.
Source code: https://github.com/heptio/contour
News: https://blog.heptio.com/making-it-easy-to-use-envoy-as-a-kubernetes-load-balancer-dde82959f171",['aledbf'],1,2017-11-28 22:18:06,2017-11-28 22:56:06,2017-11-28 22:56:06,True,2017-11-28 22:56:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1764,https://github.com/kubernetes/ingress-nginx/pull/1764,aledbf,Fix ingress.class annotation,,[],1,2017-11-28 22:29:38,2017-11-28 23:06:52,2017-11-28 23:08:13,True,2017-11-28 23:06:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1765,https://github.com/kubernetes/ingress-nginx/pull/1765,aledbf,Release nginx ingress controller 0.9-beta.19,,[],1,2017-11-28 23:10:43,2017-11-29 00:27:49,2017-11-29 00:40:00,True,2017-11-29 00:27:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1766,https://github.com/kubernetes/ingress-nginx/pull/1766,xianlubird,Fix ingress typo,"Signed-off-by: xianlubird <xianlubird@gmail.com>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2017-11-29 09:03:29,2017-11-30 00:00:24,2017-12-05 06:19:26,True,2017-11-30 00:00:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1768,https://github.com/kubernetes/ingress-nginx/pull/1768,aledbf,Custom default backend must use annotations if present,fixes #1761,[],1,2017-11-29 18:05:17,2017-11-30 14:13:18,2017-11-30 14:15:17,True,2017-11-30 14:13:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1769,https://github.com/kubernetes/ingress-nginx/pull/1769,aledbf,Use custom https port in redirects,"**What this PR does / why we need it**:

fixes #1743

",[],1,2017-11-29 20:17:12,2017-11-30 14:14:00,2017-11-30 14:15:09,True,2017-11-30 14:14:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1771,https://github.com/kubernetes/ingress-nginx/pull/1771,aledbf,Add additional check for old SSL certificates,"**What this PR does / why we need it**:

fixes #1770",[],1,2017-11-29 21:02:40,2017-11-30 13:34:52,2017-12-18 23:50:37,True,2017-11-30 13:34:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1775,https://github.com/kubernetes/ingress-nginx/pull/1775,rothgar,Change redirect from 301 to 308,"Should fix #1772

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
It changes the default redirect from 301 to 308

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #1772 

**Special notes for your reviewer**:
Still need to update documentation. Just wanted to start a PR",[],1,2017-11-30 14:57:27,2017-11-30 15:04:30,2017-11-30 15:31:48,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1776,https://github.com/kubernetes/ingress-nginx/pull/1776,aledbf,Add option to configure the redirect code,"**What this PR does / why we need it**:

fixes #1772 ",[],1,2017-11-30 15:00:31,2017-11-30 19:46:16,2017-11-30 20:46:28,True,2017-11-30 19:46:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1777,https://github.com/kubernetes/ingress-nginx/pull/1777,aledbf,Add setting to configure proxy responses in the stream section,"**What this PR does / why we need it**:

fixes #1731
",[],1,2017-11-30 20:53:47,2017-11-30 21:40:27,2017-11-30 21:41:40,True,2017-11-30 21:40:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1778,https://github.com/kubernetes/ingress-nginx/pull/1778,aledbf,Release nginx ingress controller 0.9.0,"Temporal image: `quay.io/aledbf/nginx-ingress-controller:0.300`

**What this PR does / why we need it**:

Release version 0.9.0

",[],1,2017-11-30 21:47:49,2017-12-04 13:07:40,2017-12-04 13:49:48,True,2017-12-04 13:07:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1781,https://github.com/kubernetes/ingress-nginx/pull/1781,morganwu277,auth-tls-pass-certificate-to-upstream should be bool,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

`auth-tls-pass-certificate-to-upstream` annotation from the doc is confused as string, it should be bool value. 
",[],1,2017-12-01 00:29:00,2017-12-01 00:37:00,2017-12-01 01:03:08,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1782,https://github.com/kubernetes/ingress-nginx/pull/1782,morganwu277,auth-tls-pass-certificate-to-upstream should be bool,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

`auth-tls-pass-certificate-to-upstream` annotation from the doc is confused as string, it should be bool value. ",['aledbf'],1,2017-12-01 00:37:48,2017-12-01 00:38:32,2017-12-01 00:38:32,True,2017-12-01 00:38:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1785,https://github.com/kubernetes/ingress-nginx/pull/1785,aledbf,Add deployment docs for AWS NLB,"**What this PR does / why we need it**:

New example for NLB https://aws.amazon.com/es/blogs/aws/new-network-load-balancer-effortless-scaling-to-millions-of-requests-per-second/

Edit: we need to wait for https://github.com/kubernetes/kubernetes/issues/56703 to be fixed",[],1,2017-12-01 16:13:14,2018-03-24 18:27:25,2018-04-03 22:15:21,True,2018-03-24 18:27:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1786,https://github.com/kubernetes/ingress-nginx/pull/1786,oilbeater,fix: some typo.,,['aledbf'],1,2017-12-02 06:21:28,2017-12-04 13:09:51,2018-02-07 08:04:25,True,2017-12-04 13:09:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1787,https://github.com/kubernetes/ingress-nginx/pull/1787,mindw,force external_auth requests to http/1.1,"**What this PR does / why we need it**:
forces external auth subrequests to use http 1.1

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #1784 

**Special notes for your reviewer**:
",['aledbf'],1,2017-12-02 15:09:13,2017-12-04 13:10:23,2017-12-04 19:38:04,True,2017-12-04 13:10:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1790,https://github.com/kubernetes/ingress-nginx/pull/1790,warmchang,Update the example README.md,"**What this PR does / why we need it**: 
Update the example README.md (https://github.com/kubernetes/ingress-nginx/blob/master/docs/examples/README.md)

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: None.

**Special notes for your reviewer**: None.
",['aledbf'],1,2017-12-03 09:26:31,2017-12-03 16:40:20,2017-12-03 16:40:20,True,2017-12-03 16:40:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1791,https://github.com/kubernetes/ingress-nginx/pull/1791,aledbf,"Fix verification of boilerplate, style and file headers",,[],1,2017-12-03 16:52:15,2017-12-04 13:08:15,2017-12-04 13:49:23,True,2017-12-04 13:08:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1792,https://github.com/kubernetes/ingress-nginx/pull/1792,aledbf,Add note about annotation values,fixes #1783,[],1,2017-12-03 16:54:20,2017-12-03 16:54:42,2017-12-04 13:49:30,True,2017-12-03 16:54:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1793,https://github.com/kubernetes/ingress-nginx/pull/1793,aledbf,WIP: Refactoring of kubernetes informers and local caches,"**What this PR does / why we need it**:

Removes the informer code from the controller and uses an interface to provide just the required functionality
",[],2,2017-12-03 17:05:14,2018-01-10 14:34:08,2018-01-15 18:45:56,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1795,https://github.com/kubernetes/ingress-nginx/pull/1795,aledbf,Fix grep in travis-ci to match the version as a word [ci skip],,[],1,2017-12-04 13:53:11,2017-12-04 13:53:22,2017-12-04 13:53:23,True,2017-12-04 13:53:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1796,https://github.com/kubernetes/ingress-nginx/pull/1796,aledbf,Fix grep in travis-ci to match the version as a word [ci skip],,[],1,2017-12-04 14:43:25,2017-12-04 14:43:32,2017-12-04 16:12:19,True,2017-12-04 14:43:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1800,https://github.com/kubernetes/ingress-nginx/pull/1800,maxlaverse,Add control of the configuration refresh interval,"**What this PR does / why we need it**:
Make the syncRateLimiter configurable, and therefore how the often the configuration might be reloaded. This value is tightly coupled with the all the upstream pods lifecycle and therefore should be configurable.


",['aledbf'],1,2017-12-05 19:08:07,2017-12-09 18:17:32,2017-12-09 18:22:51,True,2017-12-09 18:17:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1805,https://github.com/kubernetes/ingress-nginx/pull/1805,maxlaverse,Add X-Forwarded-Prefix on rewrites,"**What this PR does / why we need it**:
Add an annotation `x-forwarded-prefix` that activate the addition of a `X-Forwarded-Prefix` to the request sent to the upstream. This prefix has the value of the Nginx location that matched the rewrite.

**Which issue this PR fixes**
fixes https://github.com/kubernetes/ingress-nginx/issues/1774
",['aledbf'],2,2017-12-06 21:10:04,2017-12-09 18:16:55,2018-02-20 10:43:38,True,2017-12-09 18:16:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1814,https://github.com/kubernetes/ingress-nginx/pull/1814,webwurst,Fix link to custom configuration,**What this PR does / why we need it**: Link is broken,['aledbf'],1,2017-12-10 22:51:18,2017-12-11 01:09:31,2017-12-11 01:09:31,True,2017-12-11 01:09:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1819,https://github.com/kubernetes/ingress-nginx/pull/1819,danielqsj,Fix annotation describe,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
Fix describe of annotation `app-root`

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #1813 

**Special notes for your reviewer**:
",['aledbf'],1,2017-12-11 14:45:55,2017-12-13 17:29:42,2017-12-13 17:29:42,True,2017-12-13 17:29:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1826,https://github.com/kubernetes/ingress-nginx/pull/1826,aledbf,Add note about websocket and load balancers [ci skip],,[],1,2017-12-14 20:36:18,2017-12-14 20:36:24,2017-12-20 11:46:26,True,2017-12-14 20:36:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1840,https://github.com/kubernetes/ingress-nginx/pull/1840,aledbf,Add note about default log files [ci skip],"**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

fixes #1838 

Link https://github.com/kubernetes/ingress-nginx/blob/master/images/nginx/Dockerfile#L28",[],1,2017-12-20 11:44:15,2017-12-20 11:44:22,2017-12-20 11:46:39,True,2017-12-20 11:44:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1842,https://github.com/kubernetes/ingress-nginx/pull/1842,spiffxp,Update code-of-conduct.md,"Refer to kubernetes/community as authoritative source for code of conduct

ref: kubernetes/community#1527",['aledbf'],1,2017-12-20 18:32:43,2017-12-20 18:34:28,2018-01-04 16:42:26,True,2017-12-20 18:34:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1844,https://github.com/kubernetes/ingress-nginx/pull/1844,aledbf,Validate x-forwarded-proto and connection scheme before redirect to https,"**Which issue this PR fixes**: 

fixes #1841
fixes #1779",[],1,2017-12-21 14:52:52,2017-12-21 15:44:09,2017-12-27 01:58:35,True,2017-12-21 15:44:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1851,https://github.com/kubernetes/ingress-nginx/pull/1851,Dirbaio,Add use-forwarded-headers configmap option.,"This PR adds a configmap option `use-forwarded-headers` to enable/disable trust of incoming `X-Forwarded-*` headers. 

It is set to `true` by default, which corresponds to the current ingress behavior, so this change is backwards compatible.

Fixes #1815 #1309 #1668",[],1,2017-12-25 21:28:15,2018-05-10 16:24:04,2018-05-10 16:24:04,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1852,https://github.com/kubernetes/ingress-nginx/pull/1852,aledbf,Update nginx to v1.13.8 and update modules,"**What this PR does / why we need it**:

Updates nginx modules and adds back lua support",[],1,2017-12-26 03:16:01,2017-12-26 23:05:24,2017-12-27 01:58:46,True,2017-12-26 23:05:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1853,https://github.com/kubernetes/ingress-nginx/pull/1853,ryanmckaytx,Clarify docs for add-headers and proxy-set-headers,"add format description

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: ref #1849

**Special notes for your reviewer**:
Will follow up with second PR for logging
",['aledbf'],1,2017-12-26 21:11:14,2017-12-26 22:20:44,2017-12-26 22:20:44,True,2017-12-26 22:20:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1854,https://github.com/kubernetes/ingress-nginx/pull/1854,aledbf,Fix redirect to ssl,,[],1,2017-12-27 00:19:14,2017-12-27 01:53:44,2017-12-27 01:58:54,True,2017-12-27 01:53:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1855,https://github.com/kubernetes/ingress-nginx/pull/1855,aledbf,Increase travis-ci script timeouts [ci skip],,[],1,2017-12-27 02:02:39,2017-12-27 02:03:02,2017-12-27 09:29:12,True,2017-12-27 02:03:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1856,https://github.com/kubernetes/ingress-nginx/pull/1856,hzxuzhonghu,remove duplicated code,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
remove flag parse duplicate code
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2017-12-27 03:15:16,2018-01-09 11:16:11,2018-01-09 11:16:11,True,2018-01-09 11:16:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1857,https://github.com/kubernetes/ingress-nginx/pull/1857,aledbf,Fix travis-ci script timeouts [ci skip],,[],1,2017-12-27 09:17:17,2017-12-27 09:17:29,2017-12-27 09:17:29,True,2017-12-27 09:17:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1858,https://github.com/kubernetes/ingress-nginx/pull/1858,aledbf,When upstream-hash-by annotation is used do not configure a lb algorithm,"**Which issue this PR fixes**: 

fixes #1490
",[],1,2017-12-27 09:36:21,2017-12-27 10:48:07,2018-01-02 15:05:12,True,2017-12-27 10:48:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1860,https://github.com/kubernetes/ingress-nginx/pull/1860,aledbf,Fix publish.sh ARCH error,,[],1,2017-12-27 10:47:11,2017-12-27 10:47:21,2017-12-27 10:47:23,True,2017-12-27 10:47:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1861,https://github.com/kubernetes/ingress-nginx/pull/1861,aledbf,Improve speed of tests execution,,[],1,2017-12-27 11:00:10,2017-12-27 11:16:59,2018-01-02 15:04:57,True,2017-12-27 11:16:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1862,https://github.com/kubernetes/ingress-nginx/pull/1862,aledbf,Fix publish ARCH error,,[],2,2017-12-27 15:28:49,2017-12-27 15:29:04,2018-01-02 15:04:47,True,2017-12-27 15:29:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1864,https://github.com/kubernetes/ingress-nginx/pull/1864,TerraTech,configmap.md: Convert hyphens in name column to non-breaking-hyphens,"**What this PR does / why we need it**:
Improve documentation readability.
",['aledbf'],1,2017-12-28 00:35:05,2017-12-28 01:29:48,2017-12-28 08:12:35,True,2017-12-28 01:29:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1865,https://github.com/kubernetes/ingress-nginx/pull/1865,WillPlatnick,Add docs for legacy TLS version and ciphers,"Fixes #1711 
",['aledbf'],1,2017-12-28 17:37:19,2017-12-28 17:43:59,2017-12-28 17:56:35,True,2017-12-28 17:43:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1867,https://github.com/kubernetes/ingress-nginx/pull/1867,victortrac,Fix publish-service patch and update README,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:  `deploy/patch-deployment.yaml` is a JSON patch that replaces the args created by `deploy/with-rbac.yaml` or `deploy/without-rbac.yaml`. This means the args have to be updated 3 times if anything changes. 

This is changes the patch to actually do an `add` operation for the providers that require the `--publish-service` argument (e.g. https://github.com/kubernetes/ingress-nginx/tree/master/deploy#aws). It also formats the JSON to be a bit more readable instead of a single line.


",['aledbf'],1,2017-12-29 20:59:57,2017-12-31 14:38:32,2017-12-31 14:38:32,True,2017-12-31 14:38:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1869,https://github.com/kubernetes/ingress-nginx/pull/1869,tangle329,"""proxy_redirect default"" should be placed after the ""proxy_pass""","When use nginx.ingress.kubernetes.io/proxy-redirect-from: default
annotation. ingress controller will report:
""""""
Error: exit status 1
2018/01/02 07:03:11 [emerg] 181#181: ""proxy_redirect default"" should be placed after the ""proxy_pass"" directive in /tmp/nginx-cfg632387194:366
nginx: [emerg] ""proxy_redirect default"" should be placed after the ""proxy_pass"" directive in /tmp/nginx-cfg632387194:366
nginx: configuration file /tmp/nginx-cfg632387194 test failed
""""""

Signed-off-by: Tang <at28997146@163.com>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-01-02 08:48:13,2018-01-02 11:34:21,2018-01-02 11:34:21,True,2018-01-02 11:34:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1870,https://github.com/kubernetes/ingress-nginx/pull/1870,aledbf,Fix SSL Passthrough template issue and custom ports in redirect to HTTPS,"**Which issue this PR fixes**: 

fixes #1830 #1788
",[],1,2018-01-02 17:02:12,2018-01-02 17:48:43,2018-01-26 10:26:56,True,2018-01-02 17:48:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1871,https://github.com/kubernetes/ingress-nginx/pull/1871,aledbf,Update nginx image to 0.31,,[],1,2018-01-02 17:05:51,2018-01-02 17:48:31,2018-01-08 16:24:32,True,2018-01-02 17:48:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1872,https://github.com/kubernetes/ingress-nginx/pull/1872,aledbf,Fix data race updating ingress status,"**Which issue this PR fixes**:

fixes #1807
",[],1,2018-01-02 20:16:17,2018-01-02 20:43:26,2018-01-08 16:24:22,True,2018-01-02 20:43:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1880,https://github.com/kubernetes/ingress-nginx/pull/1880,aledbf,Update go dependencies and cleanup deprecated packages,,[],6,2018-01-07 15:12:21,2018-01-07 17:21:07,2018-01-07 17:21:07,True,2018-01-07 17:21:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1888,https://github.com/kubernetes/ingress-nginx/pull/1888,sagikazarmark,Add CORS max age annotation,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: Currently the `Access-Control-Max-Age` header cannot be changed when CORS requests are enabled and by default it's set to a very high value which is ignored by browsers. This PR makes the header configurable using annotations.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #1881

**Special notes for your reviewer**:
",['aledbf'],3,2018-01-09 00:44:45,2018-01-09 11:19:42,2018-01-09 12:07:37,True,2018-01-09 11:19:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1891,https://github.com/kubernetes/ingress-nginx/pull/1891,aledbf,Refactor initial synchronization of ingress objects,"**Which issue this PR fixes**:

fixes #1890",[],1,2018-01-09 12:12:20,2018-01-09 12:53:09,2018-01-10 13:11:46,True,2018-01-09 12:53:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1896,https://github.com/kubernetes/ingress-nginx/pull/1896,spiffxp,Update OWNERS file,Add OWNERS_ALIASES based on github teams,['aledbf'],1,2018-01-10 00:03:00,2018-01-10 02:42:39,2018-01-10 16:56:50,True,2018-01-10 02:42:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1897,https://github.com/kubernetes/ingress-nginx/pull/1897,aledbf,WIP: Refactoring of kubernetes informers and local caches,"**What this PR does / why we need it**:

Removes the informer code from the controller and uses an interface to provide just the required functionality
",[],21,2018-01-10 14:34:27,2018-01-18 19:14:27,2018-01-19 19:46:26,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1903,https://github.com/kubernetes/ingress-nginx/pull/1903,aledbf,If server_tokens is disabled remove the Server header,"**What this PR does / why we need it**:

Removes the Server header when `server-tokens: false`. By default nginx only removes the version of nginx",[],3,2018-01-15 17:33:33,2018-01-17 12:26:54,2018-01-17 17:23:12,True,2018-01-17 12:26:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1906,https://github.com/kubernetes/ingress-nginx/pull/1906,aledbf,Random string function should only contains letters,"**Which issue this PR fixes**: 

fixes #1902
",[],1,2018-01-16 17:47:09,2018-01-17 12:26:33,2018-01-17 17:23:30,True,2018-01-17 12:26:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1907,https://github.com/kubernetes/ingress-nginx/pull/1907,aledbf,Fix custom port in redirects,"**Which issue this PR fixes**: 

fixes #1882
",[],1,2018-01-16 18:53:53,2018-01-17 12:20:42,2018-01-17 17:23:20,True,2018-01-17 12:20:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1908,https://github.com/kubernetes/ingress-nginx/pull/1908,nandosangenetto,Updating link about ConfigMap,I was reading the README.md file and I found a broken link. I've updated with the correct link.,[],1,2018-01-16 19:57:24,2018-01-18 15:32:18,2018-01-18 15:32:18,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1909,https://github.com/kubernetes/ingress-nginx/pull/1909,aledbf,Release nginx 0.32,,[],1,2018-01-16 20:44:46,2018-01-17 11:55:06,2018-01-17 17:23:02,True,2018-01-17 11:55:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1910,https://github.com/kubernetes/ingress-nginx/pull/1910,noqcks,updating prometheus metrics names according to naming best practices,"
**What this PR does / why we need it**: This fixes #1509. We want to be following best practices! https://prometheus.io/docs/practices/naming/

**Which issue(s) this PR fixes**:
Fixes #1509 

**Special notes for your reviewer**:

**Release note**:
```release-note
Updated Nginx metrics names according to Prometheus best practices
```",[],1,2018-01-16 21:11:07,2018-01-17 11:56:54,2018-01-17 13:19:37,True,2018-01-17 11:56:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1912,https://github.com/kubernetes/ingress-nginx/pull/1912,noqcks,removing _total prefix from nginx guage metrics,"**What this PR does / why we need it**: This fixes #1509. We want to be following best practices! https://prometheus.io/docs/practices/naming/

**Which issue(s) this PR fixes**:
Fixes #1509 and corrects #1910 

**Release note**:
```release-note
action required: Changed the names of default Nginx ingress prometheus metrics. If you are scraping default Nginx ingress metrics with prometheus the metrics changes are as follows
nginx_active_connections_total -> nginx_connections_total{state=""active""}
nginx_accepted_connections_total -> nginx_connections_total{state=""accepted""}
nginx_handled_connections_total -> nginx_connections_total{state=""handled""}
nginx_current_reading_connections_total -> nginx_connections{state=""reading""}
nginx_current_writing_connections_total -> nginx_connections{state=""writing""}
current_waiting_connections_total -> nginx_connections{state=""waiting""}
```

I'm not sure if we would like to remove the `current_` prefix from the gauges if that's implied without some kind of total prefix, but I think this fixes the issues @discordianfish and @brancz had with #1910. 

Side note: does this need some kind of release note _action_ to notify people using these metrics since it could break their monitoring/alerting? 

tagging @kubernetes/sig-instrumentation-pr-reviews for input.",['brancz'],1,2018-01-17 14:32:44,2018-01-19 11:32:20,2018-01-19 15:54:29,True,2018-01-19 11:32:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1913,https://github.com/kubernetes/ingress-nginx/pull/1913,rayfoss,Missing r,,[],1,2018-01-17 16:03:43,2018-01-17 17:05:17,2018-01-17 17:05:17,True,2018-01-17 17:05:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1914,https://github.com/kubernetes/ingress-nginx/pull/1914,marc-sensenich,Add --with-http_secure_link_module for the Nginx build configuration,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: This PR adds the Secure Link Module to the custom Nginx build. This will allow for users to use the `secure_link`, `secure_link_md5`, and the  `secure_link_secret` directives in `configuration-snippet` annotation

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-01-17 16:21:22,2018-01-17 17:14:12,2018-01-17 19:53:26,True,2018-01-17 17:14:12,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1916,https://github.com/kubernetes/ingress-nginx/pull/1916,aledbf,Add support for jaeger backend,"**Which issue this PR fixes**: 

fixes #1808
",[],1,2018-01-17 19:29:11,2018-01-17 21:29:00,2018-01-17 22:43:42,True,2018-01-17 21:29:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1917,https://github.com/kubernetes/ingress-nginx/pull/1917,aledbf,Add option for reuseport in nginx listen section,,[],1,2018-01-17 21:14:53,2018-01-17 22:37:15,2018-01-17 22:42:51,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1918,https://github.com/kubernetes/ingress-nginx/pull/1918,aledbf,Update nginx image to 0.32,,[],1,2018-01-17 21:30:38,2018-01-17 22:06:56,2018-01-17 22:43:08,True,2018-01-17 22:06:56,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1919,https://github.com/kubernetes/ingress-nginx/pull/1919,aledbf,Add option for reuseport in nginx listen section,,[],1,2018-01-17 22:40:42,2018-01-17 23:12:47,2018-01-18 15:39:38,True,2018-01-17 23:12:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1925,https://github.com/kubernetes/ingress-nginx/pull/1925,aledbf,Fix doc links,closes #1924 #1908 #1921,[],3,2018-01-18 15:30:03,2018-01-18 15:30:30,2018-01-18 15:39:28,True,2018-01-18 15:30:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1926,https://github.com/kubernetes/ingress-nginx/pull/1926,aledbf,Do not use port from host header,"**Which issue this PR fixes**: 

fixes #1882
",[],1,2018-01-18 16:11:37,2018-01-18 16:51:59,2018-01-18 16:51:59,True,2018-01-18 16:51:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1927,https://github.com/kubernetes/ingress-nginx/pull/1927,aledbf,Remove sendfile configuration,"**What this PR does / why we need it**:

Removes the sendfile configuration from the nginx template because the ingress controller does not send local assets.

closes #1789",[],1,2018-01-18 16:54:35,2018-01-18 17:23:00,2018-01-18 17:30:41,True,2018-01-18 17:23:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1928,https://github.com/kubernetes/ingress-nginx/pull/1928,aledbf,Add support to hide headers from upstream servers,"**Which issue this PR fixes**: 

fixes #1900
",[],1,2018-01-18 18:07:55,2018-01-18 18:37:23,2018-01-18 18:40:52,True,2018-01-18 18:37:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1929,https://github.com/kubernetes/ingress-nginx/pull/1929,aledbf,Refactoring of kubernetes informers and local caches,,[],6,2018-01-18 19:15:21,2018-01-19 19:44:07,2018-01-19 19:47:00,True,2018-01-19 19:44:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1933,https://github.com/kubernetes/ingress-nginx/pull/1933,aledbf,Remove deploy of ingress controller from the example [ci skip],,[],1,2018-01-19 17:36:47,2018-01-19 17:37:09,2018-01-19 19:46:48,True,2018-01-19 17:37:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1934,https://github.com/kubernetes/ingress-nginx/pull/1934,aledbf,Release nginx ingress controller 0.10.0,"Temporal image: `quay.io/aledbf/nginx-ingress-controller:0.314`

**What this PR does / why we need it**:

Release version 0.10.0

",[],1,2018-01-19 20:00:01,2018-01-22 12:37:02,2018-01-22 22:07:49,True,2018-01-22 12:37:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1935,https://github.com/kubernetes/ingress-nginx/pull/1935,SaaldjorMike,Remove part of misplaced non-breaking hyphen,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-01-19 20:12:09,2018-01-19 20:29:30,2018-01-19 20:32:10,True,2018-01-19 20:29:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1938,https://github.com/kubernetes/ingress-nginx/pull/1938,xiekeyang,fix broken link,"This link seems to have been updated.

Signed-off-by: xiekeyang <keyang.xie@gmail.com>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-01-22 04:35:33,2018-03-29 19:29:55,2018-03-29 19:29:55,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1945,https://github.com/kubernetes/ingress-nginx/pull/1945,aledbf,When a secret is updated read ingress annotations (again),"**What this PR does / why we need it**:

There is no relation between ingress annotations and secret updates. This PR allows to read the ingress annotations when a referenced secret is updated or removed from the cluster.

**Which issue this PR fixes**: 

fixes #1941 
fixes #1947
",[],3,2018-01-22 22:09:48,2018-01-23 22:34:34,2018-01-23 23:25:11,True,2018-01-23 22:34:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1948,https://github.com/kubernetes/ingress-nginx/pull/1948,aledbf,Update go to 1.9.3,,[],1,2018-01-23 01:46:54,2018-01-23 03:44:16,2018-01-23 20:12:11,True,2018-01-23 03:44:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1953,https://github.com/kubernetes/ingress-nginx/pull/1953,Stono,Added annotation for upstream-vhost,Addresses the following issue: https://github.com/kubernetes/ingress-nginx/issues/1950,[],1,2018-01-23 11:15:03,2018-01-23 11:20:54,2018-01-23 11:39:04,True,2018-01-23 11:20:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1960,https://github.com/kubernetes/ingress-nginx/pull/1960,aledbf,Adjust sysctl values to improve nginx performance,"**Which issue this PR fixes**: 

fixes #1939
",[],2,2018-01-23 20:58:59,2018-01-23 22:19:33,2018-02-08 21:22:13,True,2018-01-23 22:19:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1963,https://github.com/kubernetes/ingress-nginx/pull/1963,aledbf,Fix tests,,[],2,2018-01-23 23:41:00,2018-01-24 00:11:57,2018-01-24 00:30:23,True,2018-01-24 00:11:57,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1967,https://github.com/kubernetes/ingress-nginx/pull/1967,qiupeng-huacloud,modify incorrect desprition for TTTFB in README,"Signed-off-by: qiupeng-huacloud <qiupeng@chinacloud.com.cn>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:  incorrect desprition for TTTFB, it should be TLS Time To First Byte. But words TLS missing  .

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
no issue report for it . 

**Special notes for your reviewer**: no
",[],1,2018-01-24 06:54:18,2018-01-24 10:58:11,2018-01-24 10:58:11,True,2018-01-24 10:58:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1969,https://github.com/kubernetes/ingress-nginx/pull/1969,aledbf,Rollback #1854,"**Which issue this PR fixes**: 

fixes #1957
",[],1,2018-01-24 12:26:27,2018-01-24 17:28:35,2018-01-24 17:47:18,True,2018-01-24 17:28:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1970,https://github.com/kubernetes/ingress-nginx/pull/1970,aledbf,By default brotli is disabled,#1958,[],1,2018-01-24 12:31:15,2018-01-24 13:01:37,2018-01-24 17:08:35,True,2018-01-24 13:01:37,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1974,https://github.com/kubernetes/ingress-nginx/pull/1974,aledbf,Only secrets in the local store can be updated,"**Which issue this PR fixes**:

fixes #1973
",[],1,2018-01-24 17:15:09,2018-01-24 17:46:43,2018-01-24 17:47:30,True,2018-01-24 17:46:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1975,https://github.com/kubernetes/ingress-nginx/pull/1975,aledbf,Release nginx ingress controller 0.10.1,Temporal image: `quay.io/aledbf/nginx-ingress-controller:0.320`,[],1,2018-01-24 17:51:04,2018-01-24 20:53:00,2018-01-24 21:02:49,True,2018-01-24 20:53:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1978,https://github.com/kubernetes/ingress-nginx/pull/1978,aledbf,Fix chain completion and default certificate flag issues,"**Which issue this PR fixes**: 

fixes #1954
fixes #1977",[],1,2018-01-25 13:11:38,2018-01-25 13:46:22,2018-03-01 14:55:55,True,2018-01-25 13:46:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1982,https://github.com/kubernetes/ingress-nginx/pull/1982,aledbf,Release nginx ingress controller 0.10.2,,[],1,2018-01-25 17:39:36,2018-01-25 18:15:25,2018-01-25 18:52:11,True,2018-01-25 18:15:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1987,https://github.com/kubernetes/ingress-nginx/pull/1987,hxquangnhat,add kube-system namespace for oauth2-proxy example,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
Small fix for external-auth example, the oauth2-proxy service needs to be within namespace kube-system

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-01-25 21:53:02,2018-01-26 18:11:29,2018-01-27 11:31:02,True,2018-01-26 18:11:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1991,https://github.com/kubernetes/ingress-nginx/pull/1991,aledbf,Add comment about bolean and number values,"**Which issue this PR fixes** *: 

fixes #1990
",[],1,2018-01-26 19:36:07,2018-01-26 19:36:13,2018-01-28 00:43:59,True,2018-01-26 19:36:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1992,https://github.com/kubernetes/ingress-nginx/pull/1992,kinghrothgar,Added configmap option to disable IPv6 in nginx DNS resolver,"**What this PR does / why we need it**:
Adds an option to disable IPv6 of nginx dns reslover

**Which issue this PR fixes**: fixes #1986 ",[],1,2018-01-26 22:32:09,2018-02-02 19:53:29,2018-02-02 19:53:29,True,2018-02-02 19:53:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1993,https://github.com/kubernetes/ingress-nginx/pull/1993,diazjf,Enable Customization of Auth Request Redirect,"Adds the 'nginx.ingress.kubernetes.io/auth-request-redirect' annotation, which allows the customization of the 'X-Auth-Request-Redirect' Header.

Fixes: #1979
",['aledbf'],1,2018-01-27 23:53:39,2018-01-28 00:32:09,2018-01-28 00:32:12,True,2018-01-28 00:32:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1996,https://github.com/kubernetes/ingress-nginx/pull/1996,Stono,Use v3/dev/performance of ModSecurity because of performance,"Fixes: https://github.com/kubernetes/ingress-nginx/issues/1995
fixes #1958",['aledbf'],3,2018-01-28 19:04:35,2018-02-01 10:42:57,2018-02-02 17:39:53,True,2018-02-01 10:42:56,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1997,https://github.com/kubernetes/ingress-nginx/pull/1997,aramase,fix var checked,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
This PR fixes the variable checked in the if clause. Noticed this during development.",[],1,2018-01-29 02:15:39,2018-01-29 02:23:26,2018-01-30 04:10:47,True,2018-01-29 02:23:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1998,https://github.com/kubernetes/ingress-nginx/pull/1998,aramase,Add support to enable/disable proxy buffering,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

This PR adds configmap and annotation option `proxy-buffering` to enable/disable `proxy-buffering`. 

It is set to `off` by default, which corresponds to the current ingress behavior.

fixes #1972",['aledbf'],2,2018-01-29 04:12:51,2018-01-29 14:43:56,2018-01-30 04:10:38,True,2018-01-29 14:43:56,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/1999,https://github.com/kubernetes/ingress-nginx/pull/1999,qiujian16,Add connection-proxy-header annotation,"This is the override the default connection header

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

Base on the discussion in https://github.com/kubernetes/ingress-nginx/pull/1744, we add a ""connection-proxy-header"" annotation to override the default connection header.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

fixes #986

**Special notes for your reviewer**:
",[],1,2018-01-29 07:22:33,2018-01-30 04:29:04,2018-01-30 05:03:44,True,2018-01-30 04:29:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2001,https://github.com/kubernetes/ingress-nginx/pull/2001,aramase,Add limit-request-status-code option,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

This PR adds configmap option to configure `limit_req_status` code. The nginx directive is set at the http level. It is set to `503` by default. (http://nginx.org/en/docs/http/ngx_http_limit_req_module.html#limit_req_status)

fixes #1955 ",[],3,2018-01-30 04:09:34,2018-01-30 13:24:45,2018-01-30 13:24:45,True,2018-01-30 13:24:45,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2004,https://github.com/kubernetes/ingress-nginx/pull/2004,iomv,Update get command on README file for verifying that deployment is successful,"Amending command that was filtering by a wrong app name

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: This is to fix the instructions on how to verify that deployment was successful. Currently it shows no resources because it is filtering by the wrong app name.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-01-30 14:04:29,2018-01-30 14:19:10,2018-01-30 14:38:29,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2005,https://github.com/kubernetes/ingress-nginx/pull/2005,qiupeng-huacloud,fix typo error for server name _,"Signed-off-by: qiupeng-huacloud <qiupeng@chinacloud.com.cn>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: no pr

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:fix typo error for ""server name _"", change it to correct word ""server_name""
",[],1,2018-01-31 03:32:42,2018-01-31 16:42:37,2018-02-01 05:54:13,True,2018-01-31 16:42:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2006,https://github.com/kubernetes/ingress-nginx/pull/2006,aramase,Add support for enabling ssl_ciphers per host,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

This PR adds annotation option to configure ssl_ciphers. Using the annotation will set the ssl_ciphers at the server level and will apply to all paths on the host.
(http://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_ciphers)

fixes #1956 ",[],2,2018-01-31 05:35:18,2018-01-31 16:53:08,2018-05-15 13:27:17,True,2018-01-31 16:53:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2009,https://github.com/kubernetes/ingress-nginx/pull/2009,jonboulle,docs/user-guide/tls: remove duplicated section,The section on enforcing SSL redirection is duplicated; remove it.,['aledbf'],1,2018-01-31 14:16:25,2018-01-31 16:43:23,2018-01-31 16:43:23,True,2018-01-31 16:43:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2011,https://github.com/kubernetes/ingress-nginx/pull/2011,qiupeng-huacloud,broken link for sticky-ingress.yaml,"Signed-off-by: qiupeng-huacloud <qiupeng@chinacloud.com.cn>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:no pr

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:the right link is ingress.yaml, no sticky-ingress.yaml avaliable

",['aledbf'],1,2018-02-01 06:09:39,2018-02-01 10:45:47,2018-02-01 10:45:47,True,2018-02-01 10:45:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2014,https://github.com/kubernetes/ingress-nginx/pull/2014,qiujian16,Add document for connection-proxy-header annotation,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

This is to document the connection-proxy-header annotation

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-02-01 07:25:46,2018-02-01 10:46:25,2018-02-01 13:53:38,True,2018-02-01 10:46:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2016,https://github.com/kubernetes/ingress-nginx/pull/2016,OlafSzmidt,Minor link fix in deployment docs,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: The link for GCE section was broken. Minor fix.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-02-01 12:09:17,2018-02-01 13:50:05,2018-02-01 14:45:41,True,2018-02-01 13:50:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2018,https://github.com/kubernetes/ingress-nginx/pull/2018,Stono,Added documentation for Permanent Redirect,Fixes https://github.com/kubernetes/ingress-nginx/issues/2015,[],1,2018-02-01 15:15:48,2018-02-01 17:05:05,2018-02-01 17:05:05,True,2018-02-01 17:05:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2019,https://github.com/kubernetes/ingress-nginx/pull/2019,aledbf,Update nginx image,,[],1,2018-02-01 17:15:14,2018-02-01 21:29:24,2018-02-02 20:13:58,True,2018-02-01 21:29:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2021,https://github.com/kubernetes/ingress-nginx/pull/2021,Stono,Add nginx_cookie_flag_module,"Hey, 
This PR adds the nginx_cooke_flag_module which could then be used in snippet blocks to control cookie policy, enabling users for example to globally set the `HttpOnly flag` for example

This helps people to improve the security of their proxied applications.",['aledbf'],1,2018-02-01 21:22:27,2018-02-08 02:14:20,2018-02-08 02:14:24,True,2018-02-08 02:14:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2023,https://github.com/kubernetes/ingress-nginx/pull/2023,Davidchinacloud,"[deploy and doc and images] apps(Deployment) api is now stable, use it","Signed-off-by: LinWengang  <linwengang@chinacloud.com.cn>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: no PR

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:  update apps api extensions/v1beta1 to apps/v1
",[],0,2018-02-02 06:26:18,2018-02-02 06:38:58,2018-02-02 06:46:33,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2024,https://github.com/kubernetes/ingress-nginx/pull/2024,Davidchinacloud,"[deploy doc images] apps api is now stable, use it","Signed-off-by: LinWengang <linwengang@chinacloud.com.cn>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: no PR

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:  update apps api extensions/v1beta1 to apps/v1 
",[],1,2018-02-02 06:50:06,2018-02-02 07:52:43,2018-02-02 07:52:43,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2025,https://github.com/kubernetes/ingress-nginx/pull/2025,Davidchinacloud,update workloads API version extensions/v1beta1 to apps/v1,"Signed-off-by: LinWengang <linwengang@chinacloud.com.cn>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:  no PR

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:  update workloads API version extensions/v1beta1 to apps/v1
",[],5,2018-02-02 07:58:02,2018-02-07 03:10:42,2018-02-07 03:10:42,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2026,https://github.com/kubernetes/ingress-nginx/pull/2026,Davidchinacloud,update KUBERNETES from v1.8.0 to 1.9.0,"Signed-off-by: LinWengang <linwengang@chinacloud.com.cn>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:  no PR

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:       update KUBERNETES from v1.8.0 to 1.9.0

",[],1,2018-02-02 08:18:22,2018-02-02 12:03:33,2018-02-06 02:24:20,True,2018-02-02 12:03:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2027,https://github.com/kubernetes/ingress-nginx/pull/2027,aledbf,Show pod information in http-svc example,,[],1,2018-02-02 17:04:09,2018-02-02 17:04:19,2018-02-02 18:48:13,True,2018-02-02 17:04:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2028,https://github.com/kubernetes/ingress-nginx/pull/2028,kinghrothgar,Moved X-Auth-Request-Redirect back into correct location block for oa,"uth2_proxy

**What this PR does / why we need it**:
This fixes an infinite sign in loop when using oauth2_proxy as external auth created by #1472 and discussed more in bitly/oauth2_proxy#427. More explanation can be found in the comment of my work mate here: https://github.com/kubernetes/ingress-nginx/pull/1472#issuecomment-360348416

I'm not sure if this is the best way to fix this but we need some fix in so we can get it working.",[],1,2018-02-02 19:02:03,2018-05-10 16:24:11,2018-05-10 16:24:11,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2030,https://github.com/kubernetes/ingress-nginx/pull/2030,ElvinEfendi,do not ignore $http_host and $http_x_forwarded_host,"**What this PR does / why we need it**:
The changes done in https://github.com/kubernetes/ingress-nginx/pull/1926 resulted in Nginx ignoring `$http_host` and `$http_x_forwarded_host` variables when setting HTTP Host and X-Forwarded-Host headers for the upstream. It broke applications that rely on X-Forwarded-Host header. For the uses cases and importance of this header please refer to https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Host.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
I could not find any issue reported before.

**Special notes for your reviewer**:
Note that this PR is almost revert of https://github.com/kubernetes/ingress-nginx/pull/1926 except https://github.com/kubernetes/ingress-nginx/pull/1926/files#diff-980db9e4b88704f12338bd074839f94eL712.

**Release note**:
```release-note
`X-Forwarded-Host` header is supported again. The support for it was dropped at https://github.com/kubernetes/ingress-nginx/pull/1926.
```",['bowei'],1,2018-02-03 01:31:11,2018-02-06 19:00:00,2018-06-18 10:57:31,True,2018-02-06 19:00:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2031,https://github.com/kubernetes/ingress-nginx/pull/2031,gyliu513,The maximum number of open file descriptors should be maxOpenFiles.,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

/cc @aledbf 
",[],1,2018-02-03 04:29:19,2018-02-03 05:05:02,2018-02-04 03:06:35,True,2018-02-03 05:05:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2035,https://github.com/kubernetes/ingress-nginx/pull/2035,Davidchinacloud,fix broken links in static-ip readme,"Signed-off-by: LinWengang <linwengang@chinacloud.com.cn>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:  no PR

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**: 
  
fix broken links in static-ip readme

",[],1,2018-02-06 01:30:32,2018-02-06 01:43:36,2018-02-06 02:59:04,True,2018-02-06 01:43:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2036,https://github.com/kubernetes/ingress-nginx/pull/2036,Davidchinacloud,"add matchLabels in Deployment yaml, that both API extensions/v1beta1 ","and apps/v1 can be used

Signed-off-by: LinWengang <linwengang@chinacloud.com.cn>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:   no PR

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

add  matchLabels  in Deployment yaml, that both API extensions/v
1beta1 and apps/v1 can be used
",[],1,2018-02-06 03:10:38,2018-02-07 16:50:12,2018-02-09 06:25:09,True,2018-02-07 16:50:12,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2038,https://github.com/kubernetes/ingress-nginx/pull/2038,yowenter,fix typo: appropiate -> [appropriate],,[],1,2018-02-07 06:18:53,2018-02-07 15:22:34,2018-02-07 15:22:40,True,2018-02-07 15:22:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2039,https://github.com/kubernetes/ingress-nginx/pull/2039,lijianfeng1993,fix typo stickyness to stickiness,"**What this PR does / why we need it**:
fix two typos 

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-02-07 07:40:56,2018-02-07 15:23:07,2018-02-09 06:15:42,True,2018-02-07 15:23:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2040,https://github.com/kubernetes/ingress-nginx/pull/2040,oilbeater,fix wrong annotation,"**What this PR does / why we need it**: fix wrong annotation in annotations.md

**Special notes for your reviewer**:
",[],1,2018-02-07 07:41:56,2018-02-07 15:23:42,2018-03-07 14:39:00,True,2018-02-07 15:23:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2041,https://github.com/kubernetes/ingress-nginx/pull/2041,oilbeater,fix spell error reslover -> resolver,"**What this PR does / why we need it**:
fix a spell error",[],1,2018-02-07 08:05:50,2018-02-07 15:24:09,2018-03-07 14:38:38,True,2018-02-07 15:24:09,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2046,https://github.com/kubernetes/ingress-nginx/pull/2046,tunblr,Fix typos,"**What this PR does / why we need it**:
To fix typos
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
NONE",[],1,2018-02-08 02:38:38,2018-02-08 03:15:51,2018-02-08 03:15:51,True,2018-02-08 03:15:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2050,https://github.com/kubernetes/ingress-nginx/pull/2050,gyliu513,Get file max from fs/file-max.,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

Fixed issue https://github.com/kubernetes/ingress-nginx/issues/2048

This fix reverted https://github.com/kubernetes/ingress-nginx/pull/177/files

With this fix, end user can set file-max via `sysctl -w fs.file-max=xxx` in ingress controller initContainer.

/cc @aledbf 

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-02-08 16:23:54,2018-02-08 16:55:26,2018-02-08 23:26:59,True,2018-02-08 16:55:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2052,https://github.com/kubernetes/ingress-nginx/pull/2052,Dm3Ch,Added debug info,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-02-08 19:02:33,2018-02-08 19:03:13,2018-04-19 12:54:29,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2054,https://github.com/kubernetes/ingress-nginx/pull/2054,vhosakot,Adding documentation for helm with RBAC enabled,"Installing `kubernetes/ingress-nginx` using helm in a kubernetes cluster with RBAC enabled fails with the following error:
```
F0109 17:26:23.351459   7 launch.go:136]  It seems the cluster it is running with Authorization enabled (like RBAC) and there is no permissions for the ingress controller. Please check the configuration
```
Setting `--set rbac.create=true` resolves this error and `kubernetes/ingress-nginx` gets installed.

Adding documentation for this so that users know.

Fixes https://github.com/kubernetes/ingress-nginx/issues/1531",['bowei'],1,2018-02-09 06:00:24,2018-02-09 15:08:36,2018-02-09 18:02:54,True,2018-02-09 15:08:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2056,https://github.com/kubernetes/ingress-nginx/pull/2056,Davidchinacloud,"[deploy doc images] apps api is now stable, use it and add accurate a","nnotations for the old version of k8s how to use old API version

Signed-off-by: LinWengang <linwengang@chinacloud.com.cn>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:  no PR

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
update update apps api extensions/v1beta1 to apps/v1 in k8s v1.9.0  and add accurate annotations for the old version of k8s how to use old API version

",[],2,2018-02-09 06:39:11,2018-05-10 16:24:28,2018-05-10 16:24:28,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2057,https://github.com/kubernetes/ingress-nginx/pull/2057,gyliu513,Updated init container port range to avoid port confilict.,"We need to udpate the port range to make sure it does not confilict
with either Kubernetes NodePort or default ephemeral port.

/cc @aledbf 

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-02-09 08:01:42,2018-02-12 23:39:41,2018-02-13 02:57:25,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2063,https://github.com/kubernetes/ingress-nginx/pull/2063,sathieu,Run one test at a time,"Running in parallel could fail if one of the test changes the ConfigMap.

For example: [this test](https://travis-ci.org/kubernetes/ingress-nginx/jobs/339330612) failed with:
```
[nginx-ingress] Default backend - SSL
/home/travis/gopath/src/k8s.io/ingress-nginx/test/e2e/framework/framework.go:127
  should return a self generated SSL certificate [It]
  /home/travis/gopath/src/k8s.io/ingress-nginx/test/e2e/defaultbackend/ssl.go:38
  Expected
      <int>: 1
  to be ==
      <int>: 0
  /home/travis/gopath/src/k8s.io/ingress-nginx/test/e2e/defaultbackend/ssl.go:47
```
",[],1,2018-02-10 13:43:04,2018-02-10 16:02:22,2018-02-11 16:50:02,True,2018-02-10 16:02:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2064,https://github.com/kubernetes/ingress-nginx/pull/2064,estechnical,Don't automatically squash the authorization header.,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
This pull request remove the nginx configuration line
```
proxy_set_header Authorization """";
```
as this prevents us from setting up applications which insist on using their own http-basic-auth. Any annotations we us to configure the ingress have no effect as this prevents the Authorization header being sent.

**Special notes for your reviewer**:
I am creating this pull request so we can discuss how to handle this better.]

Many thanks :)",[],1,2018-02-11 10:52:07,2018-06-15 04:31:18,2018-06-15 04:31:19,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2065,https://github.com/kubernetes/ingress-nginx/pull/2065,aledbf,Always return an IP address,,[],1,2018-02-11 16:39:45,2018-02-11 20:39:01,2018-02-12 15:01:18,True,2018-02-11 20:39:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2069,https://github.com/kubernetes/ingress-nginx/pull/2069,aledbf,Do not cancel the synchronization of secrets,"**Which issue this PR fixes** : 

fixes #2068
",[],1,2018-02-12 01:02:42,2018-02-12 05:37:03,2018-02-12 15:01:38,True,2018-02-12 05:37:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2070,https://github.com/kubernetes/ingress-nginx/pull/2070,aledbf,Add COVERALLS_TOKEN as secret env variable,"**Which issue this PR fixes**:

fixes #2066",[],1,2018-02-12 01:16:12,2018-02-12 05:02:38,2018-02-12 15:00:47,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2071,https://github.com/kubernetes/ingress-nginx/pull/2071,aledbf,Update Go to 1.9.4,,[],1,2018-02-12 01:43:05,2018-02-12 05:24:27,2018-02-12 15:00:58,True,2018-02-12 05:24:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2072,https://github.com/kubernetes/ingress-nginx/pull/2072,gyliu513,Set default value of report-node-internal-ip-address as true.,"Using default value of report-node-internal-ip-address as true can
make sure the ingress can always return ADDRESS, this also keep
backward compatibility with ingress 0.9.0.beta.12 and its previous
releases.

/cc @aledbf 

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-02-12 01:45:56,2018-02-12 02:26:03,2018-02-12 02:26:07,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2075,https://github.com/kubernetes/ingress-nginx/pull/2075,aledbf,Fix opentracing configuration when multiple options are configured,"**Which issue this PR fixes**: 

fixes #1983
",[],1,2018-02-12 21:40:59,2018-02-13 00:08:49,2018-02-15 04:10:23,True,2018-02-13 00:08:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2076,https://github.com/kubernetes/ingress-nginx/pull/2076,aledbf,Fix spelling errors,,[],1,2018-02-12 22:33:11,2018-02-12 22:33:27,2018-02-12 22:33:27,True,2018-02-12 22:33:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2077,https://github.com/kubernetes/ingress-nginx/pull/2077,aledbf,Remove initContainer from default deployment,"This PR removes the init container used to adjust `sysctl` values because of the unexpected issues several users are having (Centos related)

**Which issue this PR fixes**: 

fixes #2053
",[],1,2018-02-12 23:12:03,2018-02-12 23:14:12,2018-02-12 23:40:12,True,2018-02-12 23:14:12,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2078,https://github.com/kubernetes/ingress-nginx/pull/2078,turettn,Expose SSL client cert data to external auth provider.,"**What this PR does / why we need it**: Exposing validated TLS client cert information to back-ends was added in 0.10.0.  For applications that take advantage of an authorization\authentication sidecar (i.e. nginx external auth provider), it would be extremely helpful to expose this information to the sidecar as well.

**Which issue this PR fixes**: N/A

**Special notes for your reviewer**: First k8s PR.  CLA signed.

**Release note**: 
```release-note
SSL client cert information send to back-ends is also sent to the external
auth provider, if any.
```",['aledbf'],1,2018-02-13 05:43:00,2018-03-19 12:30:37,2018-03-19 12:33:24,True,2018-03-19 12:30:37,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2080,https://github.com/kubernetes/ingress-nginx/pull/2080,azweb76,Bumped updateCh limit to fix #2022,"**What this PR does / why we need it**:
For larger clusters, updateCh with 1024 is not enough and prevents nginx from starting. I bumped updateCh limit to 99999. Ideally this will be auto sized or adjusted to start popping items off during original startup.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2022 

**Special notes for your reviewer**:
Ideally a longer term solution should exist to support even larger clusters.
",[],1,2018-02-13 16:58:24,2018-02-13 17:06:36,2018-02-13 17:06:38,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2081,https://github.com/kubernetes/ingress-nginx/pull/2081,azweb76,Bumped updateCh limit to fix #2022,"What this PR does / why we need it:
For larger clusters, updateCh with 1024 is not enough and prevents nginx from starting. I bumped updateCh limit to 99999. Ideally this will be auto sized or adjusted to start popping items off during original startup.

Which issue this PR fixes (optional, in fixes #<issue number>(, fixes #<issue_number>, ...) format, will close that issue when PR gets merged): fixes #2022

Special notes for your reviewer:
Ideally a longer term solution should exist to support even larger clusters.",[],1,2018-02-13 17:07:25,2018-02-14 01:46:19,2018-02-14 01:46:19,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2082,https://github.com/kubernetes/ingress-nginx/pull/2082,aledbf,Use a ring channel to avoid blocking write of events,"**Which issue this PR fixes**: 

fixes #2022
closes #2081",[],2,2018-02-13 17:55:08,2018-02-14 01:46:19,2018-02-15 04:11:21,True,2018-02-14 01:46:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2084,https://github.com/kubernetes/ingress-nginx/pull/2084,sathieu,Add LemonLDAP::NG kubernetes controller to catalog,,[],1,2018-02-14 09:55:26,2018-02-14 17:15:59,2018-02-14 17:15:59,True,2018-02-14 17:15:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2086,https://github.com/kubernetes/ingress-nginx/pull/2086,auhlig,Ingress custom backend,"**What this PR does / why we need it**:

(1) fixes missing dot before file extension. The backend logs this with `unexpected error opening file: open /www/4xxhtml: no such file or directory` 

(2) fixes out of range:
```
http: panic serving 192.168.0.72:36388: runtime error: index out of range
goroutine 104487 [running]:
net/http.(*conn).serve.func1(0xc42008a8c0)
	/usr/local/opt/go/libexec/src/net/http/server.go:1697 +0xd0
panic(0x6d4520, 0x8d3ae0)
	/usr/local/opt/go/libexec/src/runtime/panic.go:491 +0x283
main.errorHandler.func1(0x8a9660, 0xc4201182a0, 0xc420166300)
	/Users/d064935/.go/src/k8s.io/ingress-nginx/images/custom-error-pages/main.go:69 +0xeba
net/http.HandlerFunc.ServeHTTP(0xc42011a0e0, 0x8a9660, 0xc4201182a0, 0xc420166300)
	/usr/local/opt/go/libexec/src/net/http/server.go:1918 +0x44
net/http.(*ServeMux).ServeHTTP(0x8de700, 0x8a9660, 0xc4201182a0, 0xc420166300)
	/usr/local/opt/go/libexec/src/net/http/server.go:2254 +0x130
net/http.serverHandler.ServeHTTP(0xc4201260d0, 0x8a9660, 0xc4201182a0, 0xc420166300)
	/usr/local/opt/go/libexec/src/net/http/server.go:2619 +0xb4
net/http.(*conn).serve(0xc42008a8c0, 0x8a9d60, 0xc4201ae6c0)
	/usr/local/opt/go/libexec/src/net/http/server.go:1801 +0x71d
created by net/http.(*Server).Serve
	/usr/local/opt/go/libexec/src/net/http/server.go:2720 +0x288
```

(3) adds basic metrics `request_count_total`, `request_duration_milliseconds`",[],3,2018-02-14 12:13:34,2018-02-14 17:16:45,2018-02-14 17:16:45,True,2018-02-14 17:16:45,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2089,https://github.com/kubernetes/ingress-nginx/pull/2089,aledbf,Retry initial connection to the Kubernetes cluster,"**Which issue this PR fixes**: 

fixes #1968
",[],1,2018-02-14 19:07:53,2018-02-17 20:25:05,2018-02-20 16:41:34,True,2018-02-17 20:25:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2091,https://github.com/kubernetes/ingress-nginx/pull/2091,nicksardo,Add HTTPS port to echoheaders,"**What this PR does / why we need it**:
For other ingress implementations, backend HTTPS is a concern for users. The echoheaders image will now generate a certificate on container start and nginx will serve HTTPS on port 8443.

cc @MrHohn @ahmetb ",[],1,2018-02-14 21:33:15,2018-02-14 22:12:07,2018-02-14 22:12:07,True,2018-02-14 22:12:07,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2092,https://github.com/kubernetes/ingress-nginx/pull/2092,rvkubiak,Update Makefile to allow specifying tag from command line,"The usage text in the Makefile suggests that you can specify TAG=1.4 to your make command to build with the specified tag.  This does not work, since TAG is hard coded in the Makefile and overwrites any value you pass on the command line.

$ GOPATH=/go TAG=notagforyou make container
docker build --pull -t gcr.io/google_containers/defaultbackend-amd64:1.4 .
Sending build context to Docker daemon  5.921MB
Step 1/4 : FROM scratch
 ---> 
Step 2/4 : USER 65534:65534
 ---> Using cache
 ---> 0f38024aa24e
Step 3/4 : COPY server /
 ---> f8509ce4595d
Step 4/4 : ENTRYPOINT /server
 ---> Running in 29b31420e648
 ---> 65818e326440
Removing intermediate container 29b31420e648
Successfully built 65818e326440
Successfully tagged gcr.io/google_containers/defaultbackend-amd64:1.4

Update the TAG variable to work as documented.

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-02-14 22:08:13,2018-02-14 22:10:43,2018-02-14 22:10:43,True,2018-02-14 22:10:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2093,https://github.com/kubernetes/ingress-nginx/pull/2093,aledbf,Only pods in running phase are vallid for status,"**Which issue this PR fixes**: 

fixes #2013
",[],1,2018-02-15 04:21:55,2018-02-15 05:19:28,2018-02-15 18:45:47,True,2018-02-15 05:19:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2099,https://github.com/kubernetes/ingress-nginx/pull/2099,Stono,Added GeoIP Organisational data,This fixes https://github.com/kubernetes/ingress-nginx/issues/2098,[],1,2018-02-15 22:06:56,2018-02-15 22:10:21,2018-02-15 22:10:29,True,2018-02-15 22:10:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2102,https://github.com/kubernetes/ingress-nginx/pull/2102,sathieu,Fix proxy_redirect description,,[],1,2018-02-16 09:55:40,2018-02-16 17:59:13,2018-02-16 17:59:13,True,2018-02-16 17:59:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2104,https://github.com/kubernetes/ingress-nginx/pull/2104,llb4ll,Updates and extends client cert documentation,"Updates and extends the documentation about enabling client
certificate authentication.
Extends the provided example by updating the yaml definition
and adding setup instructions to the README.

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],3,2018-02-16 14:02:18,2018-02-16 14:41:36,2018-02-16 14:41:36,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2105,https://github.com/kubernetes/ingress-nginx/pull/2105,llb4ll,Updates and extends client cert documentation,"Updates and extends the documentation about enabling client
certificate authentication.
Extends the provided example by updating the yaml definition
and adding setup instructions to the README.

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-02-16 15:14:39,2018-02-16 15:17:30,2018-02-16 15:17:56,True,2018-02-16 15:17:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2106,https://github.com/kubernetes/ingress-nginx/pull/2106,azweb76,Fix IP ACLs for proxy_protocol,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
When --enable-ssl-passthrough is enabled, proxy protocol is enabled in nginx. Nginx was set to
pull the IP from proxy_protocol for HTTP and HTTPS. The change ensures if we enable SSL passthrough, IP whitelist will still work for HTTP and HTTPS.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
using `ssl-passthrough` this is what I get:

```
x-real-ip=127.0.0.1
x-forwarded-for=127.0.0.1
```

With my fix in place, this is what I get:

```
x-real-ip=172.25.172.41
x-forwarded-for=172.25.172.41```",[],2,2018-02-16 19:25:49,2018-07-20 16:57:44,2019-01-31 14:56:24,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2107,https://github.com/kubernetes/ingress-nginx/pull/2107,Stono,Enabled the dynamic reload of GeoIP data,"Hey, 
This attempts to fix https://github.com/kubernetes/ingress-nginx/issues/2100

In summary I have:
  - Moved the geoip data to `/etc/nginx/geoip`
  - Added Filesystem watchers on each of the files in that directory.

Things I don't like:
  - I've hard coded the files in `/etc/nginx/geoip`, it'd be nice to probably just enumerate the files in that directory and watch them all (in case they change name/are added/removed)
  - I've probably wrote terrible golang, this is literally my first golang change PR ever - so I apologise!

I've tested it on my controller, this was me modifying each file:

```
I0216 19:46:45.439078       7 nginx.go:158] Triggering NGINX reload
I0216 19:46:50.054260       7 controller.go:180] ingress backend successfully reloaded...
I0216 19:47:05.182746       7 nginx.go:158] Triggering NGINX reload
I0216 19:47:05.183088       7 controller.go:171] backend reload required
I0216 19:47:09.787091       7 controller.go:180] ingress backend successfully reloaded...
I0216 19:47:14.246166       7 nginx.go:158] Triggering NGINX reload
I0216 19:47:14.246540       7 controller.go:171] backend reload required
I0216 19:47:19.135127       7 controller.go:180] ingress backend successfully reloaded...
```",['aledbf'],5,2018-02-16 19:51:23,2018-02-17 20:24:50,2018-02-17 20:24:51,True,2018-02-17 20:24:50,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2111,https://github.com/kubernetes/ingress-nginx/pull/2111,victortrac,replace &#8209; with actual dashes '-',"**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2110 ",[],1,2018-02-16 22:57:36,2018-02-16 23:02:42,2018-02-16 23:02:42,True,2018-02-16 23:02:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2112,https://github.com/kubernetes/ingress-nginx/pull/2112,aledbf,Fix e2e tests updating nginx image,,[],1,2018-02-17 20:22:54,2018-02-17 20:23:00,2018-02-20 16:41:43,True,2018-02-17 20:23:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2118,https://github.com/kubernetes/ingress-nginx/pull/2118,aledbf,Fix coveralls report,,[],1,2018-02-20 12:13:15,2018-02-20 12:35:42,2018-02-20 12:35:42,True,2018-02-20 12:35:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2119,https://github.com/kubernetes/ingress-nginx/pull/2119,aledbf,Remove deprecated flag disable-node-list,,[],1,2018-02-20 12:36:48,2018-02-20 19:56:25,2018-02-21 14:42:26,True,2018-02-20 19:56:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2120,https://github.com/kubernetes/ingress-nginx/pull/2120,aledbf,Migrate to codecov.io,,[],3,2018-02-20 14:06:29,2018-02-20 16:27:03,2018-02-20 16:41:51,True,2018-02-20 16:27:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2121,https://github.com/kubernetes/ingress-nginx/pull/2121,combor,Add average request time,"**What this PR does / why we need it**:

This PR adds yet another metric. We would like to know what the request time is for a given service
exposed through an ingress.

**Which issue this PR fixes**
None

**Special notes for your reviewer**:
None
",[],1,2018-02-20 16:52:34,2018-06-17 18:43:11,2018-06-17 18:43:12,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2122,https://github.com/kubernetes/ingress-nginx/pull/2122,aledbf,Release nginx ingress controller 0.11.0,Temporal image: ` quay.io/aledbf/nginx-ingress-controller:0.334`,[],1,2018-02-20 20:42:42,2018-02-21 14:16:53,2018-02-21 14:43:18,True,2018-02-21 14:16:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2124,https://github.com/kubernetes/ingress-nginx/pull/2124,nrmitchi,Document how to provide list types in configmap,"
**What this PR does / why we need it**:
This is just a basic documentation addition, as I spent more time than I'd like to admit trying to find the answer here.
",[],1,2018-02-20 21:43:53,2018-02-21 19:09:33,2018-02-21 19:09:33,True,2018-02-21 19:09:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2125,https://github.com/kubernetes/ingress-nginx/pull/2125,rvkubiak,Add GCB config to build defaultbackend,"Uses Google Container Builder to build and push the defaultbackend
image.  This will be used for automated builds of Kubernetes addon
images.","['aledbf', 'nicksardo']",1,2018-02-20 22:32:12,2018-02-28 21:18:12,2018-02-28 21:18:13,True,2018-02-28 21:18:12,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2127,https://github.com/kubernetes/ingress-nginx/pull/2127,antoineco,Revert deletion of dependency version override,"**What this PR does / why we need it**:

The version override on the ""github.com/docker/distribution"" package is necessary in order to avoid the following build error:
```
# k8s.io/ingress-nginx/vendor/k8s.io/kubernetes/pkg/util/parsers
vendor/k8s.io/kubernetes/pkg/util/parsers/parsers.go:36:16: undefined: reference.ParseNormalizedNamed
```

This partially reverts commit 9bcb5b08ea61a67845a0be1cf9feafab75862362.

`Gopkg.lock` is up-to-date.",[],1,2018-02-21 13:52:31,2018-02-21 14:12:55,2018-02-21 14:16:15,True,2018-02-21 14:12:55,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2133,https://github.com/kubernetes/ingress-nginx/pull/2133,acoshift,fix limit-req-status-code doc,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: Fix config name in doc does not match in the code
https://github.com/kubernetes/ingress-nginx/blob/a4874806f26f127b5d6f92239a42191ae9846a84/internal/ingress/controller/config/config.go#L477

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: -

**Special notes for your reviewer**:
",[],1,2018-02-22 19:23:21,2018-02-22 19:39:16,2018-02-22 19:39:23,True,2018-02-22 19:39:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2136,https://github.com/kubernetes/ingress-nginx/pull/2136,Monnoroch,Add a space between the `load_module` command and module names.,Fix #2135.,[],1,2018-02-23 15:04:38,2018-02-24 21:09:37,2018-02-24 21:09:37,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2137,https://github.com/kubernetes/ingress-nginx/pull/2137,gyliu513,Updated log level to v2 for sysctlFSFileMax.,"This is very importatnt log for trouble-shooting, we should update
it to v2 by default.

/cc @aledbf

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-02-23 15:29:43,2018-02-23 16:11:55,2018-02-24 02:06:04,True,2018-02-23 16:11:55,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2139,https://github.com/kubernetes/ingress-nginx/pull/2139,ejamesc,Update documentation for nginx-ingress-role RBAC.,"

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: For the Role named `nginx-ingress-role`, `endpoints` no longer needs or has `create` and `update` permissions.  This confused me, so I hope this helps!

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes confusing documentation that wasn't updated as part of https://github.com/kubernetes/ingress-nginx/commit/a9168f276e97e2922ebefb5a8a476aef659abd6a

**Special notes for your reviewer**:
",['nicksardo'],1,2018-02-24 10:54:31,2018-02-24 13:31:22,2018-02-24 15:01:18,True,2018-02-24 13:31:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2140,https://github.com/kubernetes/ingress-nginx/pull/2140,aledbf,Cors header should always be returned,"**Which issue this PR fixes**: 

fixes #2138
fixes #2134
",[],1,2018-02-24 20:33:46,2018-02-24 20:52:24,2018-02-24 21:16:54,True,2018-02-24 20:52:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2141,https://github.com/kubernetes/ingress-nginx/pull/2141,aledbf,Fix error loading modules,"**Which issue this PR fixes** : 

fixes #2135
",[],1,2018-02-24 20:42:41,2018-02-24 21:09:24,2018-02-24 21:16:44,True,2018-02-24 21:09:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2142,https://github.com/kubernetes/ingress-nginx/pull/2142,aledbf,WIP: Do not redirect /.well-known location,"**Which issue this PR fixes** :

 fixes #
",[],1,2018-02-24 21:10:45,2018-03-18 02:01:48,2018-03-18 21:06:47,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2143,https://github.com/kubernetes/ingress-nginx/pull/2143,aledbf,Only add HSTS headers in HTTPS,"**Which issue this PR fixes**: 

fixes #2073
",[],1,2018-02-25 13:30:40,2018-02-25 14:18:42,2018-02-25 14:22:15,True,2018-02-25 14:18:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2144,https://github.com/kubernetes/ingress-nginx/pull/2144,aledbf,Add annotation to disable logs in a location,"**Which issue this PR fixes**: 

fixes #2087
",[],2,2018-02-25 13:37:52,2018-02-25 14:38:55,2018-02-25 14:39:45,True,2018-02-25 14:38:55,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2145,https://github.com/kubernetes/ingress-nginx/pull/2145,aledbf,Add option in the configuration configmap to enable remote logging,"**Which issue this PR fixes** : 

fixes #1964
",[],1,2018-02-25 14:47:50,2018-02-25 15:47:14,2018-02-25 15:48:17,True,2018-02-25 15:47:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2146,https://github.com/kubernetes/ingress-nginx/pull/2146,aledbf,In case of TLS errors do not allow traffic,"**Which issue this PR fixes**:

fixes #2010
",[],1,2018-02-25 18:17:27,2018-02-25 20:20:15,2018-02-25 20:25:32,True,2018-02-25 20:20:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2147,https://github.com/kubernetes/ingress-nginx/pull/2147,aledbf,Release nginx ingress controller 0.12.0,Test image: `quay.io/aledbf/nginx-ingress-controller:0.337`,[],1,2018-02-25 20:28:08,2018-03-03 12:22:42,2018-03-18 21:07:54,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2148,https://github.com/kubernetes/ingress-nginx/pull/2148,qiujian16,Add publish-status-address flag,"
<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
If this flag is set, status of ingress resources will be updated
with this address.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
fix https://github.com/kubernetes/ingress-nginx/issues/2067

**Special notes for your reviewer**:
",[],2,2018-02-26 06:02:11,2018-02-27 03:02:20,2018-02-27 03:12:25,True,2018-02-27 03:02:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2150,https://github.com/kubernetes/ingress-nginx/pull/2150,aledbf,Fix service when redirect annotation is used,"**Which issue this PR fixes** : 

fixes #2131
",[],1,2018-02-26 17:05:21,2018-03-23 12:15:16,2018-03-23 12:15:16,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2152,https://github.com/kubernetes/ingress-nginx/pull/2152,valeriano-manassero,Dynamic reload first implementation,"This PR adds a ""dynamic-reload"" mode.
If `--dynamic-reload=true` is added to the run command, NGINX will use LUA and will not reload if a server name or a backend (virtualhost) is added or deleted.

This is a first implementation based on concepts expressed here: https://github.com/kubernetes/ingress-nginx/issues/1905",['aledbf'],1,2018-02-27 14:06:36,2018-03-14 07:12:45,2018-05-10 18:05:25,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2155,https://github.com/kubernetes/ingress-nginx/pull/2155,aledbf,Update nginx with new modules,"**What this PR does / why we need it**:

Adds new nginx modules required for the new LUA load balancer.

**Which issue this PR fixes**: 

fixes #2153
",[],6,2018-02-28 14:14:48,2018-03-03 02:02:18,2018-03-03 02:03:55,True,2018-03-03 02:02:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2156,https://github.com/kubernetes/ingress-nginx/pull/2156,dawez,enabling logic to find the correct value of the file limit,"Follows the request #2050 that changed the way the openfiles limit is calculated. It uses now the value coming from:

sysctl fs.file-max 

However this causes problem when the hosts also sets value using ulimit in the file `/etc/security/limits.conf` 

So when running the container in **non priviledged** mode, it is not possible to change during during the pod initialization.

```
initContainers:
- name: init-myservice
  image: quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.11.0
  command: ['sh', '-c', 'sysctl -w fs.file-max=10000;']
```

So for example the host would have 200000 limit for sysctl fs.file-max 
Then we have 10000 for the ulimit [defined in the /etc/security/limits.conf]

With this values the container try set the maxOpenFiles to something like

`maxOpenFiles := (fileMax / wp) - 1024
`
This would fail and generate an error in the log

` 44#44: setrlimit(RLIMIT_NOFILE, 48976) failed (1: Operation not permitted)   
`
As the maximum value in my case should be 10000.

So I guess that the best option would be to set to have 2 max values [one coming from the kernel the other coming from ulimit] and the minimum value should be choosen.

This will still allow to customize the values on **initcontainer** when running in priviledged mode.",[],1,2018-02-28 14:23:51,2018-02-28 14:32:37,2018-02-28 20:59:37,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2161,https://github.com/kubernetes/ingress-nginx/pull/2161,jevgenij-alterman,rewrite-target annotation example README path fix,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: this tutorial does not provide right info

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**: inverted commas missing in example
",['aledbf'],2,2018-03-01 12:50:45,2018-04-24 21:01:54,2018-04-24 21:01:54,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2162,https://github.com/kubernetes/ingress-nginx/pull/2162,antoineco,Remove duplicated BuildConfigFromFlags func,"**What this PR does / why we need it**:

Use `BuildConfigFromFlags` from `k8s.io/client-go/tools/clientcmd` instead of local, identical copy.",[],1,2018-03-01 12:58:15,2018-03-01 13:27:53,2018-03-01 13:58:52,True,2018-03-01 13:27:53,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2163,https://github.com/kubernetes/ingress-nginx/pull/2163,ElvinEfendi,include lua-upstream-nginx-module in Nginx build,"**What this PR does / why we need it**:
This is a follow up for https://github.com/kubernetes/ingress-nginx/pull/2155. We need lua-ngx-upstream-module to expose related Nginx C API to Lua land. This lets us implement any custom load balancing algorithm using Lua.

**Which issue this PR fixes**:
n/a

**Special notes for your reviewer**:
Here is https://github.com/Shopify/ingress/pull/16/files#diff-b00d77a6df9c8c05a483044b08e6bc50R2 how I use this API.",['aledbf'],1,2018-03-03 05:34:10,2018-03-03 16:38:03,2018-03-03 16:45:35,True,2018-03-03 16:38:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2164,https://github.com/kubernetes/ingress-nginx/pull/2164,ElvinEfendi,use the correct error channel,"**What this PR does / why we need it**:
I yet to test this change but I could not find any other reference to `done` in the code base.

**Which issue this PR fixes**:
n/a

**Special notes for your reviewer**:
n/a",[],1,2018-03-03 06:17:28,2018-03-03 12:23:08,2018-03-03 14:38:19,True,2018-03-03 12:23:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2165,https://github.com/kubernetes/ingress-nginx/pull/2165,AdamDang,"Typo fix ""api server "" -> ""API server""","In this doc ,""API server"" is written in capitals, but line 64 is not.
",[],1,2018-03-03 09:35:17,2018-03-03 12:02:29,2018-03-18 15:27:24,True,2018-03-03 12:02:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2167,https://github.com/kubernetes/ingress-nginx/pull/2167,ElvinEfendi,configuring load balancing per ingress,"**What this PR does / why we need it**:
Adds a support for new annotation so that users can configure a load balancing algorithm per ingress.

**Which issue this PR fixes** *: fixes #1834

**Special notes for your reviewer**: n/a",['dcbw'],2,2018-03-05 06:04:06,2018-03-09 21:09:42,2018-03-09 21:09:42,True,2018-03-09 21:09:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2169,https://github.com/kubernetes/ingress-nginx/pull/2169,maxlaverse,Add documentation about secure-verify-ca-secret,"The annotation `nginx.ingress.kubernetes.io/secure-verify-ca-secret` was introduced (https://github.com/kubernetes/ingress-nginx/pull/716) without any documentation.

This adds a few sentences about it.",['aledbf'],1,2018-03-05 10:42:00,2018-03-05 19:01:50,2018-03-05 19:30:37,True,2018-03-05 19:01:50,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2172,https://github.com/kubernetes/ingress-nginx/pull/2172,ElvinEfendi,include lua-resty-lock in nginx image,"**What this PR does / why we need it**:
We need a synchronization/locking primitive available in Lua land to properly implement load balancing algorithms. You can see how is this being used for Round Robin implementation at https://github.com/Shopify/ingress/pull/16/files?w=1#diff-b00d77a6df9c8c05a483044b08e6bc50R38. But all the other algorithms that are in the roadmap will need some kind of locking. The PR adds https://github.com/openresty/lua-resty-lock to the Nginx image.

**Which issue this PR fixes**: N/A

**Special notes for your reviewer**: N/A",['aledbf'],1,2018-03-06 05:44:28,2018-03-08 22:00:20,2018-03-08 22:45:55,True,2018-03-08 22:00:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2174,https://github.com/kubernetes/ingress-nginx/pull/2174,ElvinEfendi,Live Nginx configuration update without reloading,"Requires https://github.com/kubernetes/ingress-nginx/pull/2172 to be merged first and published the new Nginx image.

**What this PR does / why we need it**:
The PR implements live configuration update for Nginx upstreams/k8s endpoints. That means every time you deploy your app Nginx won't be reloaded. This is very important when you are front-ending many applications behind a single deployment of ingress-nginx and those app gets deployed frequently and have significant traffic.

I've mainly focused on laying out proper foundation for further development of live Nginx (re)configuration feature in ingress-nginx. The PR implements only Round Robin algorithm but can easily be extended to support more. I have another PR at https://github.com/kubernetes/ingress-nginx/pull/2167 to configure load balancing algorithm per ingress, that configuration will be used by Lua code as well to decide which LB algorithm to use for a given app(namespace/service).

The feature can be enabled by using `--enable-dynamic-configuration` command line flag. If you wanna see more Lua logs you can also set `error-log-level` to `info` to see what it does on endpoints changes.

In order to avoid JSON decoding in the request path, for every Nginx worker I spin up a periodic function that reads raw configuration from a shared Lua dictionary and decodes it into local cache per worker. Then balancer uses its local cache to get the list of endpoints and other backend configuration for given namespace/service.

**If you want to test** you can use `index.docker.io/elvinefendi/nginx-ingress-controller:0.0.1`

**Next steps**: Setup a testing framework for Lua code, add support for EWMA and more LB algorithms, add support for live update of secrets by using `certificate_by_lua`

**Which issue this PR fixes**: n/a

**Special notes for your reviewer**:
I'm aware that there's another similar PR being worked on at https://github.com/kubernetes/ingress-nginx/pull/2152. I was told about that only after I started working on this feature at https://github.com/Shopify/ingress/pull/16#issuecomment-370096531. There are significant differences in the implementation between the two PRs and I thought there could be value in creating this PR as well.",['aledbf'],1,2018-03-06 14:18:25,2018-03-18 13:13:42,2018-03-18 15:11:40,True,2018-03-18 13:13:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2177,https://github.com/kubernetes/ingress-nginx/pull/2177,aku105,Allow referencing TLS secret from other namespace,"

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: Allow referencing TLS secret from other namespaces. When TLS secret referred to when creating an ingress is of pattern `<namespace>/<secretName>`, ingress controller will check the namespace specified rather than ingress' namespace for secret.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2170

**Special notes for your reviewer**: NA
",['caseydavenport'],2,2018-03-07 11:55:24,2018-03-07 16:34:26,2018-11-30 05:45:37,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2180,https://github.com/kubernetes/ingress-nginx/pull/2180,antoineco,"Include tests in golint checks, fix warnings","**What this PR does / why we need it**:

`golint` enforces good practices for writing Go code, therefore it makes sense to run checks on test packages as well. Since ""should not use dot imports"" is the only warning we really want to ignore (`ginkgo` imports), it is simple enough to exclude these warnings from the `golint` output.

**List of lint warnings tackled by this PR**:

```
test/e2e/framework/cleanup.go:21:6: exported type CleanupActionHandle should have comment or be unexported
test/e2e/framework/framework.go:40:2: exported const MaxRetry should have comment (or a comment on this block) or be unexported
test/e2e/framework/framework.go:44:6: exported type RequestScheme should have comment or be unexported
test/e2e/framework/k8s.go:30:1: exported method Framework.EnsureSecret should have comment or be unexported
test/e2e/framework/k8s.go:41:1: exported method Framework.EnsureIngress should have comment or be unexported
test/e2e/framework/k8s.go:52:1: exported method Framework.EnsureService should have comment or be unexported
test/e2e/framework/k8s.go:63:1: exported method Framework.EnsureDeployment should have comment or be unexported
test/e2e/framework/k8s.go:74:1: exported method Framework.WaitForPodsReady should have comment or be unexported
test/e2e/framework/logs.go:27:1: exported method Framework.Logs should have comment or be unexported
test/e2e/framework/ssl.go:77:21: error strings should not be capitalized or end with punctuation or a newline
test/e2e/framework/ssl.go:81:21: error strings should not be capitalized or end with punctuation or a newline
test/e2e/framework/ssl.go:122:21: error strings should not be capitalized or end with punctuation or a newline
test/e2e/framework/ssl.go:125:21: error strings should not be capitalized or end with punctuation or a newline
test/e2e/framework/ssl.go:128:21: error strings should not be capitalized or end with punctuation or a newline
test/e2e/framework/test_context.go:28:6: exported type TestContextType should have comment or be unexported
test/e2e/framework/test_context.go:34:5: exported var TestContext should have comment or be unexported
test/e2e/framework/test_context.go:36:1: comment on exported function RegisterCommonFlags should be of the form ""RegisterCommonFlags ...""
test/e2e/framework/test_context.go:52:1: exported function RegisterParseFlags should have comment or be unexported
test/e2e/framework/util.go:55:1: exported function Logf should have comment or be unexported
test/e2e/framework/util.go:59:1: exported function Failf should have comment or be unexported
test/e2e/framework/util.go:65:1: exported function Skipf should have comment or be unexported
test/e2e/framework/util.go:71:1: exported function RestclientConfig should have comment or be unexported
test/e2e/framework/util.go:74:26: error strings should not be capitalized or end with punctuation or a newline
test/e2e/framework/util.go:87:6: exported type ClientConfigGetter should have comment or be unexported
test/e2e/framework/util.go:89:1: exported function LoadConfig should have comment or be unexported
test/e2e/framework/util.go:131:1: exported function ExpectNoError should have comment or be unexported
```",['aledbf'],1,2018-03-07 13:09:00,2018-03-07 16:37:31,2018-03-07 16:46:37,True,2018-03-07 16:37:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2181,https://github.com/kubernetes/ingress-nginx/pull/2181,oilbeater,change nginx process pgid,"**What this PR does / why we need it**:
put restarted nginx process in another process group, just like the normal nginx start did in https://github.com/kubernetes/ingress-nginx/blob/master/internal/ingress/controller/nginx.go#L289

",[],1,2018-03-07 14:47:26,2018-03-08 14:58:55,2018-03-19 03:52:45,True,2018-03-08 14:58:55,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2183,https://github.com/kubernetes/ingress-nginx/pull/2183,dobesv,Default appears to actually be INGRESSCOOKIE,,[],1,2018-03-07 19:35:32,2018-04-14 13:05:36,2018-04-14 17:02:41,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2185,https://github.com/kubernetes/ingress-nginx/pull/2185,antoineco,Remove ProxyPassParams setting,"**What this PR does / why we need it**:

TLDR: `ingress.kubernetes.io/proxy-pass-params` --> :door: 

This annotation made sense when the project was still a generic implementation, but `nginx` itself doesn't support such parameter, so there is no reason to keep it around.

Since I pushed that extra annotation, I feel responsible for removing it now :)

/assign @aledbf ",['aledbf'],1,2018-03-07 22:34:58,2018-03-08 00:40:23,2018-03-08 09:18:05,True,2018-03-08 00:40:23,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2187,https://github.com/kubernetes/ingress-nginx/pull/2187,sylr,Managing a whitelist for _/nginx_status,"Attempt to implement https://github.com/kubernetes/ingress-nginx/issues/2159

If someone could review this and tell me if I'm going in the right direction that would be really appreciated.","['justinsb', 'aledbf']",1,2018-03-08 11:44:28,2018-03-28 12:27:35,2018-03-28 12:27:35,True,2018-03-28 12:27:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2191,https://github.com/kubernetes/ingress-nginx/pull/2191,antoineco,Add checker test for bad pid,"**What this PR does / why we need it**:

The second ""valid request"" `checker` test makes little sense because the pid file is rewritten with the expected pid. I adapted it to ensure we also fail in case the process with the expected pid does **not** exist.

/assign @aledbf",['aledbf'],1,2018-03-09 17:03:42,2018-03-09 17:21:02,2018-04-12 22:59:55,True,2018-03-09 17:21:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2193,https://github.com/kubernetes/ingress-nginx/pull/2193,oilbeater,fix wrong json tag,"**What this PR does / why we need it**:
json tags are case sensitive when encoding, change omitEmpty to omitempty

",[],1,2018-03-11 07:24:04,2018-03-12 10:36:36,2018-03-17 08:45:29,True,2018-03-12 10:36:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2194,https://github.com/kubernetes/ingress-nginx/pull/2194,oilbeater,add worker_cpu_affinity to improve nginx performance,"**What this PR does / why we need it**:
add worker_cpu_affinity to improve nginx performance
",[],1,2018-03-12 15:21:47,2018-03-13 02:10:47,2018-03-17 08:44:57,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2200,https://github.com/kubernetes/ingress-nginx/pull/2200,jonyhy96,fix grammer mistake,"fix grammar mistake
```release-note
None
```

**What this PR does / why we need it**:
google is a role model company and shoud not have grammar mistake

**Special notes for your reviewer**:
google is a role model company and shoud not have grammar mistake",['aledbf'],1,2018-03-16 06:24:09,2018-03-16 12:54:18,2018-03-20 01:27:28,True,2018-03-16 12:54:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2201,https://github.com/kubernetes/ingress-nginx/pull/2201,oilbeater,Add worker-cpu-affinity nginx option,"**What this PR does / why we need it**:

worker_cpu_affinity is a common optimization method for improving nginx performance, adding this as a custom configuration. Also fix some format issues found during editing.
",[],1,2018-03-16 16:15:11,2018-03-16 16:32:46,2018-03-17 08:45:12,True,2018-03-16 16:32:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2202,https://github.com/kubernetes/ingress-nginx/pull/2202,oilbeater,Allow config to disable geoip,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
For an offline or private cloud environment geoip is not needed.

**Which issue this PR fixes** :
fixes https://github.com/kubernetes/ingress-nginx/issues/2179

**Special notes for your reviewer**:
",[],1,2018-03-17 09:20:25,2018-03-18 16:30:06,2018-03-19 03:52:16,True,2018-03-18 16:30:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2203,https://github.com/kubernetes/ingress-nginx/pull/2203,alvaroaleman,Add configoption to exclude routes from tls upgrading,"**What this PR does / why we need it**:

Allows configuring routes that shall not be upgraded to tls, e.G. because they are for a letsencrypt ACME challenge

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2095

**Special notes for your reviewer**:
",[],5,2018-03-17 22:34:02,2018-03-18 20:44:59,2018-03-18 20:44:59,True,2018-03-18 20:44:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2205,https://github.com/kubernetes/ingress-nginx/pull/2205,halfcrazy,add luacheck to lint lua files,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
Add Lua lint tool luacheck as there are some lua codes for lua-nginx-module.
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['bowei'],1,2018-03-18 14:15:29,2018-03-18 16:31:49,2018-03-18 16:32:34,True,2018-03-18 16:31:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2206,https://github.com/kubernetes/ingress-nginx/pull/2206,aledbf,Release nginx ingress controller 0.12.0,Temporal image: `quay.io/aledbf/nginx-ingress-controller:0.343`,[],1,2018-03-18 21:05:16,2018-03-19 11:57:17,2018-03-19 16:28:16,True,2018-03-19 11:57:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2208,https://github.com/kubernetes/ingress-nginx/pull/2208,oilbeater,Add missing lua bindata change,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
add changes in https://github.com/kubernetes/ingress-nginx/pull/2205 to bindata and reformat bindata file to the format that go-bindata generated.",[],1,2018-03-19 04:41:52,2018-03-19 12:27:31,2018-03-19 12:27:31,True,2018-03-19 12:27:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2209,https://github.com/kubernetes/ingress-nginx/pull/2209,chenpengdev,"fix go test TestSkipEnqueue error, move queue.Run","concurrency issues,  move queue.Run
fix #2198 
",['aledbf'],1,2018-03-19 09:15:02,2018-03-19 11:46:54,2018-03-19 11:46:54,True,2018-03-19 11:46:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2210,https://github.com/kubernetes/ingress-nginx/pull/2210,ElvinEfendi,allow ipv6 localhost when enabled,"**What this PR does / why we need it**:
When IPv6 is enabled the controller sends request from IPv6 localhost, we should allow that client IP for sending request to Lua endpoint.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-03-19 14:02:47,2018-03-19 16:32:56,2018-03-19 17:00:55,True,2018-03-19 16:32:56,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2212,https://github.com/kubernetes/ingress-nginx/pull/2212,aledbf,Fix dynamic configuration when custom errors are enabled,"**Which issue this PR fixes**:

fixes #2211
",[],1,2018-03-19 15:09:38,2018-03-19 15:55:18,2018-03-19 16:28:35,True,2018-03-19 15:55:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2213,https://github.com/kubernetes/ingress-nginx/pull/2213,aledbf,Update cli-arguments.md,,[],1,2018-03-19 16:17:25,2018-03-19 16:17:45,2018-03-19 16:28:24,True,2018-03-19 16:17:45,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2215,https://github.com/kubernetes/ingress-nginx/pull/2215,ElvinEfendi,fix wrong config generation when upstream-hash-by is set,"**What this PR does / why we need it**:
fixes incorrect config generation when `upstream-hash-by` is set.

An incorrectly generated config looks like:
```
    upstream squawk-production-squawk-web-80 {
        hash {{ $upstream.UpstreamHashBy }} consistent;

        keepalive 32;
```

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-03-19 20:16:51,2018-03-19 20:37:51,2018-03-19 22:52:10,True,2018-03-19 20:37:51,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2216,https://github.com/kubernetes/ingress-nginx/pull/2216,fanzy618,"Fix default log format to record ""X-Forwarded-For"" header.","**What this PR does / why we need it**:
To write information in  X-Forwarded-For header to access log.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2114

**Special notes for your reviewer**:
",[],1,2018-03-20 10:02:33,2018-03-20 10:09:44,2018-03-20 10:20:07,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2217,https://github.com/kubernetes/ingress-nginx/pull/2217,fanzy618,"Fix default log format to record ""X-Forwarded-For"" header.","<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
To write information in X-Forwarded-For header to access log.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2114

**Special notes for your reviewer**:
",[],1,2018-03-20 10:14:05,2018-03-20 11:51:54,2018-03-20 11:51:54,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2219,https://github.com/kubernetes/ingress-nginx/pull/2219,aledbf,Fix log format documentation,"**Which issue this PR fixes**: 

fixes #2114
",[],1,2018-03-20 11:50:56,2018-03-20 11:51:05,2018-03-20 13:31:10,True,2018-03-20 11:51:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2220,https://github.com/kubernetes/ingress-nginx/pull/2220,oilbeater,fix: cannot set $service_name if use rewrite,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
$path here is the regular expression formatted nginx location not the origin path in ingress rules.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2131 

",['aledbf'],1,2018-03-20 14:59:05,2018-03-22 12:43:46,2018-03-27 03:07:30,True,2018-03-22 12:43:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2221,https://github.com/kubernetes/ingress-nginx/pull/2221,aledbf,Update nginx to 1.13.10 and enable gRPC,Starting point to add gRPC support #2207,[],1,2018-03-20 18:29:06,2018-03-21 03:26:37,2018-03-21 03:44:21,True,2018-03-21 03:26:37,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2223,https://github.com/kubernetes/ingress-nginx/pull/2223,aledbf,Add support for gRPC,"**Which issue this PR fixes**: 

fixes #2207

Temporal image: `quay.io/aledbf/nginx-ingress-controller:0.345`
The annotation `nginx.ingress.kubernetes.io/grpc-backend: ""true""` is required to enable this feature.
If the gRPC service requires TLS then also add the annotation 
`nginx.ingress.kubernetes.io/secure-backends: ""true""`",[],2,2018-03-20 19:34:20,2018-03-22 03:38:47,2018-03-23 11:43:48,True,2018-03-22 03:38:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2224,https://github.com/kubernetes/ingress-nginx/pull/2224,fqsghostcloud,fix some typo,Make sentences more fluid,[],1,2018-03-21 01:51:45,2018-03-21 02:05:06,2018-03-21 02:52:17,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2226,https://github.com/kubernetes/ingress-nginx/pull/2226,fqsghostcloud,correct spelling,"
There is a misspelling here, please correct","['aledbf', 'bprashanth']",1,2018-03-21 02:49:07,2018-03-22 11:14:24,2018-03-22 11:14:24,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2227,https://github.com/kubernetes/ingress-nginx/pull/2227,ElvinEfendi,do not hardcode keepalive for upstream_balancer,"**What this PR does / why we need it**:
The PR makes sure we don't hard code `keepalive` setting when dynamic configuration is enabled.
Ideally this should be configurable per ingress, but having a generally configurable option is also better than hardcoding its value.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-03-21 03:22:44,2018-03-21 03:42:22,2018-03-21 03:42:22,True,2018-03-21 03:42:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2228,https://github.com/kubernetes/ingress-nginx/pull/2228,liticer,Fix broken links in multi-tls,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

Fix broken links in multi-tls
",['caseydavenport'],1,2018-03-21 04:42:49,2018-03-21 10:05:14,2018-03-21 10:05:17,True,2018-03-21 10:05:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2229,https://github.com/kubernetes/ingress-nginx/pull/2229,zrdaley,Configurable load balancing with EWMA,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

This PR is an extension of https://github.com/kubernetes/ingress-nginx/pull/2174 which enables optional dynamic configuration via the `--enable-dynamic-configuration` flag. This allows NGINX upstreams/K8 endpoints can be updated without reloading NGINX.

The purpose of this PR is to add EWMA (exponential weighted moving average) as a configurable load balancing algorithm. EWMA load balancing uses a moving average of the roundtrip time of an upstream in order to determine where to forward a request. Using EWMA has the potential to decrease queueing delays and response time for ends users. 

**Which issue this PR fixes**:  n/a
",['aledbf'],1,2018-03-21 14:53:53,2018-03-23 15:06:21,2018-04-02 21:01:35,True,2018-03-23 15:06:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2232,https://github.com/kubernetes/ingress-nginx/pull/2232,maxlaverse,Make proxy_next_upstream_tries configurable,"**What this PR does / why we need it**:
On deployments running a large number of pods, it is not desired to have Nginx retry failed requests as many times as they are pods. This PR makes `proxy_next_upstream_tries` configurable on the Nginx Ingress level through a ConfigMap, and on the Ingress leve with annotations. ",['aledbf'],2,2018-03-21 21:13:53,2018-03-22 11:12:37,2018-03-22 12:33:38,True,2018-03-22 11:12:37,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2233,https://github.com/kubernetes/ingress-nginx/pull/2233,ElvinEfendi,clean backends data before sending to Lua endpoint,"**What this PR does / why we need it**:
As can be seen at https://github.com/kubernetes/ingress-nginx/issues/2225#issuecomment-375083611 backends data the controller POSTs to Lua endpoint includes `Service` field for every backend that is not used in Lua balancer code at all. The PR strips it from the payload.

**Which issue this PR fixes** 
related to https://github.com/kubernetes/ingress-nginx/issues/2231

**Special notes for your reviewer**:",['aledbf'],1,2018-03-21 22:07:34,2018-03-22 02:47:40,2018-03-22 03:00:37,True,2018-03-22 02:47:40,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2234,https://github.com/kubernetes/ingress-nginx/pull/2234,aledbf,Update go dependencies,,[],1,2018-03-22 03:54:12,2018-03-23 16:35:20,2018-03-29 14:56:36,True,2018-03-23 16:35:20,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2235,https://github.com/kubernetes/ingress-nginx/pull/2235,halfcrazy,"add proxy header ssl-client-issuer-dn, fix #2178","<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
add proxy header ssl-client-issuer-dn, fix #2178 
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['bprashanth'],1,2018-03-22 03:55:46,2018-03-22 04:38:48,2018-03-22 04:51:57,True,2018-03-22 04:38:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2236,https://github.com/kubernetes/ingress-nginx/pull/2236,halfcrazy,Add missing configuration in #2235,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
Missing to add some config in #2235 
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-03-22 04:50:55,2018-03-22 11:53:30,2018-03-22 11:53:30,True,2018-03-22 11:53:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2237,https://github.com/kubernetes/ingress-nginx/pull/2237,arisu1000,Fix typo,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-03-22 06:51:06,2018-04-17 18:58:09,2018-04-17 18:58:09,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2238,https://github.com/kubernetes/ingress-nginx/pull/2238,fqsghostcloud,Correct typo,please correct the typo  /assign @aledbf,['aledbf'],2,2018-03-22 07:41:33,2018-03-22 11:14:07,2018-03-22 11:14:10,True,2018-03-22 11:14:07,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2239,https://github.com/kubernetes/ingress-nginx/pull/2239,fqsghostcloud,fix-link,fix link,['aledbf'],1,2018-03-22 08:20:14,2018-03-22 11:32:34,2018-03-22 11:32:34,True,2018-03-22 11:32:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2240,https://github.com/kubernetes/ingress-nginx/pull/2240,yulng,"fix:""any value other"" should be ""any other value""","line 169:fix:""any value other"" should be ""any other value""",[],1,2018-03-22 12:12:47,2018-03-22 12:20:10,2018-03-22 12:20:10,True,2018-03-22 12:20:10,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2241,https://github.com/kubernetes/ingress-nginx/pull/2241,maxlaverse,"Revert ""Get file max from fs/file-max. (#2050)""","This reverts commit d8efd39694c028329ad4f9c7e27531518956df4c which broke the way the limit for open files is calculated.

**What this PR does / why we need it**:
Restore the way the maximum possible number of open files was calculated.
All details and motivations are explained in the issue https://github.com/kubernetes/ingress-nginx/issues/2157

**Which issue this PR fixes**
fixes https://github.com/kubernetes/ingress-nginx/issues/2157
",['aledbf'],1,2018-03-22 12:42:43,2018-03-22 16:03:05,2018-03-22 16:46:22,True,2018-03-22 16:03:05,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2242,https://github.com/kubernetes/ingress-nginx/pull/2242,agau4779,add http/2,"**What this PR does / why we need it**:
Enables HTTP2 on port 8443 for echoheaders.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
Required to test HTTP/2 in Kubernetes Ingress","['aledbf', 'nicksardo']",1,2018-03-22 17:14:18,2018-03-22 17:26:05,2018-03-22 17:32:48,True,2018-03-22 17:26:05,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2243,https://github.com/kubernetes/ingress-nginx/pull/2243,alvaroaleman,"Add NoAuthLocations and default it to ""/.well-known/acme-challenge""","**What this PR does / why we need it**:

Allows to configure locations that should not be authenticated, very usefull e.G. for Let's encrypt/ACME.

Basically the same as #2203 but for authentication instead of TLS upgrading.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],3,2018-03-22 20:20:43,2018-04-02 00:02:35,2018-04-28 12:40:29,True,2018-04-02 00:02:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2244,https://github.com/kubernetes/ingress-nginx/pull/2244,oilbeater,fix: empty ingress path,"**What this PR does / why we need it**:
If the origin ingress rule has no field `path`, the default value will be an empty string which will cause issues when rendering template as other place will use `/` as the default value.
Set the default value of path to `/` when retrieve ingress rules from api-server. 

This fix may also fix some hidden bugs that related to the default empty path. 
e.g.
https://github.com/kubernetes/ingress-nginx/blob/master/internal/ingress/controller/template/template.go#L728
https://github.com/kubernetes/ingress-nginx/blob/master/internal/ingress/controller/template/template.go#L616

Both of them compare path with origin ingress path, if there is no path field in ingress rules it will generate wrong nginx config.

**Which issue this PR fixes** : fixes #1980 

**Special notes for your reviewer**:


",[],1,2018-03-23 06:03:45,2018-03-23 11:08:43,2018-03-27 03:05:18,True,2018-03-23 11:08:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2246,https://github.com/kubernetes/ingress-nginx/pull/2246,aledbf,Fix grpc json tag name,,[],1,2018-03-23 11:42:50,2018-03-23 12:12:27,2018-03-29 14:56:49,True,2018-03-23 12:12:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2248,https://github.com/kubernetes/ingress-nginx/pull/2248,oilbeater,fix: redirect servers bug,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
The key-value place for origin server and redirect server is wrong
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2230 

**Special notes for your reviewer**:
",[],1,2018-03-23 16:20:40,2018-03-24 10:10:34,2018-03-27 03:07:46,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2254,https://github.com/kubernetes/ingress-nginx/pull/2254,ElvinEfendi,e2e tests for dynamic configuration and Lua features and a bug fix,"**What this PR does / why we need it**:
In https://github.com/kubernetes/ingress-nginx/pull/2174 we introduced a new feature to dynamically reconfigure backends and load balance requests using Lua. The PR had few unit tests for Go code but no end to end test. This PR introduces end to end tests for dynamic configuration feature and integration tests for some Lua business logic implementation. It should also serve as a foundation to test future Lua middleware.

**Currently this PR is a work in progress**, I put it out as soon as possible to get early feedback if any.

**Which issue this PR fixes**: n/a

**Special notes for your reviewer**: n/a",['aledbf'],5,2018-03-24 20:09:29,2018-04-01 20:09:27,2018-04-02 04:06:41,True,2018-04-01 20:09:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2255,https://github.com/kubernetes/ingress-nginx/pull/2255,AdamDang,Update annotations.md,"A typo fix in line 221.
""This service is handle the response"" should be changed to ""This service handles the response""",[],1,2018-03-25 12:54:40,2018-03-25 15:55:31,2018-04-01 06:50:18,True,2018-03-25 15:55:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2258,https://github.com/kubernetes/ingress-nginx/pull/2258,valeriano-manassero,Travis Test,,[],1,2018-03-26 14:15:48,2018-03-26 14:17:24,2018-03-26 14:17:41,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2263,https://github.com/kubernetes/ingress-nginx/pull/2263,oilbeater,clean up tmpl,"**What this PR does / why we need it**:
The nginx.conf generated now is too messy remove some section only usefule when dynamic configure enabled and headers only useful for https.

",[],1,2018-03-27 03:37:14,2018-03-29 12:36:01,2018-04-17 14:44:16,True,2018-03-29 12:36:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2265,https://github.com/kubernetes/ingress-nginx/pull/2265,ajayaa,Fixed command to create ca certificate in tls-auth example,,[],1,2018-03-27 08:18:01,2018-04-14 13:05:52,2018-04-14 13:05:52,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2267,https://github.com/kubernetes/ingress-nginx/pull/2267,AdamDang,Update README.md,"Typo fix in line 7.
It should be ""your Ingress targets"".

",[],1,2018-03-27 15:40:40,2018-03-27 15:50:27,2018-04-01 06:48:45,True,2018-03-27 15:50:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2269,https://github.com/kubernetes/ingress-nginx/pull/2269,antoineco,Start Ingress cache Controller immediately,"**What this PR does / why we need it**:

Waiting 1 extra second before starting the cache Controller for Ingress objects seems unnecessary because [the call to `n.store.Run()` is blocking](https://github.com/kubernetes/ingress-nginx/blob/4b9cb90f30f6140c83c2b7bfade5194e84bc26dd/internal/ingress/controller/nginx.go#L283) until all caches are synced.

**Special notes for your reviewer**:

The change was originally introduced as part of #1891, but doesn't seem relevant anymore (unless I missed some evil detail).",['aledbf'],1,2018-03-28 09:28:12,2018-03-28 14:34:23,2018-03-28 14:34:32,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2270,https://github.com/kubernetes/ingress-nginx/pull/2270,aledbf,Revert deleted code in #2146,"**Which issue this PR fixes**: 

fixes #2259
",[],1,2018-03-28 18:37:32,2018-03-28 23:33:04,2018-03-29 14:56:59,True,2018-03-28 23:33:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2271,https://github.com/kubernetes/ingress-nginx/pull/2271,antoineco,Use SharedIndexInformers in place of Informers,"**What this PR does / why we need it**:

Kubernetes has largely [replaced individual Informers with SharedIndexInformers](https://github.com/kubernetes/kubernetes/issues/30016), and the [k8s.io/client-go docs](https://godoc.org/k8s.io/client-go/informers/core/v1#NewEndpointsInformer) recommend using shared caches wherever possible.

> Always prefer using an informer factory to get a shared informer instead of getting an independent one. This reduces memory footprint and number of connections to the server.

**Special notes for your reviewer**:

Also clarifies #2269 in comments.",['aledbf'],1,2018-03-29 09:21:25,2018-03-29 12:35:01,2018-03-29 12:36:45,True,2018-03-29 12:35:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2272,https://github.com/kubernetes/ingress-nginx/pull/2272,aledbf,Disable opentracing for nginx internal urls,"**What this PR does / why we need it**:

Disables opentracing in some URLs used to get status, lua dynamic configuration, and health checks in order to avoid useless tracing information

**Which issue this PR fixes**: 

fixes #2260
",[],1,2018-03-29 15:01:35,2018-03-29 16:47:14,2018-03-30 16:00:42,True,2018-03-29 16:47:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2273,https://github.com/kubernetes/ingress-nginx/pull/2273,aledbf,Update go to 1.10.1,"**What this PR does / why we need it**:

**Which issue this PR fixes**:

fixes #2149
",[],1,2018-03-29 15:26:48,2018-03-29 17:05:00,2018-04-03 17:56:20,True,2018-03-29 17:05:00,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2274,https://github.com/kubernetes/ingress-nginx/pull/2274,AdamDang,Typo fixes in modsecurity.md,Fixed some small typos,['aledbf'],2,2018-03-29 16:34:33,2018-03-29 16:48:17,2018-03-29 23:47:42,True,2018-03-29 16:48:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2276,https://github.com/kubernetes/ingress-nginx/pull/2276,AdamDang,Update README.md,"Small typo fix.
""This image does provides a ..."" should be changed to ""This image does provide a ..."" or ""This image 
provides a ...""
",['aledbf'],1,2018-03-30 05:44:42,2018-03-30 11:00:44,2018-03-30 11:00:44,True,2018-03-30 11:00:44,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2279,https://github.com/kubernetes/ingress-nginx/pull/2279,zeeZ,Ignore default certificate during server initialization TLS loop,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

Currently, for each host, if the first (lowest resourceVersion) ingress configuration does not contain a TLS secret, the default certificate is set. This causes the controller to ignore newer ingress configurations that may reference a TLS secret.

This change allows configurations, where multiple ingress configurations exist for a host, with only one of them containing a TLS secret, to work more reliably.
",[],1,2018-03-30 16:17:22,2018-08-23 12:47:32,2018-08-23 17:02:55,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2280,https://github.com/kubernetes/ingress-nginx/pull/2280,ElvinEfendi,Fix bug when auth req is enabled(external authentication),"**What this PR does / why we need it**:
For detailed information please refer to the referenced issue. The problem is that `proxy_upstream_name` gets overridden with a wrong value when external authentication is enabled and therefore requests fail when dynamic configuration is also enabled because Lua can not pick the correct backend.

cc: @mikksoone

**Which issue this PR fixes**: fixes #2268

**Special notes for your reviewer**:
",['aledbf'],2,2018-03-30 16:48:47,2018-03-30 17:19:33,2018-03-30 17:32:59,True,2018-03-30 17:19:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2282,https://github.com/kubernetes/ingress-nginx/pull/2282,aledbf,Fix nlb instructions,"**Which issue this PR fixes**:

fixes #2278
",[],1,2018-03-30 17:24:05,2018-03-30 17:24:12,2018-04-03 17:56:10,True,2018-03-30 17:24:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2283,https://github.com/kubernetes/ingress-nginx/pull/2283,alvaroaleman,Fix flaky e2e tests ,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

e2e tests are currently flaky due to #2254 introducting tests that redeploy the ingress controller but only sometimes wait afterwards which may cause subsequent tests to fail.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-04-01 22:46:38,2018-04-01 23:37:27,2018-04-02 02:26:53,True,2018-04-01 23:37:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2285,https://github.com/kubernetes/ingress-nginx/pull/2285,sergeylanzman,Update controller.go,,[],1,2018-04-02 22:47:28,2018-04-02 23:16:06,2018-04-02 23:16:06,True,2018-04-02 23:16:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2288,https://github.com/kubernetes/ingress-nginx/pull/2288,skudriavtsev,Adding the ability to use incomplete host names (non-FQDN) in 'auth-url' annotation.,"Currently, if 'auth-utl' annotation for an ingress contains non-FQDN hostname (a host name which must be resolved with respect to the search list in /etc/resolv.conf), then there will occur ""500 internal server error"". Such a host name will be passed as is to nginx as a part of URL. Nginx does not respect search list and sends queries directly to a nameserver. And I have found no way to instruct nginx to use system resolver (see https://trac.nginx.org/nginx/ticket/658).

This PR is about a try to resolve hostname part of a URL using CNAME. ",[],1,2018-04-03 15:13:02,2018-04-14 13:06:08,2018-04-14 13:06:08,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2289,https://github.com/kubernetes/ingress-nginx/pull/2289,aledbf,Fix custom-error-pages image publication script,,[],1,2018-04-03 18:09:20,2018-04-03 18:09:35,2018-04-03 22:15:09,True,2018-04-03 18:09:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2290,https://github.com/kubernetes/ingress-nginx/pull/2290,aledbf,Update nginx to 1.13.11,"**What this PR does / why we need it**:

Updates nginx to 1.13.11

**Which issue this PR fixes**: 

fixes #2286
",[],1,2018-04-03 19:58:00,2018-04-04 15:18:18,2018-04-05 19:24:50,True,2018-04-04 15:18:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2294,https://github.com/kubernetes/ingress-nginx/pull/2294,aledbf,Fix HSTS without preload,"**Which issue this PR fixes**: 

fixes #2293
",[],1,2018-04-05 01:50:04,2018-04-05 02:17:52,2018-04-05 19:24:38,True,2018-04-05 02:17:52,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2296,https://github.com/kubernetes/ingress-nginx/pull/2296,aledbf,Improve indentation of generated nginx.conf,"**What this PR does / why we need it**:

Improves readability of the generated `nginx.conf` file fixing indentations ",[],1,2018-04-05 14:01:38,2018-04-05 21:19:30,2018-04-05 21:23:53,True,2018-04-05 21:19:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2297,https://github.com/kubernetes/ingress-nginx/pull/2297,AdamDang,Small typo fix in deploy/README.md,Fixing some small typos.,['bowei'],1,2018-04-05 14:12:48,2018-04-17 19:33:19,2018-05-01 03:04:09,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2298,https://github.com/kubernetes/ingress-nginx/pull/2298,aledbf,Disable dynamic configuration in s390x and ppc64le,,[],1,2018-04-05 19:46:58,2018-04-05 20:37:22,2018-04-05 21:23:43,True,2018-04-05 20:37:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2300,https://github.com/kubernetes/ingress-nginx/pull/2300,aledbf,Fix race condition when Ingress does not contains a secret,,[],1,2018-04-06 19:40:39,2018-04-06 20:44:42,2018-04-06 21:28:06,True,2018-04-06 20:44:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2301,https://github.com/kubernetes/ingress-nginx/pull/2301,ElvinEfendi,include lua-resty-waf and its dependencies in the base Nginx image,"**What this PR does / why we need it**:
This is a first step toward implementing the feature request at https://github.com/kubernetes/ingress-nginx/issues/2299.
The PR installs lua-resty-waf and its dependencies.

**Which issue this PR fixes**: n/a

**Special notes for your reviewer**:
related to https://github.com/kubernetes/ingress-nginx/issues/2299",['aledbf'],3,2018-04-06 20:19:58,2018-04-06 21:08:26,2018-04-06 22:32:47,True,2018-04-06 21:08:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2303,https://github.com/kubernetes/ingress-nginx/pull/2303,ElvinEfendi,More lua dependencies,"**What this PR does / why we need it**:
Include the rest of the lua-resty-waf dependencies in Nginx image. Continuation of https://github.com/kubernetes/ingress-nginx/pull/2301. 

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-04-07 07:41:23,2018-04-07 10:49:22,2018-04-07 15:38:14,True,2018-04-07 10:49:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2304,https://github.com/kubernetes/ingress-nginx/pull/2304,ElvinEfendi,Lua resty waf controller,"**What this PR does / why we need it**:
Introduces an annotation to enable and control https://github.com/p0pr0ck5/lua-resty-waf per ingress.
When enabled WAF will apply the rulesets documented at https://github.com/p0pr0ck5/lua-resty-waf#included-rulesets.

**Which issue this PR fixes**: fixes #2299

**Special notes for your reviewer**:
I'll add few more annotations in a subsequent PR to give more control.",['aledbf'],1,2018-04-07 07:44:11,2018-04-08 20:37:14,2018-04-09 03:29:52,True,2018-04-08 20:37:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2305,https://github.com/kubernetes/ingress-nginx/pull/2305,aledbf,Fix issues building nginx image in different platforms,,[],1,2018-04-07 12:51:36,2018-04-07 13:02:17,2018-04-07 16:12:55,True,2018-04-07 13:02:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2306,https://github.com/kubernetes/ingress-nginx/pull/2306,aledbf,Disable lua waf where luajit is not available,,[],1,2018-04-07 18:22:42,2018-04-07 18:27:11,2018-04-08 20:21:21,True,2018-04-07 18:27:11,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2307,https://github.com/kubernetes/ingress-nginx/pull/2307,pcj,Documentation: grpc example,Closes #2284 ,"['aledbf', 'ElvinEfendi', 'antoineco']",2,2018-04-08 03:32:30,2018-05-10 16:26:54,2018-05-10 16:26:54,True,2018-05-10 16:26:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2308,https://github.com/kubernetes/ingress-nginx/pull/2308,aledbf,Add verification of lua load balancer to health check,,[],1,2018-04-08 17:51:03,2018-04-08 18:24:38,2018-04-08 18:25:41,True,2018-04-08 18:24:38,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2309,https://github.com/kubernetes/ingress-nginx/pull/2309,aledbf,Configure upload limits for setup of lua load balancer,,[],1,2018-04-08 17:59:09,2018-04-08 18:47:49,2018-04-08 18:50:32,True,2018-04-08 18:47:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2310,https://github.com/kubernetes/ingress-nginx/pull/2310,aledbf,Remove bindata from runtime,"**What this PR does / why we need it**:

go-bindata is used only in tests and having this dependency makes impossible to have multiple PRs changing the nginx template open.",[],1,2018-04-08 19:21:39,2018-04-08 20:00:38,2018-04-08 20:21:07,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2311,https://github.com/kubernetes/ingress-nginx/pull/2311,aledbf,Enable http2 on HTTP port to allow gRPC,,[],1,2018-04-08 20:50:40,2018-04-08 21:02:03,2018-04-08 21:02:54,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2312,https://github.com/kubernetes/ingress-nginx/pull/2312,aledbf,Enable http2 on HTTP port to allow gRPC,,[],5,2018-04-08 21:03:21,2018-04-09 00:00:09,2018-04-09 17:16:49,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2313,https://github.com/kubernetes/ingress-nginx/pull/2313,aledbf,Enable http2 on HTTP port to allow gRPC,,[],1,2018-04-08 23:37:54,2018-04-08 23:59:44,2018-04-22 16:58:20,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2314,https://github.com/kubernetes/ingress-nginx/pull/2314,ElvinEfendi,annotation to ignore given list of WAF rulesets,"**What this PR does / why we need it**:
Let users to be able to ignore a subset of `lua-resty-waf` rulesets per ingress using an annotation.

**Which issue this PR fixes**: n/a

**Special notes for your reviewer**: n/a",['aledbf'],1,2018-04-09 01:18:06,2018-04-09 01:55:24,2018-04-09 02:14:27,True,2018-04-09 01:55:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2315,https://github.com/kubernetes/ingress-nginx/pull/2315,ElvinEfendi,extra waf rules per ingress,"**What this PR does / why we need it**:
Introduces a new annotation `nginx.ingress.kubernetes.io/lua-resty-waf-extra-rules` that users can use to configure extra WAF rules.

**Which issue this PR fixes**: n/a

**Special notes for your reviewer**: n/a",['aledbf'],3,2018-04-09 02:59:22,2018-04-09 10:14:31,2018-04-09 11:02:33,True,2018-04-09 10:14:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2317,https://github.com/kubernetes/ingress-nginx/pull/2317,ElvinEfendi,run lua-resty-waf in different modes,"**What this PR does / why we need it**:
`lua-resty-waf` can be configured to run in three different modes. This PR allows ingresses to configure in which mode WAF should be run.

**Which issue this PR fixes**: fixes #2316

**Special notes for your reviewer**: n/a",['aledbf'],2,2018-04-09 11:12:51,2018-04-09 12:19:13,2018-04-09 12:21:01,True,2018-04-09 12:19:13,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2319,https://github.com/kubernetes/ingress-nginx/pull/2319,aledbf,Add ingress-nginx survey,"**What this PR does / why we need it**:

Get feedback from users
",[],1,2018-04-09 17:24:22,2018-04-09 17:24:28,2018-04-09 17:24:30,True,2018-04-09 17:24:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2320,https://github.com/kubernetes/ingress-nginx/pull/2320,aledbf,Add ingress-nginx survey,,[],2,2018-04-09 17:30:17,2018-04-09 17:32:22,2018-04-09 17:53:42,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2321,https://github.com/kubernetes/ingress-nginx/pull/2321,aledbf,Fix survey link,,[],1,2018-04-09 17:33:25,2018-04-09 17:33:30,2018-04-09 17:39:42,True,2018-04-09 17:33:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2326,https://github.com/kubernetes/ingress-nginx/pull/2326,andrewlouis93,Buffered backends fix,"**What this PR does / why we need it**:
* Read from temp file if the request body from the controller's POST to update backends is larger than client_body_buffer_size.
* There was an to address this problem over here: https://github.com/kubernetes/ingress-nginx/pull/2309/files - but the updates will still silently fail by updating the lua shared table with `nil` if the controller POST body is larger than 10m. 
* This PR makes sure that the dictionary is **not updated** if there is either too large of a request body - or an empty request body.

**Which issue this PR fixes** 
* https://github.com/Shopify/edgescale/issues/398

**Special notes for your reviewer**:
* Could someone look at the test I've written? What I'm doing right now is updating the ingress-nginx controller's `client-body-buffer-size` to be set to `1k` so I can reproduce the problem. 
* After the test, the attribute is reset to the Nginx default - 8k. as I write this, I realize I can handle this better...

r/ @ElvinEfendi @zrdaley @fmejia97",[],5,2018-04-10 13:55:51,2018-04-10 13:56:11,2018-04-10 13:56:43,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2327,https://github.com/kubernetes/ingress-nginx/pull/2327,aledbf,Update nginx to 1.13.12,,[],1,2018-04-10 15:11:51,2018-04-10 22:09:42,2018-04-10 22:10:34,True,2018-04-10 22:09:42,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2328,https://github.com/kubernetes/ingress-nginx/pull/2328,aledbf,Update nginx image,,[],2,2018-04-10 22:11:31,2018-04-10 22:52:59,2018-04-13 00:37:07,True,2018-04-10 22:52:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2331,https://github.com/kubernetes/ingress-nginx/pull/2331,oilbeater,fix nil pointer when ssl with ca.crt,"**What this PR does / why we need it**:
add missing certificate 
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2330

**Special notes for your reviewer**:
",[],1,2018-04-11 10:10:41,2018-04-11 12:30:17,2018-04-17 14:44:47,True,2018-04-11 12:30:16,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2333,https://github.com/kubernetes/ingress-nginx/pull/2333,oilbeater,disable lua for arch s390x and ppc64le,"**What this PR does / why we need it**:
LuaJIT is not available for s390x and ppc64le, disable the lua part in nginx.tmpl on these platform.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2295

**Special notes for your reviewer**:
",['aledbf'],1,2018-04-11 14:57:41,2018-04-12 12:46:59,2018-04-17 14:44:33,True,2018-04-12 12:46:58,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2337,https://github.com/kubernetes/ingress-nginx/pull/2337,xianlubird,Fix typo in lua script,"Signed-off-by: xianlubird <xianlubird@gmail.com>

",[],1,2018-04-12 02:14:58,2018-04-17 19:33:27,2018-04-17 19:33:28,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2340,https://github.com/kubernetes/ingress-nginx/pull/2340,zrdaley,Fix buildupstream name to work with dynamic session affinity,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

When dynamic configuration is enabled, `ngx.var.proxy_upstream_name` is used to get the current backend (stored on the NGINX configuration) in the balancer lua module. This variable is created in `buildUpstreamName()` in /internal/ingress/controller/controller.go. 

PROBLEM: Backends stored in the NGINX configuration do not use the convention `sticky-<upstream-name>` when dynamic configuration is enabled. If `ngx.var.proxy_upstream_name` uses the sticky convention this will cause a 500 internal server error. 

This PR prevent buildUpstreamName from using the naming convention `sticky-<upstream-name>` when dynamic configuration is enabled **prevent 500 internal server errors**. 

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: N/A

**Special notes for your reviewer**:
This is a prerequisite for dynamically configured sessions affinity [INSERT PR HERE]",['aledbf'],3,2018-04-12 18:14:06,2018-04-12 20:09:55,2018-04-12 20:20:09,True,2018-04-12 20:09:55,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2341,https://github.com/kubernetes/ingress-nginx/pull/2341,zrdaley,Add session affinity to custom load balancing,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

# **What this PR does / why we need it**:

This PR adds **session affinity through cookies** to the lua custom load balancing module when dynamic configuration is enabled. 

This implementation mimics the current implementation used for sticky sessions in `kubernetes/ingress-nginx` when dynamic configuration is **not** enabled ([k8 documentation on sticky sessions](https://github.com/kubernetes/ingress-nginx/blob/master/docs/examples/affinity/cookie/README.md))

# **Which issue this PR fixes**: 
N/A

# **Special notes for your reviewer**:

## Test coverage
Two new unit tests were added in `test/e2e/lua/dynamic_configuration.go`. These tests cover dynamically enabled session affinity when an ingress is defined in one two ways (See A and B below). Additionally, the pre-existing tests in `test/e2e/annotations/affinity.go` ensure that session affinity still works when dynamic configuration is disabled. 

A. Default backend
```
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: test-ingress
spec:
  backend:
    serviceName: testsvc
    servicePort: 80
```
_Note: Session affinity will **not** be enabled when using method A. This is because the session affinity annotation being appended to an upstream is dependent on the location. (see code [here](https://github.com/kubernetes/ingress-nginx/blob/master/internal/ingress/controller/controller.go#L507-L509))_

B. Using Rules
```
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: test
  annotations:
    ingress.kubernetes.io/rewrite-target: /
spec:
  rules:
  - host: foo.bar.com
    http:
      paths:
      - path: /foo
        backend:
          serviceName: s1
          servicePort: 80
```

## Low Level Implementation Details
#### **`kubernetes/ingress-nginx` implementation**
1. If the [affinity annotation](https://github.com/kubernetes/ingress-nginx/blob/master/docs/user-guide/annotations.md#session-affinity) is set to ""cookie"" on an ingress then a `sticky-{{ $upstream.name }}` upstream is defined in the nginx template (see [code](https://github.com/kubernetes/ingress-nginx/blob/385368990cd678d08fe0b30fd8f087cfaad91a19/rootfs/etc/nginx/template/nginx.tmpl#L350-L352))
2. The [nginx-sticky-module-ng](https://bitbucket.org/nginx-goodies/nginx-sticky-module-ng) is used to handle sticky upstreams 
>A nginx module to add a sticky cookie to be always forwarded to the same upstream server...
>When the sticky module can't apply, it switchs back to the classic Round Robin Upstream or returns a ""Bad Gateway"" (depending on the no_fallback flag).
3. The [nginx template proxy_pass](https://github.com/kubernetes/ingress-nginx/blob/385368990cd678d08fe0b30fd8f087cfaad91a19/rootfs/etc/nginx/template/nginx.tmpl#L986) is built in [template.go](https://github.com/kubernetes/ingress-nginx/blob/adf12fced1d9db98c767554adff1c7895e50ee24/internal/ingress/controller/template/template.go#L348-L349); if the backend is sticky then it will return `sticky-{{ $upstream.name }}` and use the upstream defined in step i.

#### **New custom Lua implementation**
1. In the lua [balancer module](https://github.com/Shopify/ingress/blob/c1937876ed35406748ae996bd59dc5a7b40017d3/rootfs/etc/nginx/lua/balancer.lua#L44-L50) the session [affinity annotation](https://github.com/kubernetes/ingress-nginx/blob/master/docs/user-guide/annotations.md#session-affinity) with the value ""cookie"" is checked for
2. If it exists, then a cookie named by the [session-cookie-name annotation](https://github.com/kubernetes/ingress-nginx/blob/master/docs/user-guide/annotations.md#cookie-affinity) value (default is ""route"") is checked for
3. If the cookie:
    - **Does NOT exist:** 
        1. The round robin algorithm is used to determine the upstream to forward to *
        2. The upstream is converted to an `<IP>:<Port>` string and hashed using the [session-cookie-hash annotation](https://github.com/kubernetes/ingress-nginx/blob/master/docs/user-guide/annotations.md#cookie-affinity) value (default is ""md5"") 
        3. A new cookie is set with [session-cookie-name annotation](https://github.com/kubernetes/ingress-nginx/blob/master/docs/user-guide/annotations.md#cookie-affinity) as the name and the hash as the value
        4. The upstream is stored in the shared lua dictionary named `sticky-sessions`
            - `sticky-sessions` stores the following key value pairs: **
                - _key_: The hash of the cookie
                - _value_: The raw `<IP>:<Port>` string of the upstream to be forwarded to
        5. The IP and port of the upstream are set as the current peer
    - **DOES exist**
        1. The stored cookie is looked up in the shared lua dictionary, `sticky-sessions`**
        2. The IP and port returned from the dictionary lookup are checked to determine if they're still routable
        3. If the IP and port:
            - **ARE routable**
                - The IP and port of the upstream are set as the current peer
            - **Are NOT routable**
                - Follow procedure in Step 3: Does NOT exist


*Any of custom load balancing algorithms can be to balance with session affinity. Defaulting to round robin is just to be consistent with nginx-sticky-module-ng used for session affinity when dynamic configuration is not enabled. 
",['aledbf'],2,2018-04-12 18:26:56,2018-04-13 00:22:59,2018-04-13 12:54:32,True,2018-04-13 00:22:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2342,https://github.com/kubernetes/ingress-nginx/pull/2342,antoineco,Sync SSL certificates on events,"**What this PR does / why we need it**:

The background check for missing secrets leads to unnecessarily delayed synchronization of SSL secrets.

Illustrated scenario:

1. An Ingress object with a reference to a Secret is created, the Secret does not exist yet
2. A config synchronization is triggered, all sections supposed to use the Secret are ignored
3. The Secret is created, but nothing happens until the next background check

This PR improves the tracking of Ingress->Secret references using a new `ObjectRefMap` interface. At all times the map contains an up-to-date list of Secrets referenced by one or more Ingresses, including Secrets that do not exist within the cluster.

All EventHandlers for Secret resources perform a lookup in the map in order to determine whether the object that triggered the event is being referenced, in which case:

- annotations for matching Ingresses are extracted again
- secrets for matching Ingresses are synced again (possibly leading to new a config synchronization in case the content of the Secret differs)

The result is a more immediate feedback to changes that does not rely on arbitrary delays.",['aledbf'],3,2018-04-13 12:08:50,2018-04-13 15:32:00,2018-04-13 15:37:56,True,2018-04-13 15:32:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2343,https://github.com/kubernetes/ingress-nginx/pull/2343,Capitrium,Add annotations for proxy_pass customization,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

Integration with the [linkerd service mesh](https://github.com/linkerd/linkerd/blob/master/README.md) requires customization of the `proxy_pass` address in the nginx template. This PR adds the following annotations to allow users to customize the `proxy_pass` address:

```
nginx.ingress.kubernetes.io/proxy-pass-address: string
nginx.ingress.kubernetes.io/proxy-pass-port: string
nginx.ingress.kubernetes.io/proxy-to-local-node: bool
```

The `proxy-pass-address` and `proxy-pass-port` annotations allow users to set `proxy_pass` to a linkerd address, so that traffic is passed to the service mesh as in the [basic nginx-linkerd example](https://github.com/linkerd/linkerd-examples/blob/master/k8s-daemonset/k8s/nginx.yml).

If `proxy-to-local-node` is `true`, the `proxy_pass` address will be set to the value parsed by `os.Getenv(""NODE_NAME"")`, which can be set to the name of the node using the downward API. This is useful when running linkerd as a daemonset, ensuring that traffic reaching an nginx ingress controller pod will be forwarded to the linkerd pod running on the same node; when using linkerd in a linker-to-linker configuration with TLS enabled, this ensures traffic does not leave the node unencrypted.",['aledbf'],3,2018-04-13 14:05:02,2018-11-12 06:31:10,2018-11-12 06:31:10,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2344,https://github.com/kubernetes/ingress-nginx/pull/2344,aledbf,Escape variables in add-base-url annotation,,['nicksardo'],1,2018-04-13 16:34:11,2018-04-13 17:11:01,2018-04-21 21:24:13,True,2018-04-13 17:11:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2345,https://github.com/kubernetes/ingress-nginx/pull/2345,aledbf,Release nginx ingress controller 0.13.0,Temporal image: `quay.io/aledbf/nginx-ingress-controller:0.356`,['nicksardo'],1,2018-04-13 17:38:23,2018-04-16 17:29:58,2018-04-21 21:23:33,True,2018-04-16 17:29:58,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2346,https://github.com/kubernetes/ingress-nginx/pull/2346,andrewlouis93,Move ConfigMap updating methods into e2e/framework,"**What this PR does / why we need it**:
1. Problems with how the nginx-configuration configMap are updated in the e2e tests include: making the e2e test runs unreliable due to state leakage, and given that developers use the same controller deployment to test things during development - this makes the development workflow somewhat unpredictable as well. 
2. [The nginx-configuration configMap](https://github.com/kubernetes/ingress-nginx/blob/master/deploy/configmap.yaml) used by the nginx controller within the ingress-nginx namespace is updated and _toggled back_ during several e2e tests. This PR moves that code up into the e2e/framework to make it easier to reuse across these tests. 
3. Currently, in e2e tests, developers attempt to _reset_ the configMap to an initial state in the AfterEach handler, like so: https://github.com/kubernetes/ingress-nginx/blob/361e53ffa9d05f3ffdb4995ec7a6f34a1bf68115/test/e2e/settings/no_auth_locations.go#L63, however after running the e2e tests, if you were starting with an empty configMap, and then ran the no_auth_locations test for example - you would be left with configMap data different from when you started. 
4. This PR attempts to address this by introducing helper methods to make it easier to reset the configMap to its initial state. 

TL;DR: The way the nginx-configuration configMap is updated and _reset_ in the e2e tests leaks state! Issa fix.

**Special notes for your reviewer**:
* After talking with (my close personal friend) @ElvinEfendi, we realized that maybe a better alternative approach would ultimately be to decouple the e2e tests from the developer workflow, by having the e2e tests spawn an ephemeral ingress deployment for the lifecycle of the tests - similarly to how the backends are spawned just for the lifecycle of the tests. E.g. [EchoDeployment](https://github.com/kubernetes/ingress-nginx/blob/f732b4ea2ffe3741c3f04699f6ba9cd1d53c3859/test/e2e/framework/echo.go#L33)
* However, this is a step in the right direction, and we could always follow up with a PR with the ideas mentioned above.

Let me know what you guys think - happy to iterate or rework this.

cc @ElvinEfendi @zrdaley ",['aledbf'],3,2018-04-13 18:02:09,2018-04-18 18:44:01,2018-04-18 19:21:05,True,2018-04-18 18:44:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2347,https://github.com/kubernetes/ingress-nginx/pull/2347,aledbf,Update owners,,['nicksardo'],1,2018-04-13 23:08:48,2018-04-13 23:43:59,2018-04-17 12:58:17,True,2018-04-13 23:43:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2348,https://github.com/kubernetes/ingress-nginx/pull/2348,FGRibreau,"Use same convention, curl + kubectl for GKE","<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-04-14 08:45:50,2018-04-14 13:45:00,2018-04-14 13:46:08,True,2018-04-14 13:45:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2350,https://github.com/kubernetes/ingress-nginx/pull/2350,AdamDang,Correct some returned messages in server_tokens.go,"should not exists->should not exist
should exists->should exist",['aledbf'],1,2018-04-15 15:42:53,2018-04-16 00:10:58,2018-05-01 02:33:04,True,2018-04-16 00:10:58,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2351,https://github.com/kubernetes/ingress-nginx/pull/2351,AdamDang,Typo fix in cli-arguments.md,"Line 40: 
it's endpoints->its endpoints",['aledbf'],1,2018-04-15 15:45:40,2018-04-15 23:51:59,2018-05-01 02:32:40,True,2018-04-15 23:51:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2352,https://github.com/kubernetes/ingress-nginx/pull/2352,AdamDang,Correct some info in flags.go,"Line 105: `Defines if backends and it's endpoints should be sorted`)
it's endpoints->its endpoints",['aledbf'],1,2018-04-15 15:50:05,2018-04-15 22:36:59,2018-05-01 02:32:18,True,2018-04-15 22:36:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2353,https://github.com/kubernetes/ingress-nginx/pull/2353,bashofmann,Add proxy-add-original-uri-header config flag,"**What this PR does / why we need it**:

This makes it configurable if a location adds an X-Original-Uri header to the backend request. Default is ""true"", the current behaviour.

Our use case, we have some internal services where the URL can be quite long, though still quite below nginx's large_client_header_buffers default limit. But by automatically adding the request URI as an additional header on the backend proxy request, a similar request header size limit from the backend web server, e.g. Jetty or another nginx, is exceeded.
",['aledbf'],1,2018-04-16 10:11:36,2018-04-16 12:46:59,2018-04-16 12:47:00,True,2018-04-16 12:46:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2356,https://github.com/kubernetes/ingress-nginx/pull/2356,nicknovitski,Add vts-sum-key config flag,"Currently, vts metrics use the server zone key `*` to indicate ""all other server zones combined.""  The prometheus exporter translates this into a label with the same value.  I use a datadog agent to read the prometheus metrics, which turns the label into a ""tag"", but strips out characters which the datadog service cannot accept, including `*`.  This means the label value `*` becomes an empty string tag value.   

So for example the prometheus metric `nginx_requests_total{ingress_class=""nginx"",namespace="""",server_zone=""*""}` is turned into a datadog metric named `nginx.requests_total`, with the tags `ingress_class:nginx`, `namespace:`, and `server_zone:`.

This isn't so bad, except the same thing happens to metrics for the server zone which includes (I believe) the default backend and metrics server, labeled `server_zone=""_""`.  So I have different metrics numbers with the same tags, getting sent to datadog all the time, which makes monitoring seemingly impossible.  

The workaround I've done is to create a custom `nginx.conf` template exactly like the normal one, except with one additional line: `vhost_traffic_status_display_sum_key total;`  And maybe someday I'll just use prometheus instead of datadog.  But in the meantime, I thought this would be a nice feature to have.","['aledbf', 'gianrubio']",1,2018-04-17 02:01:07,2018-04-17 20:35:00,2018-04-18 00:19:35,True,2018-04-17 20:35:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2358,https://github.com/kubernetes/ingress-nginx/pull/2358,AdamDang,Correct the returned message,"Correct the returned message
fmt.Errorf(""file %v does not exists"", file) -> fmt.Errorf(""file %v does not exist"", file)",[],3,2018-04-17 06:14:56,2018-04-17 19:33:36,2018-04-17 19:33:37,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2361,https://github.com/kubernetes/ingress-nginx/pull/2361,aledbf,Check ingress rule contains HTTP paths,fixes #2357,"['ElvinEfendi', 'antoineco']",1,2018-04-17 11:32:28,2018-04-20 15:07:01,2018-04-21 23:34:58,True,2018-04-20 15:07:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2363,https://github.com/kubernetes/ingress-nginx/pull/2363,gianrubio,Review $request_id,"This map detect if request_id header where injected before assign a new value for request_id.

More info [here](https://stackoverflow.com/a/44761645/7146447)",['aledbf'],1,2018-04-17 12:43:36,2018-04-17 16:49:00,2018-04-17 16:49:00,True,2018-04-17 16:49:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2365,https://github.com/kubernetes/ingress-nginx/pull/2365,aledbf,Clean JSON before post request to update configuration,"**What this PR does / why we need it**:

Remove Target object reference from endpoints (this is not used for the dynamic configuration)",['ElvinEfendi'],1,2018-04-17 13:24:53,2018-04-26 18:51:28,2018-04-26 23:57:04,True,2018-04-26 18:51:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2366,https://github.com/kubernetes/ingress-nginx/pull/2366,oilbeater,fix: fill missing patch yaml config.,"

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
The patch-service yaml missing livenessProbe, readinessProbe and prometheus annotation parts.

**Which issue this PR fixes** : fixes #2364 ",['aledbf'],1,2018-04-17 14:50:42,2018-04-17 16:47:00,2018-04-19 02:44:09,True,2018-04-17 16:47:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2368,https://github.com/kubernetes/ingress-nginx/pull/2368,antoineco,[aggregate] Fix typos across codebase,"#### What is this for?

I suggest using this aggregate (editable by maintainers) as an effort to reduce the number of PRs dedicated to fixing (usually) small amounts of typos across the codebase, and therefore keep the commit history clean while preserving commits ownership by contributors.

I will myself try to spare time within the next few days and go through comments and documentation pages in order to fix as many typos as possible. I will keep aggregating new purely typo-related issues and PRs here.

#### Procedure

```
$ git fetch origin pull/<ID>/head:tmp-typo
$ git cherry-pick tmp-typo
```

Commits by the same author will be squashed before merging.

#### Aggregated issues/PRs

- [x] #2358
- [x] #2337
- [x] #2297",['aledbf'],2,2018-04-17 19:15:06,2018-06-25 00:26:03,2018-07-02 14:41:30,True,2018-06-25 00:26:03,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2369,https://github.com/kubernetes/ingress-nginx/pull/2369,aledbf,Update nginx image to fix modsecurity crs issues,fixes #2367,['ElvinEfendi'],1,2018-04-17 21:49:33,2018-04-19 19:28:01,2018-04-19 20:28:26,True,2018-04-19 19:28:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2370,https://github.com/kubernetes/ingress-nginx/pull/2370,aledbf,Update nginx image,"**What this PR does / why we need it**:

Updates nginx base image to fix modsecurity crs rules issues.

Requires #2369
","['ElvinEfendi', 'antoineco']",1,2018-04-17 21:51:21,2018-04-21 11:38:00,2018-04-21 21:23:10,True,2018-04-21 11:38:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2372,https://github.com/kubernetes/ingress-nginx/pull/2372,rajatjindal,fix the default cookie name in doc,"**What this PR does / why we need it**:

Fix the documentation and example for cookie based session-affinity 

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['justinsb', 'aledbf']",1,2018-04-18 16:29:26,2018-04-18 21:29:01,2018-04-19 01:10:57,True,2018-04-18 21:29:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2374,https://github.com/kubernetes/ingress-nginx/pull/2374,aledbf,Remove most of the time.Sleep from the e2e tests,"**What this PR does / why we need it**:

A first step to remove hardcoded `time.Sleep` from e2e tests

Changes:
- Before each test, a new namespace is created and a new ingress controller is deployed
- In case of validation errors, we get the Full Stack Trace
- The SlowSpecThreshold was adjusted to 20 seconds (default is 5)
- Now it is possible to just run `make e2e-test` against minikube (previous upload of the docker image)


After this PR we can start running the e2e tests in parallel","['ElvinEfendi', 'antoineco']",1,2018-04-18 19:17:33,2018-04-20 00:52:01,2018-04-20 03:42:42,True,2018-04-20 00:52:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2377,https://github.com/kubernetes/ingress-nginx/pull/2377,r7vme,DOCS: Add clarification regarding ssl passthrough,"**What this PR does / why we need it**:

This PR adds clarification regarding using `--enable-ssl-passthrough` flag if external load balances are used.

I've plunged into the [issue](https://github.com/kubernetes/ingress-nginx/issues/2354) with Go-based SSL proxying done by ingress-controller. Finally i found out that i can safely disable built-in SSL proxying, if i already have proxy protocol enabled on load balancer. See my last [comment](https://github.com/kubernetes/ingress-nginx/issues/2354#issuecomment-382757307) for details.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
related: https://github.com/kubernetes/ingress-nginx/issues/2354  

**Special notes for your reviewer**:
None","['aledbf', 'antoineco']",1,2018-04-19 14:55:27,2018-04-19 19:05:00,2018-04-20 06:14:05,True,2018-04-19 19:05:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2379,https://github.com/kubernetes/ingress-nginx/pull/2379,zrdaley,Add busted unit testing framework for lua code,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

Currently Lua code is only tested through e2e tests and no unit tests exist.

This adds [busted](http://olivinelabs.com/busted) as a unit testing framework for Lua code and adds documentation within the developer guide. 

**Which issue this PR fixes**: N/A
","['aledbf', 'ElvinEfendi']",1,2018-04-19 17:00:58,2018-04-23 16:56:01,2018-04-23 16:56:10,True,2018-04-23 16:56:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2380,https://github.com/kubernetes/ingress-nginx/pull/2380,Dm3Ch,Proxy protocol for SSL passthrough,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
Add ability to enable proxy-protocol for ingress using ssl-passthrough.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2397

**Special notes for your reviewer**:
",[],1,2018-04-19 21:37:56,,2019-02-12 19:38:22,False,,,dirty,False,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2382,https://github.com/kubernetes/ingress-nginx/pull/2382,antoineco,Accept ns/name Secret reference in annotations,Fixes #2375,['aledbf'],2,2018-04-19 22:07:35,2018-04-19 22:56:01,2018-04-20 13:12:44,True,2018-04-19 22:56:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2383,https://github.com/kubernetes/ingress-nginx/pull/2383,aledbf,Improve speed of e2e tests,"Reduces the execution time in ~40%

Edit: doing this I found we need to continue improving the wait conditions and checks

https://travis-ci.org/kubernetes/ingress-nginx/jobs/368946491#L1673","['ElvinEfendi', 'antoineco']",1,2018-04-20 02:14:52,2018-04-20 03:33:01,2018-04-23 15:22:56,True,2018-04-20 03:33:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2385,https://github.com/kubernetes/ingress-nginx/pull/2385,ElvinEfendi,include lua-resty-balancer in nginx image,"**What this PR does / why we need it**:
The PR includes https://github.com/openresty/lua-resty-balancer in the base Nginx image. The library has both Round Robin and consistent hashing load balancing implementations. In subsequent PRs I'll make use of consistent hashing to support https://github.com/kubernetes/ingress-nginx/blob/master/docs/user-guide/annotations.md#custom-nginx-upstream-hashing when dynamic configuration is enabled and then refactor balancer.lua to use Round Robin implementation from this library instead of reimplementing it ourselves.

**Which issue this PR fixes**: n/a

**Special notes for your reviewer**: n/a",['aledbf'],1,2018-04-20 03:15:08,2018-04-20 12:44:00,2018-04-20 13:09:01,True,2018-04-20 12:44:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2386,https://github.com/kubernetes/ingress-nginx/pull/2386,ElvinEfendi,upstream-hash-by annotation support for dynamic configuraton mode,"depends on https://github.com/kubernetes/ingress-nginx/pull/2385

**What this PR does / why we need it**:
Currently when dynamic configuration is enabled the annotation https://github.com/kubernetes/ingress-nginx/blob/master/docs/user-guide/annotations.md#custom-nginx-upstream-hashing is ineffective. With this PR it will work as expected in dynamic configuration mode.

**Which issue this PR fixes**: n/a

**Special notes for your reviewer**: n/a",['aledbf'],2,2018-04-20 03:17:20,2018-04-27 18:58:19,2018-04-28 00:10:17,True,2018-04-27 18:58:19,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2388,https://github.com/kubernetes/ingress-nginx/pull/2388,antoineco,Silence unnecessary MissingAnnotations errors,"**Why we need this:**

Silences the following error messages displayed on every call to `store.updateSecretIngressMap()` (unless these annotations are actually set):

```
E0420 16:06:35.692525   14631 store.go:722] Error reading secret reference in annotation ""auth-secret"": ingress rule without annotations
E0420 16:06:35.695298   14631 store.go:722] Error reading secret reference in annotation ""auth-tls-secret"": ingress rule without annotations
```

Continuity of #2382
See https://github.com/kubernetes/ingress-nginx/pull/2382/files#r183044272

",['aledbf'],1,2018-04-20 14:08:28,2018-04-20 14:31:00,2018-04-20 14:43:21,True,2018-04-20 14:31:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2389,https://github.com/kubernetes/ingress-nginx/pull/2389,sbfaulkner,Ensure dep fix fsnotify,"**What this PR does / why we need it**:

Currently, `ensure dep` fails when pulling master and attempting to set up the initial environment. This appears to be due to fsnotify being moved to a subfolder.

**Which issue this PR fixes**: fixes #2387

**Special notes for your reviewer**:
I've submitted the change using separate commits, one for the actual fsnotify fix, and one for the vendor changes that result from the subsequent `ensure dep` run.
",['aledbf'],3,2018-04-20 15:18:37,2018-04-21 11:20:26,2018-04-21 23:38:20,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2390,https://github.com/kubernetes/ingress-nginx/pull/2390,antoineco,proposal: Accept ns/name Secret reference in TLS secretName,"**What this PR does / why we need it**:

Accept both `secret_name` and `namespace/secret_name` forms in Ingress `spec.tls[].secretName` fields.

**Which issue this PR fixes**:

_Proposal_ for solving #2371.
",[],1,2018-04-20 15:47:34,2018-05-01 15:02:15,2018-05-01 15:05:08,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2392,https://github.com/kubernetes/ingress-nginx/pull/2392,aledbf,Ensure dep fix fsnotify,replaces #2389,['antoineco'],1,2018-04-20 16:48:15,2018-04-21 07:16:01,2018-04-21 21:23:19,True,2018-04-21 07:16:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2395,https://github.com/kubernetes/ingress-nginx/pull/2395,ElvinEfendi,Fix flaky test,"**What this PR does / why we need it**:
The PR fixes flakiness with dynamic configuration tests and shaves off some seconds from the test run.

**Which issue this PR fixes**: n/a

**Special notes for your reviewer**: n/a",['aledbf'],3,2018-04-21 02:39:44,2018-04-21 11:20:00,2018-04-21 20:52:11,True,2018-04-21 11:20:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2396,https://github.com/kubernetes/ingress-nginx/pull/2396,aledbf,Update go dependencies,,"['ElvinEfendi', 'antoineco']",1,2018-04-21 17:11:01,2018-04-21 17:47:00,2018-04-21 21:24:03,True,2018-04-21 17:47:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2398,https://github.com/kubernetes/ingress-nginx/pull/2398,aledbf,Allow tls section without hosts in Ingress rule,,"['ElvinEfendi', 'antoineco']",1,2018-04-21 21:26:09,2018-04-22 00:37:01,2018-05-21 23:52:04,True,2018-04-22 00:37:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2399,https://github.com/kubernetes/ingress-nginx/pull/2399,aledbf,Add test for store helper ListIngresses,,['ElvinEfendi'],1,2018-04-21 21:40:25,2018-04-22 00:38:00,2018-04-22 03:49:05,True,2018-04-22 00:38:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2401,https://github.com/kubernetes/ingress-nginx/pull/2401,aledbf,Add tests for controller getEndpoints,,"['ElvinEfendi', 'antoineco']",1,2018-04-22 01:52:26,2018-04-22 09:14:01,2018-04-22 13:27:25,True,2018-04-22 09:14:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2402,https://github.com/kubernetes/ingress-nginx/pull/2402,shraykay,annotation support for http2,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
http2 support at the ingress level via an annotation

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
please lmk if I've missed any areas on the nginx.conf go template or if I should place the attachment from annotation to server in another function or section.
",[],1,2018-04-23 03:41:33,2018-04-24 17:59:52,2018-04-24 17:59:52,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2408,https://github.com/kubernetes/ingress-nginx/pull/2408,andrewlouis93,Read backends data even if buffered to temp file,"**What this PR does / why we need it**:
* Read from temp file if the request body from the controller's POST to update backends is larger than client_body_buffer_size.
* There was an to address this problem over here: https://github.com/kubernetes/ingress-nginx/pull/2309/files - but the updates will still silently fail by updating the lua shared table with nil if the controller POST body is larger than 10m.
* This PR makes sure that the dictionary is not updated if there is either too large of a request body - or an empty request body.

**Which issue this PR fixes** 
* https://github.com/kubernetes/ingress-nginx/issues/2225#issuecomment-381964257

**Special notes for your reviewer**:
cc r/ @ElvinEfendi @zrdaley ",['ElvinEfendi'],1,2018-04-23 19:37:45,2018-04-24 21:09:03,2018-04-25 12:41:51,True,2018-04-24 21:09:03,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2409,https://github.com/kubernetes/ingress-nginx/pull/2409,cjlarose,Add deployment instructions for Docker for Mac (Edge),"**What this PR does / why we need it**:

This PR adds explicit deployment instructions for `ingress-nginx` on Docker for Mac. It basically just reuses bits and pieces for other deployment instructions and makes getting started easier for new users coming from Docker for Mac.",['antoineco'],2,2018-04-23 20:38:53,2018-04-25 12:16:04,2018-04-25 12:16:04,True,2018-04-25 12:16:04,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2410,https://github.com/kubernetes/ingress-nginx/pull/2410,zrdaley,Add balancer unit tests,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

Currently no unit tests exist for ingress-nginx/rootfs/etc/nginx/lua/balancer.lua. This PR adds unit tests for the file.

**Which issue this PR fixes**: N/A
",['ElvinEfendi'],1,2018-04-23 21:11:49,2018-04-24 21:06:01,2018-04-24 21:08:29,True,2018-04-24 21:06:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2411,https://github.com/kubernetes/ingress-nginx/pull/2411,SEJeff,Update nginx-opentracing to 0.3.0,"**What this PR does / why we need it**: Updates nginx-opentracing to 0.3.0

**Special notes for your reviewer**:
This version includes opentracing-contrib/nginx-opentracing#32 to add a `http.host` tag. This makes it easier to search in tracing backends which lack wildcard support such as zipkin or jaeger.",['aledbf'],1,2018-04-24 00:05:32,2018-04-24 17:04:02,2018-04-24 21:21:53,True,2018-04-24 17:04:02,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2413,https://github.com/kubernetes/ingress-nginx/pull/2413,akx,Reorganize documentation,"This PR:

* Reorganizes all the documentation to live underneath `docs/`
* Adds [Mkdocs](http://www.mkdocs.org/) configuration (compatible with [Read The Docs](https://readthedocs.org/)!) with Material Design styling courtesy of `mkdocs-material`.

Why we need it: As a devops person trying to configure `ingress-nginx`, I grew very frustrated about the seeming (dis)organization of the documentation. There were duplicate files, just random notes smattered into README.md, etc., which felt like a pain.

With this PR merged, someone (likely someone more involved with the project core) could set up Read The Docs to automatically generate a searchable, navigable doc site like this:

![nginx-docs](https://user-images.githubusercontent.com/58669/39185676-a6cf98ee-47d0-11e8-80b6-6cd921df7e6e.gif)

Please let me know if there's anything you'd like changed about the PR, or if you have questions!  ","['aledbf', 'ElvinEfendi', 'antoineco']",10,2018-04-24 12:07:23,2018-04-26 11:20:05,2018-04-27 21:27:51,True,2018-04-26 11:20:05,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2414,https://github.com/kubernetes/ingress-nginx/pull/2414,aledbf,Fix golint installation,,"['ElvinEfendi', 'antoineco']",1,2018-04-24 12:48:17,2018-04-24 13:10:01,2018-04-24 17:07:30,True,2018-04-24 13:10:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2416,https://github.com/kubernetes/ingress-nginx/pull/2416,aledbf,Update nginx image,,"['ElvinEfendi', 'antoineco']",1,2018-04-24 19:24:55,2018-04-24 20:21:02,2018-04-25 00:48:42,True,2018-04-24 20:21:02,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2417,https://github.com/kubernetes/ingress-nginx/pull/2417,zrdaley,Automate building developer environment ,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

Setting up the development environment is quite time consuming and somewhat confusing. This script creates a quick command that will allow MacOS developers to set up their quickly by automating the following tasks:

~~1. Stop and uninstall minikube~~
~~2. Install minikube version 0.25.0~~
3. Start minikube
4. Dep ensure to get `vendor/` dependencies
5. Build the local ingress controller container
6. Install kubectl
7. Deploy the controller & update the image

**Which issue this PR fixes**: N/A

**Special notes for your reviewer**:

~~Minikube versions > 0.25.0 enable RBAC on the cluster. This will cause the e2e-tests to fail. Therefore a suitable development environment requires version 0.25.0 or less.~~
","['aledbf', 'ElvinEfendi', 'antoineco']",1,2018-04-24 19:51:35,2018-04-24 20:52:03,2018-04-24 20:52:56,True,2018-04-24 20:52:03,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2421,https://github.com/kubernetes/ingress-nginx/pull/2421,aledbf,Apply gometalinter suggestions,,"['ElvinEfendi', 'antoineco']",1,2018-04-25 21:54:03,2018-04-26 07:11:03,2018-04-26 16:44:48,True,2018-04-26 07:11:02,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2422,https://github.com/kubernetes/ingress-nginx/pull/2422,joshsouza,Add `lua-snippet` as a supported ConfigMap setting,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: This adds support for a LuaSnippet (identical to the HTTPSnippet) that adds code to the `init_lua_by_block` part of the Nginx config template.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2420 

**Special notes for your reviewer**: I have tested this out on my local setup with success, so I'm happy to answer any questions you have, however I don't have the full ingress-nginx test setup operational, so I don't have unit tests for this block of code, and would need assistance creating those if necessary.
","['aledbf', 'ElvinEfendi']",1,2018-04-25 22:46:10,2018-10-11 00:27:22,2018-10-11 00:27:22,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2423,https://github.com/kubernetes/ingress-nginx/pull/2423,diazjf,Resolves issue with proxy-redirect nginx configuration,"Resolves an issue where the proxy-redirect annotations were not generating the correct configuration possibly because of user error. This is resolved by only setting the proxy_redirect if both proxy-redirect-from and proxy-redirect-to have valid values.

Fixes #2074 
","['aledbf', 'ElvinEfendi', 'antoineco']",1,2018-04-26 04:24:06,2018-05-18 19:42:52,2018-05-18 19:42:52,True,2018-05-18 19:42:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2424,https://github.com/kubernetes/ingress-nginx/pull/2424,valentin2105,allow IPv6 TCP & UDP Backends,"**What this PR does / why we need it**:

This PR allow IPv6 backends for TCP & UDP vhosts. 

the error without this PR : 
```
nginx: [emerg] invalid port in upstream ""1202:ffff:e::1:164d:bdef:5000"" in /tmp/nginx-cfg038531930:7348
```",[],5,2018-04-26 04:44:55,2018-06-15 14:26:48,2018-06-15 14:26:48,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2428,https://github.com/kubernetes/ingress-nginx/pull/2428,Eddman,Add buffer configuration to external auth location config,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
If the External Auth service returns for instance cookies that are bigger then 4Kb the request fails. 

This happens whenever external auth service returns cookies and other headers that exceed the default proxy buffer (4Kb). The configmap option `proxy-buffer-size` is completely ignored and its `proxy_buffer_size` equivalent is not propagated to the auth `location`.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: 
fixes #2427

**Special notes for your reviewer**:
no",['aledbf'],2,2018-04-26 14:11:40,2018-04-26 18:54:27,2018-04-27 07:31:30,True,2018-04-26 18:54:27,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2430,https://github.com/kubernetes/ingress-nginx/pull/2430,aledbf,Add scripts and tasks to publish docs to github pages,,"['ElvinEfendi', 'antoineco']",1,2018-04-26 22:13:12,2018-04-26 23:26:19,2018-04-27 18:37:32,True,2018-04-26 23:26:19,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2431,https://github.com/kubernetes/ingress-nginx/pull/2431,frandbf,Improve readme file,"**What this PR does / why we need it**:

Improves the readability of the readme file and adds a link to the documentation",['aledbf'],1,2018-04-26 23:49:33,2018-04-27 00:13:18,2018-04-27 00:13:18,True,2018-04-27 00:13:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2432,https://github.com/kubernetes/ingress-nginx/pull/2432,aledbf,Fix broken links in the docs,,"['ElvinEfendi', 'antoineco']",1,2018-04-27 00:39:56,2018-04-27 11:33:19,2018-04-27 15:06:04,True,2018-04-27 11:33:19,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2433,https://github.com/kubernetes/ingress-nginx/pull/2433,aledbf,Remove data races from tests,,"['ElvinEfendi', 'antoineco']",1,2018-04-27 03:02:45,2018-04-27 07:08:20,2018-04-27 15:05:52,True,2018-04-27 07:08:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2434,https://github.com/kubernetes/ingress-nginx/pull/2434,aledbf,Check ginkgo is installed before running e2e tests,,"['ElvinEfendi', 'antoineco']",1,2018-04-27 03:10:24,2018-04-27 06:22:20,2018-04-27 15:05:47,True,2018-04-27 06:22:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2435,https://github.com/kubernetes/ingress-nginx/pull/2435,subway123,Use another port with GRPC,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:
http2 is required for GRPC. However, using 80 ports break http traffic. ( https://github.com/kubernetes/ingress-nginx/pull/2313 )
We should use a different port.
",[],1,2018-04-27 09:39:58,2018-04-27 15:13:01,2018-04-27 15:13:01,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2436,https://github.com/kubernetes/ingress-nginx/pull/2436,mustafaakin,Update exposing-tcp-udp-services.md,"**What this PR does / why we need it**:

Minor tick missing for syntax highlighting which makes it look ugly on https://kubernetes.github.io/ingress-nginx/user-guide/exposing-tcp-udp-services/

",['aledbf'],1,2018-04-27 10:45:40,2018-04-27 11:46:20,2018-04-27 11:46:20,True,2018-04-27 11:46:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2437,https://github.com/kubernetes/ingress-nginx/pull/2437,JordanP,Add annotation to enable rewrite logs in a location,Fixes #2426 ,['aledbf'],1,2018-04-27 12:33:39,2018-04-27 17:27:20,2018-04-27 17:27:20,True,2018-04-27 17:27:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2438,https://github.com/kubernetes/ingress-nginx/pull/2438,SamFleming,Update custom-errors.md,"Fix a couple of small grammatical errors.
",['aledbf'],1,2018-04-27 15:28:14,2018-04-27 16:22:21,2018-04-27 16:22:21,True,2018-04-27 16:22:21,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2439,https://github.com/kubernetes/ingress-nginx/pull/2439,SamFleming,Update README.md,"Fix broken link to `CONTRIBUTING.md`. 

Also update other links to `CONTRIBUTING.md` for consistency  this is probably up for debate as to which link format is preferred.
",['aledbf'],1,2018-04-27 15:31:51,2018-04-27 16:26:19,2018-04-27 16:26:19,True,2018-04-27 16:26:19,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2440,https://github.com/kubernetes/ingress-nginx/pull/2440,antoineco,TLS tests,"**What this PR does / why we need it**:

Adds tests for global TLS settings.

**Special notes for your reviewer**:

~I observed some flaky test runs due to `x509: certificate is valid for ingress.local, not settings-tls`. A `framework.WaitForTLS` method may be a good addition.~
done",['aledbf'],4,2018-04-27 18:42:45,2018-04-27 22:09:20,2018-04-30 09:19:43,True,2018-04-27 22:09:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2442,https://github.com/kubernetes/ingress-nginx/pull/2442,aledbf,Release nginx ingress controller 0.14.0,Test image: `quay.io/aledbf/nginx-ingress-controller:0.361`,"['ElvinEfendi', 'antoineco']",1,2018-04-27 19:11:23,2018-04-27 21:08:19,2018-04-30 15:21:22,True,2018-04-27 21:08:19,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2443,https://github.com/kubernetes/ingress-nginx/pull/2443,ElvinEfendi,improve build-dev-env.sh script,"**What this PR does / why we need it**:
The diff is self explanatory.

**Which issue this PR fixes**: n/a

**Special notes for your reviewer**: n/a",['aledbf'],1,2018-04-28 03:04:13,2018-04-29 06:45:18,2018-04-29 17:55:57,True,2018-04-29 06:45:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2445,https://github.com/kubernetes/ingress-nginx/pull/2445,gyliu513,Updated log level to v2 for sysctlFSFileMax.,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-04-28 04:33:14,2018-04-28 04:33:25,2018-04-28 04:56:39,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2446,https://github.com/kubernetes/ingress-nginx/pull/2446,ElvinEfendi,always use x-request-id,"**What this PR does / why we need it**:
Pass the x-request-id to upstreams and include it in the log by default.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-04-28 04:33:35,2018-04-29 07:00:18,2018-04-29 17:55:40,True,2018-04-29 07:00:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2447,https://github.com/kubernetes/ingress-nginx/pull/2447,praseodym,Add basic security context to deployment YAMLs,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: Adding a security context with `runAsNonRoot: false` to the pod template indicates the pod's intention to run as root, and will let Kubernetes decide upon the correct pod security policy.

**Which issue this PR fixes**: fixes #2400
",['antoineco'],1,2018-04-28 21:40:45,2018-04-30 06:20:17,2018-04-30 06:20:20,True,2018-04-30 06:20:17,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2448,https://github.com/kubernetes/ingress-nginx/pull/2448,praseodym,Update GitHub pull request template,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/devel/pull-requests.md#the-pr-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/devel/pull-requests.md#best-practices-for-faster-reviews
3. Follow the instructions for writing a release note: https://git.k8s.io/community/contributors/devel/pull-requests.md#write-release-notes-if-needed
-->

**What this PR does / why we need it**: This updates the GitHub pull request template (as seen when opening a new PR) with direct links to moved files. It also removes the release note instruction because I think it is not applicable to this repository.

",['aledbf'],1,2018-04-28 21:45:53,2018-04-29 06:46:19,2018-04-29 06:46:50,True,2018-04-29 06:46:19,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2449,https://github.com/kubernetes/ingress-nginx/pull/2449,frandbf,Improve documentation format,,['aledbf'],1,2018-04-29 06:18:39,2018-04-29 13:44:18,2018-04-29 13:44:18,True,2018-04-29 13:44:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2451,https://github.com/kubernetes/ingress-nginx/pull/2451,nusx,"fix for #1930, make sessions sticky, for ingress with multiple rules ","and backends

* for an ingress with session affinity cookie, set the location as path on the cookie when unique
* the previous behaviour ( path=/ ) is preserved for ingresses with multiple rules for the same backend (locations not unique)

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
The current template generates upstreams without setting the path parameter on the sticky config. This leads to a new cookie beeing generated whenever the user requests a different path from the ingress. This change sets the path parameter whenever the backend contains only a single location. It falls back to the previous behaviour (not setting the path parameter) if multiple ingress rules exist for the same backend (leading to multiple locations for the backend).
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #1930

**Special notes for your reviewer**:
","['aledbf', 'ElvinEfendi', 'antoineco']",1,2018-04-30 14:22:17,2018-06-15 03:47:29,2018-06-15 06:56:46,True,2018-06-15 03:47:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2453,https://github.com/kubernetes/ingress-nginx/pull/2453,aledbf,Add google analytics [ci skip],,"['ElvinEfendi', 'antoineco']",1,2018-04-30 15:59:22,2018-04-30 16:06:17,2018-04-30 17:18:12,True,2018-04-30 16:06:17,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2454,https://github.com/kubernetes/ingress-nginx/pull/2454,aledbf,Add gRPC annotation doc,"**What this PR does / why we need it**:

Missing annotation doc about gRPC
","['ElvinEfendi', 'antoineco']",1,2018-04-30 17:29:57,2018-05-02 13:08:17,2018-05-07 19:00:12,True,2018-05-02 13:08:17,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2455,https://github.com/kubernetes/ingress-nginx/pull/2455,frandbf,Adjust size of tables and only adjust the first column on mobile,"**What this PR does / why we need it**:

Improve documentation CSS
",['aledbf'],1,2018-04-30 18:04:16,2018-04-30 19:05:18,2018-04-30 19:05:18,True,2018-04-30 19:05:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2456,https://github.com/kubernetes/ingress-nginx/pull/2456,andrewlouis93,Assert or install go-bindata before incanting,"**What this PR does / why we need it**:
* Small fix to make sure `go-bindata` exists or is installed before running the code-generator task.

**Special notes for your reviewer**:
cc @aledbf @ElvinEfendi ",['aledbf'],1,2018-04-30 18:25:57,2018-05-01 05:13:17,2018-05-01 05:13:17,True,2018-05-01 05:13:17,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2457,https://github.com/kubernetes/ingress-nginx/pull/2457,andrewlouis93,Add Getting the Code section to Quick Start,"**What this PR does / why we need it**:

* Want to keep dropping the barrier to developing on ingress-nginx, after having seen multiple colleagues attempt to figure it out. 
* That the code has to be checked out under the k8s.io directory is not super intuitive, making it explicit here would be beneficial imho. 

**Special notes for your reviewer**:
cc @aledbf ",['aledbf'],1,2018-05-01 17:15:39,2018-05-01 17:41:20,2018-05-01 17:46:56,True,2018-05-01 17:41:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2459,https://github.com/kubernetes/ingress-nginx/pull/2459,Freyert,doc: comma helps clarify default backend doc,"I had to read this sentence over several times before I understood that there was a comma missing. The comma helps clarify that you make a request, it has an error in it, and then the body that is returned is obtained from the `default backend`.",[],1,2018-05-02 13:52:56,2018-05-10 16:27:55,2018-05-10 16:27:55,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2462,https://github.com/kubernetes/ingress-nginx/pull/2462,momer,Update modsecurity documentation link,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Update a broken link to the OWASP ModSecurity Core Rule Set (CRS) Project repository in the documentation.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-05-02 23:44:35,2018-05-10 16:28:16,2018-05-10 16:28:16,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2464,https://github.com/kubernetes/ingress-nginx/pull/2464,akx,Documentation fixes & improvements,"**What this PR does / why we need it**:

This PR improves the documentation especially around TLS/SSL, since that's what I've been working on deploying these last few days :), fixes formatting and adds a short doc page on upgrading ingress-nginx (fixes #2458).
","['ElvinEfendi', 'antoineco']",11,2018-05-03 10:45:17,2018-05-03 13:06:53,2018-05-03 13:07:15,True,2018-05-03 13:06:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2465,https://github.com/kubernetes/ingress-nginx/pull/2465,cvanderschuere,Add http2 to HTTP ports,"**What this PR does / why we need it**:

Allow HTTP2 on non-ssl ports. This is required to support gRPC (or any http2 application) in it's insecure mode.

Example:
```golang
conn, err := grpc.Dial(""grpc.example.com"", grpc.WithInsecure())
```",[],1,2018-05-03 14:44:13,2018-06-17 18:42:32,2018-06-17 18:42:32,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2466,https://github.com/kubernetes/ingress-nginx/pull/2466,rajatjindal,enable reuse port by default,"
**What this PR does / why we need it**:

This enables the reuse port by default as https://trac.nginx.org/nginx/ticket/1300 seems to be fixed.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

N/A

**Special notes for your reviewer**:

I tested it using steps on the ticket with ingress controller version 0.14.0, with nginx/1.13.12 and it seems to be working fine.

![screen shot 2018-05-03 at 9 29 08 am](https://user-images.githubusercontent.com/612092/39591173-cb4e742c-4eb7-11e8-8eb5-9ba3fda68fe0.png)
",[],1,2018-05-03 16:54:33,2018-05-10 16:36:55,2018-05-11 01:53:44,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2467,https://github.com/kubernetes/ingress-nginx/pull/2467,Girbons,Fixed broken link in deploy README,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Fixed broken link in deploy README

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",1,2018-05-04 09:26:31,2018-05-04 21:07:52,2018-05-04 21:07:52,True,2018-05-04 21:07:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2470,https://github.com/kubernetes/ingress-nginx/pull/2470,aledbf,Fix link format error,,"['ElvinEfendi', 'antoineco']",1,2018-05-04 20:45:17,2018-05-04 20:55:23,2018-05-07 19:00:30,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2472,https://github.com/kubernetes/ingress-nginx/pull/2472,ElvinEfendi,Refactor Lua balancer,"**What this PR does / why we need it**:
I've included lua-resty-balancer library at https://github.com/kubernetes/ingress-nginx/pull/2385 which comes with Round-Robin load balancing implementation. The PR replaces the existing RR implementation with the one from that library. And also moves chash wrapper into rootfs/etc/nginx/lua/balancer/resty.lua together with round-robin.

In a separate PR I'll cleanup `balancer.lua` further - don't want to make this PR too big.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
n/a

**Special notes for your reviewer**:
n/a",['aledbf'],2,2018-05-04 21:42:12,2018-05-10 18:18:54,2018-05-10 18:18:59,True,2018-05-10 18:18:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2477,https://github.com/kubernetes/ingress-nginx/pull/2477,snelis,Change TrimLeft for TrimPrefix on the from-to-www redirect,"**What this PR does / why we need it**:
This is a fix for the redirect from to www functionality in combination with a domain that starts with a `w`
Right now it uses a `TrimLeft` which means `www.we-foo-bar.com` becomes `e-foo-bar.com`.
I think a better solution would be to use `TrimPrefix`",['antoineco'],1,2018-05-07 11:37:20,2018-05-08 14:50:53,2018-05-08 14:50:54,True,2018-05-08 14:50:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2478,https://github.com/kubernetes/ingress-nginx/pull/2478,kaltsi,Fix typo in toplevel Makefile,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Fixes Makefile syntax.
",[],1,2018-05-07 15:04:37,2018-05-07 16:03:38,2018-05-07 16:03:38,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2479,https://github.com/kubernetes/ingress-nginx/pull/2479,aledbf,Document how the NGINX Ingress controller build nginx.conf,"
**Which issue this PR fixes**: 

fixes #1943
","['ElvinEfendi', 'antoineco']",1,2018-05-07 18:52:45,2018-06-04 13:08:58,2018-06-14 14:23:58,True,2018-06-04 13:08:57,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2482,https://github.com/kubernetes/ingress-nginx/pull/2482,nicknovitski,Add http2-host-blacklist config flag,"**What this PR does / why we need it**:

A server block is created in nginx.conf for each host in ingresses.  Currently, the IC can enable or disable http2 for all server blocks.  With this flag, it becomes possible to selectively disable it per host/server.

NGINX v1.13.6 and later send resize notifications for HPACK header compression tables, which [breaks a lot of our android traffic](https://trac.nginx.org/nginx/ticket/1397).  All of this traffic goes to one host, so this feature will let us enable http2 for the majority of our traffic.

**Which issue this PR fixes**: fixes #2189

**Special notes for your reviewer**:
I wasn't able to get the e2e tests running on minikube 0.26.1.  I couldn't figure out how to get them to work with RBAC, or how to create a cluster without RBAC (kubernetes/minikube#2342).  That was a real pain.  I'll just use travis for now, but I think the tests should work with RBAC as a default.",['aledbf'],2,2018-05-08 21:09:40,2019-02-27 00:50:16,2019-02-27 00:50:17,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2484,https://github.com/kubernetes/ingress-nginx/pull/2484,ElvinEfendi,Fix bugs in Lua implementation of sticky sessions,"**What this PR does / why we need it**:
I've detected two bugs with current implementation of sticky sessions in Lua:
 - ~~it does not re-set the cookie after setting it for the first time~~ this should be the case - just make it a session cookie
 - it uses shared lua dictionary which is per replica - so as soon as next request from same cookie goes to another replica it will potentially be proxied to a different upstream

The PR adds regression test and fix the bugs.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:",['aledbf'],1,2018-05-09 16:02:10,2018-05-17 02:14:51,2018-05-17 02:23:53,True,2018-05-17 02:14:51,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2486,https://github.com/kubernetes/ingress-nginx/pull/2486,distol,Extend kubernetes interrelation variables in nginx.tmpl,"This PR improves variables, that allows associate (in logs and in lua) nginx servers and locations with related kubernetes resources:
1. According to TCP/IP (and common sense), `$service_name` is not enough to uniquely identify ""service"", we need `$service_port` for that.
2. When you define rules in ingress resource, you use path. So it would be very useful to be able to use the same path in logs (and in lua).","['aledbf', 'antoineco']",3,2018-05-09 22:19:59,2018-06-08 21:42:59,2018-06-08 21:42:59,True,2018-06-08 21:42:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2488,https://github.com/kubernetes/ingress-nginx/pull/2488,mircohaug,Better and working configuration-snippet example,"The previous example did not work because the `$req_id` variable is not commonly aviable on newer nginx versions whereas `$request_id` is since version 1.11 in the standard nginx. 
Also did the previous example set the `request-id` header in the response to the client, which is only partly reasonable. The new example does set the header in the forwarded request to the upstream service where it could be used to implement request tracing.

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: Improved documentation
",[],1,2018-05-10 12:15:51,2018-05-11 13:07:31,2018-05-11 14:41:03,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2490,https://github.com/kubernetes/ingress-nginx/pull/2490,ElvinEfendi,add resty cookie,"**What this PR does / why we need it**:
Adds a dependency for https://github.com/kubernetes/ingress-nginx/pull/2484

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:",['aledbf'],1,2018-05-10 20:26:39,2018-05-10 21:11:56,2018-05-10 21:32:11,True,2018-05-10 21:11:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2495,https://github.com/kubernetes/ingress-nginx/pull/2495,ElvinEfendi,[ci skip] bump nginx baseimage version,"**What this PR does / why we need it**:
Nginx image tag in the master is 0.44 but in the docker repository 0.44 does not represent the latest Nginx image.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-05-11 15:18:04,2018-05-11 15:19:55,2018-05-11 15:29:19,True,2018-05-11 15:19:55,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2498,https://github.com/kubernetes/ingress-nginx/pull/2498,mtougeron,Add some clarification around multiple ingress controller behavior,"**What this PR does / why we need it**:
Add some clarification around the behavior of multiple ingress controllers.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: n/a

**Special notes for your reviewer**:
I'm attempting to add some docs around where there was confusion when comparing the docs vs the behavior observed in the cluster.",['aledbf'],1,2018-05-11 23:06:21,2018-05-12 00:13:26,2018-05-12 00:26:51,True,2018-05-12 00:13:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2501,https://github.com/kubernetes/ingress-nginx/pull/2501,aledbf,Refactor update of status removing initial check for loadbalancer,"**Which issue this PR fixes** : fixes #2491
","['ElvinEfendi', 'antoineco']",1,2018-05-13 13:39:21,2018-05-14 07:13:25,2018-05-15 18:29:56,True,2018-05-14 07:13:25,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2502,https://github.com/kubernetes/ingress-nginx/pull/2502,aledbf,Update go version in fortune teller image,,"['ElvinEfendi', 'antoineco']",1,2018-05-13 13:42:12,2018-05-13 15:45:25,2018-05-15 18:30:12,True,2018-05-13 15:45:25,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2503,https://github.com/kubernetes/ingress-nginx/pull/2503,diazjf,Add KubeCon Europe 2018 Video to documentation,"Adds Make Ingress-Nginx Work for you, and the Community Video to the documentation.",['aledbf'],1,2018-05-13 17:20:30,2018-05-14 11:23:24,2018-05-14 11:23:24,True,2018-05-14 11:23:24,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2504,https://github.com/kubernetes/ingress-nginx/pull/2504,jrthrawny,Add Timeout For TLS Passthrough,"**What this PR does / why we need it**:

Requests to the HTTPS port will hang indefintely under the following conditions:

1. --tls-passthrough is enabled
2. proxy protocol is enabled in the configmap
3. The incoming request does not include the PROXY header and just sends a request to open a TCP connection. This can occur if you are using, say an AWS NLB to bring traffic to the controller and do not have proxy protocol enabled because the current proxy-protocol library used by this ingress controller does not support v2. https://github.com/kubernetes/ingress-nginx/blob/master/vendor/github.com/armon/go-proxyproto/README.md

Since enabling proxy protocol support is a global setting and cannot be changed for HTTP and HTTPs independently, this causes users of the NLB to need to disable proxy protocol for HTTPS to avoid errors on header processing if they have tls-passthrough enabled.

**Which issue this PR fixes**:

The go-proxyproto library specifically recommends settings a deadline if you call before call RemoteAddr() before calling Read() or it could cause the thread to sit in i/o wait if the proxy headers never come through. This can happen just due to network disruptions when a client is sending a request without the proxy headers and the rest of the request never makes it through.

This PR adds a configurable timeout/deadline value, defaulting 5 seconds to prevent this from occurring. I should also note that the /healthz does not currently check for the liveness of the proxy pass process, so when this bug does occur, it will not self heal just with the kube liveness probe.

**Special notes for your reviewer**:

The bug is reproduced by running the ingress controller in master with the following settings

cli:
`--enable-tls-passthrough`

configMap:
`use-proxy-protocol:
true`

kubectl port-forward directly to a/the pod on port 443. Curls against the pod should return the default backend. To produce the bug. Telnet to the pod on 443 and do not put additional input. If you curl on a seperate terminal, might take a few attempts, you will see that the curl request will hang until clientside timeout. This is resolved by closing the telnet process or restarting the pod.
","['aledbf', 'antoineco']",1,2018-05-13 18:41:05,2018-06-04 05:54:54,2018-06-04 05:54:54,True,2018-06-04 05:54:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2505,https://github.com/kubernetes/ingress-nginx/pull/2505,fntlnz,Annotations for the InfluxDB module,"Signed-off-by: Lorenzo Fontana <lo@linux.com>

**What this PR does / why we need it**:
~This PR adds support for [NGINX InfluxDB Module](https://github.com/influxdata/influxdb) to the Nginx Ingress controller.~ The PR to update the image is #2533


This PR allows to configure the InfluxDB module using annotations.

This is useful for those who want to monitor every request passing through the ingress controller by sending them to InfluxDB or to one of the supported output of Telegraf (e.g Kafka, graylog, mqtt, opentsdb and [all the others](https://github.com/influxdata/telegraf/tree/release-1.6/plugins/outputs))

**Special notes for your reviewer**:

- Please provide any hints! Need to know if I missed something
- Still testing if all I made here works, please poiint out anything!",['aledbf'],3,2018-05-13 18:50:01,2018-05-21 20:54:14,2018-05-29 18:12:55,True,2018-05-21 20:54:14,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2511,https://github.com/kubernetes/ingress-nginx/pull/2511,ElvinEfendi,force backend sync when worker starts,"**What this PR does / why we need it**:
We have been seeing constant
```
no backend configuration found for...
```
errors in our clusters. The debugging showed that they correlate to Nginx reloads. What happens is when Nginx reloads we wait 1s before syncing backends to local worker memory. And during that time all requests fail. The PR fix that bug and also makes sure we return 503 when backend is not found.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-05-14 21:05:17,2018-05-14 21:31:26,2018-05-15 03:00:40,True,2018-05-14 21:31:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2512,https://github.com/kubernetes/ingress-nginx/pull/2512,aledbf,Remove warning when secret is used only for authentication,"**Which issue this PR fixes**: fixes #2506
","['ElvinEfendi', 'antoineco']",1,2018-05-15 12:11:05,2018-05-15 16:50:31,2018-05-15 18:29:12,True,2018-05-15 16:50:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2514,https://github.com/kubernetes/ingress-nginx/pull/2514,aledbf,Fix and simplify local dev workflow and execution of e2e tests,"**What this PR does / why we need it**:

Removes duplicated tasks to build a local image and the one for e2e tests.
`make dev-env && make e2e-test`

Edit: current instructions for make dev-env do not work","['ElvinEfendi', 'antoineco']",1,2018-05-15 16:05:44,2018-05-15 16:44:30,2018-05-15 18:29:46,True,2018-05-15 16:44:30,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2515,https://github.com/kubernetes/ingress-nginx/pull/2515,aledbf,Simplify installation and e2e manifests,"Also, use RBAC by default.","['ElvinEfendi', 'antoineco']",1,2018-05-15 21:48:48,2018-05-17 21:50:22,2018-05-25 19:17:36,True,2018-05-17 21:50:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2516,https://github.com/kubernetes/ingress-nginx/pull/2516,aledbf,Release nginx ingress controller 0.15.0,,"['ElvinEfendi', 'antoineco']",1,2018-05-16 03:49:15,2018-05-16 06:10:29,2018-05-16 14:39:58,True,2018-05-16 06:10:29,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2517,https://github.com/kubernetes/ingress-nginx/pull/2517,gmile,Fix typo about the kind of request,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-05-16 06:53:22,2018-05-16 22:51:51,2018-05-16 22:51:51,True,2018-05-16 22:51:50,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2523,https://github.com/kubernetes/ingress-nginx/pull/2523,aledbf,Add tests for  bind-address,"**Which issue this PR fixes** : fixes #2520
","['ElvinEfendi', 'antoineco']",1,2018-05-16 18:10:01,2018-05-16 19:19:51,2018-05-17 02:41:48,True,2018-05-16 19:19:51,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2524,https://github.com/kubernetes/ingress-nginx/pull/2524,aledbf,Add support for grpc_set_header,"**Which issue this PR fixes**: 

fixes #2493 
fixes #2407
","['ElvinEfendi', 'antoineco']",1,2018-05-16 19:52:55,2018-05-17 13:01:53,2018-05-17 14:33:49,True,2018-05-17 13:01:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2525,https://github.com/kubernetes/ingress-nginx/pull/2525,nicksardo,Increase keepalive_timeout for echoheaders,This is recommended configuration for GCP HTTP LB docs: https://cloud.google.com/compute/docs/load-balancing/http/#timeouts_and_retries,['aledbf'],1,2018-05-16 21:38:56,2018-05-16 22:18:55,2018-05-16 22:18:56,True,2018-05-16 22:18:55,nicksardo,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2526,https://github.com/kubernetes/ingress-nginx/pull/2526,ElvinEfendi,Fix upstream hash lua test,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Consistent hashing algorithm is not guaranteed to choose a different upstream for a different key - we could have sent several requests with different keys and assert at least one of them ends up getting proxied to a different upstream but even that would theoretically be flaky (I've done that too in first commit for visibility but IMO it is OK to just ignore that case).

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],2,2018-05-16 23:22:21,2018-05-17 00:57:53,2018-05-17 01:00:04,True,2018-05-17 00:57:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2528,https://github.com/kubernetes/ingress-nginx/pull/2528,aledbf,Remove go-bindata,,"['ElvinEfendi', 'antoineco']",1,2018-05-17 04:18:38,2018-05-17 12:27:51,2018-05-17 12:53:30,True,2018-05-17 12:27:51,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2531,https://github.com/kubernetes/ingress-nginx/pull/2531,foxylion,Mention the #ingress-nginx Slack channel,"There is a dedicated channel for ingress nginx, mention this in the README.",['aledbf'],1,2018-05-17 07:52:01,2018-05-17 11:50:52,2018-05-17 11:50:52,True,2018-05-17 11:50:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2533,https://github.com/kubernetes/ingress-nginx/pull/2533,fntlnz,NGINX image update: add the influxdb module,"Signed-off-by: Lorenzo Fontana <lo@linux.com>

**What this PR does / why we need it**:

This PR adds support for [NGINX InfluxDB Module](https://github.com/influxdata/influxdb) to the Nginx Ingress controller.
This is related to https://github.com/kubernetes/ingress-nginx/pull/2505 that allow to configure the module using annotations.

",['aledbf'],1,2018-05-17 13:37:03,2018-05-17 14:19:53,2018-05-17 14:19:53,True,2018-05-17 14:19:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2534,https://github.com/kubernetes/ingress-nginx/pull/2534,diazjf,Set Focus for E2E Tests,"Allows the user to set the focus of which tests to run, by default all tests will run.
",['aledbf'],1,2018-05-17 16:23:19,2018-05-17 16:46:53,2018-05-17 16:46:53,True,2018-05-17 16:46:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2536,https://github.com/kubernetes/ingress-nginx/pull/2536,aledbf,Update go dependencies,,['ElvinEfendi'],1,2018-05-17 17:44:17,2018-05-19 18:33:25,2018-05-19 18:35:03,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2537,https://github.com/kubernetes/ingress-nginx/pull/2537,aledbf,Update nginx modules,,['ElvinEfendi'],1,2018-05-17 19:34:02,2018-05-17 20:25:52,2018-05-22 17:11:28,True,2018-05-17 20:25:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2540,https://github.com/kubernetes/ingress-nginx/pull/2540,r7vme,DOCS: Correct ssl-passthrough annotation description.,"**What this PR does / why we need it**:

Fixes incorrect description for `nginx.ingress.kubernetes.io/ssl-passthrough` annotation that was introduced by my other [change](https://github.com/kubernetes/ingress-nginx/pull/2377).

User actually needs flag `--enable-ssl-passthrough` anyway if he wants to use ssl passthru. In my [initial change](https://github.com/kubernetes/ingress-nginx/pull/2377) i incorrectly assumed (and missed while testing) that only thing TCPProxy does is PROXY protocol header. Now i see that it's also does [SNI](https://github.com/kubernetes/ingress-nginx/blob/f92f5f80e4fe6fbd08565affb509bed914163362/internal/ingress/controller/tcp.go#L71). This means `--enable-ssl-passthrough` always required, despite PROXY protocol in load balancer.

I also created [feature request](https://github.com/kubernetes/ingress-nginx/issues/2539) to do SNI by nginx and not by ingress-controller.

My initial [issue](https://github.com/kubernetes/ingress-nginx/issues/2354) was that Go routine (with TCPProxy) crashed silently on all replicas.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: none

**Special notes for your reviewer**:
",['aledbf'],1,2018-05-18 15:20:33,2018-05-18 15:45:53,2018-05-18 15:46:34,True,2018-05-18 15:45:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2542,https://github.com/kubernetes/ingress-nginx/pull/2542,gianrubio,Instrument controller to show configReload metrics ,"This PR add prometheus metrics to detect when the controller fail to reload nginx configuration
Ex: 

```
alert: IngressControllerFailedReload 
expr: ingress_controller_config_last_reload_successfull == 0
for: 10m
```

It also deprecate the reloadOperation metric because configReload does more than reloadOperation",['aledbf'],2,2018-05-18 18:25:23,2018-05-18 19:41:52,2018-05-18 19:41:52,True,2018-05-18 19:41:51,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2543,https://github.com/kubernetes/ingress-nginx/pull/2543,ElvinEfendi,introduce a balancer interface,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This PR refactors balancer logic to be more modular, extensible and testable. It also fixes bug with returning 503 by using `rewrite_by_lua` handler. Now balancer.lua has four public methods namely `init_worker()`, `rewrite()`, `balance()`, and `log()` which get called in their respective phase.

`init_worker()` function kicks in when Nginx worker starts. It calls private `sync_backends()` function that takes care of initializing, updating and deleting respective balancer instances for the backends. `sync_backends()` also gets called periodically in every 1 second to keep the backend balancers in sync for the given Nginx worker.

`rewrite()` function takes care of returning 503 when there's no balancer for the backend current request corresponds to.

`balancer()` gets the balancer instance for given request/backend and calls `:balance()` function which executes the respective load balancing algorithm and returns `host`, `port` pair. `balancer()` then takes care of calling Nginx API function to set the upstream peer.

`log()` function gets the balancer instance for given request/backend and calls `:after_balance()`. Currently only EWMA algorithm implements `after_balance()`. This is useful when the LB algorithm needs to store some stats related to i.e response times or response status code etc.

--

With this PR if someone wants to introduce a new load balancing algorithm they can create the respective Lua module in `balancer/` folder and register it in `balancer.lua`. Every new load balancing module has to implement at least `new(backend)`, `sync(backend)` and `balance()`. Optionally they can implement `after_balance()` as well.

--

Once this PR gets merged I'll add more unit tests which will most likely make some of the related e2e tests weak enough that we can just delete.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],4,2018-05-18 21:38:32,2018-05-28 21:09:32,2018-05-28 21:13:04,True,2018-05-28 21:09:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2544,https://github.com/kubernetes/ingress-nginx/pull/2544,schallert,[docs] Fix manifest URL for GKE + Azure,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: This PR fixes broken links for the `cloud-generic.yaml` manifests in the GKE and Azure sections of the deployment guide.

**Which issue this PR fixes**: None.

**Special notes for your reviewer**: None.",['aledbf'],1,2018-05-19 23:53:18,2018-05-20 00:16:50,2018-05-20 19:01:09,True,2018-05-20 00:16:50,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2548,https://github.com/kubernetes/ingress-nginx/pull/2548,Stono,Implement generate-request-id,"Fixes https://github.com/kubernetes/ingress-nginx/issues/2546

Please let me know if this looks right!  Would be great if you could do a test build for me to try out.

Thanks",['aledbf'],1,2018-05-21 07:34:55,2018-05-21 20:55:13,2018-05-21 20:55:13,True,2018-05-21 20:55:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2549,https://github.com/kubernetes/ingress-nginx/pull/2549,Miouge1,Use add_headers regardless of response code,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
The [add_header](http://nginx.org/en/docs/http/ngx_http_headers_module.html#add_header) directive depends on the returned status code. If `always` is not set it can lead to unintentional header leaks when used as `key: """"`.

Changing the default behavior to `always` add make a more robust config.
This is similar to how `proxy-set-header` works.

**Special notes for your reviewer**:

Other alternative would be to make the `always` part of `add_header` configurable in some way (annotation, etc...)","['ElvinEfendi', 'antoineco']",1,2018-05-21 08:02:35,2019-01-17 15:27:56,2019-01-17 15:27:57,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2551,https://github.com/kubernetes/ingress-nginx/pull/2551,glennslaven,Add support for MaxMind GeoIP2 module,"**What this PR does / why we need it**:

MaxMind is deprecating their legacy databases, updates for them will no longer be available after 2019-01-02.  See https://support.maxmind.com/geolite-legacy-discontinuation-notice/

This adds support for the GeoLite2 databases https://dev.maxmind.com/geoip/geoip2/geolite2/ via https://github.com/leev/ngx_http_geoip2_module.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2550

**Special notes for your reviewer**:
Adds the CIty & ASN GeoLite2 databases and makes their fields available in the template",[],2,2018-05-22 03:49:48,2018-05-22 22:02:18,2018-10-28 20:39:22,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2553,https://github.com/kubernetes/ingress-nginx/pull/2553,discordianfish,Update module-vts = 0.1.16 to fix duration metrics,"**What this PR does / why we need it**:
Currently the ingress image uses 0.1.15 which exposes broken duration
metrics on newer nginx versions like the one used in the ingress
controller (1.13.12).

See downstream issue: https://github.com/vozlt/nginx-module-vts/issues/121",['aledbf'],1,2018-05-22 17:06:20,2018-05-23 23:32:33,2018-05-23 23:32:33,True,2018-05-23 23:32:33,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2554,https://github.com/kubernetes/ingress-nginx/pull/2554,ElvinEfendi,use better defaults for proxy-next-upstream(-tries),"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
By default ingress-nginx configures Nginx to retry next upstream _indefinitely_ for any of `error timeout invalid_header http_502 http_503 http_504`. This is a bit extreme and it potentially hides important errors. The PR changes the defaults to be more restrictive. Note that these values can still be customized per ingress.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-05-22 20:14:36,2018-05-24 02:55:34,2018-05-25 14:07:23,True,2018-05-24 02:55:34,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2558,https://github.com/kubernetes/ingress-nginx/pull/2558,aledbf,Update qemu to 2.12.0 [ci skip],,[],1,2018-05-23 23:46:31,2018-05-23 23:47:17,2018-05-24 03:16:50,True,2018-05-23 23:47:17,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2559,https://github.com/kubernetes/ingress-nginx/pull/2559,glennslaven,Add geoip2 module and DB to nginx build,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
MaxMind is deprecating their legacy databases, updates for them will no longer be available after 2019-01-02. See https://support.maxmind.com/geolite-legacy-discontinuation-notice/

This adds support for the GeoLite2 databases https://dev.maxmind.com/geoip/geoip2/geolite2/ via https://github.com/leev/ngx_http_geoip2_module.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2550

**Special notes for your reviewer**:
Adds the City & ASN GeoLite2 databases, subsequent PR will update the ingress controller and template",['aledbf'],2,2018-05-24 02:22:00,2018-06-08 21:41:00,2018-06-12 01:43:31,True,2018-06-08 21:40:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2560,https://github.com/kubernetes/ingress-nginx/pull/2560,chenquanzhao,Add traffic shifting strategy,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

For the sake of reducing downtime and risk of updating a service, we usually adopt Blue-Green Deployment or Gray Deployment that ensures the coexistence of the old and new service version. We can shift partial traffic to the new service by weight percentage or some extra routing rules, such as some keyword from cookie or request header and so on. And nginx ingress controller is served as the traffic entrypoint for all cluster services, it should offer the capability of traffic management.


**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2419 

**Special notes for your reviewer**:
Design doc: [https://docs.google.com/document/d/1AkffGGtjy38n6GXRlTMPQpRUsto8zKjzCroZcJuXIs8/edit?usp=sharing](https://docs.google.com/document/d/1AkffGGtjy38n6GXRlTMPQpRUsto8zKjzCroZcJuXIs8/edit?usp=sharing)
@aledbf 
",[],1,2018-05-24 08:11:49,2018-11-06 20:23:56,2019-01-20 04:45:26,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2564,https://github.com/kubernetes/ingress-nginx/pull/2564,aledbf,Add security contacts file [ci skip],"**Which issue this PR fixes**: fixes #2563
",[],1,2018-05-24 14:59:37,2018-05-24 14:59:50,2018-05-25 05:12:48,True,2018-05-24 14:59:50,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2565,https://github.com/kubernetes/ingress-nginx/pull/2565,aledbf,Update nginx version,,"['ElvinEfendi', 'antoineco']",1,2018-05-24 15:33:31,2018-05-25 04:40:34,2018-05-25 19:18:43,True,2018-05-25 04:40:34,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2566,https://github.com/kubernetes/ingress-nginx/pull/2566,webwurst,Fix wrong default value for `enable-brotli`,Brotli is disabled by default since https://github.com/kubernetes/ingress-nginx/commit/c67e9185b683e55275acbb8769666fc02bed31e4.,['aledbf'],1,2018-05-24 15:37:35,2018-05-24 16:02:32,2018-05-24 16:02:32,True,2018-05-24 16:02:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2569,https://github.com/kubernetes/ingress-nginx/pull/2569,aledbf,Update nginx modules to fix core dump [ci skip],,[],1,2018-05-25 04:01:29,2018-05-25 04:01:36,2018-05-25 19:18:12,True,2018-05-25 04:01:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2570,https://github.com/kubernetes/ingress-nginx/pull/2570,aledbf,Enable core dumps during tests,"**What this PR does / why we need it**:

Enable core dumps during e2e tests to be able to execute gdb an find the reason of the error","['ElvinEfendi', 'antoineco']",1,2018-05-25 04:18:37,2018-05-26 15:08:39,2018-05-28 20:53:22,True,2018-05-26 15:08:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2572,https://github.com/kubernetes/ingress-nginx/pull/2572,lorenz,Fix default-backend,"**What this PR does / why we need it**:
Currently the `default-backend` annotation is completely broken (and has been since some time, I think since the annotations refactor in fb33c58d). This pull request includes the necessary changes to make it work again. I'm currently production-testing my change on our primary ingress and everything seems to work well.

**Special notes for your reviewer**:
I have no prior experience with this codebase, please review with care. 

fixes #1874",['aledbf'],1,2018-05-26 09:33:28,2018-05-28 13:45:58,2018-05-28 13:45:58,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2573,https://github.com/kubernetes/ingress-nginx/pull/2573,aledbf,Refactor e2e tests and update go dependencies,,"['ElvinEfendi', 'antoineco']",6,2018-05-26 15:28:12,2018-05-28 05:19:31,2018-05-28 20:52:27,True,2018-05-28 05:19:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2574,https://github.com/kubernetes/ingress-nginx/pull/2574,aledbf,Fix default-backend annotation,"fixes #1874
replaces #2572","['ElvinEfendi', 'antoineco']",1,2018-05-26 23:09:55,2018-05-28 06:16:31,2018-05-28 20:52:18,True,2018-05-28 06:16:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2575,https://github.com/kubernetes/ingress-nginx/pull/2575,aledbf,Print information about NGINX version,"**Which issue this PR fixes** : fixes #2468 
","['ElvinEfendi', 'antoineco']",1,2018-05-27 23:52:06,2018-05-28 00:17:32,2018-05-28 20:52:12,True,2018-05-28 00:17:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2577,https://github.com/kubernetes/ingress-nginx/pull/2577,ElvinEfendi,make sure ingress-nginx instances are watching their namespace only during test runs,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-05-28 21:04:43,2018-05-28 21:25:32,2018-05-28 21:44:07,True,2018-05-28 21:25:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2581,https://github.com/kubernetes/ingress-nginx/pull/2581,borekb,Improved link in modsecurity.md,"**What this PR does / why we need it**: small fix in a Markdown link (URL portion was not correct).

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: no issue

**Special notes for your reviewer**: I've also updated the link text slightly to make it more readable, hope it's OK.",['aledbf'],1,2018-05-30 07:27:51,2018-05-30 11:05:56,2018-05-30 11:05:56,True,2018-05-30 11:05:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2583,https://github.com/kubernetes/ingress-nginx/pull/2583,aviadatsnyk,docs: add secret scheme details to the example,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
I'm not sure if this is a docs fix or a bug report (but I think it's the former): if you create a basic-auth secret from a file not named `auth` (i.e `myauth.htpasswd`) - the ingress controller returns a 503 (not writing anything to the error log, at least not on the default settings).

**Special notes for your reviewer**:
If this is a bug and not a docs issue, or I missed the relevant docs - sorry.",['aledbf'],1,2018-05-30 07:55:51,2018-05-30 11:13:55,2018-05-30 11:13:55,True,2018-05-30 11:13:55,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2586,https://github.com/kubernetes/ingress-nginx/pull/2586,fmejia97,Add metric_emitter lua module,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-05-30 20:55:18,2018-06-06 15:01:03,2018-06-06 15:01:08,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2588,https://github.com/kubernetes/ingress-nginx/pull/2588,aledbf,Update nginx dependencies,"**What this PR does / why we need it**:

Add required module for #2586

**Which issue this PR fixes**: fixes #2547",['ElvinEfendi'],1,2018-05-31 02:45:07,2018-05-31 19:30:57,2018-06-11 00:58:08,True,2018-05-31 19:30:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2589,https://github.com/kubernetes/ingress-nginx/pull/2589,toolboc,Fix issue #2547 - missing lua-cjson dependency,"**What this PR does / why we need it**:

This PR adds a missing lua-cjson dependency that is required in ARM builds of ingress-nginx.  When this dependency is not present, the nginx-ingress-controller fails to start due to the following error:
`nginx: [error] init_by_lua error: /usr/local/lib/lua/resty/waf/log.lua:4: module 'cjson' not found:
`

**Which issue this PR fixes** 
Addresses ##2547
",[],1,2018-05-31 04:11:58,2018-05-31 04:32:09,2018-05-31 04:33:24,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2590,https://github.com/kubernetes/ingress-nginx/pull/2590,mirake,Typo fix: muthual autentication -> mutual authentication,,['aledbf'],1,2018-05-31 06:19:25,2018-05-31 12:59:56,2018-09-24 14:47:42,True,2018-05-31 12:59:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2591,https://github.com/kubernetes/ingress-nginx/pull/2591,ElvinEfendi,Access log improvements,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
When using a catch-all ingress log annotation is ignored - as a result access logging gets turned off.
The PR fixes that and also disables access logging for `/configuration` endpoint.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],2,2018-05-31 17:49:46,2018-05-31 20:26:57,2018-05-31 20:29:10,True,2018-05-31 20:26:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2592,https://github.com/kubernetes/ingress-nginx/pull/2592,AdamDang,Typo fix: are be->are/to on->to,"Line 11: are be->are
Line 13: to on->to","['justinsb', 'aledbf']",1,2018-06-01 00:56:54,2018-06-01 13:41:58,2018-06-01 13:41:58,True,2018-06-01 13:41:58,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2595,https://github.com/kubernetes/ingress-nginx/pull/2595,AdamDang,Typo fix: successfull->successful,"Line 47&56: successfull->successful
","['aledbf', 'caseydavenport']",1,2018-06-02 11:45:26,2018-06-02 16:02:56,2018-06-02 16:02:56,True,2018-06-02 16:02:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2597,https://github.com/kubernetes/ingress-nginx/pull/2597,toolboc,Fix arm paths for liblua.so and lua_package_cpath,"**What this PR does / why we need it**:

This PR sets proper paths in ARM builds of ingress-nginx for liblua.so and lua_package_cpath. 

Without this fix, nginx.tmpl is always invalid for ARM devices due to assumption of `/usr/lib/x86_64-linux-gnu/lua/5.1/?.so;` as a valid path regardless of platform architecture. Similarly, build.sh assumes that `/usr/lib/x86_64-linux-gnu/liblua5.1.so` always exists, but this is not true for all platforms.   

**Explanation**:
[nginx.tmpl](https://github.com/kubernetes/ingress-nginx/blob/master/rootfs/etc/nginx/template/nginx.tmpl) is used to create the default nginx.conf for the nginx-ingress-controller.  As-is, this file references lua packages in a hard-coded platform-specific path `usr/lib/x86_64-linux-gnu/lua/5.1/?.so;`.  As a result, lua packages installed via clean-install were not being found on ARM builds as this path does not exist.  On ARM, the search path for lua packages installed via clean-install should be `usr/lib/rm-linux-gnueabihf/lua/5.1/?.so;` .  

This explains why cjson was already being installed via clean-install, but not found on ARM per commentary by @ElvinEfendi  on #2588.  The fix that was applied in #2588  installs lua-cjson in `/usr/local/lib/lua/5.1` (via luarocks) instead of `/usr/lib/linux-gnueabihf/lua/5.1` (via clean-install) which gets picked up in nginx.tmpl due to inclusion of the search path `/usr/local/lib/lua/?.so;.`  The clean-install method was already sufficient but nginx.tmpl was improperly referencing one of the search paths.    In summary, nginx.tmpl was the real culprit of #2547.

**Which issue this PR fixes** 
Addresses ##2547
","['aledbf', 'ElvinEfendi']",1,2018-06-02 19:57:32,2018-06-05 00:28:54,2018-06-05 00:28:54,True,2018-06-05 00:28:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2598,https://github.com/kubernetes/ingress-nginx/pull/2598,aledbf,Always sort upstream list to provide stable iteration order,"**What this PR does / why we need it**:

Using a sorted list avoids unnecessary reloads

**Which issue this PR fixes**: fixes #2596
","['ElvinEfendi', 'antoineco']",2,2018-06-02 20:16:26,2018-06-02 21:58:53,2018-06-13 15:18:59,True,2018-06-02 21:58:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2600,https://github.com/kubernetes/ingress-nginx/pull/2600,liyongxin,typo fix futher to further && preformance to performance,,['aledbf'],1,2018-06-04 11:28:10,2018-06-04 12:51:56,2018-06-04 12:51:56,True,2018-06-04 12:51:55,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2601,https://github.com/kubernetes/ingress-nginx/pull/2601,amincheloh,fix changelog link in README.md,,"['aledbf', 'caseydavenport']",1,2018-06-04 11:57:21,2018-06-04 12:55:53,2018-06-04 12:55:53,True,2018-06-04 12:55:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2602,https://github.com/kubernetes/ingress-nginx/pull/2602,toolboc,Crossplat fixes,"**What this PR does / why we need it**:

This PR contains changes to the nginx image that are required for proper cross-platform referencing of lua libraries.

**Explanation**:
This is a two-part PR to address issues in non x86-x64 builds with regard to lua library references that was uncovered during investigation of Issue #2547.  This PR contains changes to the base nginx image which are required to merge in order to verify the CI build before a subsequent change to nginx.tmpl will occur in PR #2597 .   Acceptance of this PR will require a republish of the nginx base image for all platforms to enable acceptance of #2597.

**Which issue this PR fixes** 
Addresses #2547 
",['aledbf'],1,2018-06-04 20:06:40,2018-06-04 21:34:55,2018-06-04 23:42:00,True,2018-06-04 21:34:55,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2603,https://github.com/kubernetes/ingress-nginx/pull/2603,fntlnz,Bump nginx influxdb module to f8732268d44aea706ecf8d9c6036e9b6dacc99b2,"There have been important updated in the module since when I contributed the annotations to the ingress so wanted to make sure that those are in before the ingress controller is released.
See: https://github.com/influxdata/nginx-influxdb-module/pull/7
Signed-off-by: Lorenzo Fontana <lo@linux.com>
",['aledbf'],1,2018-06-05 02:35:13,2018-06-05 12:08:56,2018-06-05 16:18:50,True,2018-06-05 12:08:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2607,https://github.com/kubernetes/ingress-nginx/pull/2607,fmejia97,Expose UDP message to prometheus /metrics endpoint,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],10,2018-06-05 17:24:29,2018-06-05 18:39:18,2018-06-06 08:45:24,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2608,https://github.com/kubernetes/ingress-nginx/pull/2608,fmejia97,Expose UDP message on /metrics endpoint ,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This PR:
1. Adds a UDP collector that listens to UDP messages from `monitor.lua` and exposes them on `/metrics` endpoint using prometheus client.
2. Removes VTS collector. 

**Why do we need this PR?** 

With the dynamic mode introduced a couple of releases ago, the load balancing is handled in LUA. This means there is no upstream section in the generated nginx.conf, there is only one used to switch to LUA. In this scenario, the VTS module is useless because the stats only contains information about this upstream without any context about the traffic. Additionally, by using the VTS module it is not possible to add custom variables to the stats, such as information about the namespace, ingress rule, and service (something available as NGINX variable).

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

replaces #2607 

fixes #2355
fixes #2128 
fixes #557","['aledbf', 'ElvinEfendi', 'antoineco']",1,2018-06-05 18:45:27,2018-06-14 13:13:29,2018-06-14 13:13:30,True,2018-06-14 13:13:29,k8s-ci-robot,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2609,https://github.com/kubernetes/ingress-nginx/pull/2609,Firehed,Disable access_log when using vts status,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Currently, log messages like `127.0.0.1 - [127.0.0.1] - - [05/Jun/2018:19:41:18 +0000] ""GET /nginx_status/format/json HTTP/1.1"" 200 2069 ""-"" ""Go-http-client/1.1"" 118 0.000 [internal] - - - - ` will be constantly emitted to the logs when scraping Prometheus metrics and `enable-vts-status` is set to `true`. This change ensures that `access_log off;` is always set for the `/nginx_status` block.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-06-05 19:50:44,2018-06-09 17:24:48,2018-06-11 17:39:46,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2611,https://github.com/kubernetes/ingress-nginx/pull/2611,fmejia97,Add metric emitter lua module,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This PR adds the `metric_emitter` lua module that emits UDP messages with NGINX stats to the controller.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'ElvinEfendi']",1,2018-06-06 17:52:31,2018-06-14 03:17:28,2018-06-14 03:17:28,True,2018-06-14 03:17:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2614,https://github.com/kubernetes/ingress-nginx/pull/2614,chenquanzhao,fix nginx conf test error when not found active service endpoints,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Fix nginx config file test error when found no active service endpoints. For example:

```
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: ingress-example
spec:
  rules:
  - host: www.example.com
    http:
      paths:
      - path: /
        backend:
          serviceName: not-exist-service
          servicePort: 80
```
Then the new nginx configuration file generated by ingress controller contains a proxy_pass that its upstream does not exist.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

","['aledbf', 'antoineco']",2,2018-06-08 04:00:21,2018-06-15 03:41:30,2018-06-15 03:41:30,True,2018-06-15 03:41:30,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2616,https://github.com/kubernetes/ingress-nginx/pull/2616,Dirbaio,Add use-forwarded-headers configmap option.,"This PR adds a configmap option `use-forwarded-headers` to enable/disable trust of incoming `X-Forwarded-*` headers. 

Setting it to `true` corresponds to the current ingress behavior.

It is set to `false` by default. **this is a breaking change**, but IMO it's the right thing to do if we follow the ""secure by default"" principle:

- If the default is `true`, it might lead to vulnerable installations: If it's set to true in a scenario when it shouldn't (direct port forwarding, L3 load balancers) the config is vulnerable to source IP spoofing. However, since everything appears to work correctly, the user probably won't notice, and will end up vulnerable in production.
- If the default is `false`, it'll just cause incorrect behavior if it's wrong. The user is likely to notice he's getting incorrect source IPs and will set it to `true`. At no point the user is vulnerable to spoofing.

Fixes #1815 #1309 #1668
Rebase/update of #1851",['aledbf'],7,2018-06-10 22:17:09,2018-08-16 23:30:09,2018-10-31 12:11:43,True,2018-08-16 23:30:09,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2617,https://github.com/kubernetes/ingress-nginx/pull/2617,aledbf,Update go to 1.10.3,,"['ElvinEfendi', 'antoineco']",1,2018-06-11 00:57:47,2018-06-11 05:57:27,2018-06-11 20:35:32,True,2018-06-11 05:57:27,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2618,https://github.com/kubernetes/ingress-nginx/pull/2618,aledbf,Update nginx to 1.15.0 and remove VTS module,,[],1,2018-06-11 01:02:47,2018-06-14 14:17:32,2018-06-14 14:23:49,True,2018-06-14 14:17:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2619,https://github.com/kubernetes/ingress-nginx/pull/2619,aledbf,Run as user dropping privileges,,"['ElvinEfendi', 'antoineco']",2,2018-06-11 02:31:56,2018-06-12 15:30:28,2018-06-12 23:01:37,True,2018-06-12 15:30:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2620,https://github.com/kubernetes/ingress-nginx/pull/2620,chestack,Return real http error code instead of 200,"**What this PR does / why we need it**:
custom http error pages should return real error code instead of 200

**Which issue this PR fixes**
fixes #2621

**Special notes for your reviewer**:
related to #2285 
ref: http://muratknecht.de/tech/how-to-fix-nginx-soft-404-when-a-404-error-page-returns-200/",[],1,2018-06-11 06:56:16,2018-06-11 17:39:23,2018-06-11 17:39:23,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2623,https://github.com/kubernetes/ingress-nginx/pull/2623,antoineco,Proofread cmd package and update flags description,"**What this PR does / why we need it**:

Originally part of #2368.","['aledbf', 'ElvinEfendi']",1,2018-06-11 11:17:20,2018-06-11 11:44:26,2018-06-11 12:21:08,True,2018-06-11 11:44:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2624,https://github.com/kubernetes/ingress-nginx/pull/2624,pieterlange,Fix minor documentation example,`os.urandom` sometimes returns more bytes and its generally encouraged to use python3's `secrets` module for this kind of thing nowadays.,['aledbf'],1,2018-06-11 15:21:39,2018-06-11 16:50:32,2018-06-11 17:09:29,True,2018-06-11 16:50:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2625,https://github.com/kubernetes/ingress-nginx/pull/2625,qiujian16,Add annotation doc on proxy buffer size,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This is to add a doc about proxy buffer size annotation

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
fix https://github.com/kubernetes/ingress-nginx/issues/2527

**Special notes for your reviewer**:
",['aledbf'],1,2018-06-12 08:04:34,2018-06-12 11:06:30,2018-06-13 01:09:27,True,2018-06-12 11:06:30,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2630,https://github.com/kubernetes/ingress-nginx/pull/2630,antoineco,Update documentation for custom error pages,"Fixes #2613

@aledbf requires a new build of the `custom-error-pages` image.",['aledbf'],2,2018-06-12 19:58:39,2018-06-12 22:03:49,2018-06-12 22:09:13,True,2018-06-12 22:03:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2634,https://github.com/kubernetes/ingress-nginx/pull/2634,aledbf,Disable resync period,"**What this PR does / why we need it**:

Disables the resync period. The intended use of this setting is related to watch issues with etcd. This is not an issue anymore. Additionally, forcing a resync introduces some edge cases, like #2195.

Note: this was also recommended in the contributor summit in last Kubecon

**Which issue this PR fixes** : fixes #2195
","['ElvinEfendi', 'antoineco']",3,2018-06-13 12:50:46,2018-06-13 17:27:29,2018-12-09 13:22:30,True,2018-06-13 17:27:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2636,https://github.com/kubernetes/ingress-nginx/pull/2636,antoineco,Add missing equality comparisons for ingress.Server,fixes #2635,['aledbf'],1,2018-06-13 14:48:21,2018-06-13 15:16:30,2018-06-13 19:47:12,True,2018-06-13 15:16:30,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2638,https://github.com/kubernetes/ingress-nginx/pull/2638,aledbf,Wait the result of the controller deployment before running any test,"**What this PR does / why we need it**:

Avoid running any test if the ingress controller deployment is not working. This will help to avoid timeouts with e2e tests in case of startup failures.","['ElvinEfendi', 'antoineco']",1,2018-06-13 15:39:19,2018-06-13 20:27:18,2018-06-13 20:46:40,True,2018-06-13 20:27:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2639,https://github.com/kubernetes/ingress-nginx/pull/2639,antoineco,Clarify log messages in controller package,"**What this PR does / why we need it**:

This is an attempt to clarify most messages logged by the `controller` package and add details when I felt it was necessary (eg. what object a given message is related to, or why do we default to a particular value)

I also took the liberty of rephrasing some methods documentation as I went through the code, and to remove comments where the logic is self-explanatory.

See https://github.com/kubernetes/ingress-nginx/pull/2368#issuecomment-396038027

**Cherry-picked examples**:

```
controller.go:922] Ingress ""nginx/examples"" defines both a backend and rules. Using backend as default upstream for all its rules.
controller.go:1002] Ingress ""nginx/examples"" does not contains a TLS section.
controller.go:461] Adding location ""/foo1"" for server ""host1"" with upstream ""nginx-echoheaders2-http"" (Ingress ""nginx/examples"")
controller.go:461] Adding location ""/foo2"" for server ""host1"" with upstream ""nginx-echoheaders2-http"" (Ingress ""nginx/examples"")
controller.go:209] Obtaining information about TCP stream services from ConfigMap ""nginx/tcp-services""
controller.go:289] Searching Endpoints with TCP port name ""http"" for Service ""nginx/echoheaders""
```","['aledbf', 'ElvinEfendi']",1,2018-06-13 18:20:13,2018-06-13 19:53:29,2018-06-18 09:50:33,True,2018-06-13 19:53:29,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2641,https://github.com/kubernetes/ingress-nginx/pull/2641,allanchau,Fix typo in command,"**What this PR does / why we need it**:

Fixes the command for checking if ingress controller pods have started.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-06-14 06:19:06,2018-06-14 13:28:55,2018-06-14 13:41:34,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2643,https://github.com/kubernetes/ingress-nginx/pull/2643,aledbf,Remove VTS from the ingress controller,,"['ElvinEfendi', 'antoineco']",1,2018-06-14 14:34:59,2018-06-15 06:59:29,2018-06-15 19:16:24,True,2018-06-15 06:59:29,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2644,https://github.com/kubernetes/ingress-nginx/pull/2644,aledbf,Update nginx image version,,"['ElvinEfendi', 'antoineco']",1,2018-06-14 15:08:08,2018-06-14 22:05:29,2018-06-14 22:05:29,True,2018-06-14 22:05:29,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2645,https://github.com/kubernetes/ingress-nginx/pull/2645,aledbf,Add --with-compat flag to allow load of binary modules,,[],1,2018-06-14 16:17:11,2018-06-14 21:29:32,2018-06-15 03:37:47,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2646,https://github.com/kubernetes/ingress-nginx/pull/2646,aledbf,Rollback nginx 1.15.0 to 1.13.12,"**What this PR does / why we need it**:

lua-nginx-module only generates core dumps",[],1,2018-06-14 20:12:04,2018-06-14 20:12:24,2018-06-15 03:37:37,True,2018-06-14 20:12:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2649,https://github.com/kubernetes/ingress-nginx/pull/2649,aledbf,Add support for IPV6 in stream upstream servers,replaces #2424,['antoineco'],1,2018-06-15 04:26:58,2018-06-15 14:26:34,2018-06-15 19:16:09,True,2018-06-15 14:26:34,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2651,https://github.com/kubernetes/ingress-nginx/pull/2651,aledbf,Update nginx to 0.15.0,,[],1,2018-06-16 18:15:25,2018-06-16 18:15:31,2018-06-16 18:22:46,True,2018-06-16 18:15:31,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2652,https://github.com/kubernetes/ingress-nginx/pull/2652,aledbf,Use a unix socket instead udp for reception of metrics,,['ElvinEfendi'],1,2018-06-16 19:15:14,2018-06-17 15:04:04,2018-06-17 17:32:38,True,2018-06-17 15:04:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2653,https://github.com/kubernetes/ingress-nginx/pull/2653,aledbf,Remove dummy file watcher,"**What this PR does / why we need it**:

This dummy watcher was required because of go-bindata",['antoineco'],1,2018-06-16 20:23:46,2018-06-17 16:26:32,2018-06-17 18:37:54,True,2018-06-17 16:26:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2654,https://github.com/kubernetes/ingress-nginx/pull/2654,fntlnz,Hotfix: influxdb module enable disable toggle,"Signed-off-by: Lorenzo Fontana <lo@linux.com>

**What this PR does / why we need it**:
After a major change in how the module collects metrics there has been a programming error that led to a bad enabled/disabled state for the influxdb module.
The issue had been fixed here https://github.com/influxdata/nginx-influxdb-module/pull/9 and this pr is to update the ingress to reflect that fix.
",['aledbf'],1,2018-06-17 03:08:32,2018-06-17 13:42:31,2018-06-17 13:42:31,True,2018-06-17 13:42:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2655,https://github.com/kubernetes/ingress-nginx/pull/2655,aledbf,Rollback nginx to 1.13.12,,[],1,2018-06-17 14:05:56,2018-06-17 14:06:01,2018-06-18 14:16:15,True,2018-06-17 14:06:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2656,https://github.com/kubernetes/ingress-nginx/pull/2656,aledbf,Improve configuration change detection,"**What this PR does / why we need it**:

Introduce additional information (checksum) to the configuration to allow determine if there was a change or not. Until now a change in the configuration configmap only triggered a reload after a change in some Ingress.

**Which issue this PR fixes**:

fixes #2567
","['ElvinEfendi', 'antoineco']",4,2018-06-17 16:13:07,2018-06-21 14:50:58,2018-06-21 22:48:46,True,2018-06-21 14:50:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2658,https://github.com/kubernetes/ingress-nginx/pull/2658,aledbf,Do not wait informer initialization to read configuration,"**What this PR does / why we need it**:

Read configuration configmap while the controller is being initialized. This avoids passing health checks without having applied the configuration defined in the configmap.

**Which issue this PR fixes**:

fixes #2629
",['antoineco'],1,2018-06-17 16:29:12,2018-06-17 16:52:31,2018-06-17 17:32:25,True,2018-06-17 16:52:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2659,https://github.com/kubernetes/ingress-nginx/pull/2659,aledbf,Update nginx image,This update is required to use the fix https://github.com/kubernetes/ingress-nginx/pull/2654,"['ElvinEfendi', 'antoineco']",1,2018-06-17 17:06:01,2018-06-17 17:27:30,2018-06-17 17:33:46,True,2018-06-17 17:27:30,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2660,https://github.com/kubernetes/ingress-nginx/pull/2660,aledbf,Change modsecurity directories,"**What this PR does / why we need it**:

Running as user prevents the start of modsecurity. Changing directories to fix this issue.","['ElvinEfendi', 'antoineco']",1,2018-06-17 18:36:15,2018-06-20 18:15:06,2018-06-21 14:03:02,True,2018-06-20 18:15:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2661,https://github.com/kubernetes/ingress-nginx/pull/2661,aledbf,Add additional header when debug is enabled,,['antoineco'],1,2018-06-17 19:42:57,2018-06-17 20:18:31,2018-06-17 20:25:52,True,2018-06-17 20:18:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2664,https://github.com/kubernetes/ingress-nginx/pull/2664,ElvinEfendi,refactor some lua code,"**What this PR does / why we need it**:
Refactors some Lua code.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-06-19 08:48:18,2018-06-19 12:09:32,2018-06-19 12:29:42,True,2018-06-19 12:09:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2666,https://github.com/kubernetes/ingress-nginx/pull/2666,jstoja,Add documentation for proxy-cookie-domain annotation (#2034),"Documentation for proxy-cookie-domain annotation was missing.
This fixes #2034 and solves the answers of @aledbf .",['aledbf'],1,2018-06-19 20:28:28,2018-06-19 20:56:37,2018-06-19 20:56:37,True,2018-06-19 20:56:37,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2668,https://github.com/kubernetes/ingress-nginx/pull/2668,fmejia97,Bump version,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
It bumps the version to `0.16.0-rc.6` in order to create a new image with the up to date changes.
We need the updated image containing the `monitor.lua` module and the collector that exposes NGINX metrics on prometheus format.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],46,2018-06-20 14:38:58,2018-06-20 14:39:24,2018-06-20 14:39:24,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2669,https://github.com/kubernetes/ingress-nginx/pull/2669,aledbf,Remove unnecessary sync when the leader change,"**What this PR does / why we need it**:

There is no need (anymore) to force a sync when a new leader is elected",['ElvinEfendi'],1,2018-06-20 15:59:05,2018-06-20 16:46:06,2018-06-21 14:01:56,True,2018-06-20 16:46:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2670,https://github.com/kubernetes/ingress-nginx/pull/2670,SaaldjorMike,Add support for setting limit_conn_status from ConfigMap,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Add configmap option for setting `limit_conn_status`.
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-06-20 16:18:20,2018-08-23 12:54:41,2018-08-23 12:54:42,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2672,https://github.com/kubernetes/ingress-nginx/pull/2672,aledbf,After a configmap change parse ingress annotations (again),"**Which issue this PR fixes:**

fixes #2567
","['ElvinEfendi', 'antoineco']",1,2018-06-21 12:47:48,2018-06-21 13:18:08,2018-06-21 14:01:47,True,2018-06-21 13:18:08,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2673,https://github.com/kubernetes/ingress-nginx/pull/2673,aledbf,Add new approvers to the project,"**What this PR does / why we need it**:

Add @antoineco and @ElvinEfendi as approvers in the repository.

Thanks to both for all the code and the provided help to other users.
",[],1,2018-06-21 13:44:28,2018-06-21 13:44:35,2018-06-21 14:03:43,True,2018-06-21 13:44:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2674,https://github.com/kubernetes/ingress-nginx/pull/2674,aledbf,Add e2e test for configmap change and reload,,"['ElvinEfendi', 'antoineco']",1,2018-06-21 14:00:28,2018-06-21 15:30:14,2018-06-21 22:20:55,True,2018-06-21 15:30:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2675,https://github.com/kubernetes/ingress-nginx/pull/2675,aledbf,Update opentracing nginx module,,[],3,2018-06-21 14:56:39,2018-06-21 20:57:03,2018-06-21 22:48:34,True,2018-06-21 20:57:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2676,https://github.com/kubernetes/ingress-nginx/pull/2676,aledbf,Update opentracing configuration,"**Which issue this PR fixes**: fixes #2222
",[],1,2018-06-21 15:28:44,2018-06-21 22:15:19,2018-06-21 22:20:31,True,2018-06-21 22:15:18,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2678,https://github.com/kubernetes/ingress-nginx/pull/2678,hnrytrn,Refactor server type to include SSLCert,"**What this PR does / why we need it**:

This PR refactors the server type to include the `ingress.SSLCert` field. This gives us access to the certificate, which will be used to support serving SSL certificates dynamically in dynamic-configuration mode.",['aledbf'],2,2018-06-21 15:56:56,2018-06-22 19:34:05,2018-06-22 19:34:05,True,2018-06-22 19:34:05,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2679,https://github.com/kubernetes/ingress-nginx/pull/2679,aledbf,Release 0.16.0,"Test image: `quay.io/aledbf/nginx-ingress-controller:0.383`
","['ElvinEfendi', 'antoineco']",1,2018-06-21 22:33:42,2018-06-22 18:11:30,2018-06-22 18:48:58,True,2018-06-22 18:11:29,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2681,https://github.com/kubernetes/ingress-nginx/pull/2681,AdamDang,Typo fix in error message: encounted->encountered,"Line 136: encounted->encountered
",['aledbf'],1,2018-06-22 05:59:57,2018-06-22 19:35:07,2018-06-22 19:35:07,True,2018-06-22 19:35:07,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2682,https://github.com/kubernetes/ingress-nginx/pull/2682,aledbf,Use localhost to expose status server,ref: #2262,"['ElvinEfendi', 'antoineco']",1,2018-06-22 14:02:26,2018-08-05 00:16:57,2018-08-05 15:20:41,True,2018-08-05 00:16:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2683,https://github.com/kubernetes/ingress-nginx/pull/2683,fossabot,Add license scan report and status,"Your FOSSA integration was successful! Attached in this PR is a badge and license report to track scan status in your README.

Below are docs for integrating FOSSA license checks into your CI:

- [CircleCI](https://docs.fossa.io/docs/circleci)
- [TravisCI](https://docs.fossa.io/docs/travisci)
- [Jenkins](https://github.com/fossas/fossa-jenkins-plugin)
- [Other](https://github.com/fossas/fossa-cli)",[],1,2018-06-22 17:47:31,2018-07-04 13:29:46,2018-07-10 03:06:41,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2685,https://github.com/kubernetes/ingress-nginx/pull/2685,aledbf,Fix qemu docker build,,[],1,2018-06-22 18:42:56,2018-06-22 18:43:02,2018-06-22 18:53:23,True,2018-06-22 18:43:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2691,https://github.com/kubernetes/ingress-nginx/pull/2691,aledbf,Update manifest to run as user,"**Which issue this PR fixes**: fixes #2688
",[],1,2018-06-23 12:40:19,2018-06-23 12:41:58,2018-06-23 13:54:41,True,2018-06-23 12:41:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2692,https://github.com/kubernetes/ingress-nginx/pull/2692,aledbf,Fix initial read of configuration configmap,"**Which issue this PR fixes**: fixes #2689
",[],1,2018-06-23 12:51:39,2018-06-23 13:08:48,2018-06-23 13:54:19,True,2018-06-23 13:08:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2693,https://github.com/kubernetes/ingress-nginx/pull/2693,aledbf,Revert #2669 [ci skip],,[],1,2018-06-23 13:10:21,2018-06-23 13:10:28,2018-06-23 13:10:28,True,2018-06-23 13:10:28,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2694,https://github.com/kubernetes/ingress-nginx/pull/2694,aledbf,Add note about status update,"**What this PR does / why we need it**:

Add note about the role of the periodic EnqueueTask",[],1,2018-06-23 13:17:52,2018-06-23 13:17:58,2018-06-23 13:54:08,True,2018-06-23 13:17:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2695,https://github.com/kubernetes/ingress-nginx/pull/2695,aledbf,Release 0.16.1,,[],1,2018-06-23 13:22:40,2018-06-23 13:22:47,2018-06-23 13:53:53,True,2018-06-23 13:22:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2696,https://github.com/kubernetes/ingress-nginx/pull/2696,bfin,If server_tokens is disabled completely remove the Server header,"**What this PR does / why we need it**:

Actually removes the `Server` header when `server-tokens: false`, instead of just setting a null value.

This PR makes use of the `more_clear_headers` directive instead of the `more_set_headers` directive, both of which are included in the headers-more-nginx-module that the controller is already built with. The `more_set_headers` directive is currently used to set a null value for the `Server` header, but the `more_clear_headers` directive can completely remove it.

Module reference: [https://github.com/openresty/headers-more-nginx-module#more_clear_headers](https://github.com/openresty/headers-more-nginx-module#more_clear_headers)

**Which issue this PR fixes**

Supersedes PR #1903 to fix #1094 more thoroughly.",['aledbf'],2,2018-06-23 14:44:00,2018-06-23 16:08:05,2018-06-23 16:08:06,True,2018-06-23 16:08:05,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2697,https://github.com/kubernetes/ingress-nginx/pull/2697,diazjf,Enhance Distributed Tracing Documentation,Corrects a few items in the Zipkin Collector Example. Adds a Example of setting up the Jaeger Collector.,['aledbf'],1,2018-06-24 04:58:32,2018-06-24 14:14:04,2018-06-24 14:14:04,True,2018-06-24 14:14:03,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2698,https://github.com/kubernetes/ingress-nginx/pull/2698,antoineco,Improve best-cert guessing with empty tls.hosts,"**What this PR does / why we need it**:

Literal host name comparison is insufficient to match wildcard certificates.

**Which issue this PR fixes**:

fixes #2667
",['aledbf'],1,2018-06-24 21:43:20,2018-06-25 00:00:05,2018-06-25 11:25:48,True,2018-06-25 00:00:05,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2699,https://github.com/kubernetes/ingress-nginx/pull/2699,elafarge,Add the ability to exclude Prometheus metric tags,"**What this PR does / why we need it**:

The new Prometheus metrics implementatation is great... however, it may
create a lot of metric contexts in prometheus, because some of the
reported tags have a very high cardinality on common production systems.

In particular the `remote_address`, `real_ip_address`, `remote_user` and - in
many cases - `path` tags' cardinality grows along with the number of
IPs/users connecting to our clusters and the number of API resources
we have on our clusters (when specified via URI).

My prometheus servers crashed a couple of times this weekend and I realized
earlier in the evening that this was due to the volume of metrics I was receiving
from my nginx ingress controllers.

This commit therefore offers to exclude some prometheus tags via a CLI
flag, with default values for the tags mentionned above (of course that's something
I'd be happy to change if you don't want to ""break compatibility"" with the current 
metric tag format but I thought using ""saner"" defaults may be better).

**Which issue this PR fixes**:
I didn't open an issue for that but that can easily be done if required :)

**Special notes for your reviewer**:
I'm currently testing this PR on my `staging` kubernetes clusters.
",[],1,2018-06-25 02:55:23,2018-06-25 14:24:41,2018-06-25 14:45:39,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2701,https://github.com/kubernetes/ingress-nginx/pull/2701,aledbf,Remove prometheus labels with high cardinality,Replaces #2699,"['ElvinEfendi', 'antoineco']",1,2018-06-25 13:23:00,2018-06-25 14:16:06,2018-06-27 13:57:18,True,2018-06-25 14:16:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2702,https://github.com/kubernetes/ingress-nginx/pull/2702,aledbf,Remove prometheus label with high cardinality,replaces #2699 ,[],1,2018-06-25 13:32:34,2018-06-25 13:44:38,2018-06-25 16:51:20,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2703,https://github.com/kubernetes/ingress-nginx/pull/2703,aledbf,Release 0.16.2,Temporal Image: `quay.io/aledbf/nginx-ingress-controller:0.386`,[],1,2018-06-25 14:44:36,2018-06-25 15:24:08,2018-06-27 13:50:19,True,2018-06-25 15:24:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2705,https://github.com/kubernetes/ingress-nginx/pull/2705,aledbf,Remove duplicated securityContext,"**Which issue this PR fixes**: fixes #2704
",[],1,2018-06-25 16:45:29,2018-06-25 16:45:37,2018-06-25 16:51:07,True,2018-06-25 16:45:37,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2707,https://github.com/kubernetes/ingress-nginx/pull/2707,devdavidkarlsson,Added regex option to location path,"**What this PR does / why we need it**:
Adding regex functionality ( ""\~"", ""\~*"" ) to the path of ingress resources using an annotation 
",[],1,2018-06-26 10:56:50,2018-06-26 14:30:19,2018-06-26 14:30:20,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2716,https://github.com/kubernetes/ingress-nginx/pull/2716,aledbf,Cleanup prometheus metrics after a reload,"**What this PR does / why we need it**:

https://github.com/kubernetes/ingress-nginx/pull/2701#issuecomment-400671692

**Context:**
- we only have a list of endpoints to remove from the metrics
- we need all the label to delete a metric

**Process:**
- after a reload and before replacing the running model, create a list of endpoints not available anymore
- request to /metrics to get current metrics
- for each endpoint to remove, get the metric/s
- for each metric obtained in the previous step delete prometheus metric
",[],4,2018-06-27 15:28:23,2018-06-29 22:02:49,2018-07-12 17:25:58,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2717,https://github.com/kubernetes/ingress-nginx/pull/2717,dsalamancaMS,GCE/GKE proxy mentioned for Azure,"GCE/GKE are part of Google cloud not azure, so the note ""proxy protocol is not supported in GCE/GKE"" does not apply for azure

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'ElvinEfendi']",1,2018-06-27 19:33:30,2018-06-27 19:49:25,2018-06-27 19:56:46,True,2018-06-27 19:49:25,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2719,https://github.com/kubernetes/ingress-nginx/pull/2719,gugu,Sample rate configmap option for zipkin in nginx-opentracing,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Currently it is not possible to specify sample rate for zipkin in opentracing plugin, which would be really usable as ingress is a first entrypoint in whole microservice chain

This pull request adds an option zipkin-sample-rate in ConfigMap",['aledbf'],1,2018-06-28 15:21:03,2018-06-28 19:31:25,2018-06-28 19:31:25,True,2018-06-28 19:31:25,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2720,https://github.com/kubernetes/ingress-nginx/pull/2720,yokhahn,The helm chart name is incorrect,"Documentation correction.
In the examples the helm chart name is correct, but the name in the prose is wrong.

",[],1,2018-06-28 16:27:20,2018-08-23 12:45:35,2018-08-23 12:45:36,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2723,https://github.com/kubernetes/ingress-nginx/pull/2723,LoicMahieu,Docs: examples: fix link,"

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Fix link in doc

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

Thanks for your awesome work 
",['antoineco'],1,2018-06-29 13:43:39,2018-07-16 18:07:58,2018-07-16 18:07:58,True,2018-07-16 18:07:58,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2726,https://github.com/kubernetes/ingress-nginx/pull/2726,aledbf,Cleanup prometheus metrics after a reload,"**What this PR does / why we need it**:

#2701 (comment)

**Context:**
- we only have a list of endpoints to remove from the metrics
- we need all the labels to delete a metric

**Process:**
- after a reload and before replacing the running model, create a list of endpoints not available anymore
- use prometheus registry to gather the current set of metrics
- iterate the metrics
- for each metric obtained in the previous step delete prometheus metric

Replaces #2716 

**TODO:**
- [x] remove metrics when ingress rules are removed
- [x] check we have a request count metric
- [x] tests
- [x] check ssl expiration metrics are present only if we have SSL certificate configured
- [x] create interface and wrap collectors
- [x] remove prometheus.MustRegister from init() methods
- [x] use a custom prometheus registry
- [x] remove goroutine creation from collectors
- [ ] add flag to allow disable the prometheus metrics
- [x] add metric for configuration checksum 
      nginx_ingress_controller_config_hash{class="""",namespace="""",pod=""""}","['ElvinEfendi', 'antoineco']",1,2018-06-29 21:58:28,2018-07-12 17:13:26,2018-07-13 07:51:11,True,2018-07-12 17:13:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2727,https://github.com/kubernetes/ingress-nginx/pull/2727,diazjf,Add e2e tests for Client-Body-Buffer-Size,Adds test cases for the client-body-buffer-size annotation.,['aledbf'],1,2018-07-01 22:30:32,2018-07-01 23:13:21,2018-07-01 23:13:21,True,2018-07-01 23:13:21,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2728,https://github.com/kubernetes/ingress-nginx/pull/2728,elafarge,Reset Prometheus request tags on conf reload,"**What this PR does**:
On every backend configuration reload, Prometheus collectors for
request metrics (bearing the `upstream_ip` tag) are being recreated to
avoid keeping on exposing metrics for dead upstreams on the `/metrics`
endpoint.

Also, we changed the structure of the collector.go file into a
singleton (to make it possible for the ingress controller to ask for a
Prometheus collector reset on these metrics on config. reloads).

**Why we need it**:

When an upstream pod dies (because of a scale down operation, a rolling
upgrade...), metrics associated with this given pod via the `upstream_ip`
tag remain exposed on the `/metrics` endpoints. This cause three
undesireable effects:
- Analyzing these metrics on Prometheus/Grafana can be impossible:
  queries easily tend to time out or frontends tend too freeze
  because too many timeseries are returned
- Payloads periodically fetched by Prometheus can get very big over
  time on production clusters, which also make them more expensive to
  ingest and store
- Since these metrics stay in memory, it means we're having a (slow)
  memory leak.

**Which issue this PR fixes**:
I didn't open an issue for that and filed a PR directly, but that can be done if required.

**Special notes for your reviewer**:
If the ""singleton"" design pattern bothers you (because you were intending to instantiate multiple collectors in the future for some reason), or anything else. I'll be happy to promptly refactor the PR.

**What could we break**:
On infrastructure where the config would be reloaded at a high pace (higher than the Prometheus `scrape_interval`, we introduce discontinuities in our timeseries. It's something that Prometheus `rate()` (and similar) function handle very well. However, if backend reconfiguration frequency is higher that the Prometheus `scrape_interval`, it's possible that we get incoherent.
If so, we may just rate-limit the metric flushing operation to 1 every ""user-configurable amount of time"" (ex. 5 minutes). As long as this time is superior to a couple of Prometheus `scrape_interval`s, we should be totally fine :) 

**PR Status**:
The PR compiles, and his being tested on our staging infrastructure. So far so good :) 
I'll try it on our production clusters today and compare the size of the payloads of the `/metrics` endpoint before and after the upgrade and also check that discontinuities during intense scale-in operations",[],1,2018-07-02 07:00:41,2018-07-02 13:29:22,2018-07-02 13:29:22,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2729,https://github.com/kubernetes/ingress-nginx/pull/2729,bobbytables,Abort dev script on failure,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

If an error occurs during `make dev-env`, the rest of the script will continue.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

Happy Monday",['ElvinEfendi'],3,2018-07-02 13:28:46,2018-07-07 04:57:14,2018-07-07 04:57:14,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2732,https://github.com/kubernetes/ingress-nginx/pull/2732,antoineco,Improve logging,"**What this PR does / why we need it**:

Improves the overall clarity of existing log messages.

Includes some minor refactoring of the store's `Get...()` methods to use the same `func (key string) ...` signature consistently.

**Which issue this PR fixes**:

fixes #2712 
follow-up on #2639","['aledbf', 'ElvinEfendi']",1,2018-07-02 21:03:36,2018-07-02 21:55:21,2018-07-20 18:43:09,True,2018-07-02 21:55:21,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2741,https://github.com/kubernetes/ingress-nginx/pull/2741,tsupertramp,Add redirect uri for oauth2 login,"**What this PR does / why we need it**:
This improves documentation by oauth2 redirect uri handling. This allows
signing in and keeping the path. It cost me a lot of time to research this until
i found it somewhere hidden in bitly repository (bitly/oauth2_proxy#558). This will reduce research
for other users.

**Which issue this PR fixes**
There is no open issue.

**Special notes for your reviewer**:
Thanks for reviewing  

Greetings, Thomas
",['aledbf'],1,2018-07-04 11:36:49,2018-07-05 14:04:20,2018-07-18 12:36:32,True,2018-07-05 14:04:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2742,https://github.com/kubernetes/ingress-nginx/pull/2742,fmejia97,Add configuration unit tests,"**What this PR does / why we need it**:
This PR adds unit tests for the `configuration` lua module. We need this because we currently do not have unit tests on this module.",[],52,2018-07-04 18:35:45,2018-07-04 18:35:59,2018-07-04 18:59:11,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2743,https://github.com/kubernetes/ingress-nginx/pull/2743,aamederen,Clarify Installation Document by Separating Helm Steps,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

I found it confusing to see the helm after the list of generic steps (should I run `helm install ...` after I followed the steps above or is it a different way?). Also, the verification and version detection steps don't work with helm chart due to different app label (`ingress-nginx` vs `nginx-ingress`) and namespace. 

This change does two things:
1. Separate helm installation from generic installation and provide version detection commands that work for helm
2. Rename `Custom Service Provider Deployment` to `Provider Specific Steps` and fix the broken link while doing so.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

Couldn't find any specific github issues related to this.

**Special notes for your reviewer**:",['aledbf'],1,2018-07-05 10:13:28,2018-07-05 13:51:21,2018-07-06 05:16:09,True,2018-07-05 13:51:21,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2744,https://github.com/kubernetes/ingress-nginx/pull/2744,mikebryant,fix: Use the correct opentracing plugin for Jaeger,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: Uses the correct opentracing plugin for Jaeger - without this there is a regression and that feature doesn't work in 0.16.2

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: part of #2738

**Special notes for your reviewer**:
",['aledbf'],2,2018-07-05 13:03:53,2018-07-05 23:21:17,2018-07-06 12:01:29,True,2018-07-05 23:21:17,k8s-ci-robot,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2747,https://github.com/kubernetes/ingress-nginx/pull/2747,aledbf,Update opentracing-cpp and modsecurity,,[],1,2018-07-06 00:12:33,2018-07-06 00:12:58,2018-07-07 15:17:22,True,2018-07-06 00:12:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2748,https://github.com/kubernetes/ingress-nginx/pull/2748,aledbf,Update nginx image to 0.54,Test image: `quay.io/aledbf/nginx-ingress-controller:0.388`,[],1,2018-07-06 02:03:04,2018-07-06 13:49:43,2018-07-07 15:17:34,True,2018-07-06 13:49:43,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2749,https://github.com/kubernetes/ingress-nginx/pull/2749,aledbf,Use docker to build go binaries,"**What this PR does / why we need it**:

- ~~Use docker to build go binaries and run `setcap` to reduce the image size in 25MB~~ 
  (setcap adds metadata to the fs)
- This also removes all the dependencies required to run any makefile task from the local machine","['ElvinEfendi', 'antoineco']",1,2018-07-06 03:29:53,2018-07-07 12:27:20,2018-07-07 15:17:13,True,2018-07-07 12:27:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2751,https://github.com/kubernetes/ingress-nginx/pull/2751,dongqi1990,"the type of $backends is slice, so the first item of range is index n","modify nginx.tmpl: 
change the $name to $index in {{ range $index, $upstream := $backends }}
",[],1,2018-07-06 09:51:35,2018-07-06 10:05:49,2018-07-06 10:05:49,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2752,https://github.com/kubernetes/ingress-nginx/pull/2752,dongqi1990,"use format ""range v := iterative object"" and ""range k, v := iterative object"" when the type of iterative object is slice and map in the file nginx.tmpl","unified the format of the nginx.tmpluse format ""range v := iterative object"" and ""range k, v := iterative
object"" when the type of iterative object is slice and map","['aledbf', 'ElvinEfendi', 'antoineco']",1,2018-07-06 10:17:35,2018-07-18 11:34:21,2018-07-18 11:34:21,True,2018-07-18 11:34:21,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2753,https://github.com/kubernetes/ingress-nginx/pull/2753,mkutsevol,#2529 Adds a cli flag to skip checks at startup.,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
There are use cases when ingress is deployed with host networking and 80/443 ports are already bound on some ips, but not on the ip dedicated to ingress.
This allows for a cheap 'offload to user' workaround for that case.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2529

**Special notes for your reviewer**:
",[],7,2018-07-07 10:18:05,2018-08-23 12:46:05,2018-08-23 12:46:05,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2754,https://github.com/kubernetes/ingress-nginx/pull/2754,jstangroome,Allow gzip compression level to be controlled via ConfigMap,"**What this PR does / why we need it**:
This PR allows the gzip compression level to be managed via the ConfigMap, just the same as the Brotli compression level is managed.

The historical default gzip compression level (5) is retained if the new `gzip-level` member of the ConfigMap is unspecified.
",['aledbf'],1,2018-07-09 00:37:05,2018-07-09 01:23:18,2018-07-09 01:23:19,True,2018-07-09 01:23:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2755,https://github.com/kubernetes/ingress-nginx/pull/2755,glennslaven,Allow the geoip2 module to be enabled by the configmap,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: 
Allows the geoip2 module to be enabled via the configmap.  

**Special notes for your reviewer**:
The geoip2 module was included in the 0.16 build via this PR https://github.com/kubernetes/ingress-nginx/pull/2559

",['aledbf'],2,2018-07-09 01:22:34,2018-08-23 12:48:02,2018-08-23 12:48:02,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2760,https://github.com/kubernetes/ingress-nginx/pull/2760,aledbf,Fix ingress rule parsing error,"**Which issue this PR fixes**: fixes #2731
","['ElvinEfendi', 'antoineco']",1,2018-07-09 21:42:57,2018-07-10 13:29:26,2018-07-10 19:42:56,True,2018-07-10 13:29:25,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2761,https://github.com/kubernetes/ingress-nginx/pull/2761,aledbf,Fix spelling mistake,,"['ElvinEfendi', 'antoineco']",1,2018-07-09 21:48:02,2018-07-10 07:14:05,2018-07-10 15:33:13,True,2018-07-10 07:14:05,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2762,https://github.com/kubernetes/ingress-nginx/pull/2762,dpen2000,Update index.md,"Correct chart name

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['antoineco'],1,2018-07-10 00:58:16,2018-07-18 23:50:46,2018-07-18 23:51:58,True,2018-07-18 23:50:46,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2764,https://github.com/kubernetes/ingress-nginx/pull/2764,tobiaswiese,Use language neutral links to MDN,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: The documentation used links to the Spanish version of some MDN sites. This changes it, to use links that automatically redirect to the language the users browser sends.",['aledbf'],1,2018-07-10 02:26:03,2018-07-10 02:50:05,2018-07-11 22:46:21,True,2018-07-10 02:50:05,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2765,https://github.com/kubernetes/ingress-nginx/pull/2765,aledbf,Add FOSSA status badge,,"['ElvinEfendi', 'antoineco']",1,2018-07-10 03:10:02,2018-07-10 07:12:06,2018-07-10 15:33:01,True,2018-07-10 07:12:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2767,https://github.com/kubernetes/ingress-nginx/pull/2767,aledbf,Fix regression introduced in #2732,,['antoineco'],1,2018-07-10 14:30:13,2018-07-10 15:51:26,2018-07-10 19:43:06,True,2018-07-10 15:51:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2769,https://github.com/kubernetes/ingress-nginx/pull/2769,jaredallard,feat: add_headers includes always,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This introduces headers _always_ persisting even w/ non-200 status codes. Making it toggleable would possibly be breaking, so opting for this. Feedback is welcomed / suggestions.

RE: https://stackoverflow.com/questions/14501047/how-to-add-a-response-header-on-nginx-when-using-proxy-pass

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes unreported issue

**Special notes for your reviewer**:

Thanks for reviewing :sparkler: 
",['aledbf'],1,2018-07-10 18:16:31,2018-07-16 06:04:44,2018-07-16 07:01:41,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2770,https://github.com/kubernetes/ingress-nginx/pull/2770,chrisingenhaag,Basic-Auth doc misleading: fix double quotes leading to nginx config error,"Annotation value is being inserted in nginx config with something like ""$var"". If one inserts an annotation value like `""my basic auth message""` (with double quotes) the resulting nginx config will be `""""my basic auth""""`. But this config is wrong and basic-auth wont work.

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Special notes for your reviewer**: Documentation is misleading and suggests to use quotes for realm message with basic-auth annotations.
",['antoineco'],2,2018-07-11 08:01:03,2018-07-16 18:22:19,2018-07-17 11:35:01,True,2018-07-16 18:22:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2771,https://github.com/kubernetes/ingress-nginx/pull/2771,Stono,Grafana Dashboard,"This PR containers a Grafana dashboard for the metrics in https://github.com/kubernetes/ingress-nginx/pull/2726

It contains:

  - Ability to filter by Namespace, Controller Class and Controller
  - Visbility of Request Volume, connections, success rates, config reloads and configs out of sync.
  - Network IO pressure, memory and CPU use
  - Ingress P50, P95 and P99 percentile response times with IN/OUT throughput
  - SSL certificate expiry 
  - Annotational overlays to show when config reloads happened

It looks like this:
<img width=""1440"" alt=""screen shot 2018-07-11 at 14 24 07"" src=""https://user-images.githubusercontent.com/1486729/42575023-a06d77bc-8517-11e8-926d-081b41f6c9fa.png"">",['aledbf'],3,2018-07-11 13:35:31,2018-07-14 22:11:56,2018-07-24 15:59:17,True,2018-07-14 22:11:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2775,https://github.com/kubernetes/ingress-nginx/pull/2775,aledbf,Simplify handler registration and updates prometheus,"**What this PR does / why we need it**:

Updates prometheus go client and k8s dependencies.
",['antoineco'],2,2018-07-12 17:21:10,2018-07-12 17:46:26,2018-07-12 18:33:49,True,2018-07-12 17:46:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2776,https://github.com/kubernetes/ingress-nginx/pull/2776,aledbf,Fix configuration hash calculation,Test image: `quay.io/aledbf/nginx-ingress-controller:0.397`,['antoineco'],1,2018-07-13 13:47:10,2018-07-13 17:57:27,2018-07-13 20:53:43,True,2018-07-13 17:57:27,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2777,https://github.com/kubernetes/ingress-nginx/pull/2777,aledbf,Build docs using local docker image [ci skip],"**What this PR does / why we need it**:

Removes use of external image and allows keeping the up to date the dependencies without publishing
",['antoineco'],1,2018-07-13 15:49:15,2018-07-13 17:58:27,2018-07-13 20:53:31,True,2018-07-13 17:58:27,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2778,https://github.com/kubernetes/ingress-nginx/pull/2778,aledbf,Update docs and mkdoc dependencies [ci skip],,[],1,2018-07-13 23:23:06,2018-07-13 23:23:14,2018-07-15 21:17:09,True,2018-07-13 23:23:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2779,https://github.com/kubernetes/ingress-nginx/pull/2779,aledbf,Update grafana dashboard lebels,,[],1,2018-07-14 22:20:29,2018-07-14 22:20:36,2018-07-14 22:20:36,True,2018-07-14 22:20:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2780,https://github.com/kubernetes/ingress-nginx/pull/2780,aledbf,Release 0.17.0,Test image: `quay.io/aledbf/nginx-ingress-controller:0.399`,"['ElvinEfendi', 'antoineco']",1,2018-07-14 22:30:55,2018-07-15 09:12:56,2018-07-15 21:16:32,True,2018-07-15 09:12:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2782,https://github.com/kubernetes/ingress-nginx/pull/2782,diazjf,Add Better Error Handling for SSLSessionTicketKey,"Adds more error handling when writing an SSLSessionTicketKey to
the config map. Also adds tests and makes the function for modular.

Fixes #2756","['aledbf', 'antoineco']",1,2018-07-15 22:25:02,2018-07-16 01:30:56,2018-07-16 01:30:56,True,2018-07-16 01:30:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2789,https://github.com/kubernetes/ingress-nginx/pull/2789,diazjf,Remove KubeConfig Dependency for Store Tests,"Removes the KubeConfig Dependency for the Store Test by using the FakeClient Instead. Unit Tests should not rely on a real KubeConfig.

See #2788",['antoineco'],1,2018-07-16 16:30:59,2018-07-17 17:05:40,2018-07-17 17:12:28,True,2018-07-17 17:05:39,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2790,https://github.com/kubernetes/ingress-nginx/pull/2790,aledbf,Update prometheus labels,"**Which issue this PR fixes** : fixes #2787
",['antoineco'],1,2018-07-16 19:55:42,2018-07-16 20:20:52,2018-07-16 20:41:09,True,2018-07-16 20:20:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2792,https://github.com/kubernetes/ingress-nginx/pull/2792,aledbf,Release 0.17.1,Test image: `quay.io/aledbf/nginx-ingress-controller:0.400`,['antoineco'],1,2018-07-16 21:06:55,2018-07-17 04:45:38,2018-07-17 14:47:07,True,2018-07-17 04:45:38,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2794,https://github.com/kubernetes/ingress-nginx/pull/2794,ElvinEfendi,enable dynamic backend configuration by default,"**What this PR does / why we need it**:
We have introduced dynamic backend configuration feature at https://github.com/kubernetes/ingress-nginx/pull/2174 on 18th March and since then improved the initial implementation and fixed bugs. Several people/companies have already been successfully running ingress-nginx with this feature enabled. In this mode ingress-nginx also provides a more advanced load balancing algorithm that can be enabled using `load-balance` (set to `ewma`) configmap setting or annotation. However `least_conn` and `ip_hash` are not available in this mode. Also note https://github.com/kubernetes/ingress-nginx/issues/2662.

For an idea of how many reloads this feature can skip check out the following graph (EDT time):
<img width=""1325"" alt=""screen shot 2018-07-16 at 9 43 42 pm"" src=""https://user-images.githubusercontent.com/1150042/42792049-87907194-8941-11e8-81a3-26f93aa53ef8.png"">
As you can see during work hours on average 25 reloads every 5m. Note that this ingress-nginx instance has more than 500 upstreams and the app behind gets deployed dozens of times during working hours.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",3,2018-07-17 01:51:58,2018-07-27 07:46:57,2018-07-27 12:42:04,True,2018-07-27 07:46:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2795,https://github.com/kubernetes/ingress-nginx/pull/2795,ElvinEfendi,start minikube before trying to build the image,"**What this PR does / why we need it**:
We need to start Minikube first before trying to build the image otherwise it fails saying docker daemon is not running.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",1,2018-07-17 02:27:16,2018-07-17 04:44:38,2018-07-20 01:03:11,True,2018-07-17 04:44:38,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2798,https://github.com/kubernetes/ingress-nginx/pull/2798,andrewlouis93,[WIP] Static backends,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],52,2018-07-17 15:08:54,2018-07-17 15:08:59,2018-07-17 15:09:04,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2804,https://github.com/kubernetes/ingress-nginx/pull/2804,ElvinEfendi,add support for ExternalName service type in dynamic mode,"**What this PR does / why we need it**:
Adds support for service of type ExternalName in dynamic mode. It's worth to mention that in dynamic mode when DNS setting changes for the externalname one won't have to reload Nginx, as soon as the TTL expires, Lua code will resolve the domain again.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2797

**Special notes for your reviewer**:","['aledbf', 'antoineco']",2,2018-07-18 02:28:02,2018-07-25 14:25:58,2018-07-25 15:51:04,True,2018-07-25 14:25:58,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2806,https://github.com/kubernetes/ingress-nginx/pull/2806,yogin16,add help for tls prerequisite for ingress.yaml,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: conveys the prerequisite that to use grpc backend we need to have tls setup

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",1,2018-07-18 07:26:57,2018-08-23 12:51:38,2018-08-23 13:25:03,True,2018-08-23 12:51:38,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2808,https://github.com/kubernetes/ingress-nginx/pull/2808,dongqi1990,"fix the bug #2799, add prefix (?i) in rewrite statement.","the location in nginx.conf is case insensitive, but when we use the annotation `nginx.ingress.kubernetes.io/rewrite-target` in ingress rule. the rewrite statement is case sensitive. so we can fix this bug in adding `(?i)` in rewrite statement.

fixes #2799 

",['antoineco'],1,2018-07-18 14:16:59,2018-08-03 03:58:07,2018-08-03 03:58:07,True,2018-08-03 03:58:07,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2809,https://github.com/kubernetes/ingress-nginx/pull/2809,fmejia97,Trigger CI,Temporary PR. Looking at upstream CI logs to debug custom travis CI build. For some reason CI for our fork of ingress nginx is failing. (even using same commit history as upstream).,[],1,2018-07-18 19:15:18,2018-07-19 11:13:54,2018-07-19 11:13:54,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2811,https://github.com/kubernetes/ingress-nginx/pull/2811,takonomura,Escape $request_uri for external auth,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Escape `$request_uri` to correct external auth redirect

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

**How to reproduce issue**:

1. Deploy https://github.com/kubernetes/ingress-nginx/tree/master/docs/examples/auth/oauth-external-auth
2. Access to `https://foo.bar.com/?a=b&c=d` (without signed in)
3. Sign in
4. Redirected to `https://foo.bar.com/?a=b` (`c=d` is out)",['antoineco'],2,2018-07-19 07:37:06,2018-07-21 09:23:38,2018-07-21 09:25:14,True,2018-07-21 09:23:38,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2812,https://github.com/kubernetes/ingress-nginx/pull/2812,dongqi1990,"modified annotation name ""rewrite-to"" to ""rewrite-target"" in comments","<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['antoineco'],1,2018-07-19 08:24:00,2018-07-19 09:38:42,2018-07-19 09:38:42,True,2018-07-19 09:38:42,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2814,https://github.com/kubernetes/ingress-nginx/pull/2814,sbrandtb,Docs: Fix stray closing bracket,Obvious stray `]`.,['antoineco'],1,2018-07-19 12:36:46,2018-08-06 02:26:21,2018-08-06 02:26:21,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2816,https://github.com/kubernetes/ingress-nginx/pull/2816,vgramer,doc log-format: add variables about ingress,"
**What this PR does / why we need it**:
Add the missing ingress information variables to the log-format doc.
",['antoineco'],1,2018-07-19 15:30:08,2018-07-19 19:35:18,2018-07-19 19:35:18,True,2018-07-19 19:35:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2818,https://github.com/kubernetes/ingress-nginx/pull/2818,aledbf,Remove use of docker from minikube,"**What this PR does / why we need it**:

This is not required anymore since we started using docker to run makefile tasks","['ElvinEfendi', 'antoineco']",1,2018-07-20 00:23:04,2018-07-28 19:39:27,2018-08-05 16:02:51,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2819,https://github.com/kubernetes/ingress-nginx/pull/2819,aledbf,Catch errors waiting for controller deployment,"**What this PR does / why we need it**:

Catch errors running e2e tests (deploy of the ingress controller)","['ElvinEfendi', 'antoineco']",1,2018-07-20 01:07:57,2018-07-20 01:54:53,2018-07-20 15:56:43,True,2018-07-20 01:54:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2821,https://github.com/kubernetes/ingress-nginx/pull/2821,foxdalas,Add more buckets to request_duration_seconds metric,"**What this PR does / why we need it**:
Add more buckets to request_duration_seconds metric
",[],1,2018-07-20 10:17:02,2018-08-23 12:54:01,2018-08-23 12:54:01,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2822,https://github.com/kubernetes/ingress-nginx/pull/2822,dongqi1990,"fixes#2793 add options ""escape=json"" for log_format of stream module in nginx.tmpl","fixes #2793 
",[],1,2018-07-20 14:30:22,2018-08-23 12:49:05,2018-08-23 12:49:05,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2823,https://github.com/kubernetes/ingress-nginx/pull/2823,antoineco,Multiple optimizations to build targets,"**What this PR does / why we need it**:

* Clean up e2e test on interruption
      Currently, interrupting Ginkgo does not clean up the namespaces created as part of the e2e tests.
* Leverage GOCACHE for faster builds
      Speeds up Docker-based builds significantly.
* Forward container STDIN in make targets
      Actually do something when the user presses Ctrl+C.

/assign @aledbf @ElvinEfendi ","['aledbf', 'ElvinEfendi']",1,2018-07-20 18:15:32,2018-07-20 18:43:28,2018-07-20 18:44:37,True,2018-07-20 18:43:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2825,https://github.com/kubernetes/ingress-nginx/pull/2825,aledbf,Refactoring of how we run as user,"Test image: `quay.io/aledbf/nginx-ingress-controller:0.401`

fixes #2781","['ElvinEfendi', 'antoineco']",1,2018-07-21 03:08:04,2018-07-22 14:11:18,2018-07-22 22:59:37,True,2018-07-22 14:11:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2826,https://github.com/kubernetes/ingress-nginx/pull/2826,aledbf,Remove setcap from image and update nginx to 0.15.1,fixes #2801,"['ElvinEfendi', 'antoineco']",1,2018-07-21 03:09:52,2018-07-21 22:12:30,2018-07-22 01:12:47,True,2018-07-21 22:12:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2827,https://github.com/kubernetes/ingress-nginx/pull/2827,aledbf,Use nginx image as base and install go on top,"**What this PR does / why we need it**:

Use the nginx image as base image installing go on top with the missing LUA libraries for testing.
This can simplify and improve LUA testing.


ping @ElvinEfendi","['ElvinEfendi', 'antoineco']",1,2018-07-21 03:51:02,2018-07-21 21:41:11,2018-07-22 01:12:28,True,2018-07-21 21:41:11,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2828,https://github.com/kubernetes/ingress-nginx/pull/2828,ahmadalli,fix tcp/udp exposing documentation,"**What this PR does / why we need it**: The old documentation is not working

**Special notes for your reviewer**: the configuration is changed based on [tcp services configmap](https://github.com/kubernetes/ingress-nginx/blob/master/deploy/tcp-services-configmap.yaml) and [udp services configmap](https://github.com/kubernetes/ingress-nginx/blob/master/deploy/udp-services-configmap.yaml)
",[],1,2018-07-21 14:58:06,2018-08-06 02:28:49,2018-08-06 02:28:49,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2829,https://github.com/kubernetes/ingress-nginx/pull/2829,ElvinEfendi,use resty-cli for running lua unit tests,"**What this PR does / why we need it**:
This way we will run Lua tests inside a headless Nginx process. That means we won't have to mock most of the dependencies and the test environment will be very close to production environment.
resty-cli runs the Lua code in timer phase so only the APIs that aren't available in timer phase won't be available.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",1,2018-07-21 23:06:19,2018-07-21 23:32:34,2018-07-22 01:11:54,True,2018-07-21 23:32:34,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2830,https://github.com/kubernetes/ingress-nginx/pull/2830,ElvinEfendi,Remove lua mocks,"**What this PR does / why we need it**:
Now the we run tests inside Nginx, we can remove all the now-redundant Lua test mocks and cleanup tests.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",3,2018-07-22 02:37:23,2018-07-22 10:55:18,2018-07-22 10:55:19,True,2018-07-22 10:55:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2834,https://github.com/kubernetes/ingress-nginx/pull/2834,Stono,Added permanent-redirect-code,"Hey, 
This PR addresses https://github.com/kubernetes/ingress-nginx/issues/2715 (I hope).  
It makes the permanent redirect code 308 by default (as this is more aligned to a permanent redirect) but also gives the ability to override it.

<< Golang noob... so check with caution

Please could you do me a build so I can test it out?","['aledbf', 'antoineco']",2,2018-07-23 13:48:09,2018-07-29 21:33:57,2018-07-29 21:33:57,True,2018-07-29 21:33:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2839,https://github.com/kubernetes/ingress-nginx/pull/2839,taylorchu,remove host and path from requestTags ,fixes #2838,[],3,2018-07-23 23:47:34,2018-07-24 00:41:31,2018-07-24 00:41:31,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2844,https://github.com/kubernetes/ingress-nginx/pull/2844,aledbf,Do not allow invalid latency values in metrics,,"['ElvinEfendi', 'antoineco']",1,2018-07-24 14:54:12,2018-07-24 15:28:56,2018-08-23 12:20:03,True,2018-07-24 15:28:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2851,https://github.com/kubernetes/ingress-nginx/pull/2851,Miouge1,Add XFF header for external-auth requests,"**What this PR does / why we need it**:

The source IP of the request can be useful for the external-auth to make a decision.

**Special notes for your reviewer**:


fixes #2938",['aledbf'],1,2018-07-26 07:27:19,2018-08-23 16:29:31,2018-08-23 16:29:31,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2852,https://github.com/kubernetes/ingress-nginx/pull/2852,ElvinEfendi,fix custom-error-pages functionality in dynamic mode,"**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2513

**Special notes for your reviewer**:
",['aledbf'],2,2018-07-26 17:37:04,2018-07-26 19:04:58,2018-07-26 19:13:27,True,2018-07-26 19:04:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2853,https://github.com/kubernetes/ingress-nginx/pull/2853,ElvinEfendi,improve annotations/default_backend e2e test,"**What this PR does / why we need it**:
Instead of asserting on Nginx config we now test by sending an actual request and asserting on expected response. This also makes sure the right headers are set for custom default backend.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
This PR is going to fix CI for https://github.com/kubernetes/ingress-nginx/pull/2794.","['aledbf', 'antoineco']",1,2018-07-27 03:06:50,2018-07-27 06:59:57,2018-07-27 12:41:36,True,2018-07-27 06:59:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2854,https://github.com/kubernetes/ingress-nginx/pull/2854,ElvinEfendi,[WIP] use connection pooling,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-07-27 03:50:15,2018-10-02 02:55:54,2018-10-02 02:55:56,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2857,https://github.com/kubernetes/ingress-nginx/pull/2857,ElvinEfendi,remove unnecessary encoding/decoding also fix ipv6 issue,"**What this PR does / why we need it**:
Currently we concat address and port using `:` and the `balance` interface takes care of splitting. But when the IP address is i.e `::1` then this breaks the whole thing. After encoding it becomes something like `::1:8080` where `8080` is a port. And when you decode it you get `ip = nil`, `port = "":1:8080""`. The PR changes this unnecessary encoding/decoding first. But even that is not enough for supporting IPv6 endpoints because with that change we would be doing something like `balancer.set_current_upstream(""::1:8080"")`, and this is incorrect because when given with port, IPv6 addresses must be wrapped in square brackets. This is why the PR also introduces a preprocessing step in `sync_backend` where the helper function rewrites every IPv6 address into `[IPv6]`.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes https://github.com/kubernetes/ingress-nginx/issues/2930

**Special notes for your reviewer**:
",['aledbf'],3,2018-07-27 13:26:29,2018-08-16 22:43:11,2018-08-16 22:53:59,True,2018-08-16 22:43:11,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2858,https://github.com/kubernetes/ingress-nginx/pull/2858,aledbf,Update build image,,['ElvinEfendi'],1,2018-07-27 15:53:11,2018-07-27 16:37:58,2018-07-27 16:46:34,True,2018-07-27 16:37:58,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2859,https://github.com/kubernetes/ingress-nginx/pull/2859,aledbf,Fix inconsistent metric labels,"**Which issue this PR fixes**: fixes #2800
","['ElvinEfendi', 'antoineco']",1,2018-07-27 16:42:27,2018-07-27 19:59:57,2018-07-27 20:22:58,True,2018-07-27 19:59:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2860,https://github.com/kubernetes/ingress-nginx/pull/2860,onpaws,Tiny fix for stale URL in nginx.go comment,"I was reviewing the `nginx.go` source today and discovered that a link in the comments:
`https://github.com/kubernetes/ingress-nginx/blob/master/controllers/nginx/pkg/cmd/controller/nginx.go`
is currently 404-ing. 
![image](https://user-images.githubusercontent.com/182515/43341724-a3078316-91e0-11e8-862e-f8a526102bed.png)
Ostensibly it used to work but the source has moved around since then. Negligible as it is I updated to what I believe is the correct URL in hopes it smooths out future readers' experience a bit :)",[],1,2018-07-27 19:06:21,2018-08-06 02:30:11,2018-08-08 14:25:52,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2863,https://github.com/kubernetes/ingress-nginx/pull/2863,aledbf,Replace minikube for e2e tests,"**What this PR does / why we need it**:

Replaces minikube with https://github.com/kubernetes-sigs/kubeadm-dind-cluster to build and run e2e tests.
Also, we update the slow threshold from 5 seconds to 40. This value is more real and can help to detect slow tests.","['ElvinEfendi', 'antoineco']",1,2018-07-28 00:40:55,2018-07-28 15:38:58,2018-07-28 15:40:19,True,2018-07-28 15:38:58,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2865,https://github.com/kubernetes/ingress-nginx/pull/2865,lvthillo,Update index.md,"docker-for-mac does officially support kubernetes from version 18.06.0-ce. It's not necessary anymore to use the edge channel.

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['antoineco'],6,2018-07-28 11:24:28,2018-07-28 13:25:32,2018-07-28 14:03:38,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2866,https://github.com/kubernetes/ingress-nginx/pull/2866,lvthillo,Update index.md,"docker for mac is now officially supported by Docker 18.06.0 (Since I was struggling with the squash on a PR a new one..)

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['antoineco'],1,2018-07-28 13:28:01,2018-07-28 14:05:57,2018-07-28 15:40:19,True,2018-07-28 14:05:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2867,https://github.com/kubernetes/ingress-nginx/pull/2867,ElvinEfendi,fix bug with lua e2e test suite,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
 - fix the regression introduced at https://github.com/kubernetes/ingress-nginx/pull/2804/files#diff-8700c46a8379c603b5e41ccbaff6b71eR59
 - extract sleep time into a constant and reduce the time

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",1,2018-07-28 18:03:08,2018-07-28 18:30:57,2018-07-28 18:31:20,True,2018-07-28 18:30:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2868,https://github.com/kubernetes/ingress-nginx/pull/2868,aledbf,Use an existing e2e image,,['ElvinEfendi'],1,2018-07-28 18:53:09,2018-07-28 19:17:57,2018-07-30 21:03:40,True,2018-07-28 19:17:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2869,https://github.com/kubernetes/ingress-nginx/pull/2869,ElvinEfendi,describe under what circumstances and how we avoid Nginx reload,"**What this PR does / why we need it**:
Now that we have dynamic backend configuration enabled by default let's add some information about it in docs.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",1,2018-07-28 20:10:18,2018-07-28 23:22:57,2018-07-28 23:33:49,True,2018-07-28 23:22:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2870,https://github.com/kubernetes/ingress-nginx/pull/2870,aledbf,Replaces #2753,,[],1,2018-07-29 19:32:29,2018-07-29 20:06:48,2018-08-05 16:02:24,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2871,https://github.com/kubernetes/ingress-nginx/pull/2871,aledbf,Add support for AJP protocol,,"['ElvinEfendi', 'antoineco']",1,2018-07-29 22:00:27,2018-08-07 14:46:03,2018-08-07 17:10:48,True,2018-08-07 14:46:03,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2872,https://github.com/kubernetes/ingress-nginx/pull/2872,aledbf,Update nginx to 1.15.2,,[],1,2018-07-29 22:01:22,2018-07-30 21:33:37,2018-07-30 21:53:07,True,2018-07-30 21:33:37,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2874,https://github.com/kubernetes/ingress-nginx/pull/2874,aledbf,Delay initial prometheus status metric,"**Which issue this PR fixes**:

```
W0730 11:32:25.892550      31 nginx_status.go:207] unexpected error obtaining nginx status info: unexpected error scraping nginx status page: unexpected error scraping nginx : Get http://0.0.0.0:18080/nginx_status: dial tcp 0.0.0.0:18080: connect: connection refused
W0730 11:32:25.893659      31 nginx_status.go:207] unexpected error obtaining nginx status info: unexpected error scraping nginx status page: unexpected error scraping nginx : Get http://0.0.0.0:18080/nginx_status: dial tcp 0.0.0.0:18080: connect: connection refused
```

This confuses users and they think there's an error when the issue here is just timing.","['ElvinEfendi', 'antoineco']",1,2018-07-30 14:00:56,2018-07-30 14:56:58,2018-07-30 18:01:33,True,2018-07-30 14:56:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2876,https://github.com/kubernetes/ingress-nginx/pull/2876,aledbf,Remove dashboard an tune sync-frequency,"**What this PR does / why we need it**:

Improving the sync-frequency helps to cleanup namespaces. This was a setting we already used in minikube",['ElvinEfendi'],1,2018-07-30 15:15:48,2018-07-30 17:23:59,2018-07-30 18:01:41,True,2018-07-30 17:23:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2877,https://github.com/kubernetes/ingress-nginx/pull/2877,aledbf,Refactor entrypoint to avoid issues with volumes,,['ElvinEfendi'],1,2018-07-30 20:11:23,2018-07-30 20:54:57,2018-07-30 20:59:14,True,2018-07-30 20:54:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2878,https://github.com/kubernetes/ingress-nginx/pull/2878,aledbf,Add e2e test for custom template using a volume,"**What this PR does / why we need it**:

Avoid regressions with `entrypoint.sh`",[],1,2018-07-30 21:00:29,2018-08-04 23:44:45,2019-01-04 01:22:30,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2879,https://github.com/kubernetes/ingress-nginx/pull/2879,aledbf,WIP: Decouple ingress controller from nginx,"Issues running as user:
- setcap doesn't work with AUFS
- authbind doesn't work with golang (LD_PRELOAD)
- running as a user could break access to /dev/stdout and /dev/stderr (su-exec)
- running as user breaks some file permissions

Proposed changes:
- do not try to check if a port is available trying to listen (from go). This removes privileges from go binary
- use authbind to launch nginx in privileged ports
 ",[],3,2018-07-30 22:15:40,2018-08-04 11:32:22,2019-01-04 01:22:39,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2881,https://github.com/kubernetes/ingress-nginx/pull/2881,javipolo,Use X-forwarded-for for whitelisting (enabled per ingress via annotation),"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Use x-forwarded-for header if available as $the_real_ip so we can whitelist when needed

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2257
**Special notes for your reviewer**:
",['antoineco'],1,2018-07-31 14:52:53,2018-08-16 23:32:14,2018-08-16 23:32:14,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2882,https://github.com/kubernetes/ingress-nginx/pull/2882,rajatjindal,[WIP]: use ing name in the key,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This PR will include ing name in the key used for upstream endpoints map. 

This will fix scenario where we can have multiple ingress resources referring to same service resource. In today's setup, the behavior is unpredictable depending on which ingress gets processed last without any warning to the user.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

This is work in progress, i am still testing it to see if this would work as I expected.",[],23,2018-08-02 06:18:34,2018-08-09 22:09:20,2018-08-09 22:09:20,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2884,https://github.com/kubernetes/ingress-nginx/pull/2884,Miouge1,[grafana] Rate over 2 minutes since default Prometheus interval is 1m,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Prometheus' default `scrape_interval` is `1m`, see [prometheus doc](https://prometheus.io/docs/prometheus/latest/configuration/configuration/), making `irate(mymetrics{}[1m])` not return any data with the default `scrape_interval`. 

In order to make this Grafana dashboard as easy to use as possible I think it should work out of the box with the Prometheus defaults, therefore I suggest to switch `1m` for `2m` but other values could also be useful.


**Special notes for your reviewer**:
Example: https://github.com/prometheus/prometheus/issues/3194",['aledbf'],1,2018-08-02 10:22:00,2018-08-23 12:50:26,2018-08-23 12:50:26,True,2018-08-23 12:50:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2885,https://github.com/kubernetes/ingress-nginx/pull/2885,mikebryant,fix: Sort TCP/UDP upstream order,"**What this PR does / why we need it**: Sorts the TCP/UDP upstream order, to reduce unnecessary config reloads

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2721",['aledbf'],1,2018-08-02 11:35:38,2018-08-10 11:09:15,2018-08-10 12:23:16,True,2018-08-10 11:09:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2888,https://github.com/kubernetes/ingress-nginx/pull/2888,vasrem,Fix grafana datasources,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

We need to assign the correct datasources in the grafana dashboard.

**Special notes for your reviewer**:

I have submitted two different commits. The first commit (2a3f03c) solves the problem of using default datasource which doesn't make sense in my opinion since in other parts of the file we use prometheus (like [here](https://github.com/kubernetes/ingress-nginx/blob/82bfcb0337942bebcb27c79b1a83c759a714a669/deploy/grafana/dashboards/nginx.yaml#L44-L56)). This leads to wrong data inputs and in addition to wrong visualization of the nginx metrics.

The second commit d1a38c2 fixes a bug which shows on the right corner of grafana the following message.

> Annotation Query Failed
> Datasource named Prometheus was not found

**FYI**: I'm using the following setup:
Grafana v5.2.1
Prometheus v2.3.1",['aledbf'],3,2018-08-02 15:41:38,2018-08-04 11:26:46,2018-08-29 10:29:46,True,2018-08-04 11:26:46,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2889,https://github.com/kubernetes/ingress-nginx/pull/2889,hnrytrn,Add Lua endpoint to support dynamic certificate serving functionality,"**What this PR does / why we need it**:

This PR adds a Lua endpoint to store and retrieve certificates for hosts in a shared dictionary. This is needed to support the functionality of serving SSL certificates dynamically instead of reloading NGINX.

There will be two other related PRs following this: one to post the certificates and skip the NGINX reloads on the controller side, and the other to serve the certificates stored in the shared dictionary",['ElvinEfendi'],1,2018-08-02 21:10:00,2018-08-13 17:49:44,2018-08-13 17:49:44,True,2018-08-13 17:49:44,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2890,https://github.com/kubernetes/ingress-nginx/pull/2890,antoineco,Usability improvements to build steps,"**What this PR does / why we need it**:

Suggestions of tiny improvements for things I run often. I though some may make sense for the rest of us as well:

* Make the compiler actually use the [Go cache](https://golang.org/cmd/go/#hdr-Build_and_test_caching) (Go [1.10+](https://golang.org/doc/go1.10)) by avoiding full rebuilds (remove `-a` flag). Speeds up builds quite a lot on modest hardware.
* Make build flags parameterizable: `GOBUILD_FLAGS` variable, defaults to `-v` to show the build progress. Also makes the wait more meaningful than a long blank on modest hardware.
* Print main build steps (""+ Building bin/amd64/..."", ""+ Copying to temp dir..."")
* ~~Move build of `ingress-nginx:build` image to a `build-image` make target, mainly to be able to log that step in the right order.~~
* Rename make `clean` target to `clean-container`, because it's really what it does.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*:

Does not introduce any feature or fix any bug.
",['aledbf'],1,2018-08-02 21:24:48,2018-08-03 22:44:37,2018-08-06 14:15:01,True,2018-08-03 22:44:37,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2892,https://github.com/kubernetes/ingress-nginx/pull/2892,slaupster,fix default sync-period doc,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Fix the doc.
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-08-03 13:23:42,2018-08-04 21:57:28,2018-08-04 21:57:36,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2893,https://github.com/kubernetes/ingress-nginx/pull/2893,aledbf,Update nginx image,,[],1,2018-08-03 13:54:53,2018-08-04 12:02:21,2018-08-04 12:02:21,True,2018-08-04 12:02:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2894,https://github.com/kubernetes/ingress-nginx/pull/2894,aledbf,Use authbind to bind privileged ports,"**What this PR does / why we need it**:

Removes the attempt to listen ports in the ingress controller to check if a port is available with a simple connection check and adds authbind as mechanism to listen on privileged ports","['ElvinEfendi', 'antoineco']",1,2018-08-03 13:57:01,2018-08-05 15:43:44,2018-08-05 15:55:48,True,2018-08-05 15:43:44,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2895,https://github.com/kubernetes/ingress-nginx/pull/2895,tomxor,support custom configuration to main context of nginx config,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Adding custom configuration to the main context of the nginx config file is currently only possible by providing a custom template. IMO doing so should be considered a last resort since it could make the upgrade process more painful. This PR introduces the `main-snippet` ConfigMap option which enables addition of custom settings to the main context of the nginx config file.

**Release note**:
```release-note
Adds `main-snippet` ConfigMap option which enables adding custom settings to the main section of the nginx config file.
```

**Special notes for your reviewer**:
Didn't see any tests for similar functions (e.g. `http-snippet`). I assume this can be verified in the e2e tests but I wasn't entirely sure if that's the proper place to test it.
",['antoineco'],1,2018-08-03 18:24:54,2018-08-03 22:19:20,2018-08-03 22:22:19,True,2018-08-03 22:19:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2896,https://github.com/kubernetes/ingress-nginx/pull/2896,tomxor,support configuring multi_accept directive via configmap,"**What this PR does / why we need it**:
Adds the `enable-multi-accept` ConfigMap setting which controls the `multi_accept` directive in nginx.conf file, instead of the current hardcoded value. Default is set to `true`.

**Which issue this PR fixes**:
fixes #2684 
",['ElvinEfendi'],1,2018-08-04 15:59:02,2018-08-04 16:58:45,2018-08-04 17:08:49,True,2018-08-04 16:58:45,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2897,https://github.com/kubernetes/ingress-nginx/pull/2897,aledbf,Enable reuse-port by default,,"['ElvinEfendi', 'antoineco']",1,2018-08-04 21:43:59,2018-08-05 02:43:43,2018-08-05 15:20:12,True,2018-08-05 02:43:43,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2898,https://github.com/kubernetes/ingress-nginx/pull/2898,aledbf,Fix default sync-period doc,replaces #2892,[],1,2018-08-04 21:57:06,2018-08-04 21:57:15,2018-08-05 15:20:27,True,2018-08-04 21:57:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2899,https://github.com/kubernetes/ingress-nginx/pull/2899,jeroenvand,fixed rewrites for paths not ending in /,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Make sure that rewrites work correctly for paths without terminating slash. 

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

fixes #2845.
 
**Special notes for your reviewer**:

I did update the unit tests and it runs with errors relating to the rewrite stuff, but I couldn't get the e2e tests to run without failing. Then again, those failed with a clean master branch checkout as well so maybe I did something wrong there altogether.","['ElvinEfendi', 'antoineco']",1,2018-08-05 13:27:10,2018-08-19 09:49:23,2018-09-26 15:28:26,True,2018-08-19 09:49:23,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2900,https://github.com/kubernetes/ingress-nginx/pull/2900,aledbf,Add e2e test for custom template using a volume,,[],1,2018-08-05 16:06:31,2018-09-14 15:37:10,2019-01-04 01:23:10,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2902,https://github.com/kubernetes/ingress-nginx/pull/2902,aledbf,Fix documentation,,[],1,2018-08-06 02:30:40,2018-08-06 02:30:47,2018-08-06 02:33:09,True,2018-08-06 02:30:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2903,https://github.com/kubernetes/ingress-nginx/pull/2903,krancour,Very minor grammar fix,,['aledbf'],1,2018-08-06 15:19:48,2018-08-06 15:45:27,2018-08-06 15:45:27,True,2018-08-06 15:45:27,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2905,https://github.com/kubernetes/ingress-nginx/pull/2905,aledbf,Fix IPV6 detection,"**Which issue this PR fixes**: fixes #2904
",['antoineco'],1,2018-08-06 16:13:50,2018-08-06 19:06:54,2018-08-06 21:14:02,True,2018-08-06 19:06:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2907,https://github.com/kubernetes/ingress-nginx/pull/2907,jcardoso-bv,Use the datasource input variable,"Use the defined datasource input variable rather than the statically defined ""prometheus"" datasource.

Fixes a manual Grafana import error regarding a non-existent datasource.",[],1,2018-08-07 11:27:59,2018-08-14 13:19:24,2018-08-14 13:19:24,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2909,https://github.com/kubernetes/ingress-nginx/pull/2909,ElvinEfendi,Sync upstream,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],73,2018-08-07 16:44:33,2018-08-07 16:46:53,2018-08-07 17:17:13,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2910,https://github.com/kubernetes/ingress-nginx/pull/2910,aledbf,WIP: Scale demo to get prometheus metrics,"**What this PR does / why we need it**:

Measure how much resources the prometheus metrics need from the ingress controller and how many metrics are generated.

Usually, the ingress controller (go) uses ~40MB of RAM

**Results:**

1. same namespace:

- time: 42 minutes
- ingress controller RAM usage: ~170MB (go) - ~130MB after 10 minutes after the test (gc)
- metrics https://gist.github.com/aledbf/0405bebaa1693f7c661fe878cb8ab9c9
",[],1,2018-08-07 20:31:46,2019-03-27 15:42:29,2019-03-27 15:42:29,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2912,https://github.com/kubernetes/ingress-nginx/pull/2912,aledbf,Add documentation to install prometheus and grafana,,['antoineco'],1,2018-08-08 03:07:04,2018-08-13 16:03:09,2018-08-15 01:52:53,True,2018-08-13 16:03:09,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2915,https://github.com/kubernetes/ingress-nginx/pull/2915,ElvinEfendi,dont restrict status page to localhost only,"**What this PR does / why we need it**:
This is reverting https://github.com/kubernetes/ingress-nginx/pull/2682. There are users relying on this endpoint to be accessible outside of localhost as well. For the concern raised at https://github.com/kubernetes/ingress-nginx/issues/2262 we will provide a flag that selectively restricts the endpoint.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-08-08 16:48:59,2018-08-08 17:30:54,2018-08-08 17:31:26,True,2018-08-08 17:30:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2920,https://github.com/kubernetes/ingress-nginx/pull/2920,ElvinEfendi,[WIP] delete unused backend fields,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],5,2018-08-09 12:58:54,2018-10-11 22:44:08,2018-10-11 22:44:11,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2921,https://github.com/kubernetes/ingress-nginx/pull/2921,aledbf,Remove echoheaders image from the repository,"**Which issue this PR fixes**: fixes #2911
",['dims'],1,2018-08-09 13:52:07,2018-08-10 11:08:47,2018-08-15 01:52:10,True,2018-08-10 11:08:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2923,https://github.com/kubernetes/ingress-nginx/pull/2923,hnrytrn,Add dynamic certificate serving feature to controller,"**What this PR does / why we need it**:

This PR is a part of adding dynamic certificate serving functionality. It adds a new flag `enable-dynamic-certificates`. When enabled, the controller will POST certificates to a Lua endpoint (https://github.com/kubernetes/ingress-nginx/pull/2889), avoid reloading NGINX when certificates are updated, and avoid writing certificates on disk. There will be another PR following this to serve the certificates that are POSTed.

**Special notes for your reviewer**:

This feature currently does not support OCSP because the future PR that will serve the certificates will use Open Resty's ngx.ssl module (https://github.com/openresty/lua-resty-core/blob/master/lib/ngx/ssl.md), which does not support  OCSP.","['aledbf', 'ElvinEfendi']",1,2018-08-09 22:01:48,2018-08-17 01:05:10,2018-08-17 02:55:42,True,2018-08-17 01:05:09,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2925,https://github.com/kubernetes/ingress-nginx/pull/2925,aledbf,Update nginx dependencies,"**What this PR does / why we need it**:

Fix issue with zipkin ids https://github.com/opentracing-contrib/nginx-opentracing/issues/52

Removes `jemalloc` and `libatomic` from nginx",['ElvinEfendi'],2,2018-08-10 22:10:59,2018-08-14 20:26:17,2018-08-15 01:51:22,True,2018-08-14 20:26:17,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2926,https://github.com/kubernetes/ingress-nginx/pull/2926,aledbf,Add misspell target,,"['ElvinEfendi', 'antoineco']",1,2018-08-11 12:26:44,2018-08-11 18:08:54,2018-08-12 03:27:21,True,2018-08-11 18:08:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2927,https://github.com/kubernetes/ingress-nginx/pull/2927,aledbf,Release 0.18.0,,"['ElvinEfendi', 'antoineco']",1,2018-08-11 23:52:27,2018-08-12 01:37:54,2018-08-12 03:27:09,True,2018-08-12 01:37:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2928,https://github.com/kubernetes/ingress-nginx/pull/2928,fntlnz,docs: Precisations on the usage of the InfluxDB module,"Signed-off-by: Lorenzo Fontana <lo@linux.com>

**What this PR does / why we need it**:
Noted that there was some confusion on how to use the Nginx annotation related to the fact that there's no Domain name resolution, made that clear in the docs.
Also more clearly explained that this annotation can be used to push data to other backend other than influx like, kafka, prometetheus and more by using it in tandem with Telegraf.","['aledbf', 'ElvinEfendi']",1,2018-08-12 09:44:58,2018-08-12 20:24:54,2018-08-12 20:24:54,True,2018-08-12 20:24:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2929,https://github.com/kubernetes/ingress-nginx/pull/2929,aledbf,WIP: Migrate configuration configmap to CRDs,"**Goals:**
- Remove ClusterRole for configuration.
- Use the right types (like net.IP in the whitelists)
- Reduce the scope of the watch in informers
- Remove the ambiguity of `Use`, `Disable` and `Enable` prefix.
",['antoineco'],7,2018-08-12 21:54:18,,2019-01-17 12:58:09,False,,,dirty,False,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2932,https://github.com/kubernetes/ingress-nginx/pull/2932,onesolpark,Fixed typo in flags.go,"Noticed a small typo while changing different configs for ssl-passthrough.
Flags.go, ssl-passtrough-proxy-port -> ssl-passthrough-proxy-port.


**What this PR does / why we need it**: 
Fixed typo in flags.go (ssl-passthrough-proxy-port)

**Special notes for your reviewer**:
Not really a bug or anything but I guess I had to let you know just in case.",['aledbf'],1,2018-08-13 09:56:59,2018-08-13 14:48:59,2018-08-13 14:48:59,True,2018-08-13 14:48:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2933,https://github.com/kubernetes/ingress-nginx/pull/2933,mrdima,Add annotation for proxy-http-version,"**What this PR does / why we need it**:
Adds an annotation option for setting the proxy_http_version variable.
Since 0.10.0 ; https://github.com/kubernetes/ingress-nginx/pull/1787 was actually a breaking change for us as the proxy_http_version became hardcoded to 1.1 in the template  which was 1.0 before as when unspecified this is the nginx default. Because of this we got HTTP 308's when getting our content from nginx-ingress from a HA proxy configuration which fetches the content in HTTP/1.0 from multiple sources of which nginx-ingress is only one. Changing this in HA proxy is currently not an option.
We could ofcourse override the whole template using a configmap but this is undesirable as it's easy to forget to update this configmap whenever there's a newer nginx-ingress with an updated template...

**Special notes for your reviewer**:
There is no issue logged regarding this as far as I'm aware of, but I'm happy to create one if desired.
Thanks in advance for any feedback. ",[],1,2018-08-13 20:28:10,2018-08-16 15:24:48,2018-08-16 15:24:48,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2934,https://github.com/kubernetes/ingress-nginx/pull/2934,fqsghostcloud,Datasource input variable,Datasource input variable,['aledbf'],1,2018-08-14 01:08:28,2018-08-14 13:20:02,2018-08-14 13:20:02,True,2018-08-14 13:20:02,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2941,https://github.com/kubernetes/ingress-nginx/pull/2941,clorichel,now actually using the $controller and $namespace variables,"**What this PR does / why we need it**:

The panels weren't ""filtered"" by the controller variable selected. With that change, each panel is filtered, and it works for both a specific controller or when selecting `All`.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: maybe one, maybe none

**Special notes for your reviewer**: thank you",['aledbf'],3,2018-08-14 23:58:19,2018-08-17 18:10:09,2018-08-17 18:10:09,True,2018-08-17 18:10:09,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2942,https://github.com/kubernetes/ingress-nginx/pull/2942,aledbf,Update nginx image,,['ElvinEfendi'],1,2018-08-15 02:13:12,2018-08-15 04:12:52,2018-08-15 13:09:04,True,2018-08-15 04:12:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2943,https://github.com/kubernetes/ingress-nginx/pull/2943,wangxy518,Update histogram.go,this url has been changed.,[],1,2018-08-15 08:48:34,2018-08-15 12:14:05,2018-08-16 01:00:29,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2946,https://github.com/kubernetes/ingress-nginx/pull/2946,fmejia97,Add unit tests to configuration_test.lua that cover Backends configuration,"**What this PR does / why we need it**:
This PR adds additional unit tests to `configuration` lua module because there are no tests covering `Backends` configuration.
","['aledbf', 'ElvinEfendi']",1,2018-08-15 20:04:26,2018-08-15 20:54:00,2018-08-15 20:54:01,True,2018-08-15 20:54:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2947,https://github.com/kubernetes/ingress-nginx/pull/2947,wangxy518,Update CONTRIBUTING.md,These urls has changed.,[],1,2018-08-16 01:18:16,2018-08-25 21:10:51,2018-08-25 21:10:52,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2953,https://github.com/kubernetes/ingress-nginx/pull/2953,wangxy518,Update external-articles.md,this url has been changed.,[],1,2018-08-17 06:29:02,2018-08-17 15:26:24,2018-08-17 15:26:24,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2955,https://github.com/kubernetes/ingress-nginx/pull/2955,aledbf,Update nginx opentracing zipkin module,"**Which issue this PR fixes**: fixes #2940

The fix is https://github.com/rnburn/zipkin-cpp-opentracing/pull/27",['ElvinEfendi'],1,2018-08-17 15:24:07,2018-08-17 20:18:40,2018-08-17 20:36:14,True,2018-08-17 20:18:40,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2956,https://github.com/kubernetes/ingress-nginx/pull/2956,aledbf,Update nginx and e2e images,,"['ElvinEfendi', 'antoineco']",1,2018-08-17 21:11:24,2018-08-17 22:10:50,2018-08-17 23:31:56,True,2018-08-17 22:10:50,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2957,https://github.com/kubernetes/ingress-nginx/pull/2957,ElvinEfendi,Batch metrics and flush periodically,"**What this PR does / why we need it**:
Currently Lua code sends metrics to the controller for every request right after Nginx finishes responding. This means the load on controller increases linearly with the number of requests. That results in high CPU usage and dropped metrics (""`Resource unavailable` - when the controller can not process the metrics)"".
This PR changes the logic in Lua side to batch the metrics and send the batches periodically to the controller. I've configured the period to 1s for now. Since we are batching the metrics in Nginx worker's memory to avoid potential unbounded memory increase I've also added limit on the number of metrics that can be batched during that `1s`. That number is `10000` right now - which is a really high number. With this change Nginx would be dropping metrics only if an Nginx worker is handling more than `10000 RPS`.

I've tested this change locally under heavy load and did not see any example of metric being dropped or ""Resource unavailable"" error. Note however this change means metrics will be delayed for a second.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",1,2018-08-18 00:05:28,2018-08-18 21:15:06,2018-08-18 22:29:17,True,2018-08-18 21:15:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2960,https://github.com/kubernetes/ingress-nginx/pull/2960,fernandoguedes,(Bug/docs) Fix broked anchor link to GCE/GKE,"**What this PR does / why we need it**:

Fix broken anchor link of this page (https://kubernetes.github.io/ingress-nginx/deploy/#gce---gke)

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

No has issues.

**Special notes for your reviewer**:

Just a simple problem with `kubernetes/ingress-nginx` docs.",[],1,2018-08-20 18:08:37,2018-08-20 18:19:15,2018-08-20 18:19:15,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2961,https://github.com/kubernetes/ingress-nginx/pull/2961,fernandoguedes,Fix broken anchor link to GCE/GKE,"**What this PR does / why we need it**:
Fix broken anchor link to GCE/GKE.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

No has issues.

**Special notes for your reviewer**:

It's a little bug in docs.",[],1,2018-08-20 18:21:09,2018-08-20 18:41:30,2018-08-20 18:41:30,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2962,https://github.com/kubernetes/ingress-nginx/pull/2962,fernandoguedes,Fix broken anchor link to GCE/GKE,"What this PR does / why we need it:
Fix broken anchor link to GCE/GKE.

Which issue this PR fixes (optional, in fixes #<issue number>(, fixes #<issue_number>, ...) format, will close that issue when PR gets merged): fixes #

No has issues.

Special notes for your reviewer:

It's a little bug in docs.",['antoineco'],1,2018-08-20 18:42:06,2018-08-22 18:52:50,2018-08-22 18:52:50,True,2018-08-22 18:52:50,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2964,https://github.com/kubernetes/ingress-nginx/pull/2964,ElvinEfendi,fix variable parsing when key is number,"**What this PR does / why we need it**:
As reported at https://github.com/kubernetes/ingress-nginx/issues/2552 turns out Nginx regex group capturing variables should be accessed by number keys rather than string keys. I changed variable parsing to take this into consideration also added test coverage for the helper function.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes https://github.com/kubernetes/ingress-nginx/issues/2552

**Special notes for your reviewer**:
",['aledbf'],1,2018-08-21 17:45:38,2018-08-21 18:10:46,2018-08-21 18:10:46,True,2018-08-21 18:10:45,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2965,https://github.com/kubernetes/ingress-nginx/pull/2965,hnrytrn,Add Lua module to serve SSL Certificates dynamically,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This PR ties in https://github.com/kubernetes/ingress-nginx/pull/2889 and https://github.com/kubernetes/ingress-nginx/pull/2923 to add dynamic certificate serving functionality. When `enable-dynamic-certificates` is on, SSL Certificates won't be written on disk, and will be served dynamically from the shared Lua dictionary using OpenResty's SSL library (https://github.com/openresty/lua-resty-core/blob/master/lib/ngx/ssl.md), which will avoid reloading NGINX. This PR also adds in E2E tests for the dynamic certificates functionality.

",['ElvinEfendi'],1,2018-08-21 17:51:30,2018-08-24 03:27:56,2018-09-10 15:51:16,True,2018-08-24 03:27:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2966,https://github.com/kubernetes/ingress-nginx/pull/2966,fmejia97,Add unit tests for sticky lua module,"**What this PR does / why we need it**:
This PR adds unit tests for the sticky lua module. Why? We don't have any unit tests for this module.
",['ElvinEfendi'],4,2018-08-21 18:28:34,2018-08-24 03:32:17,2018-10-12 17:39:09,True,2018-08-24 03:32:17,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2970,https://github.com/kubernetes/ingress-nginx/pull/2970,ant31,Update labels,"fixes #2969 
Update labels to follow the guidelines from [k8s.io](https://k8s.io)

cc @mattfarina ",['aledbf'],1,2018-08-22 13:39:55,2018-08-22 14:15:20,2018-09-21 15:20:31,True,2018-08-22 14:15:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2972,https://github.com/kubernetes/ingress-nginx/pull/2972,ElvinEfendi,consistently fallback to default certificate when TLS is configured,"**What this PR does / why we need it**:
Currently having TLS configured in an Ingress Spec does not guarantee that Nginx will be configured using SSL endpoint. Whenever TLS configured we first check the following three edge cases:
1. We extract secret name, and if the secret name is empty _we then fallback using default certificate and configure Nginx with HTTPS endpoint_
2. Otherwise we continue to check local SSL store and if there is no corresponding secret we don't configure `SSLCert` for the given server. _This means the controller configures Nginx using HTTP endpoint only_
3. If secret name is present and there corresponding secret in the SSL store, we match the hostname with the one in the certificate if it does not match, we again do not configure `SSLCert` for the server. _This again means the controller configures Nginx using HTTP endpoint only_

If everything is good we then use the configured certificate and configure Nginx with HTTPS endpoint.

As you can see there's inconsistency here. One option to resolve this inconsistency would be to make the edge case 1. to behave as other two, a.k.a always fallback to configuring HTTP endpoint only even though user has TLS Spec configured in their Ingress manifest. In my understanding doing this would be breaking the protocol between user and the ingress controller - what I mean is as a user when I include TLS Spec in my Ingress manifest I expect to have my server configured with HTTPS endpoint and have HTTP requests redirected to that endpoint (unless I explicitly opt-out). And I'd also expect the controller to follow the notion of default certificate it has and when there's an issue with the configured certificate (one of the three edge cases above) fallback to using the default certificate.
Another problem with this option is that we won't be able to handle certificate updates dynamically (https://github.com/kubernetes/ingress-nginx/pull/2965). Because with this option when user fixes their certificate (i.e edge case 2: user creates the missing secret) we would have to update Nginx configuration and include `listen 443 ssl ...` directive and others. Which means there's no way we can avoid reload.

Given above, this PR suggests to change the way controller handles edge cases 2. and 3. With this PR in all the edge cases where we can not successfully configure certificate we fallback to using default certificate. This solves all the issues mentioned above.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",3,2018-08-23 00:45:16,2018-08-23 12:41:53,2019-01-10 13:18:03,True,2018-08-23 12:41:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2977,https://github.com/kubernetes/ingress-nginx/pull/2977,aledbf,Pass real source IP address to auth request,"fixes #2938
fixes #2851","['ElvinEfendi', 'antoineco']",1,2018-08-23 13:37:55,2018-08-23 16:29:31,2018-09-08 13:29:46,True,2018-08-23 16:29:30,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2979,https://github.com/kubernetes/ingress-nginx/pull/2979,ElvinEfendi,clear dynamic configuration e2e tests,"**What this PR does / why we need it**:
Remove redundant/weak tests and extract out some repeating logic. I've also changed the way we detect reload - now the tests are dumping Nginx configuration before and after and comparing the two config.

There's more room to improve but I'll do that in another iteration.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-08-24 02:08:51,2018-08-24 03:00:20,2018-08-24 03:23:53,True,2018-08-24 03:00:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2983,https://github.com/kubernetes/ingress-nginx/pull/2983,hnrytrn,Add documentation for enable-dynamic-certificates feature,"**What this PR does / why we need it**:

Adds documentation for dynamic certificate serving feature.",['aledbf'],1,2018-08-24 13:53:13,2018-08-24 14:20:12,2018-08-24 22:43:00,True,2018-08-24 14:20:12,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2986,https://github.com/kubernetes/ingress-nginx/pull/2986,hnrytrn,[WIP] Refactor EWMA to not use shared dictionaries,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This PR refactors EWMA load balancing to not use shared dictionaries. This improves performance (CPU usage) since we would not be using any locks.
",['ElvinEfendi'],133,2018-08-24 19:18:08,2018-10-25 18:37:31,2018-10-25 18:37:48,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2987,https://github.com/kubernetes/ingress-nginx/pull/2987,ElvinEfendi,cleanup dynamic cert e2e tests,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-08-24 22:52:36,2018-08-25 11:38:03,2018-08-25 11:38:04,True,2018-08-25 11:38:03,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2988,https://github.com/kubernetes/ingress-nginx/pull/2988,aledbf,Update go to 1.11,,['ElvinEfendi'],2,2018-08-25 13:45:34,2018-08-25 16:16:32,2018-08-28 13:58:11,True,2018-08-25 16:16:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2989,https://github.com/kubernetes/ingress-nginx/pull/2989,goruha,Fix custom errors for external auth requrest,"## What
* When ingress use external auth request custom error pages do not work

## How to reproduce
* Config custom error pages following [docs](https://github.com/kubernetes/ingress-nginx/tree/master/docs/examples/customization/custom-errors)
* Create ingress with external with following [docs](https://github.com/kubernetes/ingress-nginx/tree/master/docs/examples/auth/oauth-external-auth)
* Make service that is target for ingress from previous step select existed pods (emulate 503 error)
* Open ingress endpoint in browser

### Expected
* To see custom error

### Exists 
* Default nginx error

## Explain fix
Following nginx [docs](http://nginx.org/en/docs/http/ngx_http_core_module.html#error_page)
```
These directives are inherited from the previous level if and only if there are no error_page directives defined on the current level. 
```
In case we use `external auth` we have define `error_page` on `location` level, so it broke inherit from 
`server` level for all custom error pages.
https://github.com/kubernetes/ingress-nginx/blob/master/rootfs/etc/nginx/template/nginx.tmpl#L1030
```
                  {{ if $location.ExternalAuth.SigninURL }}
                  error_page 401 = {{ buildAuthSignURL $location.ExternalAuth.SigninURL }};
                  {{ end }}
```

To fix that we need redefine custom error pages on the `location` level 

```
        location {{ $path }} {
            {{ $ing := (getIngressInformation $location.Ingress $location.Path) }}
            set $namespace      ""{{ $ing.Namespace }}"";
            set $ingress_name   ""{{ $ing.Rule }}"";
            set $service_name   ""{{ $ing.Service }}"";
            set $service_port   ""{{ $location.Port }}"";
            set $location_path  ""{{ $location.Path }}"";

            {{ if $all.Cfg.EnableOpentracing }}
            opentracing_propagate_context;
            {{ end }}

            {{ range $errCode := $all.Cfg.CustomHTTPErrors }}
            error_page {{ $errCode }} = @custom_{{ $errCode }};{{ end }} 
```

P.S.: The same for  CertificateAuth ErrorPage
https://github.com/kubernetes/ingress-nginx/blob/master/rootfs/etc/nginx/template/nginx.tmpl#L806",['aledbf'],1,2018-08-25 19:39:39,,2019-03-17 21:29:47,False,,,dirty,False,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2990,https://github.com/kubernetes/ingress-nginx/pull/2990,aledbf,Check if cgroup cpu limits are defined to get the number of CPUs,"**Which issue this PR fixes**: fixes #2948
","['ElvinEfendi', 'antoineco']",2,2018-08-25 21:09:05,2018-08-29 21:36:59,2018-08-31 17:17:42,True,2018-08-29 21:36:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2996,https://github.com/kubernetes/ingress-nginx/pull/2996,odino,Allow auth headers to be set for GRPC backends,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

When external auth is enabled, nginx can support both HTTP and GRPC backends. Currently, though, it is impossible to set headers for GRPC backend as we use `proxy_set_header` rather than relying on the function `proxySetHeader` which will decide what directive to use (grpc/proxy_set_header) based on the protocol used by the backend.

**Special notes for your reviewer**:

Look, to be honest I havent tested this as I'm using YDD -- YOLO Driven Development :smile: 

If anyone is able to get me an image that includes this fix I can easily test it locally, as I have an ingress in front of a grpc backend with external auth enabled.
",[],1,2018-08-27 14:59:46,2019-01-24 17:15:15,2019-01-24 17:15:17,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2997,https://github.com/kubernetes/ingress-nginx/pull/2997,spa-87,"Provide possibility to block IPs, User-Agents and Referers globally","Current PR implements possibility to block requests globally based on:
- Source IP addresses and subnets
- User-Agent header
- Referer header

It can be useful for many use-cases:
- Block unauthorized SEO and vulnerability scanners
- An additional way to fight with DDoS 
- Protect services from other malicious requests",['aledbf'],1,2018-08-27 16:06:56,2018-09-25 12:51:57,2018-10-19 20:02:08,True,2018-09-25 12:51:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/2998,https://github.com/kubernetes/ingress-nginx/pull/2998,dmitrifedo,fixed jsonpath command in examples,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Fixes broken jsonpath commands in verification examples ([missing single quotes](https://kubernetes.io/docs/reference/kubectl/jsonpath/))",['antoineco'],1,2018-08-28 06:45:48,2018-08-28 09:27:54,2018-08-28 09:27:54,True,2018-08-28 09:27:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3001,https://github.com/kubernetes/ingress-nginx/pull/3001,aolsux,fix docu to use new app label,"https://github.com/kubernetes/ingress-nginx/pull/2970 changed the labels. Using the new labels, the tutorial does not work any more. This just adapts the docu to the changed labels.",[],1,2018-08-28 15:28:43,2018-09-05 12:14:35,2018-09-05 12:14:35,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3002,https://github.com/kubernetes/ingress-nginx/pull/3002,diazjf,Enhance Troubleshooting Documentation,"Enhances the troubleshooting documentation by adding a whole list of basic ways to troubleshoot. Also cleans up previous sections and adds information about the gdb.

Fixes #2952
",['aledbf'],1,2018-08-28 18:55:33,2018-08-29 00:17:53,2018-08-29 01:24:07,True,2018-08-29 00:17:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3003,https://github.com/kubernetes/ingress-nginx/pull/3003,aledbf,Update nginx to 1.15.3,http://nginx.org/en/CHANGES,"['ElvinEfendi', 'antoineco']",1,2018-08-29 00:13:31,2018-08-29 00:37:31,2018-08-29 01:13:00,True,2018-08-29 00:37:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3004,https://github.com/kubernetes/ingress-nginx/pull/3004,aledbf,Update nginx image,Requires #3003,['antoineco'],1,2018-08-29 00:15:01,2018-08-29 01:06:01,2018-08-29 01:12:47,True,2018-08-29 01:06:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3005,https://github.com/kubernetes/ingress-nginx/pull/3005,aledbf,Fix gdb issue and update e2e image,"Fixes https://github.com/kubernetes/ingress-nginx/pull/3002#issuecomment-416791010 and updates the troubleshooting guide

The reason why the gdb package is not available is that during the cleanup we were removing the `libpython3.6-stdlib` package (required dependency)

@ElvinEfendi thank you for pointing this issue",['ElvinEfendi'],1,2018-08-29 02:00:50,2018-08-29 02:25:58,2018-08-29 14:50:26,True,2018-08-29 02:25:58,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3006,https://github.com/kubernetes/ingress-nginx/pull/3006,ElvinEfendi,apply nginx patch to make ssl_certificate_by_lua_block work properly,"**What this PR does / why we need it**:
As documented at https://github.com/openresty/lua-nginx-module#ssl_certificate_by_lua_block this patch (http://mailman.nginx.org/pipermail/nginx-devel/2016-January/007748.html) is needed for `ssl_certificate_by_lua_block` to work properly.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-08-29 04:16:40,2018-08-29 12:15:40,2018-08-29 13:55:57,True,2018-08-29 12:15:40,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3011,https://github.com/kubernetes/ingress-nginx/pull/3011,aledbf,Update nginx image,,['ElvinEfendi'],1,2018-08-29 12:53:57,2018-08-29 14:26:38,2018-08-29 14:50:36,True,2018-08-29 14:26:38,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3014,https://github.com/kubernetes/ingress-nginx/pull/3014,aledbf,Release 0.19.0,Test image: `quay.io/aledbf/nginx-ingress-controller:0.414`,"['ElvinEfendi', 'antoineco']",1,2018-08-30 00:59:18,2018-08-30 19:35:52,2018-08-31 19:06:14,True,2018-08-30 19:35:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3016,https://github.com/kubernetes/ingress-nginx/pull/3016,diazjf,Log Errors Missing in Internal,"Adds a few missing errors and cleans some of the error log convention.

Fixes #3013","['aledbf', 'antoineco']",1,2018-08-30 03:00:51,2018-09-05 12:18:33,2018-09-05 12:18:33,True,2018-09-05 12:18:33,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3017,https://github.com/kubernetes/ingress-nginx/pull/3017,diazjf,Add e2e tests for CORS,Adds the missing e2e test for Cross-Origin Resource Sharing(CORS). This will include all the CORS annotations.,['aledbf'],1,2018-08-30 03:01:07,2018-09-02 23:00:42,2018-09-02 23:00:42,True,2018-09-02 23:00:42,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3019,https://github.com/kubernetes/ingress-nginx/pull/3019,aledbf,Add additional image for debugging using systemtap,"**Which issue this PR fixes**: fixes #3015
",[],1,2018-08-30 13:02:15,2018-08-31 00:43:15,2019-01-04 01:22:14,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3021,https://github.com/kubernetes/ingress-nginx/pull/3021,aledbf,Fix documentation search,Error introduced in https://travis-ci.org/kubernetes/ingress-nginx/jobs/421862731#L585,['antoineco'],3,2018-08-30 18:12:59,2018-08-30 18:57:05,2018-08-30 18:57:05,True,2018-08-30 18:57:05,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3022,https://github.com/kubernetes/ingress-nginx/pull/3022,aledbf,Add support for valgrind,"When the env variable `RUN_WITH_VALGRIND=true` is present, [valgrind](http://valgrind.org/) is started as parent of the nginx process. Example: https://gist.github.com/aledbf/bc51c6cd02bd8942438070683198b8ba",['ElvinEfendi'],1,2018-08-31 00:43:43,2018-09-02 20:44:26,2018-09-02 23:25:48,True,2018-09-02 20:44:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3027,https://github.com/kubernetes/ingress-nginx/pull/3027,antoineco,Add documentation about running Ingress NGINX on bare-metal,"**What this PR does / why we need it**: Because some users seem to struggle big time with these notions (cf. #ingress-nginx Slack channel).

**Which issue this PR fixes**: closes #3020

**Special notes for your reviewer**: Diagrams are missing (drawing in progress), but the content should already be ready-for-review.","['aledbf', 'ElvinEfendi']",1,2018-09-02 22:07:40,2018-09-04 22:19:27,2018-09-06 04:32:16,True,2018-09-04 22:19:27,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3029,https://github.com/kubernetes/ingress-nginx/pull/3029,derekperkins,add support for http2-max-requests in configmap,"**Which issue this PR fixes** 
Fixes #3028 
",['aledbf'],1,2018-09-03 05:56:41,2018-09-03 12:07:23,2018-09-03 18:58:43,True,2018-09-03 12:07:22,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3035,https://github.com/kubernetes/ingress-nginx/pull/3035,hswong3i,Fixup #2970: Add Missing Label `app.kubernetes.io/part-of: ingress-nginx`,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
  
-    Add missing label `app.kubernetes.io/part-of: ingress-nginx` for deploy example
-    Update new labels for docs/deploy and docs/examples
-    Update new labels for test/e2e and test/manifests
-    Update new labels for images/nginx

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

fixes #2970
fixes #3001

**Special notes for your reviewer**:
",['aledbf'],1,2018-09-04 03:29:23,2018-09-05 12:14:35,2018-09-06 00:43:51,True,2018-09-05 12:14:35,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3038,https://github.com/kubernetes/ingress-nginx/pull/3038,aledbf,Fix binding to privileged ports 1 to 1023,"**What this PR does / why we need it**:

When SSL passthrough is enabled (flag `--enable-ssl-passthrough`), the traffic on port 443 goes through the Go binary. The issue with this is that Go does not work with authbind.
Also, this PR adds the mapping to all the privileged ports to allow nginx to bind any port, not only 80 and 443

**Which issue this PR fixes**: 

fixes #2994
fixes #3037
fixes #3036

Edit: add note that --enable-ssl-passthrough requires a docker graph with support for setcap",[],1,2018-09-04 12:39:09,2018-09-25 21:36:02,2019-02-06 19:49:53,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3039,https://github.com/kubernetes/ingress-nginx/pull/3039,aledbf,Remove link to invalid example [ci-skip],,[],1,2018-09-04 23:13:21,2018-09-04 23:13:48,2018-09-04 23:15:26,True,2018-09-04 23:13:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3045,https://github.com/kubernetes/ingress-nginx/pull/3045,lewisheadden,Add configuration option to toggle changing Host to X-Forwarded-Host,"**What this PR does / why we need it**:
Allows users to supply a `use-forwarded-host-header` boolean option in the `ConfigMap` for the ingress controller which toggles whether the `X-Forwarded-Host` header is placed into the `Host` header.

Many proxies in front of nginx-ingress may terminate SSL or similar and require usage of `X-Forwarded-Proto` or pass client IPs in `X-Forwarded-For` but very few will move the `Host` header to `X-Forwarded-Host` and require us to place `X-Forwarded-Host` back into the `Host` header in nginx-ingress. We could disable all `X-Forwarded-*` headers using `use-forwarded-headers` however processing `X-Forwarded-Proto` and `X-Forwarded-For` can still be useful even when `X-Forwarded-Host`should not be considered for placement into the `Host` header.

Further certain L7 proxies or CDNs (such as Fastly) will produce multi-valued `X-Forwarded-Host` headers which should never be placed into the `Host` header.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
Fixes #2463

**Special notes for your reviewer**:
I think this is the most appropriate and generic way to resolve #2463 but I'm open to alternate approaches as I wrestled with this for a while. I'm also not 100% sold on my resolution for `{{ $proxySetHeader }} X-Forwarded-Host` but after talking with some co-workers we agreed that this is likely the correct approach in our opinion.",[],1,2018-09-05 17:50:16,2019-02-14 19:02:19,2019-02-14 19:02:20,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3046,https://github.com/kubernetes/ingress-nginx/pull/3046,mootpt,Document when to modify ELB idle timeouts and set default value to 60s,"**What this PR does / why we need it**:
This PR changes the default ELB idle timeout in the manifest to 60s. This is to allow connections to be properly closed by the ELB. By default, the NGINX `keepalive_timeout` is set to `75s` and with the existing config of `3600s` the ELB attempts to reuse closed connections.

Here is a link to the [official AWS documentation](https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/config-idle-timeout.html) that covers idle timeouts.

**Special notes for your reviewer**:

Slack thread: https://kubernetes.slack.com/archives/CANQGM8BA/p1536105979000100

The example in the Helm chart will also likely need to be updated

Please feel free to amend as necessary.
",['aledbf'],1,2018-09-06 04:21:16,2018-09-06 13:34:36,2018-09-06 18:28:10,True,2018-09-06 13:34:36,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3049,https://github.com/kubernetes/ingress-nginx/pull/3049,mikebryant,fix: Don't try and find local certs when secretName is not specified,"Fixes #3048

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Stops the controller looking on disk for secrets that will never be there, so we don't get spurious warnings in the logs

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3048 

**Special notes for your reviewer**:
",['aledbf'],1,2018-09-06 10:36:53,2018-09-06 13:19:41,2018-09-06 13:44:24,True,2018-09-06 13:19:40,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3050,https://github.com/kubernetes/ingress-nginx/pull/3050,Miouge1,Add Ingress variable in Grafana dashboard,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Filtering the dashboard and metrics on a per ingress basis allows for easier troubleshooting.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
I don't have a test environment from which I can take a screenshot of the updated dashboard.
It would be great if @Stono could help out.",['aledbf'],1,2018-09-06 11:40:24,2018-09-08 16:13:13,2018-09-08 16:13:13,True,2018-09-08 16:13:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3059,https://github.com/kubernetes/ingress-nginx/pull/3059,max8899,fix some typos,"
**What this PR does / why we need it**:
fix some typos
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-09-08 13:51:17,2018-09-08 16:12:13,2018-09-08 16:12:13,True,2018-09-08 16:12:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3062,https://github.com/kubernetes/ingress-nginx/pull/3062,lahsivjar,Pass Host header for custom errors,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: With `custom-http-errors` enabled the current nginx.tmpl will `proxy_pass` to `http://upstream_balancer` which will result in nginx rewriting the `Host` header with a value `upstream_balancer` in which `_` is an invalid character as per [RFC952]: https://www.rfc-editor.org/rfc/rfc952.txt

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3018

**Special notes for your reviewer**: Another way to fix it can be by not using an upstream name containing any invalid characters, however, I selected this approach since the Host header might be an useful information for the custom error backend.
",['ElvinEfendi'],1,2018-09-09 11:56:49,2018-09-09 16:51:13,2018-09-09 17:05:15,True,2018-09-09 16:51:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3065,https://github.com/kubernetes/ingress-nginx/pull/3065,aledbf,Join host/port with go helper (supports ipv6),,"['ElvinEfendi', 'antoineco']",1,2018-09-09 19:34:40,2018-09-10 15:34:18,2018-09-10 21:12:23,True,2018-09-10 15:34:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3067,https://github.com/kubernetes/ingress-nginx/pull/3067,oilbeater,fix missing datasource value,"**What this PR does / why we need it**:
fix a grafana dashboard bug. Grafana will generate random data if datasource is null

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
None

**Special notes for your reviewer**:
None","['aledbf', 'ElvinEfendi']",1,2018-09-10 10:49:32,2018-09-10 15:33:06,2018-09-10 15:33:06,True,2018-09-10 15:33:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3068,https://github.com/kubernetes/ingress-nginx/pull/3068,antoineco,Complete documentation about SSL Passthrough,"**What this PR does / why we need it**: adds technical details about the way ingress-nginx handles SSL Passthrough.

**Which issue this PR fixes**: *none* (to my knowledge)

**Special notes for your reviewer**: @aledbf please make sure I didn't write nonsense  ",['aledbf'],1,2018-09-10 17:31:12,2018-09-10 17:49:26,2018-09-11 12:15:07,True,2018-09-10 17:49:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3069,https://github.com/kubernetes/ingress-nginx/pull/3069,aledbf,Replace client-go deprecated method,"**What this PR does / why we need it**:

https://github.com/kubernetes/client-go/blob/03bfb9bdcfe5482795b999f39ca3ed9ad42ce5bb/informers/factory.go#L101","['ElvinEfendi', 'antoineco']",1,2018-09-10 17:42:32,2018-09-10 18:48:37,2018-09-10 21:12:10,True,2018-09-10 18:48:37,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3072,https://github.com/kubernetes/ingress-nginx/pull/3072,rafik8,Update ingress service IP,"Fix typo in the ingress service IP

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->",['aledbf'],1,2018-09-11 09:11:59,2018-09-11 22:03:06,2018-09-11 22:03:06,True,2018-09-11 22:03:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3073,https://github.com/kubernetes/ingress-nginx/pull/3073,hchenxa,do not hardcode the path,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

the path was hardcoded and this PR was to address the issue https://github.com/kubernetes/ingress-nginx/issues/3071

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3071

**Special notes for your reviewer**:
/assign @caseydavenport",['ElvinEfendi'],1,2018-09-11 13:53:13,2018-09-17 03:20:16,2018-09-17 03:28:03,True,2018-09-17 03:20:16,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3074,https://github.com/kubernetes/ingress-nginx/pull/3074,antoineco,Add MetalLB to bare-metal deployment page,"**What this PR does / why we need it**: second part of #3027
Adds a usage example for MetalLB.

**Which issue this PR fixes**: closes #3055",['aledbf'],1,2018-09-11 14:50:19,2018-09-12 12:13:49,2018-09-12 12:58:01,True,2018-09-12 12:13:49,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3076,https://github.com/kubernetes/ingress-nginx/pull/3076,zrdaley,Add e2e test for rewrite-target annotation kube-lego failure,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This PR adds and e2e-test for the edge case that currently breaks kube-lego. This issue causes requests to the path `/.well-known/acme/challenge` to be redirected to the `/` path when the rewrite-target annotation is set for the index route.

This annotation enforces the use of the `~*` location modifier. In NGINX, regex paths take priority over regular prefixes unless the `=` or `^~` location modifiers are used. 

**Which issue this PR fixes** : 
Partially fixes https://github.com/Shopify/edgescale/issues/659

**Special notes for your reviewer**:
Currently this test **will fail**. Additional changes need to be made to prevent this issue from occurring. 

**Relevant links:**
- [Ingress-Nginx Regex Support Project Brief](https://docs.google.com/document/d/1bb23mByl8TELMpcWLs_Cp30-ehKL-rblPO9weLch7NA/edit?ts=5b929287#heading=h.ypkmjgl9xesn)
- [Spreadsheet of regex support for ingress controllers](https://docs.google.com/spreadsheets/d/1-oS8CKD4MtdEMar7QMUibCb-TUJ5ZIglRl2cLvaQ5zs/edit#gid=0)
- [Discussion of standardizing regex support among ingress controllers](kubernetes/ingress-nginx#555)
- [Open issue on lack of regex support in ingress-nginx](https://github.com/kubernetes/ingress-nginx/pull/1415)
- [NGINX location modifiers](https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/api/extensions/v1beta1/types.go#L703 )

@ElvinEfendi @sbfaulkner
",[],1,2018-09-11 15:53:06,2018-09-12 17:51:15,2018-09-12 17:51:42,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3078,https://github.com/kubernetes/ingress-nginx/pull/3078,zrdaley,Fix Rewrite-Target Annotation Edge Case,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This PR fixes the edge case that currently breaks kube-lego. 

This issue causes requests to the path `/.well-known/acme/challenge` to be redirected to the `/` path when the rewrite-target annotation is set for the index route. This annotation enforces the use of the `~*` location modifier. In NGINX, regex paths take priority over regular prefixes unless the `=` or `^~` location modifiers are used. 

After this PR, when `nginx.ingress.kubernetes.io/rewrite-target` is set on ANY ingress, then the `^~` location modifier will be enforced on paths that do NOT use the `nginx.ingress.kubernetes.io/rewrite-target` annotation. Paths on the ingress with the annotation set will continue to use the `~*` location modifier. 

The only exception to the enforcement of the `^~` location modifier is for the `/` path. If the `^~` location modifier were to be used on the index route, then it would be turn into a catch-all and regex paths would never be checked.

**Which issue this PR fixes** : 
Partially fixes https://github.com/Shopify/edgescale/issues/659

**Special notes for your reviewer**:
Built off `Shopify:upstream-lego-e2e`: https://github.com/kubernetes/ingress-nginx/pull/3076 

**Relevant links:**
- [Ingress-Nginx Regex Support Project Brief](https://docs.google.com/document/d/1bb23mByl8TELMpcWLs_Cp30-ehKL-rblPO9weLch7NA/edit?ts=5b929287#heading=h.ypkmjgl9xesn)
- [Spreadsheet of regex support for ingress controllers](https://docs.google.com/spreadsheets/d/1-oS8CKD4MtdEMar7QMUibCb-TUJ5ZIglRl2cLvaQ5zs/edit#gid=0)
- [Discussion of standardizing regex support among ingress controllers](kubernetes/ingress-nginx#555)
- [Open issue on lack of regex support in ingress-nginx](https://github.com/kubernetes/ingress-nginx/pull/1415)
- [NGINX location modifiers](https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/api/extensions/v1beta1/types.go#L703 )

@ElvinEfendi @sbfaulkner
",['ElvinEfendi'],3,2018-09-11 20:10:42,2018-09-14 22:29:34,2018-09-17 16:46:35,True,2018-09-14 22:29:34,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3079,https://github.com/kubernetes/ingress-nginx/pull/3079,ElvinEfendi,Openresty gdb tools,"**What this PR does / why we need it**:
Makes https://github.com/openresty/openresty-gdb-utils part of base Nginx image.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],2,2018-09-12 01:02:00,2018-09-12 01:36:50,2018-09-12 01:37:00,True,2018-09-12 01:36:50,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3080,https://github.com/kubernetes/ingress-nginx/pull/3080,aledbf,Update nginx image to 0.62,,['ElvinEfendi'],1,2018-09-12 01:52:54,2018-09-12 02:19:40,2018-09-13 15:17:24,True,2018-09-12 02:19:40,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3081,https://github.com/kubernetes/ingress-nginx/pull/3081,hchenxa,<WIP>add expire time annotation,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

support more annotation for session sticky like cookie expire time.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
/assign @elvinefendi",[],1,2018-09-12 06:02:46,2018-10-29 07:46:59,2018-10-29 07:46:59,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3090,https://github.com/kubernetes/ingress-nginx/pull/3090,aledbf,Add note about default namespace and merge behavior,,['antoineco'],1,2018-09-13 13:27:02,2018-09-13 13:53:07,2018-09-13 15:17:19,True,2018-09-13 13:53:07,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3092,https://github.com/kubernetes/ingress-nginx/pull/3092,aledbf,Update mkdocs and travis-ci,"**What this PR does / why we need it**:

This PR updates mkdocs to the latest stable version and removes the mkdocs-awesome-pages-plugin plugin (incompatible)
",['antoineco'],3,2018-09-13 17:04:03,2018-09-13 23:03:14,2018-09-13 23:59:32,True,2018-09-13 23:03:14,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3093,https://github.com/kubernetes/ingress-nginx/pull/3093,aledbf,Fix docs [skip-ci],,[],1,2018-09-13 23:43:33,2018-09-13 23:43:49,2018-09-13 23:59:44,True,2018-09-13 23:43:49,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3094,https://github.com/kubernetes/ingress-nginx/pull/3094,aledbf,Fix baremetal images [skip ci],,[],1,2018-09-14 00:09:13,2018-09-14 00:09:21,2018-09-14 12:35:50,True,2018-09-14 00:09:21,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3097,https://github.com/kubernetes/ingress-nginx/pull/3097,tc-turner,Added notes to  regarding external access when using TCP/UDP proxy in Ingress,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: Add additional documentation to TCP/UPD proxy support in ingress.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**: The need to define a port on the Ingress Service was not immediately obvious, at-least to me and various hits on Google indicated that other people were seeing the behavior of not being able to reach the proxied port.

This was tested and confirmed working on a bare metal cluster using metallb and ingress-nginx.
",['aledbf'],1,2018-09-14 16:22:22,2018-09-15 14:37:44,2018-09-15 14:37:44,True,2018-09-15 14:37:44,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3098,https://github.com/kubernetes/ingress-nginx/pull/3098,ElvinEfendi,make upstream keepalive work for http,"**What this PR does / why we need it**:
When `upstream-keepalive-connections` is used we don't configure Nginx properly to actually make keepalive effective. Excerpt from docs: http://nginx.org/en/docs/http/ngx_http_upstream_module.html#keepalive
```
For HTTP, the proxy_http_version directive should be set to 1.1 and the Connection header field should be cleared:
```

We do set `proxy_http_version`, but don't clear `Connection` header. This PR makes sure the `Connection` header is cleared when the client is not websocket client (a.k.a it is not setting HTTP `Upgrade` header).

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-09-14 23:59:06,2018-09-15 14:36:28,2018-09-15 14:36:28,True,2018-09-15 14:36:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3100,https://github.com/kubernetes/ingress-nginx/pull/3100,hchenxa,update annotation name from rewrite-log to enable-rewrite-log,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

the annotation name wan not right.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

/assign @caseydavenport",['aledbf'],1,2018-09-17 03:55:26,2018-09-17 13:32:20,2018-09-19 04:12:19,True,2018-09-17 13:32:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3102,https://github.com/kubernetes/ingress-nginx/pull/3102,mrbobbytables,Replace kubernetes-users mailing list links with discuss forum link,"**What this PR does / why we need it**:
This PR updates the links  that currently point to the [Google Groups Kubernetes Mailing List](https://groups.google.com/forum/#!forum/kubernetes-users) to the new [discuss.kubernetes.io](https://discuss.kubernetes.io) forum. 

The mailing list has been archived and set to read only. For more information on this, see issue https://github.com/kubernetes/community/issues/2492

/cc @castrojo 
",['aledbf'],1,2018-09-17 22:31:45,2018-09-17 23:01:24,2018-09-17 23:01:24,True,2018-09-17 23:01:24,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3103,https://github.com/kubernetes/ingress-nginx/pull/3103,hchenxa,incorrect opentracing flags,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Then `opentracing` should be on when `EnableOpentracing` was `true`.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
/assign @caseydavenport ",[],1,2018-09-18 06:36:37,2018-09-18 12:36:08,2018-09-19 04:12:22,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3108,https://github.com/kubernetes/ingress-nginx/pull/3108,hchenxa,the port range was too large,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

the port range was too large which impact the kubelet data proxying like below:
```
Sep 19 03:39:00 hchenxa-1 hyperkube[12683]: E0919 03:39:00.856058   12683 upgradeaware.go:310] Error proxying data from client to backend: readfrom tcp 127.0.0.1:61590->127.0.0.1:1511: write tcp 127.0.0.1:61590->127.0.0.1:1511: write: broken pipe
```

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

/assign @aledbf ",[],1,2018-09-19 04:09:32,2018-09-20 12:11:14,2018-10-08 06:22:17,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3111,https://github.com/kubernetes/ingress-nginx/pull/3111,hchenxa,doc issue related to monitor part,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

there have some doc issue related to monitoring part.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['antoineco'],1,2018-09-20 07:46:36,2018-09-20 12:32:21,2018-10-08 06:22:15,True,2018-09-20 12:32:21,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3113,https://github.com/kubernetes/ingress-nginx/pull/3113,stepyu,fix typos,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

```release-note
NONE
```
",['antoineco'],1,2018-09-20 08:32:54,2018-09-20 09:16:18,2018-09-20 09:16:19,True,2018-09-20 09:16:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3115,https://github.com/kubernetes/ingress-nginx/pull/3115,eutopian,Fixed link to aws elastic loadbalancer,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Original Readme link was pointing to a spanish version of the aws site. 

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['antoineco'],2,2018-09-20 19:40:44,2018-09-20 21:03:55,2018-09-20 21:03:56,True,2018-09-20 21:03:55,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3118,https://github.com/kubernetes/ingress-nginx/pull/3118,aledbf,Replace standard json encoding with jsoniter,"**What this PR does / why we need it**:

Improve performance dealing with json (metrics is the focus) and filter data coming from NGINX before the creation of prometheus metrics

**Which issue this PR fixes**:

fixes #3114
fixes #3116
","['ElvinEfendi', 'antoineco']",5,2018-09-22 17:56:57,2018-09-25 07:41:27,2018-09-25 18:56:24,True,2018-09-25 07:41:27,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3121,https://github.com/kubernetes/ingress-nginx/pull/3121,mirake,Typo fix: adresses -> addresses,"Signed-off-by: Rui Cao <ruicao@alauda.io>

",['aledbf'],1,2018-09-24 14:51:50,2018-09-24 15:19:57,2018-09-24 15:19:57,True,2018-09-24 15:19:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3123,https://github.com/kubernetes/ingress-nginx/pull/3123,zrdaley,Revert Kube-Lego Edge Case Fix and Enforce Regex on All Locations,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

### **What this PR does / why we need it**:

1. Reverts https://github.com/kubernetes/ingress-nginx/pull/3078
2. Sort the locations by path length in descending order in the NGINX template
3. Enforce the ~* location modifier on ALL paths

The goal of this is to allow for longest path matching without having to prioritize either regex or non-regex paths. In addition, this would allow a user to use regex on non-rewrite annotated paths.

### **How this works**: 
NGINX regex matching uses **first match** not **longest match**. Ordering by descending length will help resolve this problem.

### **Which issue this PR fixes** *: 
fixes https://github.com/kubernetes/ingress-nginx/pull/1415

### **Special notes for your reviewer**:
Due to the nature of how NGINX does regex matching, there will still be edge cases. However they are far less blocking than what currently exists:

#### Example edge case: long regex
Let two paths be defined on an ingress:
- `/foo/bar`
- `/foo/[A-Z0-9]{32}`

A request to `foo/bar` will hit `/foo/[A-Z0-9]{32}`

@ElvinEfendi @jmreid @sbfaulkner @Wayt

",['aledbf'],5,2018-09-24 18:57:19,2018-09-26 15:40:44,2018-09-26 15:40:44,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3125,https://github.com/kubernetes/ingress-nginx/pull/3125,jonpulsifer,[404-server] Conceal /metrics and /healthz behind port 10254,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

- Implements an HTTP multiplexer for the `/metrics` and `/healthz` endpoints and exposes a command line flag to change the port (default `10254`)
- Implements a timeout (default `5s`) for the graceful shutdown

**Which issue this PR fixes**:

Fixes https://github.com/kubernetes/ingress-nginx/issues/1733

**Special notes for your reviewer**:

~This PR is getting pretty big.. I don't know if we should cut a release yet, or wait until we bump the manifests?~ code has been updated to maintain existing functionality, so i don't think i'm that worried anymore

The 404-server is supposed to be small, but it's getting bigger, I don't know what we want to do here","['aledbf', 'bowei']",1,2018-09-25 02:18:50,2018-09-26 21:38:18,2018-09-27 18:57:58,True,2018-09-26 21:38:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3126,https://github.com/kubernetes/ingress-nginx/pull/3126,ElvinEfendi,do not require --default-backend-service,"**What this PR does / why we need it**:
~At this time the PR is mainly to foster discussion around the necessity of `default-backend-service`.~
The idea is not everyone requires custom default backend and it should not be ingress-nginx's concern to provide a sophisticated default backend. What I'm suggesting in this PR is to make `default-backend-service` optional. When it is not given then ingress-nginx returns 404 directly from Nginx. When configured then the existing behaviour is held.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],2,2018-09-25 03:38:59,2018-09-26 09:53:09,2018-12-05 13:58:14,True,2018-09-26 09:53:09,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3128,https://github.com/kubernetes/ingress-nginx/pull/3128,rikatz,Correct the password file creation permissions,"Signed-off-by: Ricardo Pchevuzinske Katz <ricardo.katz@serpro.gov.br>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: This PR corrects the file permission when creating "".passwd"" files for basic authentication

When using the unprivileged ``www-data`` user, ingress-controller creates the files inside ``/etc/ingress-controller/auth`` with permission 0660. As the ingress-controller runs as root, this leads to creating files without permission to NGINX process, and giving log errors as:

```
*15 open() ""/etc/ingress-controller/auth/namespace-ingress.passwd"" failed (13: Permission denied), client: 10.10.10.10, server: test.lab, request: ""GET / HTTP/2.0"", host: ""test.lab""
```


**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-09-25 12:45:41,2018-09-25 13:20:34,2018-09-25 13:42:53,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3130,https://github.com/kubernetes/ingress-nginx/pull/3130,alanbover,fix newlines location denied,"**What this PR does / why we need it**:
Escape '\n' simbols when logging 'Location denied' error in nginx configuration. Without it, nginx completelly breaks and it's unable to generate new configurations affecting other possible tenants in the cluster.

**Which issue this PR fixes**
We create an ingress object with an incorrect ip-whitelisting annotation. For example:
```
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: cafe-ingress
  annotations:
    nginx.ingress.kubernetes.io/whitelist-source-range: |
       # This comment breaks ingress
       8.8.8.8/32,
       9.9.9.9/32
spec:
  rules:
  - host: cafe.example.com
    http:
      paths:
      - path: /tea
        backend:
          serviceName: tea-svc
          servicePort: 80
      - path: /coffee
        backend:
          serviceName: coffee-svc
          servicePort: 80
```
Ingress will start failing with an error:
```
E0921 09:40:26.453561       8 controller.go:183] Unexpected failure reloading the backend:-------------------------------------------------------------------------------
Error: exit status 1
2018/09/21 09:40:26 [emerg] 660#660: unknown directive ""8.8.8.8/32"" in /tmp/nginx-cfg534865713:414
nginx: [emerg] unknown directive ""8.8.8.8/32"" in /tmp/nginx-cfg534865713:414
nginx: configuration file /tmp/nginx-cfg534865713 test failed-------------------------------------------------------------------------------
W0921 09:40:26.453594       8 queue.go:130] requeuing default/cafe-ingress, err 
```

Because it's generating an incorrect location on nginx:
```
 location /tea {

                        set $namespace      ""default"";
                        set $ingress_name   ""cafe-ingress"";
                        set $service_name   ""tea-svc"";
                        set $service_port   ""80"";
                        set $location_path  ""/tea"";

                        rewrite_by_lua_block {

                                balancer.rewrite()

                        }

                        log_by_lua_block {

                                balancer.log()

                                monitor.call()
                        }

                        port_in_redirect off;

                        set $proxy_upstream_name ""default-tea-svc-80"";

                        # Location denied. Reason: the annotation does not contain a valid IP address or network: invalid CIDR address: # This should make it fail
                        8.8.8.8/32
                        return 503;

                }
```

",['antoineco'],1,2018-09-25 13:25:51,2018-09-25 14:04:52,2018-09-25 14:18:03,True,2018-09-25 14:04:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3133,https://github.com/kubernetes/ingress-nginx/pull/3133,maximbr,multi-tls readme example to reference the file,Makes the doc on https://kubernetes.github.io/ingress-nginx/examples/multi-tls/ clearer by linking to the example file (no directory context there as in Github so the example is not clear),[],1,2018-09-25 17:44:08,2018-09-25 18:57:30,2018-09-26 03:15:25,True,2018-09-25 18:57:30,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3134,https://github.com/kubernetes/ingress-nginx/pull/3134,aledbf,Update nginx to 1.15.4,"Update nginx to 1.15.4
Add support for [gunzip](http://nginx.org/en/docs/http/ngx_http_gunzip_module.html)

**Which issue this PR fixes**:

fixes #3077
fixes #2994
fixes #3037
fixes #3036

",['ElvinEfendi'],1,2018-09-25 19:20:41,2018-09-25 20:35:58,2018-09-25 21:08:54,True,2018-09-25 20:35:58,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3135,https://github.com/kubernetes/ingress-nginx/pull/3135,zrdaley,Remove payload from post log,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This function will log sensitive public and private certificate data when called from `configureCertificates`: https://github.com/kubernetes/ingress-nginx/blob/3f6314aa2f4b204f296d63840d3c37bfc65c3f2a/internal/ingress/controller/nginx.go#L813-L823 

Omitting the payload will prevent sensitive data from being leaked. 

@ElvinEfendi 
","['aledbf', 'ElvinEfendi']",1,2018-09-25 21:07:28,2018-09-26 15:09:15,2018-09-26 16:50:22,True,2018-09-26 15:09:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3136,https://github.com/kubernetes/ingress-nginx/pull/3136,aledbf,Update nginx image,replaces #3038,['antoineco'],1,2018-09-25 21:35:18,2018-09-25 22:06:12,2018-09-25 22:19:01,True,2018-09-25 22:06:12,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3137,https://github.com/kubernetes/ingress-nginx/pull/3137,aledbf,Docker run as user,,['ElvinEfendi'],1,2018-09-25 23:42:47,2018-09-26 00:17:18,2018-09-26 02:13:03,True,2018-09-26 00:17:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3142,https://github.com/kubernetes/ingress-nginx/pull/3142,aledbf,Fix deployments until next release,,[],1,2018-09-26 13:15:13,2018-09-26 13:15:58,2018-09-26 14:02:48,True,2018-09-26 13:15:57,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3143,https://github.com/kubernetes/ingress-nginx/pull/3143,Globegitter,Ensure monitoring for custom error pages,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: This should fix missing metrics when custom error pages are activated

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3140

**Special notes for your reviewer**: I am not super familiar with the lua setup but hope that should do it.
",['aledbf'],2,2018-09-26 14:27:56,2018-09-26 14:59:31,2018-09-26 15:15:09,True,2018-09-26 14:59:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3144,https://github.com/kubernetes/ingress-nginx/pull/3144,Globegitter,Fix incorrect .DisableLua access.,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: This fixes an error in the previously just PR #3143

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**: ",['aledbf'],2,2018-09-26 15:37:10,2018-09-26 17:05:06,2018-09-26 18:14:36,True,2018-09-26 17:05:06,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3145,https://github.com/kubernetes/ingress-nginx/pull/3145,zrdaley,"Add ""use-regex"" Annotation to Toggle Regular Expression Location Modifier ","<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This PR does the following: 
1. Reverts https://github.com/kubernetes/ingress-nginx/pull/3078
2. Adds `use-regex` annotation:
    -  Allows a user to use regex on non-rewritten paths
    - For a given host, if any location uses the `rewrite-target` __or__ `use-regex` annotation, then the `~*` location modifier on ALL locations within that hosts `server` block
3. Documents how to use this annotation and how regular expression prioritization works in NGINX

The goal of this is to allow for longest path matching without having to prioritize either regex or non-regex paths. In addition, this would allow a user to use regex on non-rewrite annotated paths.


**Which issue this PR fixes**: fixes https://github.com/kubernetes/ingress-nginx/issues/1360

**Previous attempts to solve this problem:**
- Always enforcing regex location modifer: https://github.com/kubernetes/ingress-nginx/pull/3123
- Custom location modifier through annotation: https://github.com/kubernetes/ingress-nginx/pull/1415

@ElvinEfendi  @Wayt @aledbf 

**Edit:** I (aledbf) removed the #555 reference because that is about the ingress spec more than ingress-nginx",['ElvinEfendi'],1,2018-09-26 15:39:44,2018-10-01 18:31:44,2018-10-01 18:31:55,True,2018-10-01 18:31:44,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3146,https://github.com/kubernetes/ingress-nginx/pull/3146,aledbf,Update default backend image,,[],1,2018-09-26 19:04:33,2018-09-29 14:36:02,2018-10-03 13:26:54,True,2018-09-29 14:36:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3147,https://github.com/kubernetes/ingress-nginx/pull/3147,aledbf,Fix error publishing docs [skip ci],"Fixes
```
ERROR   -  Config value: 'markdown_extensions'. Error: Failed loading extension ""pymdownx.tasklist(custom_checkbox=true)"". 
```",[],1,2018-09-27 01:08:35,2018-09-27 01:09:47,2018-09-27 01:19:18,True,2018-09-27 01:09:47,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3149,https://github.com/kubernetes/ingress-nginx/pull/3149,diazjf,Add e2e Tests for Proxy Annotations,"Adds e2e tests for the following annotations:

- proxy-body-size
- proxy-connect-timeout
- proxy-send-timeout
- proxy-read-timeout
- proxy-buffering
- proxy-buffer-size
- proxy-request-buffering
- proxy-next-upstream
- proxy-next-upstream-tries
- proxy-cookie-domain
- proxy-cookie-path

and also updates some documentation.

Fixes #3152",['aledbf'],2,2018-09-27 16:36:06,2018-10-05 12:15:10,2018-10-05 12:15:10,True,2018-10-05 12:15:10,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3151,https://github.com/kubernetes/ingress-nginx/pull/3151,diazjf,Add e2e test for SSL-Ciphers,Adds tests to make sure SSL-Ciphers are configurable via annotation,['antoineco'],1,2018-09-27 19:24:02,2018-09-27 19:51:21,2018-09-27 19:51:21,True,2018-09-27 19:51:21,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3156,https://github.com/kubernetes/ingress-nginx/pull/3156,jonpulsifer,[404-server] Removes 404 server,Removes the 404-server because it's going to live in the kubernetes/ingress-gce repository ref https://github.com/kubernetes/ingress-gce/pull/503 and https://github.com/kubernetes/ingress-gce/issues/498,['aledbf'],2,2018-09-28 21:21:54,2018-11-15 17:51:01,2018-11-15 17:51:41,True,2018-11-15 17:51:01,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3159,https://github.com/kubernetes/ingress-nginx/pull/3159,kirs,Pass --shell to minikube docker-env,"This fixes `make dev-env` for those developers who are using non-standard shell, for instance fish.

By default, `minikube docker-env` prints exports in the format of your shell. If your shell is fish and `minikube docker-env` is executed from a bash script, it will still print the export template in fish format. That makes the script break.

The solution is to pass `--shell bash` argument.

Side question: what minikube driver do you suggest use on Mac?",['aledbf'],1,2018-09-29 21:14:44,2018-09-29 21:43:35,2018-10-01 00:00:51,True,2018-09-29 21:43:35,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3162,https://github.com/kubernetes/ingress-nginx/pull/3162,ms4720,update name of config map in README.md,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

- updates the name of the ingress nginx configure CM to current name

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

fixes #3161 

**Special notes for your reviewer**:
 ",['aledbf'],1,2018-09-30 03:05:21,2018-09-30 12:54:28,2018-10-05 04:13:39,True,2018-09-30 12:54:27,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3164,https://github.com/kubernetes/ingress-nginx/pull/3164,rikatz,Initial support for CRL in Ingress Controller,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: This PR adds support for CRL into Ingress Controller

**Which issue this PR fixes** : fixes #1514

**Special notes for your reviewer**: This is a WIP. Tests still need to be improved. Also this PR doesn't support dynamic ssl configuration (yet), needs @ElvinEfendi review ;) I couldn't make further e2e tests yet
",[],5,2018-09-30 23:03:28,,2019-02-26 21:41:52,False,,,dirty,False,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3166,https://github.com/kubernetes/ingress-nginx/pull/3166,gabel,Added ingress tls values.yaml example to documentation,"Documentation fix


<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

In the [live documentation (mkdocs)](https://kubernetes.github.io/ingress-nginx/examples/tls-termination/) the values.yaml file for tls is hidden. A link only would still hide the content, so adding the content to the docs itself.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*:  -

**Special notes for your reviewer**:
Browsing the live docs the example values.yaml was hidden and reader need to have the plan to browse the github repository to find the example. That's the reason to add it to the markdown directly.","['aledbf', 'antoineco']",1,2018-10-02 06:25:16,2018-10-10 17:19:13,2018-10-10 17:19:13,True,2018-10-10 17:19:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3169,https://github.com/kubernetes/ingress-nginx/pull/3169,tehKapa,Update upgrade.md,"**What this PR does / why we need it**:

Corrects typo on Upgrading page",[],1,2018-10-02 13:03:20,2018-10-02 13:24:06,2018-10-02 13:24:06,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3170,https://github.com/kubernetes/ingress-nginx/pull/3170,Globegitter,Move mainSnippet before events to fix load_module issue.,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
I was trying to activate the dynamic geoip2 module added in 0.16 as follows:
```
main-snippet: |
    load_module /etc/nginx/modules/ngx_http_geoip2_module.so;
```

but then getting the error:
```
Error: exit status 1
nginx-ingress-controller 2018/10/02 13:24:16 [emerg] 21791#21791: ""load_module"" directive is specified too late in /tmp/nginx-cfg246481140:21
nginx-ingress-controller nginx: [emerg] ""load_module"" directive is specified too late in /tmp/nginx-cfg246481140:21
nginx-ingress-controller nginx: configuration file /tmp/nginx-cfg246481140 test failed
```

And turns out the `load_module` commands need to be listed before the `event` block.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-02 13:28:33,2018-10-08 13:22:26,2018-10-16 08:16:47,True,2018-10-08 13:22:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3174,https://github.com/kubernetes/ingress-nginx/pull/3174,zrdaley,Generalize Rewrite Block Creation and Deprecate AddBaseUrl (not backwards compatible) ,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

When the `rewrite-target` annotation is used and the written path uses regex and does not end in `/` (ex. `foo/bar/.+`), rewrite does not work as expected. This provides a regex check in `BuildProxyPass` and uses a custom rewrite block if the `use-regex` annotation is true for a location.

_UPDATE_
In addition to the above, this PR deprecates the `AddBaseUrl` annotation. 

**Problem**

An ingress is created with `use-regex=""true""` and `rewrite-target=""/new""` and the path `/foo/bar/.+`.

This results in the following rewrite blocks for that location:
```
rewrite (?i)/foo/bar/.+/(.*) /new/$1 break;
rewrite (?i)/foo/bar/.+$ /new break;
...
```

Therefore a request to `/foo/bar/bar` will go to `/new` instead of `/new/bar` as a user may expect.

**Solution**

Check if a use-regex is true for a location when building the proxy pass. 

An ingress is created with `use-regex=""true""` and `rewrite-target=""/new/$1""` and the path `/foo/bar/(.+)`.

This results in the following rewrite blocks for that location:
```
rewrite (?i)/foo/bar/(.+) /new/$1 break;
...
```

Now a request to `/foo/bar/bar` will go to `/new/bar`.
","['aledbf', 'ElvinEfendi']",1,2018-10-03 17:02:39,2019-01-02 20:30:19,2019-02-10 08:14:31,True,2019-01-02 20:30:19,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3175,https://github.com/kubernetes/ingress-nginx/pull/3175,yanc0,Fix yaml indentation in annotations server-snippet doc,"Copy / Pasting the code made errors when injecting config in Kubernetes cluster. With this change, annotations now works in ingresses metadata.
",['aledbf'],1,2018-10-03 17:48:28,2018-10-03 18:18:28,2018-10-03 18:18:28,True,2018-10-03 18:18:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3178,https://github.com/kubernetes/ingress-nginx/pull/3178,aledbf,Update nginx to 1.15.5,"**What this PR does / why we need it**:

Updates nginx to avoid ssl issues with nginx workers http://nginx.org/en/CHANGES",['ElvinEfendi'],1,2018-10-04 02:07:31,2018-10-04 02:28:54,2018-10-04 02:31:21,True,2018-10-04 02:28:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3179,https://github.com/kubernetes/ingress-nginx/pull/3179,aledbf,Update nginx image,,['ElvinEfendi'],1,2018-10-04 02:44:31,2018-10-04 03:17:02,2018-10-04 03:17:02,True,2018-10-04 03:17:02,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3182,https://github.com/kubernetes/ingress-nginx/pull/3182,zrdaley,Allow curly braces to be used in regex paths,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: 

This fixes the issue where the nginx template breaks if curly braces are used in a regular expression ingress path. 

**Which issue this PR fixes**: fixes https://github.com/kubernetes/ingress-nginx/issues/3155
","['aledbf', 'ElvinEfendi']",1,2018-10-04 14:45:18,2018-10-04 15:29:16,2018-10-04 15:31:18,True,2018-10-04 15:29:16,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3185,https://github.com/kubernetes/ingress-nginx/pull/3185,ms4720,Fix: name: nginx-load-balancer-conf -> nginx-configuration,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

get bad info out of the documentation

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
#3184 

**Special notes for your reviewer**:
",[],1,2018-10-05 03:11:38,2018-10-09 03:19:53,2018-10-09 04:02:14,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3186,https://github.com/kubernetes/ingress-nginx/pull/3186,garethcmurphy,Update Changelog.md,"Fixing typo in ChangeLog

dynamically -> dynamically",[],1,2018-10-05 04:30:24,2018-10-07 13:24:14,2018-10-07 13:24:14,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3187,https://github.com/kubernetes/ingress-nginx/pull/3187,DesmondHoLLM,UPT: annotation enhancement for resty-lua-waf,"Dear community,

# feature 
- nginx.ingress.kubernetes.io/lua-resty-waf-allow-unknown-content-types
  - for allowing the unknown content
- nginx.ingress.kubernetes.io/lua-resty-waf-score-threshold
  - for override the score threshold for lua waf
- nginx.ingress.kubernetes.io/lua-resty-waf-process-multipart-body
  - for disabling resty lua to check the multipart contents
",['ElvinEfendi'],4,2018-10-05 06:12:48,2018-10-25 07:06:04,2018-10-25 07:06:04,True,2018-10-25 07:06:04,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3189,https://github.com/kubernetes/ingress-nginx/pull/3189,aledbf,Release 0.20.0,,"['ElvinEfendi', 'antoineco']",2,2018-10-05 15:36:39,2018-10-07 13:22:39,2018-10-08 14:57:56,True,2018-10-07 13:22:39,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3190,https://github.com/kubernetes/ingress-nginx/pull/3190,diazjf,Refactor e2e Tests to use common helper,"Each e2e test is creating the same(or similar) Ingress Resource. This encapsulates the ingress resource creation into a common helper method, reducing code duplication.
",['ElvinEfendi'],1,2018-10-05 16:58:10,2018-10-09 23:13:35,2018-10-09 23:13:35,True,2018-10-09 23:13:35,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3193,https://github.com/kubernetes/ingress-nginx/pull/3193,diazjf,Add E2E tests for HealthCheck,"Adds e2e tests for:

- upstream-max-fails
- upstream-fail-timeout",['aledbf'],1,2018-10-05 20:12:07,2018-10-08 23:24:59,2018-10-09 02:41:40,True,2018-10-08 23:24:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3194,https://github.com/kubernetes/ingress-nginx/pull/3194,bshelton229,Make literal $ character work in set $location_path,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This is one option of making the template work when the literal `$` character is in a path. We ran into this testing the new regex functionality where we have paths using regexes that contain a `$`.

I had a hard time finding another way to get a literal `$` in a set variable in nginx. This idea was found in this thread - https://forum.nginx.org/read.php?2,218536,218559 .

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3191 

**Special notes for your reviewer**:

Using the geo module definitely feels really strange. When we were using a custom template to facilitate regex, before testing the `use-regex` functionality that will come in 0.20.0, we just removed the `set $location_path` declaration as it didn't appear to be used by the template anywhere else that we could see and we didn't need to use it anywhere custom. We also considered a string replace with something like `%24` rather than this type of hack. There is possibly a better way to facilitate getting a `$` character in a set that I can't find.",['ElvinEfendi'],2,2018-10-05 23:10:44,2018-10-09 22:52:40,2018-10-09 22:52:40,True,2018-10-09 22:52:39,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3195,https://github.com/kubernetes/ingress-nginx/pull/3195,diazjf,Add e2e Tests for AuthTLS,"Adds E2E tests for the following annotations:

- auth-tls-secret
- auth-tls-verify-depth
- auth-tls-verify-client
- auth-tls-error-page
- auth-tls-pass-certificate-to-upstream
",['aledbf'],1,2018-10-06 03:41:19,2018-10-19 10:02:44,2018-10-19 10:02:44,True,2018-10-19 10:02:44,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3196,https://github.com/kubernetes/ingress-nginx/pull/3196,aledbf,Remove default backend requirement,,"['ElvinEfendi', 'antoineco']",1,2018-10-07 13:33:17,2018-10-07 15:33:00,2019-01-08 11:59:09,True,2018-10-07 15:33:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3197,https://github.com/kubernetes/ingress-nginx/pull/3197,aledbf,Remove support for TCP and UDP services,,"['ElvinEfendi', 'antoineco']",2,2018-10-07 13:57:06,2018-10-08 14:19:40,2018-11-20 23:55:58,True,2018-10-08 14:19:39,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3198,https://github.com/kubernetes/ingress-nginx/pull/3198,aledbf,Only support dynamic configuration,,['ElvinEfendi'],1,2018-10-07 14:21:09,2018-10-10 12:07:35,2018-10-10 13:03:39,True,2018-10-10 12:07:35,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3199,https://github.com/kubernetes/ingress-nginx/pull/3199,mooncak,Remove duplication in files,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Remove duplication in files:

1. docs/examples/customization/custom-errors/README.md
2. images/404-server/server.go

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['antoineco'],1,2018-10-07 15:06:37,2018-10-07 15:53:42,2018-10-08 14:44:22,True,2018-10-07 15:53:42,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3201,https://github.com/kubernetes/ingress-nginx/pull/3201,hchenxa,no data shows for config reloads charts when select to namespace or controller,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

with the sample grafana dashboard file, the data can not show for config reloads charts when select to namespace or controller 

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-08 06:42:48,2018-10-08 18:25:53,2018-10-09 01:47:20,True,2018-10-08 18:25:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3203,https://github.com/kubernetes/ingress-nginx/pull/3203,aledbf,Remove annotations grpc-backend and secure-backend already deprecated,"**What this PR does / why we need it**:

These annotations were deprecated two releases ago. It's time to remove the code.","['ElvinEfendi', 'antoineco']",1,2018-10-08 14:06:43,2018-10-09 10:58:08,2018-10-09 11:17:45,True,2018-10-09 10:58:08,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3204,https://github.com/kubernetes/ingress-nginx/pull/3204,aledbf,Flags publish-service and publish-status-address are mutually exclusive,"**Which issue this PR fixes** 

fixes #2939
","['ElvinEfendi', 'antoineco']",1,2018-10-08 18:01:05,2018-10-09 00:58:17,2018-10-09 01:00:14,True,2018-10-09 00:58:17,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3205,https://github.com/kubernetes/ingress-nginx/pull/3205,aledbf,Update OWNERS [skip ci],,[],1,2018-10-08 18:40:15,2018-10-08 18:40:26,2018-10-08 19:01:06,True,2018-10-08 18:40:26,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3207,https://github.com/kubernetes/ingress-nginx/pull/3207,ElvinEfendi,delete upstream healthcheck annotation,"**What this PR does / why we need it**:
These annotation has little value in ingress-nginx. ingress-nginx relies on k8s for healthchecking.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-09 01:31:13,2018-10-09 15:21:01,2018-10-09 15:21:01,True,2018-10-09 15:21:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3208,https://github.com/kubernetes/ingress-nginx/pull/3208,fqsghostcloud,fix metadata name,fix metadata name,[],2,2018-10-09 02:31:43,2018-10-09 02:56:06,2018-10-09 02:56:06,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3209,https://github.com/kubernetes/ingress-nginx/pull/3209,ms4720,Fix: update config map name,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
update docs 

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
#3184 

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-09 03:21:00,2018-10-09 10:59:29,2018-10-09 10:59:29,True,2018-10-09 10:59:29,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3211,https://github.com/kubernetes/ingress-nginx/pull/3211,gmaslowski,timeout documentation update,"Timeouts are supposed to be set like this:
```
metadata:
  annotations:
    nginx.ingress.kubernetes.io/proxy-connect-timeout: ""120s""
    nginx.ingress.kubernetes.io/proxy-read-timeout: ""120s""
    nginx.ingress.kubernetes.io/proxy-send-timeout: ""120s""
```

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Documentation about setting timout annotation is misleading.  It's not a `number` required but a `string` field. 

**Special notes for your reviewer**:
Documentation update only.",[],1,2018-10-09 14:48:00,2018-10-09 15:07:10,2018-10-09 15:07:11,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3212,https://github.com/kubernetes/ingress-nginx/pull/3212,SgtCoDFish,Add some extra detail to the client cert auth example regarding potential gotcha,"**What this PR does / why we need it**: I'm directly aware of at least two cases (one of them being myself!) where somebody was caught out by the fact that the trusted client cert issuers for an ingress resource _must_ be given in a file named `ca.crt` and that other filenames will fail to work entirely. Given that it's happened at least twice, I'm assuming it's something that could catch more people out and is worth mentioning in the client certificate example documentation.

This change makes it clear to those reading the documentation that this is a potential gotcha. Also, while I was at it, I improved some of the language in the example to be slightly clearer.

**Which issue this PR fixes**: N/a, documentation improvement only.

**Special notes for your reviewer**: N/a as far as I can tell. I just signed the CLA - I hope I did it correctly!
",['aledbf'],1,2018-10-09 21:33:43,2018-10-10 13:57:46,2018-10-10 13:57:46,True,2018-10-10 13:57:46,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3213,https://github.com/kubernetes/ingress-nginx/pull/3213,aledbf,Update deps,"**What this PR does / why we need it**:

Update client-go to v9.0
","['ElvinEfendi', 'antoineco']",2,2018-10-09 23:03:52,2018-10-11 22:53:34,2018-10-12 01:35:24,True,2018-10-11 22:53:34,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3214,https://github.com/kubernetes/ingress-nginx/pull/3214,aledbf,Cleanup of nginx image,,['ElvinEfendi'],1,2018-10-10 01:25:28,2018-10-10 12:17:02,2018-10-10 13:03:30,True,2018-10-10 12:17:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3215,https://github.com/kubernetes/ingress-nginx/pull/3215,hchenxa,align opentracing user-guide with nginx configmap configuration,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
minor changes for opentracing doc to align with the nginx configmap configuration

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-10 03:27:13,2018-10-10 13:56:16,2018-10-16 02:42:54,True,2018-10-10 13:56:16,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3219,https://github.com/kubernetes/ingress-nginx/pull/3219,aledbf,Update nginx image,,['ElvinEfendi'],1,2018-10-10 13:21:58,2018-10-10 16:22:13,2018-10-11 00:22:05,True,2018-10-10 16:22:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3222,https://github.com/kubernetes/ingress-nginx/pull/3222,diazjf,Allow Ability to Configure Upstream Keepalive,"Allows Upstream Keepalive values like keepalive_timeout and keepalive_requests to be configured via ConfigMap.

Fixes #3099",['ElvinEfendi'],2,2018-10-11 00:00:54,2018-10-12 13:15:10,2018-10-12 13:15:10,True,2018-10-12 13:15:10,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3225,https://github.com/kubernetes/ingress-nginx/pull/3225,meeee,Deploy: Add missing `allowPrivilegeEscalation: true`,"**What this PR does / why we need it**:

authbind uses a setuid binary to bind a privileged port, so we need
to allow privilege escalation.

**Special notes for your reviewer**:

I'm wondering why no one noticed this before - I guess there are few
clusters configured with a pod security policy disabling privilege
escalation by default.

I'm also wondering whether `setcap` in the Dockerfile is still necessary
given that ingress-nginx now uses authbind, which acquires the
capability by running with uid 0 instead of having the capability
assigned explicitly (as far as I understand).
",[],1,2018-10-11 10:42:43,2018-11-06 09:10:24,2018-11-06 09:34:03,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3226,https://github.com/kubernetes/ingress-nginx/pull/3226,vasrem,Fix SSL-Passthrough functionality,"**What this PR does / why we need it**:
This PR fixes the SSL-Passthrough functionality since whitelisting isn't working correctly.

**Which issue this PR fixes** :
 fixes #2096 

**Special notes for your reviewer**:
We did some tests regarding the functionality after each commit contained in that PR and the results are presented below.

* Current functionality:

| Scenario | HTTP | HTTPS with SSL-Offloading | HTTPS with SSL-Passthrough |
| :---: | :---: | :---: | :---: | 
| Proxy Protocol + SSL-Passthrough | :x: |   :white_check_mark: | :x: * |
| SSL-Passthrough | :white_check_mark: |  :x: ** | :x: * |
| - | :white_check_mark: | :white_check_mark: | :white_check_mark: *** |

*Notes*
\* Whitelisting isn't taken into account so anyone can access the service
\*\* If whitelisting is defined, then it blocks everyone except 127.0.0.1
\*\*\* Returns 404 which is correct.

___

* After commit acd5356:

| Scenario | HTTP | HTTPS with SSL-Offloading | HTTPS with SSL-Passthrough |
| :---: | :---: | :---: | :---: | 
| Proxy Protocol + SSL-Passthrough | :x: |   :white_check_mark: | :x: * |
| SSL-Passthrough | :white_check_mark: |  :white_check_mark: | :x: * |
| - | :white_check_mark: |  :x: | :white_check_mark: ** |

*Notes*
\* Whitelisting isn't taken into account so anyone can access the service
\*\* Returns 404 which is correct.

___

* After commit 5d22d27:

| Scenario | HTTP | HTTPS with SSL-Offloading | HTTPS with SSL-Passthrough |
| :---: | :---: | :---: | :---: | 
| Proxy Protocol + SSL-Passthrough | :x: |   :white_check_mark: | :x:  * |
| SSL-Passthrough | :white_check_mark: |   :white_check_mark: | :x: * |
| - | :white_check_mark: |  :white_check_mark: | :white_check_mark: ** |

*Notes*
\* Whitelisting isn't taken into account so anyone can access the service
\*\* Returns 404 which is correct.

___

* After commit 1f88c8e:

| Scenario | HTTP | HTTPS with SSL-Offloading | HTTPS with SSL-Passthrough |
| :---: | :---: | :---: | :---: | 
| Proxy Protocol + SSL-Passthrough | :x: |   :white_check_mark: | :white_check_mark: * |
| SSL-Passthrough | :white_check_mark: |   :white_check_mark: | :white_check_mark: * |
| - | :white_check_mark: |  :white_check_mark: | :white_check_mark: ** |

*Notes*
\* I cannot create a response with HTTP status code 403, so instead I send an empty reply. But in that case whitelisting is working correctly.
\*\* Returns 404 which is correct.

Additional contributors: @nrobert13 ",[],3,2018-10-11 12:43:00,2018-10-11 19:47:55,2018-10-15 11:50:38,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3229,https://github.com/kubernetes/ingress-nginx/pull/3229,aledbf,Fix documentation links [skip ci],,[],1,2018-10-12 01:08:54,2018-10-12 01:09:02,2018-10-12 01:35:00,True,2018-10-12 01:09:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3230,https://github.com/kubernetes/ingress-nginx/pull/3230,coreypobrien,Retry initial backend configuration,"Initially when nginx starts, it isn't configured. After loading the initial configuration it will start listening for dynamic configuration. To avoid sending the initial list of backends before nginx is actually listening, there is currently a static 1 second sleep during the initial setup.

For larger or more complex configurations, the delay for nginx to begin listening for backend configurations can exceed 1 second. In that case, there is no retry which means the configuration is never loaded which means nginx health checks fail forever sending it into a crash loop.

This PR adds a retry backoff during the initial configuration to handle these larger delays. For most deployments, this should have identical behavior of sleeping 1s and then working. For the longer ones, if the initial call to `/configuration/backends` fails, the subsequent retries should eventually apply the backend configuration.","['aledbf', 'ElvinEfendi']",2,2018-10-12 04:05:41,2018-10-12 17:01:22,2018-10-12 18:45:33,True,2018-10-12 17:01:21,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3231,https://github.com/kubernetes/ingress-nginx/pull/3231,aledbf,Improve dynamic lua configuration,"**What this PR does / why we need it**:

This change ensures we retry the reconfiguration of NGINX in case of errors.
If it's not possible we need to rebuild the complete model and then try again

This change allows 15 retries up to 5 seconds

```
go run main.go 
0s
1.061s
1.936s
2.619s
3.154s
3.581s
3.931s
4.195s
4.408s
4.578s
4.716s
4.829s
4.922s
4.993s
5.05s
Total time: 5.05s
```",['ElvinEfendi'],1,2018-10-12 17:12:01,2018-10-12 18:25:31,2018-10-13 20:46:04,True,2018-10-12 18:25:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3232,https://github.com/kubernetes/ingress-nginx/pull/3232,posquit0,Fix typo,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: Fix typo in deploy manifest file.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-12 18:12:36,2018-10-12 19:12:16,2018-10-13 16:06:26,True,2018-10-12 19:12:15,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3234,https://github.com/kubernetes/ingress-nginx/pull/3234,aramase,Added e2e tests for backend protocols,Adds e2e tests for `backend-protocol` annotation.,['aledbf'],1,2018-10-12 19:50:34,2018-10-12 22:08:54,2018-10-15 14:42:54,True,2018-10-12 22:08:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3237,https://github.com/kubernetes/ingress-nginx/pull/3237,wayt,Enable nginx proxy-buffering by default,"**What this PR does / why we need it**:

This replicate nginx default configuration for `proxy-buffering`, which is enabled.
http://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_buffering

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

Cc @ElvinEfendi ",['ElvinEfendi'],1,2018-10-12 20:23:39,2018-10-12 20:48:20,2018-10-12 20:49:50,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3238,https://github.com/kubernetes/ingress-nginx/pull/3238,Tabrizian,Fix bare metal considerations link,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This PR fixes a broken link in documentation.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
Fixes broken link

**Special notes for your reviewer**:
",[],1,2018-10-13 09:02:42,2018-10-13 13:56:47,2018-10-14 06:29:28,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3240,https://github.com/kubernetes/ingress-nginx/pull/3240,rikatz,Adds support for HTTP2 Push Preload annotation,"Signed-off-by: Ricardo Pchevuzinske Katz <ricardo.katz@serpro.gov.br>



**What this PR does / why we need it**: This PR adds support for HTTP2 Push Preload, as specified in issue #3233 

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3233 
",['aledbf'],1,2018-10-13 21:42:47,2018-12-24 20:05:48,2018-12-24 20:20:32,True,2018-12-24 20:05:47,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3242,https://github.com/kubernetes/ingress-nginx/pull/3242,rikatz,Add a note to the deployment into GKE,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: When using GKE, additional permissions must exist before bootstraping the ingress controller

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #1663 

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-14 18:51:21,2018-10-14 20:14:32,2018-10-14 20:14:32,True,2018-10-14 20:14:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3247,https://github.com/kubernetes/ingress-nginx/pull/3247,aledbf,Refactor probe url requests,"**What this PR does / why we need it**: this PR avoids using the default http client, providing explicit configuration for timeout and keepalive.","['ElvinEfendi', 'antoineco']",1,2018-10-15 19:29:57,2018-10-16 11:25:58,2018-10-16 12:18:52,True,2018-10-16 11:25:58,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3249,https://github.com/kubernetes/ingress-nginx/pull/3249,rayfoss,Clarify mandatory script doc,"The warnings should probably be above the script, not below, especially in the ever popular GKE, where they are prerequisites. Generic Deployment sounds like it's a deployment that should work on all vanilla Kubernetes installations. It sounds like an OR logic operator, when it should be an AND.

**What this PR does / why we need it**: Clarifies installation doc... the most popular doc relevant to everyone who uses this wonderful program

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3248
",['aledbf'],2,2018-10-15 20:43:19,2018-10-15 21:47:45,2018-10-15 21:47:45,True,2018-10-15 21:47:45,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3252,https://github.com/kubernetes/ingress-nginx/pull/3252,hchenxa,remove the command args of enable-dynamic-configuration,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
as PR 74c2f93de6373d0edf0a1b5c55cd37779a32e261 have only support dynamic configuration enabled, so the command args can not be used any more.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
/assign @elvinefendi",['aledbf'],1,2018-10-16 02:51:24,2018-10-17 13:20:07,2018-10-19 03:10:46,True,2018-10-17 13:20:07,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3257,https://github.com/kubernetes/ingress-nginx/pull/3257,aramase,Add e2e tests for upstream vhost,Add e2e test for `upstream-vhost`,['aledbf'],1,2018-10-16 21:39:21,2018-10-17 21:20:09,2018-10-17 21:44:16,True,2018-10-17 21:20:08,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3260,https://github.com/kubernetes/ingress-nginx/pull/3260,mikeweiwei,fix logging calls,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
If don't use formatted output,fix logging calls
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['antoineco'],1,2018-10-17 12:13:17,2018-10-27 11:16:35,2018-10-27 11:16:35,True,2018-10-27 11:16:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3261,https://github.com/kubernetes/ingress-nginx/pull/3261,zrdaley,Mount minikube volume to docker container,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This was removed here: https://github.com/kubernetes/ingress-nginx/commit/f2bfc42b6502a2dd6c7347713c3dadec4916d9fc#diff-431621728cbbd3bf22d1c9ac24b0d761L72

However, mounting the minikube volume to the docker container is essential for e2e-tests to run properly. Failing to do so results in the following error:

```
Expected error:
      <clientcmd.errConfigurationInvalid | len:3, cap:4>: [
          {
              s: ""unable to read client-cert $HOME/.minikube/client.crt for minikube due to open $HOME/.minikube/client.crt: no such file or directory"",
          },
          {
              s: ""unable to read client-key $HOME/.minikube/client.key for minikube due to open $HOME/.minikube/client.key: no such file or directory"",
          },
          {
              s: ""unable to read certificate-authority $HOME/.minikube/ca.crt for minikube due to open $HOME/.minikube/ca.crt: no such file or directory"",
          },
      ]
      invalid configuration: [unable to read client-cert $HOME/.minikube/client.crt for minikube due to open $HOME/.minikube/client.crt: no such file or directory, unable to read client-key $HOME/.minikube/client.key for minikube due to open $HOME/.minikube/client.key: no such file or directory, unable to read certificate-authority $HOME/.minikube/ca.crt for minikube due to open $HOME/.minikube/ca.crt: no such file or directory]
  not to have occurred

```",['aledbf'],1,2018-10-17 20:09:57,2018-10-19 00:58:58,2018-10-19 13:07:00,True,2018-10-19 00:58:58,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3262,https://github.com/kubernetes/ingress-nginx/pull/3262,aramase,Add e2e test for connection,Add e2e test for `connection-proxy-header`,['aledbf'],1,2018-10-17 21:38:14,2018-10-17 22:26:41,2018-10-17 22:27:24,True,2018-10-17 22:26:41,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3263,https://github.com/kubernetes/ingress-nginx/pull/3263,samuela,"""diretly"" typo",Small typo fix in the documentation.,[],2,2018-10-18 00:40:24,2018-10-27 11:17:46,2018-10-27 17:17:59,True,2018-10-27 11:17:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3264,https://github.com/kubernetes/ingress-nginx/pull/3264,rikatz,Add missing annotations to Docs,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: This PR adds some missing annotations into Docs

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3255 

**Special notes for your reviewer**:
",[],1,2018-10-18 01:32:06,2018-10-18 15:38:38,2018-10-18 15:38:38,True,2018-10-18 15:38:38,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3265,https://github.com/kubernetes/ingress-nginx/pull/3265,aledbf,Update kubeadm-dind-cluster,Fixes current errors in e2e CI tests,"['ElvinEfendi', 'antoineco']",1,2018-10-18 15:07:27,2018-10-19 01:00:24,2018-10-19 01:03:10,True,2018-10-19 01:00:24,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3266,https://github.com/kubernetes/ingress-nginx/pull/3266,ElvinEfendi,fix two bugs with backend-protocol annotation,"**What this PR does / why we need it**:

There are two issues with backend-protocol annotations currently:
1. The annotation does not get applied to catch all server
2. Nginx configuration does not get regenerated when the annotation is changed

This PR fixes both of these.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-18 19:50:14,2018-10-19 13:41:26,2018-10-19 13:47:01,True,2018-10-19 13:41:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3267,https://github.com/kubernetes/ingress-nginx/pull/3267,aledbf,Fix status update in case of connection errors,"**What this PR does / why we need it**:

In case of any error (like the API server not being temporarily available) updating the ingress status, the leader election code stops working. This change forces the termination of the running elector, starting a new one.

**Which issue this PR fixes**: 

fixes #3180 
fixes #3033

Test image: `quay.io/aledbf/nginx-ingress-controller:0.415`

To test this we need to simulate network issues:

1. In a terminal run `kubectl proxy --address=0.0.0.0 --accept-hosts=.*`
2. In a different terminal:
```
export HOST_IP=<IP eth0 or ne0>

docker run --net=host -it \
    -e POD_NAMESPACE=ingress-nginx \
    -e POD_NAME=local \
    quay.io/aledbf/nginx-ingress-controller:0.415 \
    /nginx-ingress-controller \
    --configmap=ingress-nginx/nginx-configuration \
    --apiserver-host=http://$HOST_IP:8001 \
    --publish-status-address=1.1.1.1
```
3. wait a minute and terminate `kubectl proxy`
4. wait a minute and start `kubectl proxy` again

the election of a new leader should appear in the log after the reconnection
","['ElvinEfendi', 'antoineco']",2,2018-10-18 20:09:15,2018-10-29 19:18:16,2018-10-29 19:21:13,True,2018-10-29 19:18:16,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3270,https://github.com/kubernetes/ingress-nginx/pull/3270,ukinau,Don't sort IngressStatus from each Goroutine(update for each ingress),"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Currently ingress controller try to update status for each ingress
resource in a parallel by using Goroutine, and inside this Goroutine we
are trying to sort same IngressStatus reference which is shared between
all Goroutine, this will break the original refrence if some Goroutine
tried to sort exact same time.
So we should have done sorting before passing reference to each
Goroutine to prevent from breaking original reference

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
fixes: #3269

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-19 02:58:56,2018-10-19 09:46:55,2018-10-19 09:46:55,True,2018-10-19 09:46:55,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3271,https://github.com/kubernetes/ingress-nginx/pull/3271,hchenxa,the sample ingress spec error,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

ingress resource sample error

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2018-10-19 03:45:30,2018-10-19 13:22:28,2018-10-19 13:22:28,True,2018-10-19 13:22:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3275,https://github.com/kubernetes/ingress-nginx/pull/3275,diazjf,Add Better Documentation for using AuthTLS,Enhances the documentation for enabling and using Mutual Authentication.,[],1,2018-10-19 19:25:49,2018-10-22 19:15:30,2018-10-22 19:15:30,True,2018-10-22 19:15:30,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3277,https://github.com/kubernetes/ingress-nginx/pull/3277,aramase,Add e2e test for configuration snippet,Add e2e test for `configuration-snippet`.,['aledbf'],1,2018-10-22 21:37:12,2018-10-23 01:58:10,2018-10-23 01:58:10,True,2018-10-23 01:58:10,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3279,https://github.com/kubernetes/ingress-nginx/pull/3279,akx,Fix usages of %q formatting for numbers (%d),"
**What this PR does / why we need it**:

These log statements logged numbers as strings, interpreted as Unicode characters, like

> `Adjusting ServerNameHashBucketSize variable to '@'`",['aledbf'],1,2018-10-23 16:06:59,2018-10-23 16:37:34,2018-10-23 16:37:34,True,2018-10-23 16:37:34,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3280,https://github.com/kubernetes/ingress-nginx/pull/3280,aramase,Add e2e test for from-to-www-redirect,Add e2e tests for `from-to-www-redirect`,['aledbf'],1,2018-10-23 17:48:59,2018-10-23 18:32:40,2018-10-23 19:07:55,True,2018-10-23 18:32:40,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3281,https://github.com/kubernetes/ingress-nginx/pull/3281,aramase,Add e2e test for log,Add e2e test for `enable-access-log` and `enable-rewrite-log`,['aledbf'],1,2018-10-23 18:11:54,2018-10-24 02:37:52,2018-10-24 02:37:52,True,2018-10-24 02:37:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3282,https://github.com/kubernetes/ingress-nginx/pull/3282,SataQiu,Fix some typos,"**What this PR does / why we need it**:
Fix some typos that I found.
/kind cleanup

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",1,2018-10-24 04:11:18,2018-10-24 13:00:10,2018-10-24 13:00:10,True,2018-10-24 13:00:09,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3285,https://github.com/kubernetes/ingress-nginx/pull/3285,zrdaley,Add health-check-timeout as command line argument,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This feature came up during this PR: https://github.com/kubernetes/ingress-nginx/pull/3247#issuecomment-430200955

This allows a user to define a timeout for the request to check if nginx healthz endpoint is returning ok.

",['ElvinEfendi'],1,2018-10-24 17:52:59,2018-10-25 13:31:33,2018-10-25 13:38:13,True,2018-10-25 13:31:33,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3286,https://github.com/kubernetes/ingress-nginx/pull/3286,ElvinEfendi,fix bug with balancer.lua configuration,"A wrong `end` was removed at https://github.com/kubernetes/ingress-nginx/commit/3edf11b85f98a1f0b8ff2c4c456b2dc00b72a0cf#diff-980db9e4b88704f12338bd074839f94eL973 (https://github.com/kubernetes/ingress-nginx/commit/3edf11b85f98a1f0b8ff2c4c456b2dc00b72a0cf#diff-980db9e4b88704f12338bd074839f94eR933 should have been removed).

This PR fixes that regression.


**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-24 18:48:03,2018-10-24 19:16:54,2018-10-24 19:29:51,True,2018-10-24 19:16:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3287,https://github.com/kubernetes/ingress-nginx/pull/3287,diazjf,Re-Enable Secure Upstream Annotation,Renables the secure-verify-ca-secret annotation. This annotation allows a CA to be verified against a service. Also adds e2e tests.,"['aledbf', 'ElvinEfendi']",1,2018-10-24 19:30:04,2018-12-18 19:12:18,2018-12-18 19:12:18,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3289,https://github.com/kubernetes/ingress-nginx/pull/3289,emmanuelCarre,Remove manual content into installation guide,"Hi,

Documentation content is automatically generate on right side of documentation. It is not necessary to add one manually. Furthermore, the manual content is outdated.

You can find the issue here: https://kubernetes.github.io/ingress-nginx/deploy/; Content entry Generic Deployment is a dead link.

Regards,",[],1,2018-10-25 08:50:36,2018-10-25 09:48:20,2018-10-29 22:38:35,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3291,https://github.com/kubernetes/ingress-nginx/pull/3291,miry,Set reuseport and backlog for listen,"Allow set `reuseport` for `listen` directive. Set backlog according current configuration.
I could not find the reasons why those settings enabeld only for internal  `servers`.

Currently we have reuseport and backlog only for default backend server and health server.

Template generated for ingress `sub.example.com` with reuse port enabled:

```
	server {
		server_name sub.example.com ;
		
		listen 80;
```

Expected config:

```
	server {
		server_name sub.example.com ;
		
		listen 80 reuseport backlog=65536;
```

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-10-25 10:14:23,2018-10-25 12:21:45,2018-10-25 12:21:45,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3295,https://github.com/kubernetes/ingress-nginx/pull/3295,ElvinEfendi,Refactor EWMA to not use shared dictionaries,"**What this PR does / why we need it**:

This is replacing https://github.com/kubernetes/ingress-nginx/pull/2986

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-25 18:36:39,2018-10-26 17:47:18,2018-10-26 17:47:18,True,2018-10-26 17:47:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3296,https://github.com/kubernetes/ingress-nginx/pull/3296,aledbf,Update nginx and add support for TLSv1.3,"**Changes:**

- Update openssl to 1.1.1 (required for TLSv1.3)
- Update luajit to c58fe79b870f1934479bf14fe8035fc3d9fdfde2
- Update modsecurity to 56cfa4e4805bb6134b97143052a9b48919cc294f
- Update influxdb to 0e2cb6cbf850a29c81e44be9e33d9a15d45c50e8

fixes #3236
fixes #2384
fixes #3129",['ElvinEfendi'],1,2018-10-25 19:45:28,2018-10-29 13:11:40,2018-10-29 15:56:31,True,2018-10-29 13:11:39,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3297,https://github.com/kubernetes/ingress-nginx/pull/3297,aramase,Add e2e test for force-ssl-redirect,Add e2e test for `force-ssl-redirect`.,['aledbf'],1,2018-10-25 21:42:41,2018-10-26 15:34:19,2018-10-26 15:34:19,True,2018-10-26 15:34:19,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3299,https://github.com/kubernetes/ingress-nginx/pull/3299,jwierzbo,Switch off force-ssl-redirect flag,,[],1,2018-10-25 22:07:50,2018-10-25 22:39:02,2018-10-25 22:39:02,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3301,https://github.com/kubernetes/ingress-nginx/pull/3301,diazjf,Add e2e tests for IP Whitelist,"Adds e2e test for the whitelist-source-range annotation.
Part of the #3124 effort.",['aledbf'],1,2018-10-26 02:35:00,2018-10-26 20:28:01,2018-10-26 20:28:01,True,2018-10-26 20:28:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3302,https://github.com/kubernetes/ingress-nginx/pull/3302,diazjf,Add e2e test for server snippet,"Adds the e2e test for server snippet. Similar test to the
configuration snippet. Part of the #3124 effort.",['aledbf'],1,2018-10-26 02:59:47,2018-10-26 17:51:48,2018-10-26 17:51:48,True,2018-10-26 17:51:48,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3304,https://github.com/kubernetes/ingress-nginx/pull/3304,aledbf,Update kubeadm-dind-cluster script,"**What this PR does / why we need it**:

Remove the dind script from the repository to avoid keep breaking e2e tests after each update of the script from the original repository.",['ElvinEfendi'],1,2018-10-26 11:13:24,2018-10-26 11:52:36,2018-10-26 15:04:10,True,2018-10-26 11:52:36,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3305,https://github.com/kubernetes/ingress-nginx/pull/3305,aramase,Add e2e test for app-root,"Add e2e test for `app-root`.
For https://github.com/kubernetes/ingress-nginx/issues/3124",['aledbf'],1,2018-10-26 16:13:37,2018-10-26 17:53:49,2018-10-26 17:53:49,True,2018-10-26 17:53:49,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3306,https://github.com/kubernetes/ingress-nginx/pull/3306,aramase,Update e2e test to verify redirect code,"Update e2e tests for `force-ssl-redirect` and `force-to-www-redirect` to verify redirect code and location.
For https://github.com/kubernetes/ingress-nginx/issues/3124",['ElvinEfendi'],1,2018-10-26 16:23:08,2018-10-26 17:08:00,2018-10-26 17:08:00,True,2018-10-26 17:08:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3308,https://github.com/kubernetes/ingress-nginx/pull/3308,diazjf,Enhance Global ModSecurity Features,"Adds new Config for ModSecurity to allow the following:

- modsecurity_rules based off a snippet
- modsecurity_rules_remote with a path and key
",[],1,2018-10-27 04:49:49,2018-11-11 21:12:10,2018-11-11 21:12:10,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3309,https://github.com/kubernetes/ingress-nginx/pull/3309,diazjf,Customize ModSecurity to be used in Locations,"Allows ModSecurity to be configured per location. The
following annotations will be added:

- enable-modsecurity
- enable-owasp-core-rules
- modsecurity-transaction-id

Fixes #3167",['aledbf'],1,2018-10-27 05:24:19,2018-11-07 17:29:02,2018-11-07 17:29:02,True,2018-11-07 17:29:02,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3310,https://github.com/kubernetes/ingress-nginx/pull/3310,mbode,Fix geoip2 db files,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Currently, the _geoip2_ databases baked into the docker image do not work. This can be verified in the following way:

1. Install _libmaxminddb_ (e.g. on macOS `brew install libmaxminddb`)
2. `docker run -it quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.20.0 sh`
3. `docker cp <CONTAINER_ID>:/etc/nginx/geoip/GeoLite2-ASN.mmdb .`
4. `mmdblookup --file GeoLite2-ASN.mmdb --ip 1.1.1.1`

>  Got an error from the maxminddb library: The MaxMind DB file's search tree is corrupt

This is due to the way the db files are currently unarchived and should be fixed with this PR.",['ElvinEfendi'],2,2018-10-28 20:37:21,2018-10-29 07:55:25,2018-10-29 07:55:26,True,2018-10-29 07:55:25,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3311,https://github.com/kubernetes/ingress-nginx/pull/3311,xichengliudui,Delete some extra words,"**What this PR does / why we need it**:
Delete some extra words

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-10-29 06:40:38,2018-10-29 06:40:55,2018-10-29 06:40:59,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3312,https://github.com/kubernetes/ingress-nginx/pull/3312,xichengliudui,Delete some extra words,"**What this PR does / why we need it**:
Delete some extra words

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['bowei', 'ElvinEfendi']",1,2018-10-29 06:50:49,2018-10-29 08:32:31,2018-10-29 08:32:31,True,2018-10-29 08:32:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3313,https://github.com/kubernetes/ingress-nginx/pull/3313,skeeey,Support cookie expires,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
support set cookie expires by session sticky annotation (`session-cookie-expires` or `session-cookie-max-age`)

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
/assign @ElvinEfendi
",['ElvinEfendi'],12,2018-10-29 07:29:12,2018-11-02 13:53:46,2018-11-05 09:23:21,True,2018-11-02 13:53:46,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3319,https://github.com/kubernetes/ingress-nginx/pull/3319,superseb,Fix links in deploy index docs,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Fix deployment index links in the docs

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3318

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-29 13:12:54,2018-10-29 13:42:38,2018-10-29 13:42:38,True,2018-10-29 13:42:38,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3320,https://github.com/kubernetes/ingress-nginx/pull/3320,aledbf,Update nginx image and QEMU version,,['ElvinEfendi'],1,2018-10-29 14:02:35,2018-10-29 15:24:39,2018-10-29 15:56:21,True,2018-10-29 15:24:39,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3321,https://github.com/kubernetes/ingress-nginx/pull/3321,mbode,Add configuration for geoip2 module,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: The PR makes it possible to use the [geoip2 module](https://github.com/leev/ngx_http_geoip2_module) via a ConfigMap option so that users do not have to call `load_module` (like e.g. described in #3170).

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #2550

**Special notes for your reviewer**: The PR is based on two closed PRs (#2551, #2755).",['ElvinEfendi'],1,2018-10-29 20:32:05,2018-10-30 12:09:39,2018-10-30 12:21:19,True,2018-10-30 12:09:39,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3322,https://github.com/kubernetes/ingress-nginx/pull/3322,aledbf,Remove e2e boilerplate,"**What this PR does / why we need it**:

This PR starts the process to remove `Expect(err).ToNot(HaveOccurred())` from the test and also avoid using methods from the framework package that return an error requiring an assert after the invocation.
",['ElvinEfendi'],1,2018-10-29 21:39:36,2018-10-30 15:40:24,2018-10-30 16:44:41,True,2018-10-30 15:40:24,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3324,https://github.com/kubernetes/ingress-nginx/pull/3324,ElvinEfendi,Fix sticky session,"**What this PR does / why we need it**:
Fixes load balancing issue with sticky session implementation. Also bringing back e2e tests.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3290, #3056

**Special notes for your reviewer**:
",['aledbf'],2,2018-10-30 12:27:01,2018-10-30 14:52:57,2018-10-30 15:20:59,True,2018-10-30 14:52:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3325,https://github.com/kubernetes/ingress-nginx/pull/3325,aledbf,Fix e2e tests,,['ElvinEfendi'],1,2018-10-30 16:31:41,2018-10-30 17:36:34,2018-10-30 23:09:44,True,2018-10-30 17:36:34,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3326,https://github.com/kubernetes/ingress-nginx/pull/3326,lanuma,fix broken link,,['ElvinEfendi'],1,2018-10-30 17:18:09,2018-11-01 15:32:54,2018-11-01 15:32:54,True,2018-11-01 15:32:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3328,https://github.com/kubernetes/ingress-nginx/pull/3328,aledbf,Code linting,,['ElvinEfendi'],1,2018-10-30 23:47:47,2018-10-31 12:41:05,2018-10-31 14:04:30,True,2018-10-31 12:41:05,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3332,https://github.com/kubernetes/ingress-nginx/pull/3332,crystaljade,"Update build-single-manifest-sh,remove tcp-services-configmap.yaml and udp-services-configmap.yaml",Removes unneeded tcp-services-configmap.yaml and udp-services-configmap.yaml.,['aledbf'],1,2018-10-31 09:35:20,2018-10-31 12:31:04,2018-10-31 12:31:05,True,2018-10-31 12:31:04,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3333,https://github.com/kubernetes/ingress-nginx/pull/3333,ElvinEfendi,breaking change: by default do not trust any client,"**What this PR does / why we need it**:

Currently we configure Nginx in a way that it trusts any client to extract true client IP address from X-Forwarded-For header using realip module. This PR makes it so that by default it does not trust any client at all.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-10-31 12:11:26,2018-11-27 13:12:48,2018-11-27 13:14:01,True,2018-11-27 13:12:48,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3338,https://github.com/kubernetes/ingress-nginx/pull/3338,aledbf,Avoid reloads when endpoints are not available,"**What this PR does / why we need it**:

This PR helps to avoid NGINX reloads when there are no endpoints available or changing too fast (pod restart, something normal in a dev cluster)

fixes #3314 (https://github.com/kubernetes/ingress-nginx/issues/3314#issuecomment-434690432)",['ElvinEfendi'],1,2018-11-01 12:31:55,2018-11-01 14:16:33,2018-11-01 15:10:23,True,2018-11-01 14:16:33,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3339,https://github.com/kubernetes/ingress-nginx/pull/3339,p53,Mention also METALLB here,"i had hard time to find how to configure METALLB with ingress it was not very clear from other documentation, this is nice example how to do it

**What this PR does / why we need it**:
make installation more clear
",[],1,2018-11-01 12:34:42,2018-12-21 17:01:05,2018-12-21 17:01:05,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3340,https://github.com/kubernetes/ingress-nginx/pull/3340,jasongwartz,Adds custom-http-errors per Ingress ,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This PR introduces a new annotation called `custom-http-errors`, which functions in a similar way to the config value `custom-http-errors`, but performs the proxy_intercept overriding on the location blocks specified by that Ingress only.

In our Kubernetes cluster, we have one single ingress controller which serves both frontend website services and APIs - and we want to send back 'pretty' error pages for the web services, but not the APIs.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

https://github.com/kubernetes/ingress-nginx/issues/2532
https://github.com/kubernetes/ingress-nginx/issues/3246 - when using this PR, it's possible to cancel out the global `custom-http-errors` setting by adding the Ingress annotation and setting an unused status code only, like `""nginx.ingress.kubernetes.io/custom-http-errors"": ""418""`.


**Special notes for your reviewer**:

We've been using this annotation in our development/test cluster for a while now and it's working well. I'm open to feedback on how to improve!","['aledbf', 'antoineco']",0,2018-11-01 15:39:24,2018-11-01 23:28:52,2018-11-01 23:35:39,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3341,https://github.com/kubernetes/ingress-nginx/pull/3341,clandry94,Add canary annotation and alternative backends for traffic shaping,"**What this PR does / why we need it**:

Adds support for multi-service routing per ingress by means of alternative backends. It also implements an interface to create these alternative backends through the form of canary annotations. 

### Some terms
**AlternativeBackend** - An alternative backend is a normal ingress-nginx backend with the condition that it is not backed through the typical 1:1 backend-server relationship. Instead, alternative backends share a server with another real backend.

**Primary Backend** - This is the same as a backend. I prefix with the word primary to have a clearer distinction between it and a alternative backend. 

### How it works

#### Canary
As described in the linked issue above, the following annotation
```
nginx.ingress.kubernetes.io/canary: true
```
Combined with a combination of the below annotations, we can define the behaviour of the canary. 

The canary will define a `canary-weight`. If only weight is specified, then n% of traffic will be shifted to the canary backend. Additionally, if `canary-by-cookie` or `canary-by-header` are set, they will shift all traffic which match the cookie/header set with a value of `always` to the canary backend. If no value is set for the header, it will follow the rules of `canary-weight`. 

```
nginx.ingress.kubernetes.io/canary-by-cookie: <cookie name>
nginx.ingress.kubernetes.io/canary-by-header: <header name>
nginx.ingress.kubernetes.io/canary-weight: <0 to 100>
```

After the spec is applied, the ingress in question has it's backends marked as alternative so that the merging code will know what to do with them.

#### AlternativeBackends

When ingresses are synced, the list of backends and servers is built up. After these lists are finished being built in `getBackendServers()`, but before they are sorted and returned to the sync function, we check if the current ingress has a canary enabled. If so, we pass a reference of the ingress, annotations, upstreams, and servers to the `mergeVirtualBackends` function. It works as such:
1) For each path that matches a alternative backend, find the server that matches its path and is not alternative. 
2) If found, embed a alternative backend into the primary backend. If no matching path is found, then delete the alternative upstream as it is invalid and has no server to back it. 

When alternative backends are matched to a primary backend, they will have access to metadata that describes the primary backend as well as rules to shape traffic. These rules come from the canary ingress configuration. 

**Which issue this PR fixes** 

This PR is based on this proposal https://docs.google.com/document/d/1qKTyLBLuKIYE6d6BsFXRM7zYB-2MUk6qJjtBL1KCz78/edit#heading=h.gv8zkanxal65 by @ElvinEfendi and from https://github.com/kubernetes/ingress-nginx/pull/2560

Closes https://github.com/kubernetes/ingress-nginx/issues/2419
 
**Special notes for your reviewer**:","['aledbf', 'ElvinEfendi']",1,2018-11-01 17:13:29,2018-11-06 20:22:17,2018-11-06 20:22:53,True,2018-11-06 20:22:16,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3342,https://github.com/kubernetes/ingress-nginx/pull/3342,aledbf,Allow privilege escalation,replaces #3225,['ElvinEfendi'],3,2018-11-01 18:10:57,2019-01-03 01:49:40,2019-01-08 01:21:00,True,2019-01-03 01:49:40,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3343,https://github.com/kubernetes/ingress-nginx/pull/3343,abaruni,Auth snippet,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:  Add the ability to specify a custom snippet to use in conjunction with external auth. e.g. adding custom headers to the auth request. Please see https://github.com/kubernetes/ingress-nginx/issues/3274

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3274

**Special notes for your reviewer**:
",['aledbf'],1,2018-11-01 18:18:27,2018-11-06 12:37:35,2018-11-06 16:07:41,True,2018-11-06 12:37:34,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3344,https://github.com/kubernetes/ingress-nginx/pull/3344,jasongwartz,Adds CustomHTTPErrors ingress annotation and test,"This is a reopen of https://github.com/kubernetes/ingress-nginx/pull/3340 (after some rebasing trouble)

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This PR introduces a new annotation called `custom-http-errors`, which functions in a similar way to the config value `custom-http-errors`, but performs the proxy_intercept overriding on the location blocks specified by that Ingress only.

In our Kubernetes cluster, we have one single ingress controller which serves both frontend website services and APIs - and we want to send back 'pretty' error pages for the web services, but not the APIs.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

https://github.com/kubernetes/ingress-nginx/issues/2532
https://github.com/kubernetes/ingress-nginx/issues/3246 - when using this PR, it's possible to cancel out the global `custom-http-errors` setting by adding the Ingress annotation and setting an unused status code only, like `""nginx.ingress.kubernetes.io/custom-http-errors"": ""418""`.


**Special notes for your reviewer**:

We've been using this annotation in our development/test cluster for a while now and it's working well. I'm open to feedback on how to improve!",['aledbf'],1,2018-11-01 23:34:00,2018-11-06 17:21:50,2018-11-06 17:25:46,True,2018-11-06 17:21:50,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3345,https://github.com/kubernetes/ingress-nginx/pull/3345,xichengliudui,update annotation,"**What this PR does / why we need it**:
Update outdated annotation

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",1,2018-11-02 03:53:11,2018-11-04 20:58:15,2018-11-04 20:58:15,True,2018-11-04 20:58:15,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3346,https://github.com/kubernetes/ingress-nginx/pull/3346,diazjf,Add e2e test for session-cookie-hash,"Adds the e2e test for the session-cookie-hash annotation.
Part of the #3124 effort.",['ElvinEfendi'],1,2018-11-02 04:46:00,2018-11-02 07:31:43,2018-11-02 07:31:43,True,2018-11-02 07:31:43,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3347,https://github.com/kubernetes/ingress-nginx/pull/3347,diazjf,Add e2e test for ssl-redirect,"Adds the e2e test for the ssl-redirect annotation.
Part of the #3124 effort.
",['aledbf'],1,2018-11-02 05:19:57,2018-11-04 12:56:33,2018-11-04 12:56:33,True,2018-11-04 12:56:33,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3348,https://github.com/kubernetes/ingress-nginx/pull/3348,crystaljade,"Update cli-arguments.md. Remove tcp and udp, add health-check-timeout.","Remove unneeded  tcp-services-configmap and udp-services-configmap.
Add health-check-timeout.",['aledbf'],2,2018-11-02 05:22:46,2018-11-02 14:47:56,2018-11-02 14:47:56,True,2018-11-02 14:47:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3349,https://github.com/kubernetes/ingress-nginx/pull/3349,xiezongzhe,fix typo,visbility->visibility,['aledbf'],1,2018-11-02 07:32:44,2018-11-03 01:59:19,2018-11-03 01:59:19,True,2018-11-03 01:59:19,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3353,https://github.com/kubernetes/ingress-nginx/pull/3353,aledbf,Update nginx modules,"**What this PR does / why we need it**:

Update required to fix modsecurity issues",[],1,2018-11-03 22:24:10,2018-11-03 22:29:08,2018-11-03 23:41:13,True,2018-11-03 22:29:08,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3354,https://github.com/kubernetes/ingress-nginx/pull/3354,aledbf,Update nginx image,,[],1,2018-11-03 22:57:06,2018-11-03 23:35:03,2018-11-03 23:35:03,True,2018-11-03 23:35:03,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3355,https://github.com/kubernetes/ingress-nginx/pull/3355,tariq1890,Bring dep manifest in sync with the vendor,"**What this PR does / why we need it**: This PR brings the dependencies of ingress-nginx in sync with the dep manifest files

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:",[],1,2018-11-03 23:35:58,2018-11-03 23:38:50,2018-11-03 23:44:14,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3356,https://github.com/kubernetes/ingress-nginx/pull/3356,tariq1890,Download latest dep releases instead of fetching from HEAD,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: Fetching dep from HEAD is not the best practice. We should instead download the latest binary release of dep.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-11-03 23:51:43,2018-11-04 18:08:06,2018-11-04 18:08:06,True,2018-11-04 18:08:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3357,https://github.com/kubernetes/ingress-nginx/pull/3357,aledbf,Add missing modsecurity unicode.mapping file,,[],1,2018-11-04 13:07:40,2018-11-04 15:35:33,2018-11-04 23:57:14,True,2018-11-04 15:35:33,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3358,https://github.com/kubernetes/ingress-nginx/pull/3358,mooncak,"Fix some typos: listentning -> listening, hostames -> hostnames","Signed-off-by: mooncake <xcoder@tenxcloud.com>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Fix some typos in files,
listentning -> listening
hostames -> hostnames

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",0,2018-11-04 15:14:39,2018-11-05 14:08:29,2018-11-05 14:16:02,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3359,https://github.com/kubernetes/ingress-nginx/pull/3359,mooncak,"Fix typos: ingresss->ingress, readbale->readable","Signed-off-by: mooncake <xcoder@tenxcloud.com>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Fix typos: ingresss->ingress, readbale->readable

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-11-04 15:18:21,2018-11-04 15:25:06,2018-11-04 15:25:06,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3361,https://github.com/kubernetes/ingress-nginx/pull/3361,aledbf,Create backend service when there is no paths defined,"This is a special case when the Ingress does not contain rule paths and only a Backend

**Which issue this PR fixes**: fixes #3315
",['ElvinEfendi'],1,2018-11-05 01:39:50,2018-11-06 12:28:45,2018-11-06 21:33:37,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3363,https://github.com/kubernetes/ingress-nginx/pull/3363,skeeey,Document for cookie expires annotation,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Document for cookie expires annotation

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
/assign @ElvinEfendi
",['ElvinEfendi'],1,2018-11-05 09:25:11,2019-01-14 15:52:28,2019-01-14 15:52:29,True,2019-01-14 15:52:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3364,https://github.com/kubernetes/ingress-nginx/pull/3364,aledbf,Fix links format [skip-ci],,[],1,2018-11-05 09:50:28,2018-11-05 09:50:50,2018-11-05 16:56:51,True,2018-11-05 09:50:50,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3366,https://github.com/kubernetes/ingress-nginx/pull/3366,mooncak,Fix some typos,"Signed-off-by: mooncake <xcoder@tenxcloud.com>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Fix some typos in below files:

1. internal/ingress/controller/process/nginx.go
2. internal/ingress/metric/collectors/controller.go
3. internal/ingress/metric/collectors/socket.go
4. internal/ingress/metric/collectors/testutils.go

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-11-05 14:15:23,2018-11-05 15:45:36,2018-11-05 15:45:36,True,2018-11-05 15:45:36,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3367,https://github.com/kubernetes/ingress-nginx/pull/3367,aledbf,Remove reloads when there is no endpoints,"Which issue this PR fixes: fixes #3315

This PR removes the need to reload NGINX when there is a change in the number of endpoints (in particular 0).
Without this PR, when the replica count is 0 we had this
```
I1106 12:19:13.390606       6 nginx.go:629] NGINX configuration diff:
--- /etc/nginx/nginx.conf	2018-11-06 12:18:56.514692638 +0000
+++ /tmp/new-nginx-cfg561164329	2018-11-06 12:19:13.387865859 +0000
@@ -1,5 +1,5 @@
 
-# Configuration checksum: 14086898480532449296
+# Configuration checksum: 8624603592146078350
 
 # setup custom paths that do not require root access
 pid /tmp/nginx.pid;
@@ -533,7 +533,7 @@
 			
 			port_in_redirect off;
 			
-			set $proxy_upstream_name ""default-http-svc-80"";
+			set $proxy_upstream_name """";
 			
 			client_max_body_size                    1m;
```

which triggered the reload. With the introduced changes there is no difference in the configuration file",['ElvinEfendi'],1,2018-11-05 18:49:02,2018-11-06 14:39:05,2018-11-06 14:52:48,True,2018-11-06 14:39:04,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3369,https://github.com/kubernetes/ingress-nginx/pull/3369,SataQiu,Fix some typos,"**What this PR does / why we need it**:
Fix some typos

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",1,2018-11-06 08:01:31,2018-11-06 12:02:10,2018-11-06 12:02:10,True,2018-11-06 12:02:10,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3370,https://github.com/kubernetes/ingress-nginx/pull/3370,xichengliudui,Fix typo: whitlelist -> whitelist,"**What this PR does / why we need it**:
Fix typo: whitlelist -> whitelist

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'ElvinEfendi', 'antoineco']",1,2018-11-06 10:00:17,2018-11-06 12:00:50,2018-11-06 12:00:50,True,2018-11-06 12:00:49,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3372,https://github.com/kubernetes/ingress-nginx/pull/3372,zrdaley,Add annotation for session affinity path,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This PR adds an annotation, `session-cookie-path`, that is used to set the path on the affinity cookie when regular expressions are used. 

**Which issue this PR fixes**: fixes https://github.com/kubernetes/ingress-nginx/issues/3362
",['ElvinEfendi'],1,2018-11-06 20:55:42,2018-11-19 15:25:33,2018-11-19 15:35:54,True,2018-11-19 15:25:33,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3373,https://github.com/kubernetes/ingress-nginx/pull/3373,aledbf,Update nginx,Update nginx to 1.15.6 and add [stream-lua-nginx-module](https://github.com/openresty/stream-lua-nginx-module) module,['ElvinEfendi'],1,2018-11-06 21:56:22,2018-11-07 07:02:46,2018-11-12 13:46:07,True,2018-11-07 07:02:46,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3374,https://github.com/kubernetes/ingress-nginx/pull/3374,aledbf,Revert removal of support for TCP and UDP services,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],4,2018-11-07 00:14:46,2018-11-18 16:33:30,2018-11-18 16:53:44,True,2018-11-18 16:33:30,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3376,https://github.com/kubernetes/ingress-nginx/pull/3376,odino,Fixed broken link,"**What this PR does / why we need it**:

Just a simple broken link :)
",[],1,2018-11-07 09:15:50,2018-11-22 02:27:15,2018-11-22 02:27:15,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3377,https://github.com/kubernetes/ingress-nginx/pull/3377,SataQiu,Fix typos and default value,"**What this PR does / why we need it**:
Fix typo: paylod -> payload, Unmarshall -> Unmarshal
Fix default value in comment

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'bowei']",1,2018-11-07 09:39:35,2018-11-07 11:42:05,2018-11-07 11:42:05,True,2018-11-07 11:42:05,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3379,https://github.com/kubernetes/ingress-nginx/pull/3379,mikeweiwei,Fix typos,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-11-08 09:05:23,2018-11-08 12:51:57,2018-11-08 12:51:58,True,2018-11-08 12:51:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3382,https://github.com/kubernetes/ingress-nginx/pull/3382,mooncak,Fix typos: reqrite -> rewrite,"
<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Fix typos: reqrite -> rewrite

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'ElvinEfendi']",1,2018-11-08 16:56:04,2018-11-09 10:04:53,2018-11-09 10:11:39,True,2018-11-09 10:04:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3383,https://github.com/kubernetes/ingress-nginx/pull/3383,zrdaley,Only set cookies on paths that enable session affinity,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Session affinity is set on the a backend, not on the location path. This causes problems when multiple ingress definitions are created for the same host and not all enable session affinity. 

Following this PR, session affinity cookies will only be set on paths with ingresses that have session affinity enabled. 

**Which issue this PR fixes**: https://github.com/kubernetes/ingress-nginx/issues/3168


",['ElvinEfendi'],1,2018-11-08 18:22:24,2018-11-20 05:27:17,2019-04-03 09:57:33,True,2018-11-20 05:27:17,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3385,https://github.com/kubernetes/ingress-nginx/pull/3385,juliohm1978,"Allows auth-tls-verify-client: ""optional_no_ca"" to be used without a CA","**What this PR does / why we need it**: Allows [`auth-tls-verify-client`](https://kubernetes.github.io/ingress-nginx/examples/auth/client-certs/) annotation to be used without the need for `auth-tls-secret`. With `optional_no_ca`, a CA certificate is useless.

Current `nginx.tmpl` outputs `ssl_verify_client` only if `CertificateAuth.CAFileName` is provided. This assumption undermines the ability to use `optional_no_ca` without also specifying a CA certificate. [Per definition](http://nginx.org/en/docs/http/ngx_http_ssl_module.html), `optional_no_ca` should allow an empty CA in a valid nginx.conf.

This PR changes the template to output `ssl_verify_client` when `CertificateAuth.VerifyClient` is present and does not equal `off`. A few other portions of the template which made the same assumption are also adjusted to follow suit (related `proxy_set_header` directives).

**Which issue this PR fixes**: fixes #2922 

**Special notes for your reviewer**:
",[],7,2018-11-09 03:05:23,2018-11-09 18:37:15,2018-11-09 18:37:15,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3387,https://github.com/kubernetes/ingress-nginx/pull/3387,xichengliudui,Modify the wrong function name,"**What this PR does / why we need it**:
Modify the wrong function name

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-11-09 08:43:08,2018-11-09 14:14:56,2018-11-09 14:14:56,True,2018-11-09 14:14:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3388,https://github.com/kubernetes/ingress-nginx/pull/3388,crystaljade,Update annotations.md. Remove Duplication.,,['aledbf'],1,2018-11-09 12:20:32,2018-11-09 13:51:32,2018-11-09 13:51:32,True,2018-11-09 13:51:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3390,https://github.com/kubernetes/ingress-nginx/pull/3390,zrdaley,Add e2e test for round robin load balancing,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This adds e2e-testing for round robin load balancing. 

**Which issue this PR fixes**: https://github.com/kubernetes/ingress-nginx/issues/3303

**Special notes for your reviewer**:

Sometimes when testing, the request distribution wasn't an equal split three ways. I'm assuming due to a retry occurring. 

The acceptable range was added to combat this type of test flakiness: https://github.com/kubernetes/ingress-nginx/pull/3390/files#diff-ea1cd91e199561de47a82f58b325412cR78


",['aledbf'],1,2018-11-09 18:15:31,2018-11-09 19:22:43,2018-11-12 15:25:17,True,2018-11-09 19:22:43,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3391,https://github.com/kubernetes/ingress-nginx/pull/3391,juliohm1978,"Allows auth-tls-verify-client: ""optional_no_ca"" to be used without a CA","**What this PR does / why we need it**: Allows [`auth-tls-verify-client`](https://kubernetes.github.io/ingress-nginx/examples/auth/client-certs/) annotation to be used without the need for `auth-tls-secret`. With `optional_no_ca`, a CA certificate is useless.

Current `nginx.tmpl` outputs `ssl_verify_client` only if `CertificateAuth.CAFileName` is provided. This assumption undermines the ability to use `optional_no_ca` without also specifying a CA certificate. [Per definition](http://nginx.org/en/docs/http/ngx_http_ssl_module.html), `optional_no_ca` should allow an empty CA in a valid nginx.conf.

This PR changes the template to output `ssl_verify_client` when `CertificateAuth.VerifyClient` is present and does not equal `off`. A few other portions of the template which made the same assumption are also adjusted to follow suit (related `proxy_set_header` directives).

**Which issue this PR fixes**: fixes #2922 

**Special notes for your reviewer**:
",[],1,2018-11-09 18:41:22,,2019-02-04 09:03:45,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3392,https://github.com/kubernetes/ingress-nginx/pull/3392,aledbf,Fix link in documentation [skip ci],,[],1,2018-11-09 18:56:23,2018-11-09 18:57:22,2018-11-12 13:46:16,True,2018-11-09 18:57:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3395,https://github.com/kubernetes/ingress-nginx/pull/3395,mooncak,Fix some documents issues,"Signed-off-by: mooncake <xcoder@tenxcloud.com>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Fix some documents issues in below files:

1. docs/user-guide/ingress-path-matching.md
2. docs/user-guide/nginx-configuration/configmap.md


**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['aledbf', 'antoineco']",1,2018-11-10 11:35:08,2018-11-11 12:00:20,2018-11-11 12:00:20,True,2018-11-11 12:00:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3396,https://github.com/kubernetes/ingress-nginx/pull/3396,diegows,New balancer implementation: consistent hash subset,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Add Consistent hash balancing to a subset of nodes. It provides the benefits of consistent hashing, but also providing some load balance between some nodes.

",['ElvinEfendi'],1,2018-11-11 03:09:04,2019-01-04 18:31:04,2019-01-04 18:31:04,True,2019-01-04 18:31:04,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3400,https://github.com/kubernetes/ingress-nginx/pull/3400,diazjf,Add Snippet for ModSecurity,Adds a custom snippet to configure modsecurity.,['aledbf'],1,2018-11-12 02:55:05,2018-11-17 11:35:54,2018-11-17 11:35:54,True,2018-11-17 11:35:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3404,https://github.com/kubernetes/ingress-nginx/pull/3404,aledbf,Update nginx image,"**What this PR does / why we need it**:

OpenSSL 1.1.1 is now available as a debian package
",['ElvinEfendi'],1,2018-11-12 14:14:26,2018-11-12 14:51:48,2018-11-12 15:33:44,True,2018-11-12 14:51:48,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3405,https://github.com/kubernetes/ingress-nginx/pull/3405,wayt,Prevent X-Forwarded-Proto forward during external auth subrequest,"**What this PR does / why we need it**:
This prevents X-Forwarded-Proto forwarding during external auth sub request.

This cause external auth to return 308 or 301 even if its target url is an hardcoded https.

**Which issue this PR fixes**
fixes #3389 

**Special notes for your reviewer**:
","['aledbf', 'ElvinEfendi']",1,2018-11-12 14:16:21,2018-11-12 20:36:21,2018-11-14 15:01:05,True,2018-11-12 20:36:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3406,https://github.com/kubernetes/ingress-nginx/pull/3406,aledbf,Update nginx and e2e image,,['ElvinEfendi'],1,2018-11-12 14:34:49,2018-11-12 16:10:37,2018-11-12 16:33:23,True,2018-11-12 16:10:37,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3407,https://github.com/kubernetes/ingress-nginx/pull/3407,zrdaley,Restructure load balance e2e tests and update round robin test,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

- Moves load balancer e2e tests to new folder with a file per load balance algorithm (currently only `round_robin.go` exists)
- Updates round robin test to use only one nginx worker to ensure equal distribution of requests

",['ElvinEfendi'],1,2018-11-12 15:23:21,2018-11-12 16:48:02,2018-11-12 17:56:47,True,2018-11-12 16:48:02,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3408,https://github.com/kubernetes/ingress-nginx/pull/3408,aledbf,Fix modsecurity configuration file location,"**What this PR does / why we need it**:

Fix the location of modsecurity configuration files bug introduced in https://github.com/kubernetes/ingress-nginx/pull/3357/files#diff-4a5113d28634e29f2ab0bca34da7a3e5R425

This change is already present in nginx 0.69",[],1,2018-11-12 16:56:02,2018-11-12 16:56:41,2018-11-23 09:57:10,True,2018-11-12 16:56:41,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3409,https://github.com/kubernetes/ingress-nginx/pull/3409,wayt,Convert isValidClientBodyBufferSize to something more generic,"**What this PR does / why we need it**:

This re-use the isValidClientBodyBufferSize for client_max_body_size configuration.

I'm make isValidClientBodyBufferSize more generic for that.

Recently, we've had nginx configuration issue because of `client_max_body_size` being set to an empty value.

As mentioned in https://github.com/kubernetes/ingress-nginx/issues/2494 this is caused by a race condition somewhere, making https://github.com/kubernetes/ingress-nginx/blob/master/internal/ingress/controller/store/store.go#L675 return an empty `annotations.Ingress`.

**Which issue this PR fixes**

**Special notes for your reviewer**:

This does not solve the underlying race condition but fixes the reload issue it causes.
","['aledbf', 'ElvinEfendi']",1,2018-11-12 20:43:15,2018-11-13 16:36:07,2018-11-13 16:53:09,True,2018-11-13 16:36:07,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3410,https://github.com/kubernetes/ingress-nginx/pull/3410,mikeweiwei,fix logging calls,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-11-13 04:15:10,2018-11-13 10:28:23,2018-11-13 10:28:24,True,2018-11-13 10:28:23,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3414,https://github.com/kubernetes/ingress-nginx/pull/3414,aledbf,Fix typo,,[],1,2018-11-13 10:32:59,2018-11-13 11:05:27,2018-11-13 13:20:01,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3415,https://github.com/kubernetes/ingress-nginx/pull/3415,ElvinEfendi,bugfix: set canary attributes when initializing balancer,"**What this PR does / why we need it**:
These attributes currently are being set only when we sync balancers. But they should also be set when we initialize a balancer for the first time for given backend. Otherwise until the next sync we get errors such as:

```
2018/11/13 11:00:52 [error] 1434#1434: *14207402 failed to run log_by_lua*: /etc/nginx/lua/balancer.lua:138: attempt to index field 'traffic_shaping_policy' (a nil value)
```

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],2,2018-11-13 11:47:56,2018-11-13 12:43:33,2018-11-13 12:44:15,True,2018-11-13 12:43:33,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3417,https://github.com/kubernetes/ingress-nginx/pull/3417,clandry94,bugfix: do not merge catch-all canary backends with itself,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**don't merge yet, I plan on adding a test for this case**

**What this PR does / why we need it**:
If a canary backend is created at the catch all level of the ingress spec, it can merge with itself in some situations. If this happens, then the real backend won't know it exists. 

This fixes the problem by iterating over each location at `defServerName` and merges with the first backend which has a server rather than the backend at location 0.
","['aledbf', 'ElvinEfendi']",1,2018-11-13 18:26:39,2018-11-20 13:03:53,2018-11-20 13:04:27,True,2018-11-20 13:03:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3421,https://github.com/kubernetes/ingress-nginx/pull/3421,wayt,Fix X-Forwarded-Proto typo,"**What this PR does / why we need it**:

This fix a typo in `X-Forwarded-Proto` introduced in https://github.com/kubernetes/ingress-nginx/pull/3405

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

Thanks @ElvinEfendi for noticing",['ElvinEfendi'],1,2018-11-14 15:20:32,2018-11-14 20:37:49,2018-11-14 21:17:02,True,2018-11-14 20:37:49,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3424,https://github.com/kubernetes/ingress-nginx/pull/3424,aledbf,Update nginx image,,['ElvinEfendi'],1,2018-11-16 15:31:13,2018-11-16 16:42:01,2018-11-16 16:47:11,True,2018-11-16 16:42:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3425,https://github.com/kubernetes/ingress-nginx/pull/3425,aledbf,Update nginx modules,Update required to get https://github.com/kubernetes/ingress-nginx/pull/3374 working,['ElvinEfendi'],1,2018-11-16 15:31:27,2018-11-16 16:19:02,2018-11-16 16:47:21,True,2018-11-16 16:19:02,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3428,https://github.com/kubernetes/ingress-nginx/pull/3428,aledbf,Set proxy_host variable to avoid using default value from proxy_pass,"**What this PR does / why we need it**:

Avoid issues with default value of variable `$proxy_host`

```$proxy_host
name and port of a proxied server as specified in the proxy_pass directive;
```

http://nginx.org/en/docs/http/ngx_http_proxy_module.html

**Which issue this PR fixes**: fixes #3427
",['ElvinEfendi'],1,2018-11-16 17:08:35,2018-11-18 10:17:50,2018-11-18 12:08:16,True,2018-11-18 10:17:49,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3429,https://github.com/kubernetes/ingress-nginx/pull/3429,aledbf,Replace dns library with lua-resty-dns-client,,['ElvinEfendi'],1,2018-11-16 17:42:40,2018-11-16 19:28:38,2018-12-05 17:28:16,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3433,https://github.com/kubernetes/ingress-nginx/pull/3433,code-chris,Fix baremetal link,"**What this PR does / why we need it**:
- Fix broken link in the docs for bare-metal guide.

**Which issue this PR fixes**: -
",[],1,2018-11-17 08:10:26,2018-11-22 02:27:03,2018-11-22 02:27:03,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3434,https://github.com/kubernetes/ingress-nginx/pull/3434,wlwr,invalid MR,,[],5,2018-11-19 16:06:03,2018-11-19 17:15:54,2018-11-19 17:49:24,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3436,https://github.com/kubernetes/ingress-nginx/pull/3436,wlwr,Fix OOM,"**What this PR does / why we need it**:

Fix memory leaks in high concurrent requests. 


In the case of higher QPS, the ingress-nginx-controller has serious memory leaks. After troubleshooting, the reason is that the stream_latency in `socket.go` uses the prometheus summary data type, the summary data type uses the global lock [#L277](https://github.com/kubernetes/ingress-nginx/blob/master/vendor/github.com/prometheus/client_golang/prometheus/summary.go#L277). the request volume is large, The global lock will cause a lot of gorontinue to wait, the memory cannot be released, and each gorontinue The variable allocation memory is large (variables contain up to 1w request information).

After upstream_latency is changed to use the prometheus Histogram data type, the CPU is reduced and there is no memory leak, because the Histogram logic is simple and no locks are used.

**Which issue this PR fixes** : 

fixes #3314 
",[],1,2018-11-19 17:22:17,,2019-03-21 07:32:32,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3437,https://github.com/kubernetes/ingress-nginx/pull/3437,wayt,Use struct to pack Ingress and its annotations,"**What this PR does / why we need it**:

This PR pack `extensions.Ingress` and `annotations.Ingress` into one struct.
The purpose of this is to reduce the possible race condition we have with annotations.

See  https://github.com/kubernetes/ingress-nginx/issues/3411

**Which issue this PR fixes**
fixes https://github.com/kubernetes/ingress-nginx/issues/3411
",['ElvinEfendi'],1,2018-11-19 21:59:50,2018-11-21 08:41:59,2018-11-21 14:22:34,True,2018-11-21 08:41:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3438,https://github.com/kubernetes/ingress-nginx/pull/3438,willthames,Ensure that entrypoint arguments remain properly quoted,"**What this PR does / why we need it**:

Retaining quoted arguments when running nginx from the entrypoint is
important for things like `nginx -g ""pid /tmp/nginx.pid;""` or any
similar quoted argument need.


**Which issue this PR fixes**

None.

**Special notes for your reviewer**:

This issue is trivially reproducible with a simple nginx.conf:

```
events {
    worker_connections 4096;
    multi_accept       on;
    use                epoll;
}

http {
    server {
        listen 8000 default_server;
    }
}
```

```
docker run  -p 8000:8000 -v  `pwd`/nginx.conf:/etc/nginx/nginx.conf quay.io/kubernetes-ingress-controller/nginx:0.69 
nginx: invalid option: ""off;""
```

Mounting the updated entrypoint.sh at /entrypoint.sh fixes this issue, but would be good to fix it in the docker image",[],1,2018-11-20 03:29:30,2019-03-20 11:21:49,2019-03-27 05:28:00,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3439,https://github.com/kubernetes/ingress-nginx/pull/3439,aledbf,Process prometheus stats using a worker pool,replaces #3436,['ElvinEfendi'],1,2018-11-20 14:10:09,2018-12-06 10:42:27,2018-12-06 10:43:10,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3441,https://github.com/kubernetes/ingress-nginx/pull/3441,aledbf,Match buffer,"**What this PR does / why we need it**:

Removes a warning while the ingress controller sends the configuration to nginx
```
I1120 17:53:21.359006       7 controller.go:190] Backend successfully reloaded.
2018/11/20 17:53:21 [warn] 58#58: *31 a client request body is buffered to a temporary file /tmp/client-body/0000000001, client: ::1, server: , request: ""POST /configuration/backends HTTP/1.1"", host: ""localhost:18080""
```",['ElvinEfendi'],1,2018-11-20 18:02:39,2018-11-21 08:31:56,2018-11-21 13:48:41,True,2018-11-21 08:31:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3442,https://github.com/kubernetes/ingress-nginx/pull/3442,aledbf,Increase log level when there is an invalid size value,"**What this PR does / why we need it**:

Increases the log level to avoid logs like 
```
E1120 17:59:35.050763       7 template.go:764] empty byte size, hence it will not be set.
E1120 17:59:35.051484       7 template.go:764] empty byte size, hence it will not be set.
E1120 17:59:35.051905       7 template.go:764] empty byte size, hence it will not be set.
```
in the default log level.
This will be partially fixed after https://github.com/kubernetes/ingress-nginx/pull/3437",['ElvinEfendi'],1,2018-11-20 18:10:30,2018-11-21 08:30:04,2018-11-21 13:49:21,True,2018-11-21 08:30:04,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3443,https://github.com/kubernetes/ingress-nginx/pull/3443,aledbf,Remove initial log error during reconfiguration,"**What this PR does / why we need it**:

Remove confusing log during initial reload

```
I1120 17:59:31.940929       7 controller.go:190] Backend successfully reloaded.
W1120 17:59:31.942720       7 controller.go:210] Dynamic reconfiguration failed: Post http://localhost:18080/configuration/backends: dial tcp [::1]:18080: connect: connection refused
E1120 17:59:31.942792       7 controller.go:214] Unexpected failure reconfiguring NGINX:
Post http://localhost:18080/configuration/backends: dial tcp [::1]:18080: connect: connection refused
W1120 17:59:31.942826       7 queue.go:130] requeuing initial-sync, err Post http://localhost:18080/configuration/backends: dial tcp [::1]:18080: connect: connection refused

```
",['ElvinEfendi'],1,2018-11-20 18:20:52,2018-11-21 13:44:54,2018-11-21 13:47:51,True,2018-11-21 13:44:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3445,https://github.com/kubernetes/ingress-nginx/pull/3445,wayt,[WIP] Add controller pod list in nginx configuration templating,"**What this PR does / why we need it**:

This add controller pod tracking for ingress-nginx. It will feed the list of `Running` ingress-nginx controller Pod to the configuration template.

It is still WIP, open for comments :)

This is required for https://github.com/Shopify/edgescale/issues/631

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

Cc @ElvinEfendi @Shopify/edgescale
",[],1,2018-11-20 20:47:51,2018-11-20 20:48:03,2018-11-20 20:48:30,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3446,https://github.com/kubernetes/ingress-nginx/pull/3446,clandry94,add more testing for mergeAlternativeBackends,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This adds more tests for the merge function when creating alternative backends. It also covers the scenarios where an alternative ingress merges with itself, which was fixed in https://github.com/kubernetes/ingress-nginx/pull/3417

I also fixed a few edge cases I found while adding the new tests. 

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2018-11-20 22:20:30,2018-11-30 22:22:44,2018-12-03 15:41:46,True,2018-11-30 22:22:44,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3449,https://github.com/kubernetes/ingress-nginx/pull/3449,ElvinEfendi,[WIP] Monitoring improvements,"**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],4,2018-11-21 11:43:59,,2019-03-27 17:05:19,False,,,dirty,False,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3452,https://github.com/kubernetes/ingress-nginx/pull/3452,aledbf,Release 0.21.0,Test image: `quay.io/kubernetes-ingress-controller/nginx-ingress-controller:dev`,['ElvinEfendi'],1,2018-11-21 14:13:18,2018-11-23 09:26:41,2018-11-30 12:46:04,True,2018-11-23 09:26:41,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3453,https://github.com/kubernetes/ingress-nginx/pull/3453,ElvinEfendi,Monitor fixes,"**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes https://github.com/kubernetes/ingress-nginx/issues/3451

**Special notes for your reviewer**:
",['aledbf'],2,2018-11-21 16:09:11,2018-11-21 17:28:25,2018-11-22 09:47:25,True,2018-11-21 17:28:25,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3454,https://github.com/kubernetes/ingress-nginx/pull/3454,tklovett,Document `$req_id` usage in upstream log format,"By default, the upstream log format contains the `$req_id` parameter. This was added in changeset 51cf184c51, but overlooked in the documentation.

**What this PR does / why we need it**:

Simple documentation update. I found it because Fluent Bit was failing to parse nginx-ingress logs -- [I found an nginx-ingress regex](https://github.com/kubernetes/ingress-nginx/issues/1664) which matched the docs here and the default value of [`log-format-upstream`](https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#log-format-upstream), but did not match against the actual logs.

This is the regex from the issue comments linked above:
```
(?<remote_addr>[^ ]*) - \[(?<proxy_protocol_addr>[^ ]*)\] - (?<remote_user>[^ ]*) \[(?<time>[^\]]*)\] ""(?<method>\S+)(?: +(?<request>[^\""]*) +\S*)?"" (?<code>[^ ]*) (?<size>[^ ]*) ""(?<referer>[^\""]*)"" ""(?<agent>[^\""]*)"" (?<request_length>[^ ]*) (?<request_time>[^ ]*) \[(?<proxy_upstream_name>[^ ]*)\] (?<upstream_addr>[^ ]*) (?<upstream_response_length>[^ ]*) (?<upstream_response_time>[^ ]*) (?<upstream_status>[^ ]*)
```

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

Adds doc for changeset 51cf184c51

**Special notes for your reviewer**:

First time contributor here -- sorry in advance for the extra overhead :)


On a separate note, it would have been handy for me if there were a valid regex matcher documented here -- is that something you would like added?",[],2,2018-11-21 17:23:59,2018-11-22 02:26:17,2018-11-22 02:26:48,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3455,https://github.com/kubernetes/ingress-nginx/pull/3455,wayt,Watch controller Pods and make then available in k8sStore,"**What this PR does / why we need it**:

This add controller pod tracking for ingress-nginx. The list is available from the store `ListControllerPods()` function.

The purpose behind this is to track the number of running replicas.

A PR will follow to push this into a lua shared dict.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

",['ElvinEfendi'],1,2018-11-21 19:54:45,2018-11-27 11:11:18,2018-11-27 11:16:23,True,2018-11-27 11:11:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3456,https://github.com/kubernetes/ingress-nginx/pull/3456,aledbf,Revert TCP/UDP documentation removal and links,,[],1,2018-11-22 02:24:18,2018-11-22 02:24:35,2018-11-22 02:40:03,True,2018-11-22 02:24:35,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3460,https://github.com/kubernetes/ingress-nginx/pull/3460,ElvinEfendi,[WIP] support variables concatanation for upstream-hash-by annotation,"**What this PR does / why we need it**:
Adding support for combining Nginx variables to be used as a key for consistent hash load balancing.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3458

**Special notes for your reviewer**:
",[],1,2018-11-23 10:55:25,,2019-03-23 12:23:19,False,,,dirty,False,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3462,https://github.com/kubernetes/ingress-nginx/pull/3462,dcherniv,[3461] adding the edge case handling for when weight is 0,"**What this PR does / why we need it**:
Adding edge case handling for canary. When weight is 0 we don't want ANY traffic to be sent to canary. So we do special handling because setting the comparison operator to < will not work for the other special case when weight is 100.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3461

**Special notes for your reviewer**:
",[],1,2018-11-24 06:27:54,2018-11-24 06:34:20,2018-11-24 06:34:20,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3463,https://github.com/kubernetes/ingress-nginx/pull/3463,dcherniv,[3461] adding the edge case handling for when weight is 0,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Special case handling for when weight is 0. <= doesn't work as sometimes math.random will generate 0's

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3461

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2018-11-24 06:35:22,2018-11-25 08:31:52,2018-11-25 08:31:52,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3464,https://github.com/kubernetes/ingress-nginx/pull/3464,dcherniv,[#3461] adding a special case handling for when weight is 0,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Special case handling for when weight is set to 0. sometimes math.random generates 0 and condition returns true

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3461 

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2018-11-24 06:39:44,2018-11-25 08:32:08,2018-11-25 08:32:08,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3465,https://github.com/kubernetes/ingress-nginx/pull/3465,andremarianiello,Bump nginx-opentracing for gRPC support,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

fixes https://github.com/kubernetes/ingress-nginx/issues/3440

**Special notes for your reviewer**:
nginx-opentracing has not yet made a release which contains the opentracing_grpc_propagate_context directive needed for this. As a result, I updated the build script to pull a git archive rather than a release archive. This can be reverted once a new release has been made.",['aledbf'],1,2018-11-24 20:13:37,2018-11-27 10:20:05,2018-11-27 13:04:51,True,2018-11-27 10:20:05,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3467,https://github.com/kubernetes/ingress-nginx/pull/3467,ElvinEfendi,store ewma stats per backend,"**What this PR does / why we need it**:
Currently we store EWMA stats about upstream peers in a single dictionary regardless of app/backend. This PR refactors the code so that EWMA stats are part of EWMA balancer instance for a given backend.

Without this change when app A's upstream peers change, we would lose stats for app B's upstream peers as well. This PR is fixing that issue.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],2,2018-11-26 12:05:55,2018-11-26 21:50:09,2018-12-03 16:03:10,True,2018-11-26 21:50:09,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3470,https://github.com/kubernetes/ingress-nginx/pull/3470,andremarianiello,Use opentracing_grpc_propagate_context when necessary,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Opentracing header propagation via gRPC

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

fixes https://github.com/kubernetes/ingress-nginx/issues/3440

**Special notes for your reviewer**:
Second half of https://github.com/kubernetes/ingress-nginx/pull/3465",['aledbf'],1,2018-11-27 13:39:41,2018-12-01 22:58:08,2018-12-01 23:08:59,True,2018-12-01 22:58:08,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3474,https://github.com/kubernetes/ingress-nginx/pull/3474,aledbf,Improve parsing of annotations and use of Ingress wrapper,"**What this PR does / why we need it**:

Continues the work started in #3437 and introduce a new local store that contains the original Ingress and the parsed annotations.

**Which issue this PR fixes**:

fixes #2494
fixes #3473
fixes #3468
fixes #3489",['ElvinEfendi'],3,2018-11-28 00:42:19,2018-12-05 11:33:20,2018-12-11 11:00:26,True,2018-12-05 11:33:19,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3476,https://github.com/kubernetes/ingress-nginx/pull/3476,aledbf,Fix nginx directory permissions,"**Which issue this PR fixes**: fixes #3471
",['ElvinEfendi'],1,2018-11-28 02:07:29,2018-11-28 07:09:12,2018-12-01 23:11:35,True,2018-11-28 07:09:12,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3477,https://github.com/kubernetes/ingress-nginx/pull/3477,ElvinEfendi,clarify canary ingress,"**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3475

**Special notes for your reviewer**:
",['aledbf'],1,2018-11-28 07:29:46,2018-11-28 13:13:56,2018-11-28 13:13:56,True,2018-11-28 13:13:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3478,https://github.com/kubernetes/ingress-nginx/pull/3478,ElvinEfendi,delete unused buildLoadBalancingConfig,"**What this PR does / why we need it**:
 

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],2,2018-11-28 07:56:11,2018-11-28 12:01:56,2018-12-03 10:09:27,True,2018-11-28 12:01:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3479,https://github.com/kubernetes/ingress-nginx/pull/3479,ElvinEfendi,[WIP] refactor default config handling,"**What this PR does / why we need it**:
ignore this for now

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],2,2018-11-28 08:35:38,,2019-03-28 00:01:20,False,,,dirty,False,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3482,https://github.com/kubernetes/ingress-nginx/pull/3482,gorshunovr,Annotations doc links: minor fixes and unification,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: this PR fixes two broken internal links in annotations documentation and unifies other internal links in the same file.

**Which issue this PR fixes**: n/a

**Special notes for your reviewer**: n/a
",['aledbf'],1,2018-11-28 15:22:45,2018-12-03 22:07:51,2019-02-07 00:26:09,True,2018-12-03 22:07:51,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3484,https://github.com/kubernetes/ingress-nginx/pull/3484,gorshunovr,Restore secure-verify-ca-secret annotation docs,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: this PR restores `secure-verify-ca-secret` annotation docs added in #2169, which were removed in #3203.

**Which issue this PR fixes**: n/a

**Special notes for your reviewer**: n/a
",[],1,2018-11-28 17:31:23,,2019-04-01 16:58:28,False,,,dirty,False,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3487,https://github.com/kubernetes/ingress-nginx/pull/3487,ElvinEfendi,dynamic certificate mode should support widlcard hosts,"**What this PR does / why we need it**:
When an ingress defines wildcard host dynamic certificate does not work properly. For example when an ingress has `host: ""*.example.com""` and a wildcard certificate supporting that, requests to i.e sub.example.com won't work because dynamic certificate serving module currently does not know how to fetch certificate for that. This PR changes the module to first look up the certificate using the given SNI (`sub.example.com` in the example) if no certificate exists, it will then look up for certificate by replacing first part of domain until a `.` with `*` and will try again (`*.example.com` in the example).

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-11-29 11:35:51,2018-11-29 18:17:50,2018-11-29 21:50:34,True,2018-11-29 18:17:50,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3488,https://github.com/kubernetes/ingress-nginx/pull/3488,aledbf,Add probes to deployments used in e2e tests,"**What this PR does / why we need it**:

Ensure the pod used in the deployment for tests do not return 503 errors",['ElvinEfendi'],3,2018-11-29 13:56:52,2018-11-30 07:38:38,2018-11-30 12:20:25,True,2018-11-30 07:38:38,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3491,https://github.com/kubernetes/ingress-nginx/pull/3491,jeefy,Update example to use latest Dashboard version.,"**What this PR does / why we need it**: The current example uses Dashboard v1.5.0. The latest version is v.1.10.0

**Special notes for your reviewer**: Hopefully quick and easy. :) Let me know if you need anything else!
",['aledbf'],1,2018-11-30 01:02:45,2018-11-30 12:14:43,2018-11-30 12:14:43,True,2018-11-30 12:14:43,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3492,https://github.com/kubernetes/ingress-nginx/pull/3492,aledbf,Fix data size validations,"**Which issue this PR fixes**: fixes #3468
",['ElvinEfendi'],1,2018-11-30 01:46:28,2018-12-02 17:01:13,2018-12-06 10:46:17,True,2018-12-02 17:01:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3494,https://github.com/kubernetes/ingress-nginx/pull/3494,aledbf,Since dynamic mode only checking for 'return 503' is not valid anymore,(in the configuration file),['ElvinEfendi'],2,2018-11-30 12:42:23,2018-11-30 14:32:20,2018-11-30 15:31:23,True,2018-11-30 14:32:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3495,https://github.com/kubernetes/ingress-nginx/pull/3495,aledbf,Adjust default timeout for e2e tests,,['ElvinEfendi'],1,2018-11-30 14:48:00,2018-11-30 21:55:54,2018-11-30 22:01:19,True,2018-11-30 21:55:54,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3496,https://github.com/kubernetes/ingress-nginx/pull/3496,dcherniv,[3485] ingress aliases metrics are not accounted for. This should fix,"**What this PR does / why we need it**:
This PR should account for ingress aliases in the metrics

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3485

**Special notes for your reviewer**:
",[],3,2018-11-30 18:35:04,2018-12-21 17:01:31,2018-12-21 17:01:31,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3497,https://github.com/kubernetes/ingress-nginx/pull/3497,aledbf,Wait for the right number of endpoints,,[],1,2018-11-30 22:00:54,2018-11-30 23:17:19,2018-12-01 23:10:47,True,2018-11-30 23:17:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3498,https://github.com/kubernetes/ingress-nginx/pull/3498,aledbf,Update godeps,"**What this PR does / why we need it**:

- Updates go dependencies to 1.13.0-rc.2
- Replaces glog with [klog](https://github.com/kubernetes/klog)
- Updates [process-exporter](https://github.com/ncabatoff/process-exporter)",['ElvinEfendi'],4,2018-12-02 00:30:10,2018-12-05 17:07:09,2018-12-05 17:27:34,True,2018-12-05 17:07:09,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3501,https://github.com/kubernetes/ingress-nginx/pull/3501,ElvinEfendi,be consistent with what Nginx supports,"**What this PR does / why we need it**:
In https://github.com/kubernetes/ingress-nginx/pull/3409/files we started to apply `client_body_buffer_size` validator to `client_max_body_size` directive's value as well. However it turns out `client_max_body_size` also supports gigabytes using `g` or `G`. This introduced and issue https://github.com/kubernetes/ingress-nginx/issues/3468 in 0.21.0. In https://github.com/kubernetes/ingress-nginx/pull/3492 @aledbf changed the validator to support gigabytes as well, but then it introduces another issue by supporting gigabytes for `client_body_buffer_size`.

This PR now adds a flag to apply a correct validator for `client_body_buffer_size` and `client_max_body_size` instead of applying the same one.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-12-02 18:21:38,2018-12-02 18:59:11,2018-12-02 18:59:11,True,2018-12-02 18:59:11,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3503,https://github.com/kubernetes/ingress-nginx/pull/3503,zhuguihua,compare error with error types from k8s.io/apimachinery/pkg/api/errors,"**What this PR does / why we need it**:
This PR is to compare error with error types from k8s.io/apimachinery/pkg/api/errors when cannot find default service.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
","['bowei', 'antoineco']",1,2018-12-03 08:26:18,2018-12-11 08:41:42,2018-12-11 08:41:42,True,2018-12-11 08:41:42,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3504,https://github.com/kubernetes/ingress-nginx/pull/3504,ElvinEfendi,fix an ewma unit test,"**What this PR does / why we need it**:
We had a unit test that should have been randomly failing. However because the randomness was not really random, it is not failing. This PR makes sure we seed PRNG better and fixes the test.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-12-03 11:59:27,2018-12-03 12:36:14,2018-12-03 13:03:47,True,2018-12-03 12:36:14,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3505,https://github.com/kubernetes/ingress-nginx/pull/3505,wayt,Update lua configuration_data when number of controller pod change,"**What this PR does / why we need it**:
Next to https://github.com/kubernetes/ingress-nginx/pull/3455
This introduces controller pods tracking inside the nginx configuration templating and lua configuration.

A change in the number of will be `POST` to lua configuration backend, inside a new `general` category.

The new configuration endpoint is `/configuration/general`, data can be `POST` or `GET`.

Example:
```
www-data@nginx-ingress-controller-545d76889-xgq6q:/etc/nginx$ curl 127.0.0.1:18080/configuration/general; echo
{""controllerPodsCount"":3}
```

**Which issue this PR fixes**

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2018-12-03 15:30:53,2018-12-17 08:10:30,2018-12-17 08:30:07,True,2018-12-17 08:10:30,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3506,https://github.com/kubernetes/ingress-nginx/pull/3506,haassConnyun,Improve the external authorization concept from opt-in to secure-by-default ,"**What this PR does / why we need it**:
Assuming the cluster uses an external authorization service, 
currently activation of external authorization is per ingress rule, that means the annotation `auth-url` needs to be added to every service that is publicly available. We call this security by opt-in.
To improve this concept to security-by-default be propose to add a parameter to the configmap which takes care of authorizing every request automatically. 

The existing `no-auth-locations` is used to manually whitelist services, the new code creates the needed internal `location` and adds a sub-auth request to every regular location, just as happens with the `auth-url` annotation
",[],24,2018-12-03 16:06:19,,2019-03-27 23:49:54,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3507,https://github.com/kubernetes/ingress-nginx/pull/3507,aledbf,Remove temporal configuration file after a while,"**Which issue this PR fixes**: fixes #3273
",['ElvinEfendi'],1,2018-12-03 17:28:24,2019-01-04 19:56:30,2019-01-05 00:58:37,True,2019-01-04 19:56:29,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3508,https://github.com/kubernetes/ingress-nginx/pull/3508,aledbf,Update nginx to 1.15.7,"Since the last update to lua-nginx-module, the luajit2 fork from openresty is mandatory. This means we can only support amd64 and arm64",['ElvinEfendi'],1,2018-12-03 20:10:58,2018-12-06 12:49:15,2018-12-07 10:09:49,True,2018-12-06 12:49:14,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3509,https://github.com/kubernetes/ingress-nginx/pull/3509,fabiant7t,[1759] Ingress affinity session cookie with Secure flag for HTTPS,"Signed-off-by: Fabian Topfstedt <topfstedt@schneevonmorgen.com>

**What this PR does / why we need it**:
Ingress affinity session cookies did not set the `Secure` flag when the Ingress is called through HTTPS. The affinity cookie is therefore ignored by the client and every recurring request to the ingress will result in a new `Set-Cookie` header being send, preventing stickyness to work.
Since ingresses may be called both through both HTTP and HTTPS, setting the `Secure` flag depends on the context.

My proposal to solve it:

- nginx has a variable $https set to ""on"" in SSL mode 
(See http://nginx.org/en/docs/http/ngx_http_core_module.html#var_https).
- lua_resty_cookie has a boolean attribute `secure` 
(See https://github.com/cloudflare/lua-resty-cookie/blob/master/lib/resty/cookie.lua#L156)
- ingress-nginx has a `cookie_data` map that has no set a `secure` attribute yet. Adding the key `secure = ngx.var.https == ""on""` should be sufficiant to set the `Secure` when (and only when) being in SSL mode. 
(See https://github.com/kubernetes/ingress-nginx/blob/master/rootfs/etc/nginx/lua/balancer/sticky.lua#L56)

**Which issue this PR fixes**: fixes #1759 

**Special notes for your reviewer**:
I managed to run and edit the Lua testsuite to unit test my assumptions. Being my first PR, I need someone experienced to review the integration though.",['ElvinEfendi'],3,2018-12-04 10:25:41,2018-12-06 09:18:25,2018-12-06 09:18:25,True,2018-12-06 09:18:25,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3510,https://github.com/kubernetes/ingress-nginx/pull/3510,aledbf,Update mkdocs [skip ci],,[],1,2018-12-04 14:57:49,2018-12-04 14:58:04,2018-12-04 17:15:51,True,2018-12-04 14:58:04,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3512,https://github.com/kubernetes/ingress-nginx/pull/3512,aledbf,Allow to disable NGINX metrics,"**What this PR does / why we need it**:

Allow disabling NGINX prometheus metrics",['ElvinEfendi'],1,2018-12-04 20:07:45,2018-12-05 16:16:13,2018-12-06 09:45:12,True,2018-12-05 16:16:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3513,https://github.com/kubernetes/ingress-nginx/pull/3513,dmxlsj,Revert removal of TCP and UDP support configmaps in mandatroy manifest,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
TCP and UDP support has been removed and reverted with the following commits,
Remove: 10d3d48a6ccfac7109752cfc77cf9b44f65ccc73
Revert: 168f30d1ec47198d34ed50cd4adfc852ebb3c1ae
However the configmap parts have never been reverted yet.
https://github.com/kubernetes/ingress-nginx/commit/10d3d48a6ccfac7109752cfc77cf9b44f65ccc73#diff-b7d944663319ec93108dd9eb66df1d9d

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
No open issue related to this.

**Special notes for your reviewer**:
",['aledbf'],1,2018-12-04 21:04:37,2018-12-04 22:16:45,2018-12-04 22:23:08,True,2018-12-04 22:16:45,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3515,https://github.com/kubernetes/ingress-nginx/pull/3515,Xycer,Update mandatory.yaml,"**What this PR does / why we need it**: The Kind was not re-added to  udp-services when it's removal was reverted without the Kind being set the kubectl apply command fails.

**Which issue this PR fixes**: fixes #3514 

**Special notes for your reviewer**: n/a
",[],1,2018-12-04 23:01:41,2018-12-04 23:06:54,2018-12-04 23:11:51,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3516,https://github.com/kubernetes/ingress-nginx/pull/3516,aledbf,Fix error in configmap yaml definition,,[],1,2018-12-04 23:05:55,2018-12-04 23:06:15,2018-12-06 10:45:29,True,2018-12-04 23:06:15,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3518,https://github.com/kubernetes/ingress-nginx/pull/3518,gaozhenhai,Fix log output format,"Signed-off-by: Zhenhai Gao <gaozh1988@live.com>

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

fix log output format

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-12-05 05:19:44,2018-12-06 11:41:54,2018-12-06 11:41:54,True,2018-12-06 11:41:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3521,https://github.com/kubernetes/ingress-nginx/pull/3521,wayt,Fix a bug with Canary becoming main server,"**What this PR does / why we need it**:

A canary `Ingress` should never become a catch-all server if no other `Ingress` is a catch-all.

This PR prevent canary `Ingress` from becoming a catch-all server, or a server with a domain name if no regular `Ingress` is present.

**Which issue this PR fixes**

**Special notes for your reviewer**:

Cc @ElvinEfendi @clandry94 ",['ElvinEfendi'],1,2018-12-05 15:40:12,2018-12-06 16:54:07,2018-12-06 16:54:13,True,2018-12-06 16:54:07,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3522,https://github.com/kubernetes/ingress-nginx/pull/3522,jmervine,"{tcp,udp}-services cm appear twice","

**What this PR does / why we need it**:

The `{tcp,udp}-services` ConfigMaps appear twice, while idempotent, it's unnecessary. 

",['aledbf'],1,2018-12-05 17:17:07,2018-12-05 20:29:35,2018-12-05 20:29:36,True,2018-12-05 20:29:35,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3525,https://github.com/kubernetes/ingress-nginx/pull/3525,clandry94,make canary ingresses independent of the order they were applied,"**What this PR does / why we need it**:
This PR fixes a problem with the canary ingress feature where canary ingresses depend on the order of which they were applied. It also adds a check that a canary ingress cannot be merged into the default upstream when no other ingresses have been applied.

To make canary ingresses order independent, the `getBackendServers` function first sets aside canary ingresses as it iterates across them. Then, after servers are created for every real ingress, the a check is done to make sure merging is safe and canary ingresses are iterated over and merged. The current condition for knowing if it is safe to merge canary ingresses is whether the `length of ingresses - length of canary ingresses >  0` If true, we know that a real ingress must exist and there is a potential match which can be merged into. This is currently more of a sanity check than a condition for ""safeness"", but this function can be used to add more conditions for safeness if necessary. 

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2018-12-05 23:27:04,2018-12-10 19:14:56,2018-12-10 19:15:13,True,2018-12-10 19:14:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3528,https://github.com/kubernetes/ingress-nginx/pull/3528,aledbf,Do not store annotations or owner references in local ingress store,,['ElvinEfendi'],1,2018-12-06 11:17:59,2019-01-05 21:40:47,2019-01-07 15:26:47,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3530,https://github.com/kubernetes/ingress-nginx/pull/3530,aledbf,Update nginx image,,['ElvinEfendi'],1,2018-12-06 14:00:04,2018-12-06 18:59:14,2018-12-06 19:55:10,True,2018-12-06 18:59:14,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3532,https://github.com/kubernetes/ingress-nginx/pull/3532,ArchangelSDY,Ignore updates of ingresses with invalid class,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Ignore updates of ingresses with invalid class. This avoids unnecessary nginx reload which can be really expensive in websocket scenario.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

When I run unit tests, the race detector reports some data races regarding `k8sStore.backendConfig`. I added a `RWMutex` to protect against simultaneous read/write of that. In addition, I also changed `k8sStore` member functions to receive a `k8sStore` pointer rather than a value to avoid copy, which implies read of `backendConfig`.",['aledbf'],3,2018-12-06 14:13:43,2018-12-07 12:28:14,2018-12-07 12:28:14,True,2018-12-07 12:28:14,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3535,https://github.com/kubernetes/ingress-nginx/pull/3535,breunigs,remove bash from start chain because it breaks graceful shutdown,"**What this PR does / why we need it**:
On termination it currently doesn't wait for nginx to shut down gracefully and therefore loses requests unintentionally.

**Which issue this PR fixes**
fixes #3533 

**Special notes for your reviewer**:
As mentioned in #3533, using `exec authbind ` is also perfectly fine, in case more complicated logic is needed. Since it currently doesn't actually do anything in bash, this seemed cleaner.",[],1,2018-12-07 14:24:55,2018-12-07 15:38:52,2018-12-07 18:27:33,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3536,https://github.com/kubernetes/ingress-nginx/pull/3536,aledbf,Replace dockerfile entrypoint,"This changes from https://github.com/kubernetes/ingress-nginx/pull/3535#issuecomment-445278474 to:
```
  PID TTY      STAT   TIME COMMAND
  116 pts/0    Rs+    0:00 ps axf
    1 ?        Ss     0:00 /usr/bin/dumb-init -- /nginx-ingress-controller --def
    6 ?        Ssl    0:00 /nginx-ingress-controller --default-backend-service=i
   30 ?        S      0:00  \_ nginx: master process /usr/sbin/nginx -c /etc/ngi
   50 ?        Sl     0:00      \_ nginx: worker process
   51 ?        Sl     0:00      \_ nginx: worker process
```

@breunigs `quay.io/kubernetes-ingress-controller/nginx-ingress-controller:dev` contains this PR

Before merging this change we need to run this PR several days (to make sure we don't introduce zombie processes). 
I am already doing this in several clusters. Will check on Monday if everything is working as expected",['ElvinEfendi'],1,2018-12-07 17:07:15,2018-12-10 14:42:00,2018-12-21 22:17:46,True,2018-12-10 14:42:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3537,https://github.com/kubernetes/ingress-nginx/pull/3537,aledbf,Update go dependencies,,[],2,2018-12-07 21:20:05,2018-12-24 20:26:18,2019-01-04 01:21:18,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3538,https://github.com/kubernetes/ingress-nginx/pull/3538,aledbf,Remove gorequest dependency,"**What this PR does / why we need it**:

Remove gorequest dependency and use [go-autorest](https://godoc.org/github.com/Azure/go-autorest/autorest) (dependency already being used in k/k)
",[],1,2018-12-07 21:47:54,2018-12-21 22:23:55,2018-12-21 22:23:56,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3539,https://github.com/kubernetes/ingress-nginx/pull/3539,eseliger,fix: use correct order for trusted ips and real_ip_recursive,"**What this PR does / why we need it**:

The realip module requires the trusted ips to be set before enabling the module, as seen here in the example section: http://nginx.org/en/docs/http/ngx_http_realip_module.html

This fixes the order to be correct, as otherwise it might not work correctly.
",['bowei'],1,2018-12-08 18:03:08,,2019-01-08 19:31:47,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3540,https://github.com/kubernetes/ingress-nginx/pull/3540,systemlogic,help on environment.,"Help on setting up environment. Commented line is too generic step and not able to configure system.

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2018-12-09 13:46:45,2018-12-09 20:14:39,2018-12-09 20:14:39,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3541,https://github.com/kubernetes/ingress-nginx/pull/3541,aledbf,Set dynamic SSL certificates as default,,[],4,2018-12-10 01:13:45,2018-12-10 01:13:55,2018-12-21 22:16:27,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3542,https://github.com/kubernetes/ingress-nginx/pull/3542,aledbf,Set dynamic SSL certificates as default,,[],2,2018-12-10 01:15:21,2018-12-21 22:16:14,2018-12-21 22:16:14,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3544,https://github.com/kubernetes/ingress-nginx/pull/3544,crystaljade,Update grafana/dashboards/nginx.yaml. Replace namespace with controller_namespace,"Update grafana/dashboards/nginx.yaml. 

nginx_ingress_controller_config_last_reload_successful_timestamp_seconds, nginx_ingress_controller_requests,
nginx_ingress_controller_config_hash, 
replace namespace with controller_namespace

",[],2,2018-12-11 07:24:57,2019-03-14 08:43:51,2019-03-14 08:43:51,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3548,https://github.com/kubernetes/ingress-nginx/pull/3548,breunigs,e2e test to ensure graceful shutdown does not lose requests,"**What this PR does / why we need it**:
It tests the bugfix which was introduced in #3536.

The bug stayed unnoticed for quite some time since it only breaks for slow requests if the timing is right. Related issue: #3533

**Special notes for your reviewer**:
I'm aware the test is potentially racy, since I don't ensure the HTTP request was made before starting pod shutdown and likewise don't keep the request going until the pod is in terminating phase. Running the e2e test locally and on Travis makes it spot the bug, though, if I revert #3536 ([working](https://travis-ci.org/breunigs/ingress-nginx/jobs/466439728) vs [broken](https://travis-ci.org/breunigs/ingress-nginx/jobs/466452430)).",['aledbf'],1,2018-12-11 12:08:23,2018-12-21 14:33:28,2018-12-21 14:33:28,True,2018-12-21 14:33:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3551,https://github.com/kubernetes/ingress-nginx/pull/3551,wayt,Fix --enable-dynamic-certificates for nested subdomain,"**What this PR does / why we need it**:

This fixes Lua dynamic certificate with nested subdomain.

Previous regexp `^.+\\.` is matching until the last `.`.
So it replaces `www.example.com` by `*.com` instead of `*.example.com`.

The new regexp matches until the first `.`.
So `www.sub.example.com` is replaced by `*.sub.example.com`.

**Which issue this PR fixes**:

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2018-12-11 19:46:52,2018-12-12 15:33:28,2018-12-12 16:16:21,True,2018-12-12 15:33:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3553,https://github.com/kubernetes/ingress-nginx/pull/3553,zhuguihua,handle_error_when_executing_diff,"Executing diff can return exit code != 0, we should handle this error.",['aledbf'],1,2018-12-12 01:15:03,2018-12-12 12:58:21,2018-12-12 12:58:21,True,2018-12-12 12:58:21,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3562,https://github.com/kubernetes/ingress-nginx/pull/3562,gonzalesraul,Rename nginx.yaml to nginx.json,"**What this PR does / why we need it**:

Simply rename the file name to reflect its content",['ElvinEfendi'],1,2018-12-14 11:40:46,2018-12-14 17:40:12,2018-12-14 17:40:13,True,2018-12-14 17:40:12,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3566,https://github.com/kubernetes/ingress-nginx/pull/3566,diazjf,Add Unit Tests for getIngressInformation,Adds a unit test for the getIngressInformation function.,['aledbf'],1,2018-12-15 20:42:28,2018-12-18 18:04:56,2018-12-18 18:04:56,True,2018-12-18 18:04:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3569,https://github.com/kubernetes/ingress-nginx/pull/3569,ElvinEfendi,fix status updated: make sure ingress.status is copied,"**What this PR does / why we need it**:
https://github.com/kubernetes/ingress-nginx/pull/3474 among other things also changed how we store ingresses - since that PR we clone an Ingress object's attributes selectively and make use of that clone afterwards in the controller. While cloning we missed `ing.Status` field and status updates relies on this field at https://github.com/kubernetes/ingress-nginx/blob/ee3a8fe581fd523aa5bd8b67a6a2f7a761b01a30/internal/ingress/status/status.go#L360 to make a decision whether it should update the status of given ingress. Since we don't copy this field, status updater will always see it as empty and will always try to update redundantly.

This PR fixes the issue by making sure the `Status` field is copied when we clone Ingress objet.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-12-17 12:14:31,2018-12-17 17:26:56,2018-12-19 14:54:34,True,2018-12-17 17:26:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3573,https://github.com/kubernetes/ingress-nginx/pull/3573,diazjf,Update Certificate Generation Docs to not use MD5,"Updates the TLS and CA certificate sections to use algorithms better than md5. Using md5 as a digest causes nginx to fail to load because it is not accepted by open ssl.

Closes #3571",['aledbf'],1,2018-12-18 04:34:44,2018-12-18 20:12:08,2018-12-18 20:12:08,True,2018-12-18 20:12:07,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3575,https://github.com/kubernetes/ingress-nginx/pull/3575,zrdaley,Add documentation for spec.rules.host format,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Wildcards/regex are not supported in the `spec.rules.host` field of an ingress definition. 

**Which issue this PR fixes** : fixes https://github.com/kubernetes/ingress-nginx/issues/3534

cc: @ElvinEfendi @aledbf 
",['ElvinEfendi'],1,2018-12-18 15:18:38,2018-12-20 13:37:54,2018-12-20 14:09:44,True,2018-12-20 13:37:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3577,https://github.com/kubernetes/ingress-nginx/pull/3577,ddgenome,Add standard labels to namespace specs,"Add standard app resource metadata labels to the namespaces specs
created when deploying nginx-ingress.

Closes kubernetes/ingress-nginx#3576

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This would make it possible to include the nginx-ingress controller in network policy rules, which rely on label selectors for both namespaces and pods, without further manual configuration.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes kubernetes/ingress-nginx#3576

**Special notes for your reviewer**:
",['aledbf'],1,2018-12-18 22:51:58,2018-12-19 00:46:20,2018-12-19 19:13:47,True,2018-12-19 00:46:19,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3581,https://github.com/kubernetes/ingress-nginx/pull/3581,ElvinEfendi,lua randomseed per worker,"**What this PR does / why we need it**:
Previously we have switched to explicitly seeding PRNG for tests and this PR does it for production code. I've also patched `math.randomseed` so that individual modules can not re-seed PRNG since that can potentially affect randomness. And the reason why I'm seeding per worker rather than in `init_by_lua` is because otherwise every worker would be seeded with the same seed.

`lua_ingress.lua` will be used for general things such as this. And eventually I'd like it to be the only entry point to Lua code that executes everything else.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-12-19 13:54:11,2018-12-20 13:49:40,2019-01-08 18:39:43,True,2018-12-20 13:49:40,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3582,https://github.com/kubernetes/ingress-nginx/pull/3582,aledbf,Sort ingresses by creation timestamp,**What this PR does / why we need it**: ResourceVersion is not immutable. It can change if the ingress is modified. Switching to CreationTimestamp to avoid edge cases.,['ElvinEfendi'],1,2018-12-19 13:59:23,2019-01-02 15:42:06,2019-01-03 03:09:40,True,2019-01-02 15:42:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3584,https://github.com/kubernetes/ingress-nginx/pull/3584,aledbf,Update go to 1.11.4,,['ElvinEfendi'],1,2018-12-19 14:35:40,2018-12-19 15:27:03,2018-12-20 21:39:56,True,2018-12-19 15:27:03,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3586,https://github.com/kubernetes/ingress-nginx/pull/3586,wayt,Add --disable-catch-all option to disable catch-all server,"**What this PR does / why we need it**:

This PR adds the possibility to disable `catch-all` Ingress.
It's turned off by default.

When turned on, all Ingress that defines a `.spec.backend` will be ignored on the store level.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

A bug with Ingress update handler has been found while working on this.
I did not fix it here as it's unrelated.
",['ElvinEfendi'],1,2018-12-19 22:05:22,2019-01-07 15:16:27,2019-01-08 14:29:40,True,2019-01-07 15:16:27,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3587,https://github.com/kubernetes/ingress-nginx/pull/3587,ElvinEfendi,adjust dind istallation,"**What this PR does / why we need it**:
https://github.com/kubernetes-sigs/kubeadm-dind-cluster/pull/273 broke the CI, this PR is attempting to fix it.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2018-12-20 11:27:34,2018-12-20 13:06:42,2018-12-24 13:57:31,True,2018-12-20 13:06:42,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3592,https://github.com/kubernetes/ingress-nginx/pull/3592,davideicardi,Add inside the User Guide documentation section a basic usage section and example,"Fixes #3555

(My english is quite bad, so feel free to fix any error or add any improvements)",['ElvinEfendi'],1,2018-12-21 10:48:49,2019-01-03 19:43:18,2019-01-03 19:43:18,True,2019-01-03 19:43:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3594,https://github.com/kubernetes/ingress-nginx/pull/3594,bboreham,Add a flag to make per-host metrics optional,"**What this PR does / why we need it**:

When serving many hosts from one nginx, the metrics may become too numerous for Prometheus.
Add a flag to disable the host label, so that metrics are totalled across all hosts.

This was raised at https://github.com/kubernetes/ingress-nginx/issues/2773#issuecomment-444485380
",['aledbf'],1,2018-12-21 17:32:46,2018-12-21 19:55:35,2018-12-21 19:55:36,True,2018-12-21 19:55:35,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3596,https://github.com/kubernetes/ingress-nginx/pull/3596,aledbf,Fix proxy_host variable configuration,"**Which issue this PR fixes**: fixes #3595
",['ElvinEfendi'],1,2018-12-24 15:33:37,2019-01-02 19:59:34,2019-01-03 03:09:06,True,2019-01-02 19:59:34,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3601,https://github.com/kubernetes/ingress-nginx/pull/3601,aledbf,Update nginx to 1.15.8,Also updates luajit to https://github.com/openresty/luajit2/commit/520d53a87dd44c637dddb6de313204211c2b212b,[],1,2018-12-26 20:41:26,2018-12-26 22:12:22,2019-01-03 03:09:20,True,2018-12-26 22:12:22,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3602,https://github.com/kubernetes/ingress-nginx/pull/3602,aledbf,Update nginx image,,['ElvinEfendi'],1,2018-12-26 20:49:50,2019-01-02 15:53:07,2019-01-03 03:09:31,True,2019-01-02 15:53:07,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3604,https://github.com/kubernetes/ingress-nginx/pull/3604,ramnes,Add an option to automatically set worker_connections based on worker_rlimit_nofile,"**What this PR does / why we need it**:

This PR makes the `max-worker-connections` option use `maxOpenFile` by default rather than `16384`, and adds a `max-worker-open-files` option for those who'd want to manually set both.

See #3557 for rationale.

**Which issue this PR fixes**:

It closes #3557.

**Special notes for your reviewer**:

First of all, thanks for passing by! Please note that I'm not a Gopher; any remark is more than welcome.
",['aledbf'],1,2018-12-27 17:36:56,2018-12-31 12:22:31,2019-01-12 20:12:27,True,2018-12-31 12:22:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3605,https://github.com/kubernetes/ingress-nginx/pull/3605,ramnes,Fix CLA URLs,"**What this PR does / why we need it**:

This PR fixes the links in `CONTRIBUTING.md` so that it asks contributors to sign the CNCF CLA (which is the CLA verified by @k8s-ci-robot), and not the Google one.
",['aledbf'],1,2018-12-27 17:57:31,2018-12-28 12:48:06,2018-12-28 12:48:06,True,2018-12-28 12:48:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3609,https://github.com/kubernetes/ingress-nginx/pull/3609,rodolfo-r,Update upgrade.md,,[],1,2018-12-28 23:20:58,2019-01-06 21:32:39,2019-01-06 21:32:39,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3614,https://github.com/kubernetes/ingress-nginx/pull/3614,rodolfo-r,Update static-ip-svc.yaml,"Correct me if I'm wrong, but I believe the load balancer IP should be set by Kubernetes, not set manually.",[],1,2019-01-02 00:26:28,2019-01-02 01:27:12,2019-01-02 01:27:13,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3615,https://github.com/kubernetes/ingress-nginx/pull/3615,kppullin,Pass k8s `Service` data through to the TCP balancer script.,"**What this PR does / why we need it**:

Fixes broken L4 ExternalName services.

The `tcp_udp_balancer.lua` script checks if the property
`backend.service.spec[""type""]` equals `""ExternalName""`.  If so,
the script does a DNS lookup on the name in order to configure
the backend configuration.

However, before this commit, the k8s `Service` data was
_not_ set on the `Backend` struct passed into the `tcp_udp_balancer.lua`
script and therefore the `ExternalName` check always returned false.

This commit fixes the issue by setting the `Service` field on
the `Backend` struct. This also requires adding a new field to the
`L4Backend` struct, so that it's available to set on the `Backend`.
",['ElvinEfendi'],2,2019-01-02 04:37:56,2019-01-03 14:53:57,2019-01-22 17:37:25,True,2019-01-03 14:53:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3619,https://github.com/kubernetes/ingress-nginx/pull/3619,minherz,add header-value annotation,"This PR extends the existing `canary-by-header` [annotation](https://github.com/kubernetes/ingress-nginx/blob/master/docs/user-guide/nginx-configuration/annotations.md#canary).

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This PR introduce more flexibility into the existing definition of the canary routing rules. The current implementation requires sending a header with a fixed value in order to trigger a canary routing which requires dedicated changes in the code of the application. This is less convenient when the application already has a header which can be used given its value represents a partition of users applicable to the canary testing (e.g. tenant id in the multi-tenant application).

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
This subject was already discussed in [this message thread](https://mail.google.com/mail/u/0/#inbox/WhctKJVJZlQvrXZpvpphsKScFxldkZKVmzvbHJcFCpmVJHJZjXtPTJVTgHcHqcRtWrbhlgQ). Given we agree on implementation, I am going to add tests to the new annotation.",['ElvinEfendi'],2,2019-01-02 16:51:52,2019-02-01 22:45:54,2019-02-22 18:30:18,True,2019-02-01 22:45:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3620,https://github.com/kubernetes/ingress-nginx/pull/3620,walkafwalka,Added server alias to metrics,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: Adds hosts specified via server alias to be added to them

**Which issue this PR fixes** fixes #3485

**Special notes for your reviewer**:
This PR is a resubmission of https://github.com/kubernetes/ingress-nginx/pull/3496.",['aledbf'],2,2019-01-02 20:32:23,2019-01-04 19:10:40,2019-01-14 19:55:04,True,2019-01-04 19:10:40,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3622,https://github.com/kubernetes/ingress-nginx/pull/3622,lorenz,Add TLS metrics,"**What this PR does / why we need it**:
Adds metrics for TLS. Grants additional operational insight into clients and allows operators to make better decisions which TLS versions and ciphers to support.

**Special notes for your reviewer**:",[],2,2019-01-03 13:40:39,2019-01-04 23:00:13,2019-01-05 00:03:04,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3624,https://github.com/kubernetes/ingress-nginx/pull/3624,aledbf,Update nginx to fix geoip database deprecation,"**Which issue this PR fixes**: fixes #3621

The dat files were copied from the previous image version (0.73)",['ElvinEfendi'],1,2019-01-04 02:10:47,2019-01-04 18:18:28,2019-01-04 19:01:55,True,2019-01-04 18:18:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3625,https://github.com/kubernetes/ingress-nginx/pull/3625,aledbf,Update nginx image,,['ElvinEfendi'],1,2019-01-04 02:32:17,2019-01-04 18:59:59,2019-01-04 19:01:47,True,2019-01-04 18:59:59,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3627,https://github.com/kubernetes/ingress-nginx/pull/3627,chainhelen,Typo: docs/examples/rewrite/README.md,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This PR fix typo  about `version`  in `docs/examples/rewrite/README.md`. 

**Which issue this PR fixes**  
fixes #3174 

",['aledbf'],1,2019-01-04 13:56:52,2019-01-04 14:39:42,2019-01-04 14:39:42,True,2019-01-04 14:39:42,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3628,https://github.com/kubernetes/ingress-nginx/pull/3628,0robustus1,Fix 503 error generation on empty endpoints,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

It provides two tests (minimal example) to illustrate a problem when encountering a service with no endpoints. One expects a generated 503 response in this case by the ingress-nginx.
But if such a change happened during runtime (e.g. replica-count changed from 2 to 0)
a 502 or 504 is returned instead.

This issue seems to have been outlined by the following github issues:
* #3070 
* #3335 

I also added an attempt at fixing the issues (by removing the backend from the lua cache when there are no endpoints, instead of skipping it).

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3070

**Special notes for your reviewer**:
","['aledbf', 'ElvinEfendi']",2,2019-01-04 14:06:38,2019-02-03 20:01:03,2019-02-03 20:01:03,True,2019-02-03 20:01:03,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3631,https://github.com/kubernetes/ingress-nginx/pull/3631,PowerDos,Fixed: error parsing with-rbac.yaml: error converting YAML to JSON,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Fixed: error parsing with-rbac.yaml: error converting YAML to JSON: yaml: line 36: did not find expected key

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
none

**Special notes for your reviewer**:
none",[],1,2019-01-07 16:29:36,2019-01-07 16:40:33,2019-01-07 16:40:33,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3632,https://github.com/kubernetes/ingress-nginx/pull/3632,PowerDos,Fixed: error parsing with-rbac.yaml: error converting YAML to JSON,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Fixed: error parsing with-rbac.yaml: error converting YAML to JSON: yaml: line 36: did not find expected key
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
None
**Special notes for your reviewer**:
None","['aledbf', 'ElvinEfendi']",1,2019-01-07 16:42:17,2019-01-07 19:52:13,2019-01-07 19:52:13,True,2019-01-07 19:52:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3633,https://github.com/kubernetes/ingress-nginx/pull/3633,wayt,Fix a bug in Ingress update handler,"**What this PR does / why we need it**:
As discussed https://github.com/kubernetes/ingress-nginx/pull/3586#discussion_r245679117
Changes to annotation `kubernetes.io/ingress.class`and `.spec.rules` / `.spec.backend` were not correctly handled.

If the new value wasn't valid, the old Ingress was kept and updated instead of being deleted.

This was introduced in https://github.com/kubernetes/ingress-nginx/pull/3474 (@aledbf  can you confirm?).

New tests have been added to prevent future regression.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-01-07 20:37:01,2019-01-08 15:55:25,2019-01-08 15:59:35,True,2019-01-08 15:55:25,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3634,https://github.com/kubernetes/ingress-nginx/pull/3634,ElvinEfendi,canary by cookie should support hypen in cookie name,"**What this PR does / why we need it**:
The implementation assumed that cookie names are normalized as headers when exposed via `ngx.var` API and therefore replacing `-` with `_`, but this is not true. That meant `canary-by-cookie: <anything-with-hyphen>` did not work correctly. This PR fixes it.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-01-08 16:10:18,2019-01-08 19:00:50,2019-01-09 16:27:40,True,2019-01-08 19:00:50,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3635,https://github.com/kubernetes/ingress-nginx/pull/3635,wayt,Fix duplicate alternative backend merging,"**What this PR does / why we need it**:
When there are multiple locations per server, where each location is configured to point to the same server/backend, ingress-nginx will merge alternative backend into the main one repeatedly.

Ex:
```
  {
    ""name"": ""web-app-80"",
    ""service"": {
      ""metadata"": {
        ""creationTimestamp"": null
      },

...

    ""noServer"": false,
    ""trafficShapingPolicy"": {
      ""weight"": 0,
      ""header"": """",
      ""cookie"": """"
    },
    ""alternativeBackends"": [
      ""web-canary-app-80"",
      ""web-canary-app-80"",
      ""web-canary-app-80""
    ]
  },
```

Here, `web-canary-app-80` gets merged 3 times while having 3 ingresses with different locations. All pointing to the same server `web-app`.

This causes no real issue for now but is definitely incorrect.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

Test in `controller_test.go` `TestMergeAlternativeBackends` for this are irrelevant because `ingress.Backend.Equal` does not check for a duplicate value https://github.com/kubernetes/ingress-nginx/blob/master/internal/ingress/types_equals.go#L182","['aledbf', 'ElvinEfendi']",1,2019-01-08 16:57:50,2019-01-08 18:30:59,2019-01-08 19:06:31,True,2019-01-08 18:30:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3637,https://github.com/kubernetes/ingress-nginx/pull/3637,aledbf,Add support for redirect https to https (from-to-www-redirect),"**What this PR does / why we need it**:

Verifies the generated server contains an SSL Certificate and the list of common names contains both FQDN.
Also, this PR adds support for wildcard names in the CN of the SSL certificate

**Which issue this PR fixes**: 

fixes #2230
fixes #2043
",['ElvinEfendi'],3,2019-01-09 03:36:33,2019-01-11 03:58:36,2019-01-11 19:05:13,True,2019-01-11 03:58:36,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3640,https://github.com/kubernetes/ingress-nginx/pull/3640,shaikatz,add limit connection status code,"**What this PR does / why we need it**:
When settings `nginx.ingress.kubernetes.io/limit-connections: 'X'` there is currently no way to change the status code for requests that reached the connection limit.",['aledbf'],1,2019-01-09 14:44:14,2019-01-09 22:11:27,2019-01-09 22:11:28,True,2019-01-09 22:11:27,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3641,https://github.com/kubernetes/ingress-nginx/pull/3641,Aracki,Replace deprecated apiVersion in deploy folder,Removes old `extensions/v1beta1` apiVersion for all Deployments. ,['aledbf'],1,2019-01-09 21:42:57,2019-01-09 23:28:43,2019-01-09 23:28:43,True,2019-01-09 23:28:43,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3642,https://github.com/kubernetes/ingress-nginx/pull/3642,jonwalch,Build own image for nginx + nchan,,[],1,2019-01-09 23:46:49,2019-01-09 23:47:07,2019-01-10 17:42:38,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3643,https://github.com/kubernetes/ingress-nginx/pull/3643,aledbf,Update nginx,"**What this PR does / why we need it**:

Reduce the number of vulnerabilities https://quay.io/repository/kubernetes-ingress-controller/nginx?tab=tags
",['ElvinEfendi'],1,2019-01-10 00:09:04,2019-01-10 02:10:20,2019-01-10 02:17:07,True,2019-01-10 02:10:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3644,https://github.com/kubernetes/ingress-nginx/pull/3644,aledbf,Update nginx image,,['ElvinEfendi'],1,2019-01-10 00:15:42,2019-01-10 02:11:59,2019-01-10 02:16:58,True,2019-01-10 02:11:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3648,https://github.com/kubernetes/ingress-nginx/pull/3648,mxey,Remove stickyness cookie domain from Lua balancer to match old behavior,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Removes setting the cookie domain for stickyness/affinity from the Lua balancer to match the old behavior

**Which issue this PR fixes**: fixes #3083

**Special notes for your reviewer**:",['ElvinEfendi'],1,2019-01-10 10:16:51,2019-01-12 01:24:46,2019-01-12 01:24:46,True,2019-01-12 01:24:45,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3649,https://github.com/kubernetes/ingress-nginx/pull/3649,aledbf,Empty access_by_lua_block breaks satisfy any,"**What this PR does / why we need it**:

When `access_by_lua_block` is empty and `satisfy any` is specified in a snippet (or custom template), 
any restriction is broken due the fact an empty `access_by_lua_block` block means 'OK'

Example:
```
nginx.ingress.kubernetes.io/configuration-snippet: |-
  allow 127.0.0.0/8;
  allow 10.0.0.0/8;
  deny all;
  satisfy any;
```

This PR enables the `access_by_lua_block` only if the waf module is enabled

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3480
",['ElvinEfendi'],1,2019-01-10 13:31:31,2019-01-10 17:15:22,2019-01-11 00:28:10,True,2019-01-10 17:15:21,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3655,https://github.com/kubernetes/ingress-nginx/pull/3655,aledbf,Remove flag sort-backends,"**What this PR does / why we need it**:

The flag sort-backends was required to avoid reloads because of the change in the order of the upstream servers in the generated nginx.conf file. This is not an issue anymore since the use of lua.",['ElvinEfendi'],1,2019-01-11 17:44:21,2019-01-11 18:27:07,2019-01-11 21:36:10,True,2019-01-11 18:27:07,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3656,https://github.com/kubernetes/ingress-nginx/pull/3656,aledbf,Change default value of  flag for ssl chain completion,"**What this PR does / why we need it**:

This is preparation to switch to dynamic ssl certificates in the next iteration.
",['ElvinEfendi'],1,2019-01-11 17:48:28,2019-01-11 23:12:57,2019-01-12 00:47:05,True,2019-01-11 23:12:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3658,https://github.com/kubernetes/ingress-nginx/pull/3658,aledbf,Release 0.22.0,Test image: `quay.io/kubernetes-ingress-controller/nginx-ingress-controller:dev`,['ElvinEfendi'],1,2019-01-12 01:22:40,2019-01-14 23:02:21,2019-01-15 15:06:38,True,2019-01-14 23:02:21,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3660,https://github.com/kubernetes/ingress-nginx/pull/3660,aledbf,Revert max-worker-connections default value,"**What this PR does / why we need it**:

Avoid increase of the RAM utilization on idle.
- https://github.com/kubernetes/ingress-nginx/pull/3604#issuecomment-453748595
- https://github.com/kubernetes/ingress-nginx/pull/3604#issuecomment-453755737
",[],1,2019-01-12 15:49:23,2019-01-13 13:53:19,2019-01-13 14:00:02,True,2019-01-13 13:53:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3662,https://github.com/kubernetes/ingress-nginx/pull/3662,najeal,Docs/examples/rewrite/README.md for version 0.21,"There was details for version 0.22. I added more accurate informations for version 0.21

fixes #3613
",[],1,2019-01-13 21:28:07,2019-01-14 23:52:57,2019-01-14 23:52:57,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3664,https://github.com/kubernetes/ingress-nginx/pull/3664,aledbf,Fix invalid validation creating prometheus valid host values,"**What this PR does / why we need it**:

https://github.com/kubernetes/ingress-nginx/pull/3620/files#r247498994
",['ElvinEfendi'],1,2019-01-14 14:00:25,2019-01-14 15:54:07,2019-01-14 16:08:07,True,2019-01-14 15:54:07,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3666,https://github.com/kubernetes/ingress-nginx/pull/3666,ElvinEfendi,rename sysctlFSFileMax to rlimitMaxNumFiles to reflect what it actually does,"**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:",['aledbf'],1,2019-01-15 20:34:59,2019-01-16 10:41:04,2019-01-16 15:58:04,True,2019-01-16 10:41:04,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3667,https://github.com/kubernetes/ingress-nginx/pull/3667,ElvinEfendi,worker_connections should be less (3/4th) than worker_rlimit_nofile,"**What this PR does / why we need it**:
When calculated automatically we set `worker_rlimit_nofile` and `worker_connections` to the same value. This can be problematic because connections are not the only things using file descriptors. Nginx can be using file descriptors to open temporary files it uses to store cached data, or for serving static asset, or serving compressed data from disk etc.

This PR suggest to set the `worker_connections` to 75% of `worker_rlimit_nofile`, but I'm not yet convinced this is the best option. Open for discussion.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-01-15 20:41:45,2019-02-06 23:11:21,2019-02-06 23:11:21,True,2019-02-06 23:11:21,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3671,https://github.com/kubernetes/ingress-nginx/pull/3671,moonming,bugfix: fixed duplicated seeds.,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
ngx.time() + ngx.worker.pid() maybe get duplicated seeds. get from /dev/urandom first.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],3,2019-01-17 16:38:41,2019-02-10 19:33:43,2019-02-10 19:33:43,True,2019-02-10 19:33:43,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3673,https://github.com/kubernetes/ingress-nginx/pull/3673,moonming,used table functions of LuaJIT for better performance.,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
used `table.new` and `table.clear`  functions of LuaJIT for better performance.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-01-18 03:33:36,2019-02-01 16:40:35,2019-02-12 02:48:07,True,2019-02-01 16:40:35,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3674,https://github.com/kubernetes/ingress-nginx/pull/3674,moonming,used cjson.safe instead of pcall.,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
better performance and readable.
**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-01-18 03:52:38,2019-01-18 22:22:40,2019-01-18 22:22:40,True,2019-01-18 22:22:40,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3678,https://github.com/kubernetes/ingress-nginx/pull/3678,janpieper,[User guide] Fix link anchor for `from-to-www-redirect` annotation,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This PR fixes the link anchor for the `nginx.ingress.kubernetes.io/from-to-www-redirect` annotation in the user guide.

**Which issue this PR fixes**

_None_

**Special notes for your reviewer**:

Try it:

* [docs/user-guide/nginx-configuration/annotations.md](https://github.com/kubernetes/ingress-nginx/blob/0e783b3/docs/user-guide/nginx-configuration/annotations.md) (before the fix)
* [docs/user-guide/nginx-configuration/annotations.md](https://github.com/janpieper/ingress-nginx/blob/4f5798eb1229ac546be875b8d566306bfbe9dee5/docs/user-guide/nginx-configuration/annotations.md) (after the fix)

Or try it on the official website:

https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/",[],1,2019-01-18 12:40:08,2019-02-17 22:22:43,2019-02-17 22:22:43,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3680,https://github.com/kubernetes/ingress-nginx/pull/3680,ElvinEfendi,mention rewrite-target change for 0.22.0,"**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-01-18 19:51:15,2019-01-18 21:57:15,2019-01-18 22:08:47,True,2019-01-18 21:57:15,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3681,https://github.com/kubernetes/ingress-nginx/pull/3681,stamm,fix removing endpoints from balancing if there is no endpoints,"**What this PR does / why we need it**:
Balancer don't remove current endpoints for service even it's have no endpoint for now


**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3523

**Special notes for your reviewer**:
",[],1,2019-01-19 01:05:38,2019-01-19 10:19:30,2019-01-19 10:20:23,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3682,https://github.com/kubernetes/ingress-nginx/pull/3682,ocowchun,enable use-forwarded-headers for L7 LB,"**What this PR does / why we need it**:
Enable `use-forwarded-headers` in AWS L7 config since we disable it by default in https://github.com/kubernetes/ingress-nginx/pull/3333
","['aledbf', 'ElvinEfendi']",1,2019-01-19 09:59:58,2019-02-19 03:55:15,2019-02-19 03:55:15,True,2019-02-19 03:55:14,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3684,https://github.com/kubernetes/ingress-nginx/pull/3684,aledbf,Replace Status port using a socket,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes**: fixes #3457

The new status server is configured like this:

```
	# default server, used for NGINX healthcheck and access to nginx stats
	server {
		listen unix:/tmp/nginx-status-server.sock;
		set $proxy_upstream_name ""internal"";
		
		keepalive_timeout 0;
		gzip off;
		
		access_log off;
		
		location /healthz {
			return 200;
		}
		
		location /is-dynamic-lb-initialized {
			content_by_lua_block {
				local configuration = require(""configuration"")
				local backend_data = configuration.get_backends_data()
				if not backend_data then
				ngx.exit(ngx.HTTP_INTERNAL_SERVER_ERROR)
				return
				end
				
				ngx.say(""OK"")
				ngx.exit(ngx.HTTP_OK)
			}
		}
		
		location /nginx_status {
			stub_status on;
		}
		
		location /configuration {
			# this should be equals to configuration_data dict
			client_max_body_size                    10m;
			client_body_buffer_size                 10m;
			proxy_buffering                         off;
			
			content_by_lua_block {
				configuration.call()
			}
		}
		
		location / {
			content_by_lua_block {
				ngx.exit(ngx.HTTP_NOT_FOUND)
			}
		}
	}
}
```
",['ElvinEfendi'],2,2019-01-21 14:32:18,2019-02-06 21:49:09,2019-02-06 23:07:26,True,2019-02-06 21:49:09,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3686,https://github.com/kubernetes/ingress-nginx/pull/3686,alexkursell,Add debug binary to the docker image,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This PR adds a command-line tool to the image, `/dbg`, that can inspect various parts of the nginx configuration, including the dynamic parts used by lua. This should make it easier to debug problems to do with the generated configuration.

Right now, it can query the `/configuration/backends` and `/configuration/general` endpoints and display the result. In the case of the backend endpoint, it can also filter the output by backend name. It also includes a subcommand that essentially performs `cat /etc/nginx/nginx.conf` just to save on typing.

In the future, I'd also like to add the ability to inspect the dynamically loaded SSL keys that are also managed by lua, as well as anything else that makes debugging easier.

**Which issue this PR fixes** : Addresses https://github.com/kubernetes/ingress-nginx/issues/3679

cc: @ElvinEfendi ",['ElvinEfendi'],2,2019-01-21 22:13:32,2019-02-11 15:27:16,2019-02-11 15:27:47,True,2019-02-11 15:27:16,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3692,https://github.com/kubernetes/ingress-nginx/pull/3692,tammert,Typo corrected and whitespace formatted,"**What this PR does / why we need it**:
Fixes a typo and removes an unnecessary tab I stumbled upon.",[],1,2019-01-22 21:42:32,2019-01-27 17:36:22,2019-01-27 17:36:48,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3693,https://github.com/kubernetes/ingress-nginx/pull/3693,bholagabbar,Correcting links for gRPC Fortune Teller app,"The link was erroneous, corrected the same.

<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-01-23 11:33:32,2019-01-23 13:38:12,2019-01-23 13:38:12,True,2019-01-23 13:38:12,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3695,https://github.com/kubernetes/ingress-nginx/pull/3695,yowenter,> Don't reload nginx when L4 endpoints changed,"


**What this PR does / why we need it**:

Since we use lua upstream for L4 service balancer. We don't need reload nginx when L4 service endpoints changed.

",['ElvinEfendi'],1,2019-01-24 14:04:42,2019-02-19 19:27:11,2019-02-19 19:27:12,True,2019-02-19 19:27:11,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3696,https://github.com/kubernetes/ingress-nginx/pull/3696,alexkursell,Apply annotations to default location,"**What this PR does / why we need it**:

Right now, support for ingresses like the following is broken:

```yaml
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: example-ingress
  annotations:
    nginx.ingress.kubernetes.io/proxy-buffer-size: ""8k""
spec:
  backend:
    serviceName: echo-service
    servicePort: 8080
  rules:
  - host: example.com
```
While it will route requests for example.com to the service, none of the annotations are applied. This is in contrast to the behaviour of

```yaml
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: example-ingress2
  annotations:
    nginx.ingress.kubernetes.io/proxy-buffer-size: ""8k""
spec:
  rules:
  - host: example.com
    http:
      paths:
        - path: /
          backend:
            serviceName: echo-service
            servicePort: 8080
```

where the annotations are applied. If we are going to support ingress definitions like the first one here, we should support annotations for them as well.

**Which issue this PR fixes** 
fixes https://github.com/kubernetes/ingress-nginx/issues/3520

**Special notes for your reviewer**:

This PR reverses https://github.com/kubernetes/ingress-nginx/pull/1233. I don't have any context as to why that change was made, so if the reasons why are still relevant it would be good to discuss.

cc: @ElvinEfendi , @aledbf ",['ElvinEfendi'],1,2019-01-24 18:25:03,2019-02-12 19:50:27,2019-02-14 13:26:10,True,2019-02-12 19:50:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3698,https://github.com/kubernetes/ingress-nginx/pull/3698,alexkursell,Fix --disable-catch-all,"**What this PR does / why we need it**:
The `--disable-catch-all` flag that was recently added in https://github.com/kubernetes/ingress-nginx/pull/3586 is supposed to disallow ingresses that create a catch all server. Normally, a catch all server is created only if an ingress both defines a default backend **and** has no rules, however the flag disallows any ingress that just defines a default backend. The result is that ingresses like this are blocked by the flag:

```yaml
spec:
  backend:
    serviceName: echo-service
    servicePort: 8080
  rules:
  - host: example.com
    http:
      paths:
        - path: /testpath
          backend:
            serviceName: other-service
            servicePort: 5678
```

This PR tightens the circumstances under which the flag causes an ingress to be ignored from `spec.Backend != nil` to `spec.Backend != nil && len(spec.Rules) == 0`, as well as adding a test for the new behaviour.

cc: @ElvinEfendi 
",['ElvinEfendi'],1,2019-01-25 16:36:19,2019-01-25 21:17:45,2019-01-25 21:25:21,True,2019-01-25 21:17:45,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3701,https://github.com/kubernetes/ingress-nginx/pull/3701,ts-mini,Update usage documentation for default-backend annotation,"**What this PR does / why we need it**:
It was not immediately clear how to utilize this annotation as services can be found in many namespaces.",['aledbf'],1,2019-01-26 18:49:56,2019-01-27 22:18:18,2019-01-27 22:18:18,True,2019-01-27 22:18:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3702,https://github.com/kubernetes/ingress-nginx/pull/3702,stamm,Add params for access log,"**What this PR does / why we need it**:
Add additional params for access_log to improve performance while writing logs. For example, you may want to set **buffer=4k** or/and **gzip**

[nginx docs](http://nginx.org/en/docs/http/ngx_http_log_module.html#access_log)

",['aledbf'],1,2019-01-26 18:49:59,2019-01-28 15:30:01,2019-01-29 20:20:01,True,2019-01-28 15:30:01,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3704,https://github.com/kubernetes/ingress-nginx/pull/3704,ElvinEfendi,make sure dev-env forces context to be minikube,"**What this PR does / why we need it**:
Otherwise it can potentially create dev end in your production cluster.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-01-28 22:07:16,2019-01-29 15:50:56,2019-01-30 19:35:48,True,2019-01-29 15:50:56,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3705,https://github.com/kubernetes/ingress-nginx/pull/3705,diazjf,Increase Unit Test Coverage for Templates,"Increases the Coverage for nginx ingress template functions. The majority of the added unit tests are for checking the invalid type handling.
",['aledbf'],1,2019-01-29 06:24:10,2019-01-30 12:27:09,2019-01-30 12:27:09,True,2019-01-30 12:27:09,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3708,https://github.com/kubernetes/ingress-nginx/pull/3708,antoineco,Update OWNERS,"As discussed in private, I haven't been involved with the project as a user for quite a while, which makes it difficult for me to follow the development and provide relevant reviews.
I've loved every bit of this project so far and hope to get involved again some day! ",['aledbf'],1,2019-01-30 12:16:10,2019-01-30 12:25:35,2019-01-30 18:49:12,True,2019-01-30 12:25:35,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3709,https://github.com/kubernetes/ingress-nginx/pull/3709,alexkursell,Persist ewma stats through upstream changes,"**What this PR does / why we need it**:

Currently, whenever the list of upstreams changes, the EWMA load balancer forgets all of its information, even the information of upstreams that don't change. This PR makes two changes:

1. Persist the information for upstreams that don't change when the list changes
2. Set the EWMA for new upstreams to the average, to avoid starting at 0 and consequently flooding the new upstream with requests.

Example: If the EWMAs for the current upstreams are

| Upstream  | EWMA |
| ------------- | ------------- |
| 10.0.0.25:8080   | 50ms  |
| 10.0.0.26:8080 | 30ms  |

And upstream `10.0.0.27:8080` is added, the new EWMAs would be:

| Upstream  | EWMA |
| ------------- | ------------- |
| 10.0.0.25:8080   | 50ms  |
| 10.0.0.26:8080 | 30ms  |
| 10.0.0.27:8080 | 40ms |

instead of setting them all to zero.

cc: @ElvinEfendi 
",['ElvinEfendi'],4,2019-01-30 16:35:38,,2019-02-21 03:10:11,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3724,https://github.com/kubernetes/ingress-nginx/pull/3724,supersam654,Set X-Forwarded-Port to 443 if X-Forwarded-Proto is https,"**What this PR does / why we need it**:

Set the `X-Forwarded-Port` header to `443` when `X-Forwarded-Proto` is `https`.

Fixes #3192.
",['ElvinEfendi'],1,2019-02-05 19:57:41,,2019-03-01 18:02:00,False,,,dirty,False,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3727,https://github.com/kubernetes/ingress-nginx/pull/3727,ibuildthecloud,Add multiarch ci support for drone-1.0,,[],4,2019-02-05 22:44:39,2019-02-05 22:44:52,2019-02-05 22:45:08,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3728,https://github.com/kubernetes/ingress-nginx/pull/3728,alexkursell,Fix flaky test,"**What this PR does / why we need it**:
`TestListIngresses` was failing randomly in Travis because it depends on iterating over a map in a particular order. (see https://github.com/kubernetes/ingress-nginx/issues/3726)

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes https://github.com/kubernetes/ingress-nginx/issues/3726

**Special notes for your reviewer**:

@aledbf I fixed the issue just by removing the identical CreationTimestamp for the two ingresses. If there is supposed to be some other ordering guarantee, like order added, then the behavior of ListIngresses might need to be modified if this `map`-backed store is used outside of testing.
",['aledbf'],1,2019-02-05 23:08:24,2019-02-07 15:08:57,2019-02-07 16:04:28,True,2019-02-07 15:08:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3730,https://github.com/kubernetes/ingress-nginx/pull/3730,jasongwartz,Changes CustomHTTPErrors annotation to use custom default backend,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This PR makes it possible to use a default-backend annotation together with a custom-http-errors annotation. When the default-backend annotation is set, the upstream of the `@custom` error locations is set to the upstream name of the default-backend annotation's service.

Cases covered:
- single ingress object for a hostname, both default-backend and custom-http-errors annotations set
- multiple ingress objects for the same hostname, different paths, each with their own set of default-backend and custom-http-errors annotations (eg. capturing errors to one default-backend for a certain path vs another default-backend, or the global default-backend, for a different path - via separate ingress objects but the same hostname)

This involved making the name of the error-handling location `@custom_<upstream-name>_<code>`. This is needed for the case where, within one server block, different paths (locations) are capturing the same error code but sending it to different default-backends. This means that the new 'default' error location name is `@custom_upstream-default-backend_<code>`.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: 

This PR is a follow-up to https://github.com/kubernetes/ingress-nginx/pull/3344, specifically addressing comment: https://github.com/kubernetes/ingress-nginx/pull/3344#issuecomment-436238468. This also resolves https://github.com/kubernetes/ingress-nginx/issues/3700

**Special notes**:

I've had some trouble running the e2e-tests locally so I might need to revisit those. Thanks for reviewing!",['ElvinEfendi'],1,2019-02-06 15:21:39,2019-02-25 15:22:08,2019-02-25 17:34:58,True,2019-02-25 15:22:08,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3731,https://github.com/kubernetes/ingress-nginx/pull/3731,alexkursell,Update a doc example that uses rewrite-target,"**What this PR does / why we need it**: Updates an example that uses the pre-0.22 syntax for `rewrite-target`

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3720 
",['ElvinEfendi'],1,2019-02-06 15:53:21,2019-02-06 16:38:25,2019-02-06 16:44:47,True,2019-02-06 16:38:25,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3734,https://github.com/kubernetes/ingress-nginx/pull/3734,ElvinEfendi,remove old unused lua dicts,"**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-06 22:33:39,2019-02-07 04:21:28,2019-02-07 04:26:35,True,2019-02-07 04:21:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3735,https://github.com/kubernetes/ingress-nginx/pull/3735,alpeb,Properly set ing.Service when there are multiple rules with different," hosts using the same path

Fixes #3611",[],1,2019-02-06 22:35:53,2019-02-17 22:22:55,2019-02-27 14:18:58,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3736,https://github.com/kubernetes/ingress-nginx/pull/3736,ElvinEfendi,do not unnecessarily log,"**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-06 22:40:04,2019-02-07 03:24:51,2019-02-07 04:26:55,True,2019-02-07 03:24:51,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3737,https://github.com/kubernetes/ingress-nginx/pull/3737,aledbf,Adjust probe timeouts,"**What this PR does / why we need it**:

In https://github.com/kubernetes/ingress-nginx/issues/3457 some users reported timeouts in the probes when the node/pod is under heavy load https://github.com/kubernetes/ingress-nginx/issues/3457#issuecomment-455601331 Increasing the timeout should avoid potential restarts",['ElvinEfendi'],1,2019-02-06 23:22:34,2019-02-07 00:05:30,2019-02-07 15:19:30,True,2019-02-07 00:05:30,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3739,https://github.com/kubernetes/ingress-nginx/pull/3739,ElvinEfendi,dont log unnecessarily,"**What this PR does / why we need it**:
When you have many events in a cluster these messages becomes very spammy.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-07 18:23:42,2019-02-07 21:12:06,2019-02-07 21:12:06,True,2019-02-07 21:12:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3740,https://github.com/kubernetes/ingress-nginx/pull/3740,alexkursell,Fix ingress updating for session-cookie-* annotation changes,"**What this PR does / why we need it**: The `sticky` load balancer was ignoring changes in 
```yaml 
nginx.ingress.kubernetes.io/session-cookie-name
nginx.ingress.kubernetes.io/session-cookie-hash
nginx.ingress.kubernetes.io/session-cookie-expires
nginx.ingress.kubernetes.io/session-cookie-max-age
```
requiring the creation of a new pod before the annotations were applied.

**Which issue this PR fixes** : fixes #3725

**Special notes for your reviewer**: @ElvinEfendi let me know if this change is big enough to add an e2e test.
",['ElvinEfendi'],1,2019-02-07 20:55:17,2019-02-19 23:14:22,2019-02-20 14:57:14,True,2019-02-19 23:14:22,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3743,https://github.com/kubernetes/ingress-nginx/pull/3743,alexkursell,Remove session-cookie-hash annotation,"**What this PR does / why we need it**: This PR removes the `nginx.ingress.kubernetes.io/session-cookie-hash` annotation completely, as it is essentially useless. The hash function was being used only to hash a random value to make a key to be set as the session cookie value. Why hash the random value at all? 

This annotation appears to be a vestige from when we used https://bitbucket.org/nginx-goodies/nginx-sticky-module-ng

 see discussion at https://github.com/kubernetes/ingress-nginx/pull/3740#issuecomment-461598468
",['ElvinEfendi'],1,2019-02-08 19:26:34,2019-03-04 18:56:16,2019-03-04 18:57:57,True,2019-03-04 18:56:16,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3747,https://github.com/kubernetes/ingress-nginx/pull/3747,aledbf,Update nginx and modules,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-09 21:48:42,2019-02-13 23:35:13,2019-02-17 13:30:55,True,2019-02-13 23:35:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3748,https://github.com/kubernetes/ingress-nginx/pull/3748,aledbf,Update nginx image,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],2,2019-02-09 21:54:13,2019-02-13 23:14:09,2019-02-17 13:30:47,True,2019-02-13 23:14:09,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3749,https://github.com/kubernetes/ingress-nginx/pull/3749,diazjf,Enhance Unit Tests for Annotations,Adds unit tests for a variety of different annotations.,['aledbf'],1,2019-02-09 22:12:09,2019-02-10 21:58:28,2019-02-10 21:58:28,True,2019-02-10 21:58:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3750,https://github.com/kubernetes/ingress-nginx/pull/3750,aledbf,Update go dependencies,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-09 22:26:24,2019-02-10 18:22:55,2019-02-10 18:34:32,True,2019-02-10 18:22:55,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3751,https://github.com/kubernetes/ingress-nginx/pull/3751,tammert,Parse environment variables in OpenTracing configuration,"**What this PR does / why we need it**: Gives users the opportunity to use environment variables in the OpenTracing configuration.

**Which issue this PR fixes**: fixes #3224

**Special notes for your reviewer**: I took the liberty of cleaning up the documentation on OpenTracing a little bit as well. Tested and verified the feature (with $HOST_IP example) locally.
",['aledbf'],2,2019-02-10 16:04:38,2019-02-10 18:49:55,2019-02-19 19:55:21,True,2019-02-10 18:49:55,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3756,https://github.com/kubernetes/ingress-nginx/pull/3756,anthonyho007,"Create custom annotation for satisfy ""value""","<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This PR will add a new annotation for satisfy ""value"". An example use-case would be any application that wants to have both basic authentication + oauth proxy available to support human + bot authentication, and only requires one of those auth methods to be satisfied to get to the application. 

**Which issue this PR fixes** 
fixes # https://github.com/kubernetes/ingress-nginx/issues/3677

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-11 22:30:08,2019-02-19 21:55:50,2019-02-19 21:55:50,True,2019-02-19 21:55:50,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3757,https://github.com/kubernetes/ingress-nginx/pull/3757,carlosdp,Add mention of secure-backends to backend-protocol docs,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
This PR adds a mention of the deprecated `secure-backends` annotation to the new `backend-protocol` annotation. I spent all day trying to figure out how to connect to a secure backend and only finally figured it out because of #3416 .This PR adds a little note that makes it easy to Ctrl-F the old field and find the new one since many articles / SO answers reference the old `secure-backends`.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3416 

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-11 23:43:28,2019-02-12 00:28:19,2019-02-12 00:28:19,True,2019-02-12 00:28:19,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3763,https://github.com/kubernetes/ingress-nginx/pull/3763,aledbf,WIP: Migrate e2e tests to use kind and port-forward,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],4,2019-02-14 02:46:28,2019-03-09 20:12:33,2019-03-09 20:12:33,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3764,https://github.com/kubernetes/ingress-nginx/pull/3764,ElvinEfendi,delete confusing CustomErrors attribute to make things more explicit,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-14 03:51:47,2019-02-14 11:26:22,2019-02-14 11:26:22,True,2019-02-14 11:26:22,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3765,https://github.com/kubernetes/ingress-nginx/pull/3765,ElvinEfendi,simplify customhttperrors e2e test and add regression test and fix a bug,"**What this PR does / why we need it**:
Currently when `custom-http-errors` annotation change, Nginx configuration won't be regenerated. The PR fixes the bug, includes respective regression test and also simplifies the whole test file to not deploy and delete ingress-nginx instance for every case.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],2,2019-02-14 04:45:23,2019-02-14 14:51:34,2019-02-14 15:14:47,True,2019-02-14 14:51:34,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3766,https://github.com/kubernetes/ingress-nginx/pull/3766,alanjcastonguay,Support Opentracing with Datadog - part 2,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Support Opentracing with Datadog, alongside Zipkin and Jaeger.

* Build `libdd_opentracing.so` from source, install it in the nginx container.
* Plumb configuration options from the ConfigMap down to the library via `/etc/nginx/opentracing.json` template.
* Add markdown documentation.

**Which issue this PR fixes**: fixes #3752

**Special notes for your reviewer**: I didn't sink a lot of time into this. I am open to alternative approaches/implementations, or improvement suggestions.",['aledbf'],1,2019-02-14 19:10:28,2019-02-16 11:22:10,2019-02-16 11:22:10,True,2019-02-16 11:22:10,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3767,https://github.com/kubernetes/ingress-nginx/pull/3767,alanjcastonguay,Support Opentracing with Datadog - part 1,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**: Adds Datadog open tracing library to the Nginx container. This is a prerequisite of PR #3766, pointed out by @aledbf

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes half of #3752

**Special notes for your reviewer**: See PR #3766 for the configuration-generation half of this change",['aledbf'],1,2019-02-15 02:40:03,2019-02-16 11:24:43,2019-02-16 11:24:43,True,2019-02-16 11:24:43,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3771,https://github.com/kubernetes/ingress-nginx/pull/3771,aledbf,Do not log unnecessarily,fixes #3768,[],1,2019-02-16 22:55:59,2019-02-16 23:56:19,2019-02-17 13:30:30,True,2019-02-16 23:56:19,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3772,https://github.com/kubernetes/ingress-nginx/pull/3772,aledbf,Fix dashboard link [skip ci],fixes #3719,[],1,2019-02-16 22:58:21,2019-02-16 22:58:27,2019-02-17 13:30:18,True,2019-02-16 22:58:27,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3775,https://github.com/kubernetes/ingress-nginx/pull/3775,kppullin,Fix DNS lookup failures in L4 services,"**What this PR does / why we need it**:

While adding an e2e test for https://github.com/kubernetes/ingress-nginx/pull/3615#issuecomment-451166094 I ran into DNS lookup failures when resolving DNS for external name TCP & UDP services.  Any external name TCP & UDP services defined with a hostname (vs raw IP address) do not work due to the failing DNS lookups.

This PR fixes these DNS failures.

**Details**

Before this change, `nginx.tmpl` set the `nameservers` variable on `tcp_udp_configuration.lua`. However, no code references this variable.  Instead, both `balancer.lua` and `tcp_udp_balancer.lua` load `dns.lua`, and `dns.lua` always references `configuration.nameservers`.

This PR removes the `nameservers` variable from `tcp_udp_configuration`, updates the nginx  template's `stream` config to initialize the `nameservers` variable on `configuration.lua`, and adds an e2e test to validate a L4 TCP external name service by performing a DNS lookup on google's nameservers.",['ElvinEfendi'],2,2019-02-17 22:45:55,2019-02-19 19:11:49,2019-02-19 19:29:09,True,2019-02-19 19:11:49,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3778,https://github.com/kubernetes/ingress-nginx/pull/3778,01deyishu,change default backend proxy connection timeout 5s to 60s,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2019-02-19 04:24:16,2019-02-19 04:24:31,2019-02-19 04:24:33,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3779,https://github.com/kubernetes/ingress-nginx/pull/3779,alexkursell,Add kubectl plugin,"**What this PR does / why we need it**: This PR adds a kubectl plugin, `kubectl ingress-nginx`, that makes it easier to debug ingress-nginx. In the future, this plugin should also get the ability to add/remove/configure ingress-nginx deployments in a cluster (see https://gist.github.com/aledbf/db25dbc723fc7d71345a9657abfd766d). Right now, it just includes debugging functionality.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3755

## Current features

- [x] `kubectl ingress-nginx backends`, which basically can query the output of `/dbg backends` inside ingress-nginx pods
- [x] `kubectl ingress-nginx general`, `kubectl ingress-nginx conf`, which do the same but for `/dbg general` and `/dbg conf`
- [x] `kubectl ingress-nginx ingress` which tries to output a table similar to `kubectl get ingress`, but with richer information including hostnames, paths, whether or not a rule is protected by TLS, and backend name.
- [x] `kubectl ingress-nginx info` Pretty sparse right now, just prints the internal and external addresses of the ingress-nginx deployment.

## Packaging

The plugin binaries + [krew](https://github.com/GoogleContainerTools/krew) manifest can be built using `make build-plugin`. Right now it builds for Linux, MacOS, and Windows, although I've only tested it on MacOS. Distributing the plugin would look something like this:

1. Before an `ingress-nginx` release, run `make build-plugin` and commit the generated `cmd/plugin/release` directory.
2. Add the binary tarballs to the github release (such as https://github.com/kubernetes/ingress-nginx/releases/tag/nginx-0.22.0)
3. Make the release.
4. Make a PR in https://github.com/GoogleContainerTools/krew-index/tree/master/plugins with the new generated `ingress-nginx.yaml` manifest

## To-do

-  [x] Right now, cloud authentication (like with GCP, AWS, etc.) is broken. It works when using the latest master versions of the various kubernetes dependencies, but not with the `1.13.3` versions we have vendored now. I'm still trying to fix this. (edit: fixed by https://github.com/kubernetes/ingress-nginx/pull/3793)
- [ ] Give the plugin the ability to actually manage `ingress-nginx` deployments as in https://gist.github.com/aledbf/db25dbc723fc7d71345a9657abfd766d. Although this may not be necessary for an MVP (edit: punting to a future PR)
- [ ] Documentation (edit: punting to a future PR)
- [ ] Handle `ingress-nginx` deployments that have names other than `ingress-nginx` (edit: punting to a future PR)
- [ ] Any other suggested improvements
- [ ] Testing (edit: punting to a future PR)

cc: @ElvinEfendi @aledbf ",['aledbf'],1,2019-02-19 20:44:57,2019-02-26 01:41:24,2019-02-28 11:53:17,True,2019-02-26 01:41:23,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3780,https://github.com/kubernetes/ingress-nginx/pull/3780,arturxx8,Enable access log for default backend,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Enable access log for default backend.
Without this PR, redirected URLs to the default backend are not logged.

https://github.com/kubernetes/ingress-nginx/blob/master/rootfs/etc/nginx/template/nginx.tmpl#L1107
on this line, the condition for the default backend is true, since the variable $location.Logs.Access does not exist

**Which issue this PR fixes**:
fixes #3603 

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-19 21:56:23,2019-02-26 13:51:40,2019-02-26 13:51:41,True,2019-02-26 13:51:40,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3781,https://github.com/kubernetes/ingress-nginx/pull/3781,zoumo,feat: configurable proxy buffers number,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
configurable proxy buffers number

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],4,2019-02-20 10:11:32,2019-02-22 20:11:47,2019-02-22 20:11:47,True,2019-02-22 20:11:47,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3782,https://github.com/kubernetes/ingress-nginx/pull/3782,ElvinEfendi,Lua bridge tracer,"**What this PR does / why we need it**:
I'm not sure yet but I think it might be valuable to include some Lua traces as well (this will particularly be useful when we have Lua plugin system). For now I'm thinking we can create spans for each Nginx Lua phase, that way one can see how long does it take for a phase to run for given request.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],2,2019-02-20 13:12:21,2019-02-20 15:28:50,2019-02-20 15:47:32,True,2019-02-20 15:28:50,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3783,https://github.com/kubernetes/ingress-nginx/pull/3783,ElvinEfendi,[wip] Lua tracing,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],3,2019-02-20 14:44:02,,2019-03-04 15:54:36,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3784,https://github.com/kubernetes/ingress-nginx/pull/3784,ElvinEfendi,use correct host for jaeger-collector-host in docs,"**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-20 15:17:08,2019-02-20 18:44:13,2019-02-20 18:44:13,True,2019-02-20 18:44:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3785,https://github.com/kubernetes/ingress-nginx/pull/3785,ElvinEfendi,use latest base nginx image,"**What this PR does / why we need it**:
Should be merged once the new image is released.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-20 15:48:08,2019-02-20 17:30:18,2019-02-20 17:30:18,True,2019-02-20 17:30:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3786,https://github.com/kubernetes/ingress-nginx/pull/3786,alexkursell,Fix x-forwarded-prefix annotation,"**What this PR does / why we need it**: With the now mandatory use of regexps in paths when using `rewrite-target`, the `x-forwarded-prefix` annotation is broken.

Before 0.22, setting the annotation to true would set the `x-forwarded-prefix` header value to the path value. However, now that the path always includes a capture group, doing this no longer makes sense.

This PR changes the type of the `x-forwarded-prefix` annotation from bool to string, and changes things so that the value of the `x-forwarded-prefix` header is just equal to the value of the annotation (if the annotation value exists and is non-empty).

This is actually the behaviour that is explained by the docs ([see here](https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/#x-forwarded-prefix-header)). My guess is that when this was changed to copying the path value into the header, the docs were never updated.

**Which issue this PR fixes**: fixes #3733, #3670, #3132

This would be a breaking change, so we should probably think about how migrating would work, as well as if there is a better way to do this.
",['aledbf'],3,2019-02-20 16:19:18,2019-03-31 23:18:33,2019-04-01 14:10:05,True,2019-03-31 23:18:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3787,https://github.com/kubernetes/ingress-nginx/pull/3787,aledbf,Use UsePortInRedirects only if enabled,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

https://github.com/letsencrypt/pebble/pull/200

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-20 19:35:59,2019-02-21 22:35:33,2019-02-22 13:52:19,True,2019-02-21 22:35:33,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3791,https://github.com/kubernetes/ingress-nginx/pull/3791,yowenter,- remove annotations in nginxcontroller struct,"the annotations in nginxcontroller struct are duplicated of the annotations in store. We'd better remove it for cleaner code.
","['aledbf', 'ElvinEfendi']",1,2019-02-21 10:02:22,2019-02-21 12:03:51,2019-02-21 12:03:51,True,2019-02-21 12:03:51,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3792,https://github.com/kubernetes/ingress-nginx/pull/3792,ElvinEfendi,dont restart minikube when it is already running,"**What this PR does / why we need it**:
This was working fine with old minikube but with latest one I thin output changed and therefore the if condition needed to be adjusted.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-21 15:03:36,2019-02-21 16:54:25,2019-02-21 16:54:25,True,2019-02-21 16:54:24,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3793,https://github.com/kubernetes/ingress-nginx/pull/3793,alexkursell,Update mergo dependency,"**What this PR does / why we need it**: The outdated [mergo](https://github.com/imdario/mergo) version was preventing the kubectl plugin in #3779 from correctly authenticating with gcp. This PR updates the mergo version from ```0.2.4``` to ```0.3.7``` 
",['ElvinEfendi'],6,2019-02-21 18:34:21,2019-02-22 20:07:39,2019-02-25 15:03:07,True,2019-02-22 20:07:39,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3794,https://github.com/kubernetes/ingress-nginx/pull/3794,ElvinEfendi,use use-context that actually changes the context,"**What this PR does / why we need it**:
Turns out set-context actually does not change the context.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-21 19:30:26,2019-02-21 20:21:39,2019-02-21 20:21:39,True,2019-02-21 20:21:39,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3795,https://github.com/kubernetes/ingress-nginx/pull/3795,ElvinEfendi,do not warn when optional annotations arent set,"**What this PR does / why we need it**:
No need to unnecessarily pollute logs.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-21 21:01:28,2019-02-21 22:18:06,2019-02-21 22:18:06,True,2019-02-21 22:18:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3798,https://github.com/kubernetes/ingress-nginx/pull/3798,ElvinEfendi,Move some configuration logic from Nginx config to Lua code,"**What this PR does / why we need it**:

 * use Lua code to do some conditional variable assignments instead of Nginx's `map` directive
 * move HTTP to HTTPs redirection logic to Lua

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3790 

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-21 22:32:06,2019-03-31 17:40:33,2019-03-31 17:40:33,True,2019-03-31 17:40:33,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3799,https://github.com/kubernetes/ingress-nginx/pull/3799,alexkursell,Add /dbg certs command,"**What this PR does / why we need it**: While #3779 isn't going to be part of the 0.23 release, it would be nice however, to have all of the ```/dbg``` commands that the plugin relies on existing to be present in the 0.23 release so that the plugin is completely usable with 0.23 ingress-nginx controllers.

This PR separates out just the additions to the ```/dbg``` command so that they can be merged before #3779 

cc: @ElvinEfendi 
",['ElvinEfendi'],1,2019-02-22 16:10:12,2019-02-25 18:37:13,2019-02-25 18:39:20,True,2019-02-25 18:37:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3800,https://github.com/kubernetes/ingress-nginx/pull/3800,aledbf,Refactor e2e,"**What this PR does / why we need it**:

In order to migrate to [kind](https://github.com/kubernetes-sigs/kind) to run the e2e test we need some changes:
- Run tests as a pod inside the cluster
- Remove the need to use Nodeport
- Fix some issues with wait.Poll that introduce random failures

I also took the opportunity to cleanup the Framework struct and methods

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-22 17:37:04,2019-02-25 00:33:54,2019-02-26 15:13:14,True,2019-02-25 00:33:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3802,https://github.com/kubernetes/ingress-nginx/pull/3802,tjamet,Add a validating webhook for ingress sanity check,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
* Add a feature to reject the admission of ingresses that generates invalid configuration

Running nginx ingress controller in production for a while, we are pretty happy about it, but we occasionally have an issue where an ingress with a corrupted configuration is injected, and prevents from any other future update of the ingress nginx configuration.
Subsequently, we need to find out the ingress causing problems and fix it.
This PR increases the feedback loop by allowing, optionally, to reject the ingress, before it gets inserted and hence preserves the sanity of the configuration.

Once the patch is applied, and the controller configured, this is the user experience in case of an invalid ingress:

![image](https://user-images.githubusercontent.com/6061440/53275936-5c057c80-36fd-11e9-94ef-8e9d5ea8753e.png)


**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
fixes #2833
fixes #3218
fixes #3435
fixes #3459

**Special notes for your reviewer**:
I am aware that this PR needs testing and documentation.
In case the option of adding this feature is accepted, I will as well contribute documentation and tests.","['aledbf', 'ElvinEfendi']",9,2019-02-22 23:00:31,,2019-04-04 13:23:40,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3803,https://github.com/kubernetes/ingress-nginx/pull/3803,ElvinEfendi,[wip] use nkeys for counting lua table elements,"**What this PR does / why we need it**:
This new API function introduced in https://github.com/openresty/luajit2/commit/0e646b54e1368acb2e39d89014ae649207f4d0a0 can be JIT compiled.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2019-02-23 02:38:50,,2019-02-23 02:50:12,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3806,https://github.com/kubernetes/ingress-nginx/pull/3806,aledbf,Migrate e2e cluster to kind,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Migrates e2e testing from kubeadm-dind-cluster to [kind](https://github.com/kubernetes-sigs/kind)
The main differences are:
- Is not a shell script
- Utilizes kubeadm https://kind.sigs.k8s.io/docs/design/initial
- Already being used by sig-testing
- Single Go binary
- Supports custom configurations for the cluster

There are no changes required to the e2e tests, just the bootstrap of the cluster.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-25 00:49:50,2019-03-21 17:23:38,2019-03-21 17:39:36,True,2019-03-21 17:23:38,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3807,https://github.com/kubernetes/ingress-nginx/pull/3807,ElvinEfendi,Lua plugin system - MVP,"**What this PR does / why we need it**:

This is more of an experiment at the moment! The PR implements basics of enabling and running trusted custom Lua code in different Nginx phases.

**What's a plugin?**
A plugin is set of Lua modules placed in `/etc/nginx/lua/plugins/<plugin name>/`. Every plugin has to have `main.lua` in the root. Every plugin has to bundle all of its dependencies. For now you can manually mount your plugins into that folder.

**How to configure a plugin?**
In `main.lua` implement `rewrite`, `access`, `header` or `log` functions to run your code in the corresponding Nginx phases. For an example check `hello_world` plugin included with this PR.

**How to enable and set the order of my plugins?**
In order to enable plugins you have to use a custom template. In your custom template change the argument of `plugins.init({})` with the plugin names you would like to enable. The order will be respected when running the plugins. That's all.

**Can I enable a plugin for a specific app?**
Currently no, your plugin will be executed for every app. What you can do is, condition your logic on `ngx.var.proxy_upstream_name` that uniquely identifies your app and apply it to a specific app only.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-25 03:22:10,2019-04-04 14:26:53,2019-04-04 14:30:46,True,2019-04-04 14:26:53,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3808,https://github.com/kubernetes/ingress-nginx/pull/3808,ElvinEfendi,make dynamic SSL mode default,"**What this PR does / why we need it**:
Dynamic cert mode feature was introduced in `0.19.0` and since then it has been used in production and also we have fixed few bugs since the initial implementation.

This PR makes dynamic cert mode default. Currently the main missing feature of dynamic SSL mode is lack of OCSP support. Once that's implemented we can drop non dynamic SSL mode completely.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-25 04:23:19,2019-03-18 12:17:16,2019-03-18 12:17:16,True,2019-03-18 12:17:16,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3809,https://github.com/kubernetes/ingress-nginx/pull/3809,ArchangelSDY,Upgrade openresty/lua-resty-balancer,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This fixes bug in chash:reinit which prevents endpoints from being updated correctly.

See https://github.com/openresty/lua-resty-balancer/pull/25

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-02-25 06:58:42,2019-02-25 14:27:32,2019-02-25 15:14:31,True,2019-02-25 14:27:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3810,https://github.com/kubernetes/ingress-nginx/pull/3810,aledbf,Update nginx image,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-25 15:15:47,2019-02-25 19:05:20,2019-02-25 20:06:57,True,2019-02-25 19:05:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3811,https://github.com/kubernetes/ingress-nginx/pull/3811,aledbf,Fix e2e tests,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-25 15:37:35,2019-02-25 16:25:13,2019-02-25 17:32:12,True,2019-02-25 16:25:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3812,https://github.com/kubernetes/ingress-nginx/pull/3812,jasongwartz,Removes unused const from customhttperrors e2e test,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Removes an unused var (leftover from https://github.com/kubernetes/ingress-nginx/pull/3730)

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-25 18:50:56,2019-02-25 19:40:58,2019-02-25 19:40:58,True,2019-02-25 19:40:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3813,https://github.com/kubernetes/ingress-nginx/pull/3813,alexkursell,Prevent dep from vendoring grpc-fortune-teller dependencies,"**What this PR does / why we need it**: People (myself included) keep forgetting or not knowing that they have to delete the ```images/grpc-fortune-teller``` directory before running ```make dep-ensure``` to avoid vendoring its dependencies. This PR will cause dep to ignore that package, so we can just run ```make dep-ensure``` without doing anything else.

cc: @aledbf ",['aledbf'],1,2019-02-25 18:59:20,2019-02-25 19:46:26,2019-02-25 19:46:26,True,2019-02-25 19:46:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3814,https://github.com/kubernetes/ingress-nginx/pull/3814,paovitali,Avoid X-Forwarded-Host to be copied to Host header,"
**What this PR does / why we need it**: This PR reviews nginx template in order to avoid the overwriting of `Host` header with the values inherited from `X-Forwarded-Host`. The related variable assignment map has been deleted together with the related `best_http_host` assigment within the `UseForwardedHeaders` conditional. Now `best_http_host` gets populated only once with the right value independently from the usage of `X-forwarded-*` headers through related cfm key.

**Which issue this PR fixes**: fixes #3790 

**Special notes for your reviewer**: Another PR has been submitted concerning this issue (#3798) which involves Lua migration of part of nginx template logic. As that one covers a lot more aspects, this PR is intended only to provide a behaviour fix while bigger WIP will be implemented :) 
",[],2,2019-02-25 22:54:38,2019-03-31 23:01:39,2019-04-01 05:01:23,False,,,dirty,False,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3819,https://github.com/kubernetes/ingress-nginx/pull/3819,aledbf,Fix e2e test in osx,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-26 15:33:06,2019-02-26 16:41:55,2019-02-26 18:51:38,True,2019-02-26 16:41:55,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3820,https://github.com/kubernetes/ingress-nginx/pull/3820,aledbf,Update nginx image,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-26 17:38:41,2019-02-26 18:34:20,2019-02-26 18:34:21,True,2019-02-26 18:34:20,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3821,https://github.com/kubernetes/ingress-nginx/pull/3821,aledbf,Update nginx to 1.15.9,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-26 17:38:47,2019-02-26 18:36:28,2019-02-26 18:51:29,True,2019-02-26 18:36:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3822,https://github.com/kubernetes/ingress-nginx/pull/3822,alexkursell,Set default for satisfy annotation to nothing,"**What this PR does / why we need it**: ingress-nginx recently added the `satisfy` annotation. This change caused the nginx.conf `satisfy` directive to always be set, even if the annotation is not set. This presents a problem as it breaks any ingress definition that sets `satisfy` using a `server-snippet` or `configuration-snippet`, because then there are two `satisfy` directives at once. This PR prevents the `satisfy` directive from being applied unless the annotation is actually present and valid.

This should not change the behaviour of ingress-nginx as leaving out the `satisfy` directive is the same as setting `satisfy all;`, which is the previous default value.

cc: @ElvinEfendi 
",['ElvinEfendi'],1,2019-02-26 20:10:56,2019-02-27 14:13:06,2019-02-27 15:00:30,True,2019-02-27 14:13:06,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3825,https://github.com/kubernetes/ingress-nginx/pull/3825,aledbf,Release 0.23.0,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-02-27 16:22:12,2019-02-27 17:28:24,2019-02-28 20:22:57,True,2019-02-27 17:28:24,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3827,https://github.com/kubernetes/ingress-nginx/pull/3827,alexkursell,Fix plugin install location,"The url for the plugin manifest should actually be under `releases`.

cc: @aledbf ",['aledbf'],2,2019-02-27 17:28:57,2019-02-27 20:40:15,2019-02-27 20:57:44,True,2019-02-27 20:40:15,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3829,https://github.com/kubernetes/ingress-nginx/pull/3829,alexkursell,Prevent e2e-tests from running on non-local clusters,"Right now, if you run `make e2e-test` with your kubectl context set to some other cluster, it will dump a bunch of stuff into it. With this PR `make e2e-test` will only run if the context is a local one (currently just checking if it's one of minikube, kind, and docker-for-desktop).

Just putting up PR now to see how CI reacts.",['aledbf'],1,2019-02-27 20:11:12,2019-03-02 19:37:49,2019-03-04 15:37:57,True,2019-03-02 19:37:49,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3833,https://github.com/kubernetes/ingress-nginx/pull/3833,ElvinEfendi,bump luajit version to v2.1-20190228,"**What this PR does / why we need it**:
This is to bring fix for https://github.com/openresty/luajit2/issues/42.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-03-01 02:20:02,2019-03-01 11:16:38,2019-03-01 11:16:38,True,2019-03-01 11:16:38,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3835,https://github.com/kubernetes/ingress-nginx/pull/3835,aledbf,Update nginx image,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-03-01 11:48:35,2019-03-01 13:03:26,2019-03-02 17:56:50,True,2019-03-01 13:03:26,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3836,https://github.com/kubernetes/ingress-nginx/pull/3836,aledbf,Update mkdocs [skip ci],"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2019-03-02 18:02:13,2019-03-02 18:02:32,2019-03-04 19:05:46,True,2019-03-02 18:02:32,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3839,https://github.com/kubernetes/ingress-nginx/pull/3839,perprogramming,Fix panic on multiple non-matching canary,"**What this PR does / why we need it**:
This PR fixes a bug where ingress-controller fails with a panic when trying to remove a non-matching alternative backend for the second time.
Panic occures when you for example apply a canary-ingress with multiple rules/pathes that both select the same backend but can both not be matched to another real backend by host & path.

**Which issue this PR fixes**: fixes #3838

**Special notes for your reviewer**:
The PR comes with an e2e test already. I had to add a new e2e-framework factory method, feel free to refactor.",['ElvinEfendi'],3,2019-03-04 11:25:50,2019-03-27 23:46:49,2019-03-27 23:46:49,True,2019-03-27 23:46:48,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3841,https://github.com/kubernetes/ingress-nginx/pull/3841,shroudedcode,"Improve ""Sticky session"" docs","**What this PR does / why we need it**:

This PR makes it easier for people who want to set up sticky sessions to find the information they need.

Changes:

- document the `session-cookie-path` annotation (I spent way too much time trying to find this)
- improve formatting (like `code highlighting`)
- improve copy (better grammar, consistent capitalization, etc.)
- ~~[make table more readable by removing prefix from table cells](https://github.com/kubernetes/ingress-nginx/pull/3841#issuecomment-473918798)~~",['ElvinEfendi'],1,2019-03-04 12:26:08,2019-03-27 23:42:48,2019-03-28 05:10:09,True,2019-03-27 23:42:48,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3846,https://github.com/kubernetes/ingress-nginx/pull/3846,tjamet,Fix race condition in metric process collector test,"
<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
There was a goroutine started to log things upon a test that could be
ended at the time `cmd.Wait()` ends.

To solve the problem, when the sub-test ends, ensure we wait until the
command ends when ending the test

The output of `make test` before the fix shows:

```
=== RUN   TestNewUDPLogListener
==================
WARNING: DATA RACE
Read at 0x00c0002a8643 by goroutine 74:
  testing.(*common).logDepth()
      /usr/local/go/src/testing/testing.go:629 +0x132
  testing.(*common).Logf()
      /usr/local/go/src/testing/testing.go:614 +0x90
  k8s.io/ingress-nginx/internal/ingress/metric/collectors.TestProcessCollector.func1.1()
      /go/src/k8s.io/ingress-nginx/internal/ingress/metric/collectors/process_test.go:54 +0x140

Previous write at 0x00c0002a8643 by goroutine 72:
  testing.tRunner.func1()
      /usr/local/go/src/testing/testing.go:856 +0x33e
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:869 +0x17f

Goroutine 74 (running) created at:
  k8s.io/ingress-nginx/internal/ingress/metric/collectors.TestProcessCollector.func1()
      /go/src/k8s.io/ingress-nginx/internal/ingress/metric/collectors/process_test.go:50 +0x218
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:865 +0x163

Goroutine 72 (finished) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:916 +0x699
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:1157 +0xa8
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:865 +0x163
  testing.runTests()
      /usr/local/go/src/testing/testing.go:1155 +0x523
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1072 +0x2eb
  main.main()
      _testmain.go:52 +0x222
==================
--- PASS: TestNewUDPLogListener (0.00s)
```

after the patch:

```
=== RUN   TestNewUDPLogListener
--- PASS: TestNewUDPLogListener (0.01s)
```

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-03-04 20:56:19,2019-03-04 21:44:44,2019-03-04 21:44:44,True,2019-03-04 21:44:43,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3847,https://github.com/kubernetes/ingress-nginx/pull/3847,tjamet,Add missing basic usage documentation link,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Working on #3802 I found out that `make live-docs` was reporting

```
INFO    -  The following pages exist in the docs directory, but are not
included in the ""nav"" configuration:
  - user-guide/basic-usage.md
```

making this documentation page unavailable from the public documentation.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-03-04 21:03:42,2019-03-04 21:48:24,2019-03-04 21:48:24,True,2019-03-04 21:48:24,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3849,https://github.com/kubernetes/ingress-nginx/pull/3849,trnl,Use Gauge instead of Counter for connections_active Prometheus metric,"**Which issue this PR fixes**
fixes #3848 
",['aledbf'],1,2019-03-04 21:39:08,2019-03-05 11:09:01,2019-03-05 11:09:01,True,2019-03-05 11:09:00,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3852,https://github.com/kubernetes/ingress-nginx/pull/3852,aledbf,WIP: Enable arm again,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2019-03-05 11:05:35,,2019-03-22 15:24:34,False,,,dirty,False,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3853,https://github.com/kubernetes/ingress-nginx/pull/3853,aledbf,Remove authbind,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Right now we use authind to allow binding to privileged ports running as a user. This works for nginx but no for the ingress controller when ssl-passthrough is enabled or for the stream section.
Using setcap (already being used) to enable CAP_NET_BIND_SERVICE we solved this problem
The downside of this is some Storage Drivers in docker, like AUFS do not support extended attributes (xattr) https://github.com/moby/moby/issues/5650 (if you intend to run the binary as a user)

Right now docker enabled overlay2 as default storage driver even in CentOS and we cannot keep trying to work everywhere. Because of that, if the docker storage driver doesn't support setcap the ingress controller needs to run as root.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-03-05 13:09:05,2019-03-11 14:09:30,2019-03-11 15:48:45,True,2019-03-11 14:09:30,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3855,https://github.com/kubernetes/ingress-nginx/pull/3855,Statemood,Typo fix: nginx-internal -> internal,"**What this PR does / why we need it**:
Typo fix: nginx-internal -> internal

**Special notes for your reviewer**:
This error is somewhat confusing to the users.",[],1,2019-03-05 17:26:59,2019-03-09 13:11:03,2019-03-09 13:11:03,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3856,https://github.com/kubernetes/ingress-nginx/pull/3856,aledbf,Fix ssl-dh-param issue when secret does not exit,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3854

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-03-05 19:32:07,2019-03-06 02:04:03,2019-03-06 02:04:03,True,2019-03-06 02:04:02,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3864,https://github.com/kubernetes/ingress-nginx/pull/3864,alpeb,ing.Service with multiple hosts fix,"Properly set ing.Service when there are multiple rules with different hosts using the same path

Fixes #3611",['aledbf'],2,2019-03-07 11:22:15,2019-03-09 13:09:28,2019-03-12 22:00:41,True,2019-03-09 13:09:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3870,https://github.com/kubernetes/ingress-nginx/pull/3870,alexkursell,Improve kubectl plugin,"Based on feedback in https://github.com/kubernetes/ingress-nginx/issues/3831, I've made the following additions to the plugin

- [x] Add `--service` and `--deployment` flags where appropriate for situations in which the ingress-nginx service or deployment names are not the defaults.
- [x] Add `logs` command to display the logs of an ingress-nginx controller
- [x] Add `exec` command to execute a command inside the controller
- [x] Add `ssh` command to get a shell inside the controller.
- [x] Add the `ENDPOINTS` column to `ingresses` to show the number of endpoints for the backend service (or `N/A` if it's an ExternalName). This count currently ignores some of the subtleties of endpoints where not every endpoint in a service is actually serving the particular port the ingress is using, but it's good enough for a rough count.

To get this merged, I feel like there are a few things left to consider:
- [x] Properly implementing `exec` and `ssh` (and `logs` too, with all of the flags it should support) might require duplicating uncomfortably large parts of `kubectl` functionality. It might be better to have those commands ""fall-through"" and just call kubectl directly behind the scenes with the correct pod name. I don't think this plugin will ever be used in a context where `kubectl` doesn't exist, but this warrants some discussion. **edit** exec, ssh, and logs have been replaced with kubectl fall-through
- [x] Add all of the supported `kubectl logs` flags to `logs` 
- [x] Refactoring. `main.go` in particular is getting uncomfortably large and should probably be broken up into multiple files

Some things that should probably get done before the `0.24.0` release, but maybe not necessarily in this PR:
- [ ] Adding e2e (and possibly unit) tests
- [ ] Writing documentation
",['ElvinEfendi'],1,2019-03-07 18:59:47,2019-03-14 14:36:31,2019-03-14 14:37:39,True,2019-03-14 14:36:31,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3871,https://github.com/kubernetes/ingress-nginx/pull/3871,aledbf,Fix name of field used to sort ingresses [skip-ci],"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2019-03-08 00:24:17,2019-03-08 00:24:47,2019-03-09 13:33:09,True,2019-03-08 00:24:46,aledbf,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3874,https://github.com/kubernetes/ingress-nginx/pull/3874,joelsmith,Update embargo doc link in SECURITY_CONTACTS and change PST to PSC,See https://github.com/kubernetes/security/issues/8 for more information,['ElvinEfendi'],1,2019-03-08 18:06:20,2019-03-08 19:16:57,2019-03-09 00:20:44,True,2019-03-08 19:16:57,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3875,https://github.com/kubernetes/ingress-nginx/pull/3875,aledbf,Allow the use of a secret located in a different namespace,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

In the docs we mention that ns/secret is allowed but not in the code https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/#authentication

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: 

fixes #3493
",['ElvinEfendi'],1,2019-03-09 13:46:03,2019-03-11 19:16:13,2019-03-12 14:47:46,True,2019-03-11 19:16:13,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3876,https://github.com/kubernetes/ingress-nginx/pull/3876,aledbf,WIP: Add support for global use-service-upstream,"**What this PR does / why we need it**:

Simplifies the configuration of the ingress controller in scenarios where Istio or Linkerd are used allowing 
though a single directive in the configuration configmap the use of the service cluster IP and passing the Host header with the name of the full FQDN of the service being exposed in the ingress rule.
This removes the need to use the annotations `nginx.ingress.kubernetes.io/upstream-vhost` and `nginx.ingress.kubernetes.io/service-upstream` in ingresses.

https://linkerd.io/2/tasks/using-ingress/
",['ElvinEfendi'],4,2019-03-09 19:41:36,,2019-03-10 22:45:11,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3877,https://github.com/kubernetes/ingress-nginx/pull/3877,schaze,Add publish service annotation,"**Pull request for issue Issue #3867 - Support for multiple publish services**

**Brief**
I would like to extend ingress-nginx to be able to support different publish services on a per ingress basis for one ingress controller pod. 
![screenshot from 2019-03-07 15-38-22](https://user-images.githubusercontent.com/4409163/53964203-25613600-40ef-11e9-895e-653b0d662a63.png)

**Scenario:**
I am running several pods in my kubernetes installation that require me have a mixed scenario of ingresses for http(s) and tcp/udp ports I want to forward. 

**Example in the picture:**
I have a pod with a webservice container and a samba container where the samba container shares the configuration files for the webservice so they can be edited via filesharing mount.
I want the fileshare and webservice to be accessible under the same FQDN. And this should work for multiple different webservices but all with e.g. a samba share container.
I cant expose the samba ports for different webservices on the same loadbalancer service as they all have the same name and there is no hostname based routing for tcp/udp as for http.

**Problem:**
The scenario in the picture above technically already works with ingress-nginx. There is however one caveat, all the ingresses in kubernetes get the same IP assigned as status, which is the IP of the single publish service that is passed via the `--publish-service` arg.
When using external-dns this creates a problem as in the example in the picture above both urls (myservice1.example.com and myservice2.example.com) would resolve to the same IP. Which is no problem for HTTP proxying as this happens via hostname, but the tcp/udp proxy are going to the wrong destination.

**Proposal:**
Add an annotation to the ingress (e.g. `nginx.ingress.kubernetes.io/publish-service: default/podsvc2`) that will tell ingress-nginx on a per ingress base to which service the ingress belongs, so it can update this ingress with the correct IP. So this would overwrite the default publish service IP on a per ingress basis.

I have been running this now for a bit over a day in my kubernetes cluster - everything seems to be working fine for now.


",[],2,2019-03-09 20:21:44,2019-03-09 20:43:25,2019-03-09 20:45:47,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3879,https://github.com/kubernetes/ingress-nginx/pull/3879,schaze,Added publish-service annotation,"**Pull request for issue Issue #3867 - Support for multiple publish services**
(2nd try)

**Brief**
I would like to extend ingress-nginx to be able to support different publish services on a per ingress basis for one ingress controller pod. 
![screenshot from 2019-03-07 15-38-22](https://user-images.githubusercontent.com/4409163/53964203-25613600-40ef-11e9-895e-653b0d662a63.png)

**Scenario:**
I am running several pods in my kubernetes installation that require me have a mixed scenario of ingresses for http(s) and tcp/udp ports I want to forward. 

**Example in the picture:**
I have a pod with a webservice container and a samba container where the samba container shares the configuration files for the webservice so they can be edited via filesharing mount.
I want the fileshare and webservice to be accessible under the same FQDN. And this should work for multiple different webservices but all with e.g. a samba share container.
I cant expose the samba ports for different webservices on the same loadbalancer service as they all have the same name and there is no hostname based routing for tcp/udp as for http.

**Problem:**
The scenario in the picture above technically already works with ingress-nginx. There is however one caveat, all the ingresses in kubernetes get the same IP assigned as status, which is the IP of the single publish service that is passed via the `--publish-service` arg.
When using external-dns this creates a problem as in the example in the picture above both urls (myservice1.example.com and myservice2.example.com) would resolve to the same IP. Which is no problem for HTTP proxying as this happens via hostname, but the tcp/udp proxy are going to the wrong destination.

**Proposal:**
Add an annotation to the ingress (e.g. `nginx.ingress.kubernetes.io/publish-service: default/podsvc2`) that will tell ingress-nginx on a per ingress base to which service the ingress belongs, so it can update this ingress with the correct IP. So this would overwrite the default publish service IP on a per ingress basis.

I have been running this now for a bit over a day in my kubernetes cluster - everything seems to be working fine for now.
",[],2,2019-03-09 21:01:52,,2019-03-09 21:48:04,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3882,https://github.com/kubernetes/ingress-nginx/pull/3882,aledbf,Add support for IPV6 resolvers,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*:

fixes #3881
",['ElvinEfendi'],1,2019-03-10 00:25:31,2019-03-21 17:09:43,2019-03-21 17:39:26,True,2019-03-21 17:09:43,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3884,https://github.com/kubernetes/ingress-nginx/pull/3884,cartyc,update GKE header to match link in contents,A small fix in the deploy index.md. I noticed the link to GKE-GCP didn't work as the header didn't match the link. I updated the header to match the link so it works now.,['aledbf'],1,2019-03-10 13:16:32,2019-03-10 14:07:25,2019-03-10 14:07:26,True,2019-03-10 14:07:25,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3885,https://github.com/kubernetes/ingress-nginx/pull/3885,aledbf,Refactor status update ,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

This PR extracts the leader election code from the status package to be able to use such a feature at the controller level for other operations.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: 

fixes #3565
fixes #2773

**Special notes for your reviewer**:
",['ElvinEfendi'],6,2019-03-10 16:32:54,2019-03-13 15:19:37,2019-03-14 02:48:52,True,2019-03-13 15:19:37,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3886,https://github.com/kubernetes/ingress-nginx/pull/3886,ElvinEfendi,Clean up ssl package and fix dynamic cert mode,"**What this PR does / why we need it**:
The PR first cleans up ssl package by

1. splitting `AddOrUpdateCertAndKey` into three functions where first we create `SSLCert` object after validating cert and key (`CreateSSLCert`) and second function where we store `SSLCert` on disk (`StoreSSLCertOnDisk `), and third function where we append CA certificate and update `SSLCert` object's relevant fields (`ConfigureCACertWithCertAndKey`). This let's us get rid of `CreateSSLCert`'s old implementation that was only for Dynamic SSL mode.

2. similarly split `AddCertAuth` into `CreateCACert` and `ConfigureCACert`. This was not necessary but is good to keep things consistent and be able to further DRY the ssl package by potentially merging `CreateCACert` with `CreateSSLCert` and by merging `ConfigureCACert` with `ConfigureCACertWithCertAndKey`.

With these refactoring it becomes more obvious that when secret includes tls, cert as well as ca.crt we don't store the bundled certificate in dynamic SSL mode. We should make sure it's stored on disk in dynamic SSL mode so that TLS client authentication works as expected in this mode.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:

https://github.com/kubernetes/ingress-nginx/pull/3886/commits/5667ea5d67a9ce518b3047bd6142f74a03be498b is the comment that actually fixes the bug, everything else is refactoring.",['aledbf'],6,2019-03-11 00:40:41,2019-03-11 11:53:28,2019-03-11 12:37:37,True,2019-03-11 11:53:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3887,https://github.com/kubernetes/ingress-nginx/pull/3887,alexkursell,Remove useless nodeip calls and deprecate --force-namespace-isolation,"**What this PR does / why we need it**: We were making a useless call to get the node information for our pod, information which was then never used. This is normally fine, but when the permissions do not exist to access node info, this caused an error. (see #3817)

**Which issue this PR fixes**: fixes #3817

**Special notes for your reviewer**:

There is still one condition where ingress-nginx needs to get the node info (to get the external IP address): when neither `--publish-service` nor `--publish-status-address` are set. It doesn't look like the same information can't be retrieved from the pod object, so it looks like this use needs to be kept around. Would it be better to just document the fact that without either of these two flags, we must make cluster level API calls, or would it be better to keep the `--force-namespace-isolation` flag and make creating an ingress-nginx instance with `--force-namespace-isolation` but neither `--publish-service` nor `--publish-status-address` an error?
",['aledbf'],1,2019-03-11 21:57:33,2019-03-11 23:38:39,2019-03-12 14:11:53,True,2019-03-11 23:38:38,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3889,https://github.com/kubernetes/ingress-nginx/pull/3889,alexkursell,Separate out annotation assignment logic,"**What this PR does / why we need it**: In `controller.go`, annotation values were being applied to the created Locations in 4 separate places. This is long, pointless, and causes the annotations supported by the different kinds of Locations to drift apart as new annotations are added and people forget to add the assignment to one of the 4 places. 

2 of the more recent examples of added annotations, [HTTP2PushPreload](https://github.com/kubernetes/ingress-nginx/pull/3240) and [Satisfy](https://github.com/kubernetes/ingress-nginx/pull/3756) only apply the annotations to 1 and 2, respectively, out of the 4.

Here are the annotations that this change will cause to be applied that previously weren't:

[Catch-all location](https://github.com/kubernetes/ingress-nginx/blob/master/internal/ingress/controller/controller.go#L962):

- HTTP2PushPreload
- XForwardedPrefix
- UsePortInRedirects
- Connection
- Logs
- DefaultBackend
- CustomHTTPErrors
- Satisfy

[Default location](https://github.com/kubernetes/ingress-nginx/blob/master/internal/ingress/controller/controller.go#L1005)

- HTTP2PushPreload
- Satisfy

[New Location (not really sure what this one does that the one above it doesn't)](https://github.com/kubernetes/ingress-nginx/blob/master/internal/ingress/controller/controller.go#L500)

- HTTP2PushPreload

If any of these annotations actually shouldn't be applied to that type of location, please let me know so I can fix it.",['aledbf'],1,2019-03-12 18:33:12,2019-03-14 18:00:39,2019-03-14 18:26:37,True,2019-03-14 18:00:39,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3890,https://github.com/kubernetes/ingress-nginx/pull/3890,alexkursell,Make sure cli-arguments doc is in alphabetical order,"**What this PR does / why we need it**: The `--disable-catch-all` flag in the cli-arguments doc page is the only one not alphabetized. We must immediately fix this incredibly critical bug!
",['aledbf'],2,2019-03-12 18:45:10,2019-03-12 20:32:40,2019-03-12 20:32:41,True,2019-03-12 20:32:40,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3893,https://github.com/kubernetes/ingress-nginx/pull/3893,alexkursell,[WIP] Add e2e tests for kubectl plugin,"**What this PR does / why we need it**: This PR adds e2e tests for the ingress-nginx kubectl plugin. It also adds tests for the commands added by #3870, so this should not be merged until that is.
",[],2,2019-03-13 19:11:47,,2019-03-27 23:46:10,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3895,https://github.com/kubernetes/ingress-nginx/pull/3895,jacksontj,Correctly format ipv6 resolver config for lua,"**What this PR does / why we need it**: Fix for #3881 by correctly formatting ipv6 resolver addresses for lua.


There was some discussion RE this fix in #3882 as well","['aledbf', 'ElvinEfendi']",1,2019-03-14 15:33:18,2019-03-14 18:22:28,2019-03-15 02:55:29,True,2019-03-14 18:22:28,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3900,https://github.com/kubernetes/ingress-nginx/pull/3900,alexkursell,Add lint subcommand to plugin,"**What this PR does / why we need it**: This PR adds a command, `kubectl ingress-nginx lint` that can automatically scan through some of a cluster's resources and check for certain conditions, like the presence of a removed annotation or command flag.

Right now, it can run lints on ingresses and deployments. Linting for configmaps can be added as well.

The idea is that whenever a breaking change is made, or if we want to be able to warn about something else, you just add something to `cmd/plugin/lints/[deployment|ingress].go`. Then when we release a new version, people can run `krew update`, get the new plugin version, and then run `kubectl ingress-nginx lint --all-namespaces --verbose` and get something like the following:

```console
$ kubectl ingress-nginx lint --all-namespaces --verbose
Checking ingresses...
 anamespace/this-nginx
  - Contains the removed session-cookie-hash annotation.
       Lint added for version 0.24.0
       https://github.com/kubernetes/ingress-nginx/issues/3743
 othernamespace/ingress-definition-blah
  - The rewrite-target annotation value does not reference a capture group
      Lint added for version 0.22.0
      https://github.com/kubernetes/ingress-nginx/issues/3174

Checking deployments...
 namespace2/nginx-ingress-controller
  - Uses removed config flag --sort-backends
      Lint added for version 0.22.0
      https://github.com/kubernetes/ingress-nginx/issues/3655
  - Uses removed config flag --enable-dynamic-certificates
      Lint added for version 0.24.0
      https://github.com/kubernetes/ingress-nginx/issues/3808
```

If you want to check only the lints added for the new version (say 0.24.0), you could use `kubectl ingress-nginx lint --all-namespaces --verbose --from-version 0.24.0 --to-version 0.24.0` or the shorthand `kubectl ingress-nginx lint --all-namespaces -v -f 0.24.0 -t 0.24.0`
",['ElvinEfendi'],1,2019-03-15 16:03:08,2019-03-27 23:38:48,2019-03-28 21:48:36,True,2019-03-27 23:38:48,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3907,https://github.com/kubernetes/ingress-nginx/pull/3907,aledbf,Remove unnecessary copy of GeoIP databases,"**What this PR does / why we need it**:

Remove unnecessary copy of GeoIP databases and also fixes several vulnerabilities detected in quay.io
",['ElvinEfendi'],1,2019-03-19 13:14:47,2019-03-21 17:37:39,2019-03-21 17:40:35,True,2019-03-21 17:37:39,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3908,https://github.com/kubernetes/ingress-nginx/pull/3908,aledbf,Update nginx image,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-03-19 13:18:38,2019-03-21 18:45:42,2019-03-21 19:15:10,True,2019-03-21 18:45:42,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3915,https://github.com/kubernetes/ingress-nginx/pull/3915,kd7lxl,fix forwarding of auth header to GRPC backends,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

With gRPC backends, Authorization header was not rewritten according to `auth-response-headers`. This patch resolves this, correctly using `grpc_set_header` for the Authorization header when a gRPC backend is specified.

**Which issue this PR fixes**:

fixes #3914


Here is an example snippet from nginx.conf **before** this patch:
```
            proxy_set_header 'Authorization' $authHeader0;
            
            client_max_body_size                    1m;
            
            grpc_set_header Host                   $best_http_host;
            
            # Pass the extracted client certificate to the backend
            
            # Allow websocket connections
            grpc_set_header                        Upgrade           $http_upgrade;
            
            grpc_set_header                        Connection        $connection_upgrade;
```

And **after** this patch:
```
            grpc_set_header 'Authorization' $authHeader0;
            
            client_max_body_size                    1m;
            
            grpc_set_header Host                   $best_http_host;
            
            # Pass the extracted client certificate to the backend
            
            # Allow websocket connections
            grpc_set_header                        Upgrade           $http_upgrade;
            
            grpc_set_header                        Connection        $connection_upgrade;
```",['aledbf'],3,2019-03-21 15:32:06,,2019-03-22 20:42:31,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3918,https://github.com/kubernetes/ingress-nginx/pull/3918,blaubaer,"Set `X-Request-ID` for the `default-backend`, too.","**What this PR does / why we need it**:
Send `X-Request-ID` to the `default-backend` (if any), too.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #
None.

**Special notes for your reviewer**:
None.
",['aledbf'],2,2019-03-22 10:45:38,2019-03-22 15:36:22,2019-03-22 15:36:22,True,2019-03-22 15:36:22,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3927,https://github.com/kubernetes/ingress-nginx/pull/3927,gsf,"Update apiVersion to apps/v1, drop duplicate line",Example yaml config cleanup.,['aledbf'],1,2019-03-25 15:44:57,2019-03-25 21:20:18,2019-03-26 13:19:03,True,2019-03-25 21:20:18,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3932,https://github.com/kubernetes/ingress-nginx/pull/3932,aledbf,Fix dynamic SSL certificate for aliases and redirect-from-to-www,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

When dynamic SSL certificates is enabled we need to configure the aliases and redirect-from-to-www hosts with the proper certificate or NGINX will return the fake one

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-03-26 17:27:06,2019-03-28 22:47:59,2019-03-29 01:25:05,True,2019-03-28 22:47:59,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3933,https://github.com/kubernetes/ingress-nginx/pull/3933,aledbf,Update nginx to 1.15.10,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Updates NGINX to 1.15.10 and lua-resty-core to v0.1.16

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-03-26 19:08:32,2019-03-27 23:14:49,2019-03-28 12:24:30,True,2019-03-27 23:14:49,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3934,https://github.com/kubernetes/ingress-nginx/pull/3934,aledbf,Update nginx image,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

Updates Go to 1.12.1

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-03-26 20:29:18,2019-03-27 23:08:48,2019-03-28 12:24:20,True,2019-03-27 23:08:48,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3943,https://github.com/kubernetes/ingress-nginx/pull/3943,aledbf,Update dependencies,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['ElvinEfendi'],2,2019-03-28 16:04:40,2019-03-29 17:14:16,2019-03-29 17:18:54,True,2019-03-29 17:14:15,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3944,https://github.com/kubernetes/ingress-nginx/pull/3944,aledbf,Update go dependencies,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],2,2019-03-29 01:13:54,2019-03-29 01:42:08,2019-03-29 17:19:05,False,,,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3945,https://github.com/kubernetes/ingress-nginx/pull/3945,zgfh,fix typo: delete '`',"fix typo: delete '`'

**What this PR does / why we need it**:
fix typo: delete '`'

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",['aledbf'],1,2019-03-29 05:42:45,2019-03-31 23:02:32,2019-03-31 23:02:32,True,2019-03-31 23:02:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3947,https://github.com/kubernetes/ingress-nginx/pull/3947,vncntvandriessche,Adds a log warning when falling back to default fake cert,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:
Adds a warning to the controller's log messages if a custom default certificate was passed but the controller falls back for #reason (`err`)

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3278

**Special notes for your reviewer**:
",['aledbf'],1,2019-03-29 16:13:58,2019-03-31 15:42:33,2019-03-31 15:42:33,True,2019-03-31 15:42:33,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3949,https://github.com/kubernetes/ingress-nginx/pull/3949,qiqizjl,add canary support white ips,"
**What this PR does / why we need it**:
add canary support white ips


",[],3,2019-03-30 08:02:48,,2019-03-30 19:42:18,False,,,unstable,True,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3950,https://github.com/kubernetes/ingress-nginx/pull/3950,ElvinEfendi,Fix forwarded host parsing,"**What this PR does / why we need it**:

Sometimes reverse proxies keep appending to `X-Forwarded-Host` header that results in multiple comma separated value. This PR makes sure we always set a single host to proxy Host header by splitting the `X-Forwarded-Host` value by comma and taking only the first host in the list.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes https://github.com/kubernetes/ingress-nginx/issues/3790

**Special notes for your reviewer**:
",['aledbf'],1,2019-03-31 17:34:54,2019-03-31 23:04:32,2019-03-31 23:46:56,True,2019-03-31 23:04:32,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3954,https://github.com/kubernetes/ingress-nginx/pull/3954,alexkursell,Fix load-balance configmap value,"**What this PR does / why we need it**: The `load-balance` configmap value was being ignored. Additionally, the documentation was out of date. Additionally additionally, there were a bunch of if statements in the upstream construction logic that were always true, so I removed them. An e2e test is also added to check that the configmap value is applied.

**Which issue this PR fixes** : fixes #3929

**Special notes for your reviewer**: This PR assumes the per-ingress `load-balance` annotation should override the global `load-balance` configmap value. If this isn't the case, please tell me so I can edit the PR.
",['ElvinEfendi'],1,2019-04-01 20:01:16,2019-04-02 12:10:35,2019-04-02 14:19:52,True,2019-04-02 12:10:35,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3955,https://github.com/kubernetes/ingress-nginx/pull/3955,alexkursell,Plugin select deployment using replicaset name,"**What this PR does / why we need it**: The `--deployment` flag was recently added to some `kubectl ingress-nginx` subcommands in order to specify the deployment we would like to query. The criterion that the plugin was previously using to check if a pod was in a deployment was not actually connected to the deployment name.

This PR lets the plugin check whether the deployment name is a prefix of the name of the ReplicaSet that owns the pod, which should actually match the deployment name.

",['aledbf'],1,2019-04-01 21:19:37,2019-04-02 02:44:36,2019-04-02 14:20:28,True,2019-04-02 02:44:36,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3958,https://github.com/kubernetes/ingress-nginx/pull/3958,aledbf,Refactor equals,"<!--  Thanks for sending a pull request!  Here are some tips for you:
1. If this is your first time, read our contributor guidelines https://git.k8s.io/community/contributors/guide/pull-requests.md#the-pull-request-submit-process and developer guide https://git.k8s.io/community/contributors/devel/development.md#development-guide
2. If you want *faster* PR reviews, read how: https://git.k8s.io/community/contributors/guide/pull-requests.md#best-practices-for-faster-reviews
-->

**What this PR does / why we need it**:

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3956

**Special notes for your reviewer**:
",['ElvinEfendi'],1,2019-04-02 13:58:41,2019-04-04 11:50:52,2019-04-04 11:50:52,True,2019-04-04 11:50:52,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3960,https://github.com/kubernetes/ingress-nginx/pull/3960,alexkursell,Fix segfault on reference to nonexistent configmap,"**What this PR does / why we need it**: The controller would previously segfault when the configmap referenced in `add-headers` or `proxy-set-headers` didn't exist.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #3937 

**Special notes for your reviewer**: @ElvinEfendi also suggested that we should be able to refer to a configmap in the same namespace without a namespace prefix. I've left that to do in a separate PR.
",['ElvinEfendi'],1,2019-04-02 20:42:51,2019-04-04 15:52:54,2019-04-04 15:52:54,True,2019-04-04 15:52:54,k8s-ci-robot,unknown,,closed
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3962,https://github.com/kubernetes/ingress-nginx/pull/3962,ElvinEfendi,Lua plugin runner with an example plugin,"**What this PR does / why we need it**:

```
> ingress (master)$ curl -s -H ""Host: example.com"" http://192.168.99.101:32610  | grep x-hello-world
	x-hello-world=1
> ingress (master)$ curl -s -A ""hello"" -H ""Host: example.com"" http://192.168.99.101:32610
<html>
<head><title>403 Forbidden</title></head>
<body>
<center><h1>403 Forbidden</h1></center>
<hr><center>nginx/1.15.9</center>
</body>
</html>
```

will add tests when controller side is ready.

**Which issue this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close that issue when PR gets merged)*: fixes #

**Special notes for your reviewer**:
",[],1,2019-04-03 19:28:59,,2019-04-04 00:53:36,False,,,dirty,False,open
ingress-nginx,https://api.github.com/repos/kubernetes/ingress-nginx/pulls/3966,https://github.com/kubernetes/ingress-nginx/pull/3966,GabrielNicolasAvellaneda,Documentation example code fix,"
",[],3,2019-04-05 17:07:07,,2019-04-05 17:07:39,False,,,blocked,True,open
